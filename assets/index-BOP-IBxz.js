(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function AE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Vl={};var Dv;function Z1(){if(Dv)return Vl;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Ov;function ew(){return Ov||(Ov=1,hm.exports=Z1()),hm.exports}var b=ew(),fm={exports:{}},Ie={};var Mv;function tw(){if(Mv)return Ie;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Y={};function j(M,Z,se){this.props=M,this.context=Z,this.refs=Y,this.updater=se||$}j.prototype.isReactComponent={},j.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=j.prototype;function J(M,Z,se){this.props=M,this.context=Z,this.refs=Y,this.updater=se||$}var oe=J.prototype=new G;oe.constructor=J,X(oe,j.prototype),oe.isPureReactComponent=!0;var ge=Array.isArray;function ye(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(M,Z,se){var ue=se.ref;return{$$typeof:r,type:M,key:Z,ref:ue!==void 0?ue:null,props:se}}function O(M,Z){return C(M.type,Z,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return Z[se]})}var I=/\/+/g;function le(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Z.toString(36)}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ye,ye):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,Z,se,ue,Te){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(xe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case r:case e:Re=!0;break;case E:return Re=M._init,K(Re(M._payload),Z,se,ue,Te)}}if(Re)return Te=Te(M),Re=ue===""?"."+le(M,0):ue,ge(Te)?(se="",Re!=null&&(se=Re.replace(I,"$&/")+"/"),K(Te,Z,se,"",function(Gt){return Gt})):Te!=null&&(D(Te)&&(Te=O(Te,se+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Re)),Z.push(Te)),1;Re=0;var he=ue===""?".":ue+":";if(ge(M))for(var _e=0;_e<M.length;_e++)ue=M[_e],xe=he+le(ue,_e),Re+=K(ue,Z,se,xe,Te);else if(_e=k(M),typeof _e=="function")for(M=_e.call(M),_e=0;!(ue=M.next()).done;)ue=ue.value,xe=he+le(ue,_e++),Re+=K(ue,Z,se,xe,Te);else if(xe==="object"){if(typeof M.then=="function")return K(ve(M),Z,se,ue,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(M,Z,se){if(M==null)return M;var ue=[],Te=0;return K(M,ue,"","",function(xe){return Z.call(se,xe,Te++)}),ue}function de(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},He={map:re,forEach:function(M,Z,se){re(M,function(){Z.apply(this,arguments)},se)},count:function(M){var Z=0;return re(M,function(){Z++}),Z},toArray:function(M){return re(M,function(Z){return Z})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=T,Ie.Children=He,Ie.Component=j,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,Z,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=X({},M.props),Te=M.key;if(Z!=null)for(xe in Z.key!==void 0&&(Te=""+Z.key),Z)!x.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(ue[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)ue.children=se;else if(1<xe){for(var Re=Array(xe),he=0;he<xe;he++)Re[he]=arguments[he+2];ue.children=Re}return C(M.type,Te,ue)},Ie.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,Z,se){var ue,Te={},xe=null;if(Z!=null)for(ue in Z.key!==void 0&&(xe=""+Z.key),Z)x.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Z[ue]);var Re=arguments.length-2;if(Re===1)Te.children=se;else if(1<Re){for(var he=Array(Re),_e=0;_e<Re;_e++)he[_e]=arguments[_e+2];Te.children=he}if(M&&M.defaultProps)for(ue in Re=M.defaultProps,Re)Te[ue]===void 0&&(Te[ue]=Re[ue]);return C(M,xe,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:m,render:M}},Ie.isValidElement=D,Ie.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Ie.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},Ie.startTransition=function(M){var Z=R.T,se={};R.T=se;try{var ue=M(),Te=R.S;Te!==null&&Te(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ye,Ve)}catch(xe){Ve(xe)}finally{Z!==null&&se.types!==null&&(Z.types=se.types),R.T=Z}},Ie.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ie.use=function(M){return R.H.use(M)},Ie.useActionState=function(M,Z,se){return R.H.useActionState(M,Z,se)},Ie.useCallback=function(M,Z){return R.H.useCallback(M,Z)},Ie.useContext=function(M){return R.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,Z){return R.H.useDeferredValue(M,Z)},Ie.useEffect=function(M,Z){return R.H.useEffect(M,Z)},Ie.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Ie.useId=function(){return R.H.useId()},Ie.useImperativeHandle=function(M,Z,se){return R.H.useImperativeHandle(M,Z,se)},Ie.useInsertionEffect=function(M,Z){return R.H.useInsertionEffect(M,Z)},Ie.useLayoutEffect=function(M,Z){return R.H.useLayoutEffect(M,Z)},Ie.useMemo=function(M,Z){return R.H.useMemo(M,Z)},Ie.useOptimistic=function(M,Z){return R.H.useOptimistic(M,Z)},Ie.useReducer=function(M,Z,se){return R.H.useReducer(M,Z,se)},Ie.useRef=function(M){return R.H.useRef(M)},Ie.useState=function(M){return R.H.useState(M)},Ie.useSyncExternalStore=function(M,Z,se){return R.H.useSyncExternalStore(M,Z,se)},Ie.useTransition=function(){return R.H.useTransition()},Ie.version="19.2.4",Ie}var Vv;function lp(){return Vv||(Vv=1,fm.exports=tw()),fm.exports}var U=lp();const nw=AE(U);var dm={exports:{}},kl={},mm={exports:{}},pm={};var kv;function iw(){return kv||(kv=1,(function(r){function e(K,re){var de=K.length;K.push(re);e:for(;0<de;){var Ve=de-1>>>1,He=K[Ve];if(0<o(He,re))K[Ve]=re,K[de]=He,de=Ve;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],de=K.pop();if(de!==re){K[0]=de;e:for(var Ve=0,He=K.length,M=He>>>1;Ve<M;){var Z=2*(Ve+1)-1,se=K[Z],ue=Z+1,Te=K[ue];if(0>o(se,de))ue<He&&0>o(Te,se)?(K[Ve]=Te,K[ue]=de,Ve=ue):(K[Ve]=se,K[Z]=de,Ve=Z);else if(ue<He&&0>o(Te,de))K[Ve]=Te,K[ue]=de,Ve=ue;else break e}}return re}function o(K,re){var de=K.sortIndex-re.sortIndex;return de!==0?de:K.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,A=3,k=!1,$=!1,X=!1,Y=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=K)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function ge(K){if(X=!1,oe(K),!$)if(n(p)!==null)$=!0,ye||(ye=!0,L());else{var re=n(g);re!==null&&ve(ge,re.startTime-K)}}var ye=!1,R=-1,x=5,C=-1;function O(){return Y?!0:!(r.unstable_now()-C<x)}function D(){if(Y=!1,ye){var K=r.unstable_now();C=K;var re=!0;try{e:{$=!1,X&&(X=!1,G(R),R=-1),k=!0;var de=A;try{t:{for(oe(K),T=n(p);T!==null&&!(T.expirationTime>K&&O());){var Ve=T.callback;if(typeof Ve=="function"){T.callback=null,A=T.priorityLevel;var He=Ve(T.expirationTime<=K);if(K=r.unstable_now(),typeof He=="function"){T.callback=He,oe(K),re=!0;break t}T===n(p)&&s(p),oe(K)}else s(p);T=n(p)}if(T!==null)re=!0;else{var M=n(g);M!==null&&ve(ge,M.startTime-K),re=!1}}break e}finally{T=null,A=de,k=!1}re=void 0}}finally{re?L():ye=!1}}}var L;if(typeof J=="function")L=function(){J(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=D,L=function(){le.postMessage(null)}}else L=function(){j(D,0)};function ve(K,re){R=j(function(){K(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var de=A;A=re;try{return K()}finally{A=de}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=A;A=K;try{return re()}finally{A=de}},r.unstable_scheduleCallback=function(K,re,de){var Ve=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=de+He,K={id:E++,callback:re,priorityLevel:K,startTime:de,expirationTime:He,sortIndex:-1},de>Ve?(K.sortIndex=de,e(g,K),n(p)===null&&K===n(g)&&(X?(G(R),R=-1):X=!0,ve(ge,de-Ve))):(K.sortIndex=He,e(p,K),$||k||($=!0,ye||(ye=!0,L()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var re=A;return function(){var de=A;A=re;try{return K.apply(this,arguments)}finally{A=de}}}})(pm)),pm}var Lv;function rw(){return Lv||(Lv=1,mm.exports=iw()),mm.exports}var gm={exports:{}},tn={};var Pv;function sw(){if(Pv)return tn;Pv=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},tn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var Uv;function aw(){if(Uv)return gm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=sw(),gm.exports}var jv;function ow(){if(jv)return kl;jv=1;var r=rw(),e=lp(),n=aw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case j:return"Profiler";case Y:return"StrictMode";case ge:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case J:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:le(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return le(t(i))}catch{}}return null}var ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ve=[],He=-1;function M(t){return{current:t}}function Z(t){0>He||(t.current=Ve[He],Ve[He]=null,He--)}function se(t,i){He++,Ve[He]=t.current,t.current=i}var ue=M(null),Te=M(null),xe=M(null),Re=M(null);function he(t,i){switch(se(xe,i),se(Te,t),se(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ev(i),t=tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),se(ue,t)}function _e(){Z(ue),Z(Te),Z(xe)}function Gt(t){t.memoizedState!==null&&se(Re,t);var i=ue.current,a=tv(i,t.type);i!==a&&(se(Te,t),se(ue,a))}function jt(t){Te.current===t&&(Z(ue),Z(Te)),Re.current===t&&(Z(Re),Nl._currentValue=de)}var hn,Vt;function zt(t){if(hn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);hn=i&&i[1]||"",Vt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+t+Vt}var ma=!1;function vs(t,i){if(!t||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var H=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){H=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){H=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),q=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zt(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return zt(t.type);case 16:return zt("Lazy");case 13:return t.child!==i&&i!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return zt("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,df=r.unstable_shouldYield,Ru=r.unstable_requestPaint,on=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,mf=r.unstable_LowPriority,Cu=r.unstable_IdlePriority,Iu=r.log,Nu=r.unstable_setDisableYieldValue,Qn=null,Yt=null;function On(t){if(typeof Iu=="function"&&Nu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Qn,t)}catch{}}var mt=Math.clz32?Math.clz32:Ou,Du=Math.log,pa=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Du(t)/pa|0)|0}var fi=256,bs=262144,Tt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=di(l):(_&=S,_!==0?h=di(_):a||(a=S&~t,a!==0&&(h=di(a))))):(S=l&~d,S!==0?h=di(S):_!==0?h=di(_):a||(a=l&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $n(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-mt(a),te=1<<W;S[W]=0,N[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var Q=H[W];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&Ss(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function Xn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Jn=Math.random().toString(36).slice(2),St="__reactFiber$"+Jn,Bt="__reactProps$"+Jn,gi="__reactContainer$"+Jn,ga="__reactEvents$"+Jn,yf="__reactListeners$"+Jn,ku="__reactHandles$"+Jn,Lu="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function ya(t){delete t[St],delete t[Bt],delete t[ga],delete t[yf],delete t[ku]}function _i(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=lv(t);t!==null;){if(a=t[St])return a;t=lv(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[St]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[yi]=!0}var Po=new Set,Uo={};function Ei(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Uo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Pu(t){return bt.call(Bo,t)?!0:bt.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function _a(t,i,a){if(Pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function As(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function fn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+qt(i)):t.value!==""+qt(i)&&(t.value=""+qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,qt(i)):a!=null?Ho(t,_,qt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+qt(S):t.removeAttribute("name")}function Uu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Ho(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+qt(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Yo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Si=null;function Rs(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Bt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&As(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Ta=!1;function wr(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(Sr!==null||Si!==null)&&(Vc(),Sr&&(i=Sr,t=Si,Si=Sr=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Zn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Cs=!1}var wi=null,Ko=null,Is=null;function Qo(){if(Is)return Is;var t,i=Ko,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Is=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ei(){return!1}function Kt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:ei,this.isPropagationStopped=ei,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Kt(Fi),Ar=T({},Fi,{view:0,detail:0}),$o=Kt(Ar),xr,Sa,xi,wa=T({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(xr=t.screenX-xi.screenX,Sa=t.screenY-xi.screenY):Sa=xr=0,xi=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Xo=Kt(wa),Ds=T({},wa,{dataTransfer:0}),qu=Kt(Ds),Hu=T({},Ar,{relatedTarget:0}),Os=Kt(Hu),Jo=T({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Kt(Jo),Aa=T({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=Kt(Aa),Yu=T({},Fi,{data:0}),Ri=Kt(Yu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Rr(){return Xu}var ln=T({},Ar,{key:function(t){if(t.key){var i=Ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Kt(ln),Wu=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Kt(Wu),c=T({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),y=Kt(c),v=T({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(v),z=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Kt(z),ae=T({},Fi,{newState:0,oldState:0}),De=Kt(ae),pt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var Ln=kn&&"TextEvent"in window&&!lt,Ci=kn&&(!Ke||lt&&8<lt&&11>=lt),ti=" ",ni=!1;function Ms(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function SS(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(ni=!0,ti);case"textInput":return t=i.data,t===ti&&ni?null:t;default:return null}}function wS(t,i){if(Ra)return t==="compositionend"||!Ke&&Ms(t,i)?(t=Qo(),Is=Ko=wi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AS[t.type]:i==="textarea"}function fg(t,i,a,l){Sr?Si?Si.push(l):Si=[l]:Sr=l,i=Bc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Zo=null;function xS(t){Q_(t,0)}function Zu(t){var i=bn(t);if(As(i))return t}function dg(t,i){if(t==="change")return i}var mg=!1;if(kn){var _f;if(kn){var vf="oninput"in document;if(!vf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),vf=typeof pg.oninput=="function"}_f=vf}else _f=!1;mg=_f&&(!document.documentMode||9<document.documentMode)}function gg(){Wo&&(Wo.detachEvent("onpropertychange",yg),Zo=Wo=null)}function yg(t){if(t.propertyName==="value"&&Zu(Zo)){var i=[];fg(i,Zo,t,Vn(t)),wr(xS,i)}}function RS(t,i,a){t==="focusin"?(gg(),Wo=i,Zo=a,Wo.attachEvent("onpropertychange",yg)):t==="focusout"&&gg()}function CS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(Zo)}function IS(t,i){if(t==="click")return Zu(i)}function NS(t,i){if(t==="input"||t==="change")return Zu(i)}function DS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Sn=typeof Object.is=="function"?Object.is:DS;function el(t,i){if(Sn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!bt.call(i,h)||!Sn(t[h],i[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,i){var a=_g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var OS=kn&&"documentMode"in document&&11>=document.documentMode,Ca=null,bf=null,tl=null,Tf=!1;function Tg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Ca==null||Ca!==Ti(l)||(l=Ca,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Bc(bf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Sf={},Sg={};kn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ks(t){if(Sf[t])return Sf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return Sf[t]=i[a];return t}var wg=ks("animationend"),Ag=ks("animationiteration"),xg=ks("animationstart"),MS=ks("transitionrun"),VS=ks("transitionstart"),kS=ks("transitioncancel"),Rg=ks("transitionend"),Cg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function ii(t,i){Cg.set(t,i),Ei(i,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Na=0,Af=0;function tc(){for(var t=Na,i=Af=Na=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ig(a,h,d)}}function nc(t,i,a,l){Pn[Na++]=t,Pn[Na++]=i,Pn[Na++]=a,Pn[Na++]=l,Af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return nc(t,i,a,l),ic(t)}function Ls(t,i){return nc(t,null,null,i),ic(t)}function Ig(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(t){if(50<Sl)throw Sl=0,kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function LS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new LS(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Rf(t)&&(_=1);else if(typeof t=="string")_=B1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=wn(31,a,i,h),t.elementType=C,t.lanes=d,t;case X:return Ps(a.children,h,d,i);case Y:_=8,h|=24;break;case j:return t=wn(12,a,i,h|2),t.elementType=j,t.lanes=d,t;case ge:return t=wn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case ye:return t=wn(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case G:_=9;break e;case oe:_=11;break e;case R:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function Dg(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Og=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Og.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Og.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Oa=[],Ma=0,sc=null,nl=0,jn=[],zn=0,Cr=null,Ii=1,Ni="";function Ki(t,i){Oa[Ma++]=nl,Oa[Ma++]=sc,sc=t,nl=i}function Mg(t,i,a){jn[zn++]=Ii,jn[zn++]=Ni,jn[zn++]=Cr,Cr=t;var l=Ii;t=Ni;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ii=1<<32-mt(i)+h|a<<h|l,Ni=d+t}else Ii=1<<d|a<<h|l,Ni=t}function Nf(t){t.return!==null&&(Ki(t,1),Mg(t,1,0))}function Df(t){for(;t===sc;)sc=Oa[--Ma],Oa[Ma]=null,nl=Oa[--Ma],Oa[Ma]=null;for(;t===Cr;)Cr=jn[--zn],jn[zn]=null,Ni=jn[--zn],jn[zn]=null,Ii=jn[--zn],jn[zn]=null}function Vg(t,i){jn[zn++]=Ii,jn[zn++]=Ni,jn[zn++]=Cr,Ii=i.id,Ni=i.overflow,Cr=t}var Qt=null,st=null,qe=!1,Ir=null,Bn=!1,Of=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Un(i,t)),Of}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Bt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Le(Al[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W_(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||Nr(t,!0)}function Lg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qt=Qt.return}}function Va(t){if(t!==Qt)return!1;if(!qe)return Lg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&st&&Nr(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=ov(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=ov(t)}else i===27?(i=st,Fr(t.type)?(t=tm,tm=null,st=t):st=i):st=Qt?Hn(t.stateNode.nextSibling):null;return!0}function Us(){st=Qt=null,qe=!1}function Mf(){var t=Ir;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Ir=null),t}function il(t){Ir===null?Ir=[t]:Ir.push(t)}var Vf=M(null),js=null,Qi=null;function Dr(t,i,a){se(Vf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Vf.current,Z(Vf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Lf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Sn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Lf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Pg(js,t)}function oc(t,i){return js===null&&zs(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var PS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},US=r.unstable_scheduleCallback,jS=r.unstable_NormalPriority,xt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new PS,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&US(jS,function(){t.controller.abort()})}var sl=null,Uf=0,La=0,Pa=null;function zS(t,i){if(sl===null){var a=sl=[];Uf=0,La=Bd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(Ug,Ug),i}function Ug(){if(--Uf===0&&sl!==null){Pa!==null&&(Pa.status="fulfilled");var t=sl;sl=null,La=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function BS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jg=K.S;K.S=function(t,i){T_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zS(t,i),jg!==null&&jg(t,i)};var Bs=M(null);function jf(){var t=Bs.current;return t!==null?t:it.pooledCache}function lc(t,i){i===null?se(Bs,Bs.current):se(Bs,i.pool)}function zg(){var t=jf();return t===null?null:{parent:xt._currentValue,pool:t}}var Ua=Error(s(460)),zf=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wn,Wn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Hs=i,Ua}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Ua):a}}var Hs=null;function Hg(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function Fg(t){if(t===Ua||t===uc)throw Error(s(483))}var ja=null,al=0;function hc(t){var i=al;return al+=1,ja===null&&(ja=[]),qg(ja,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gg(t){function i(P,V){if(t){var B=P.deletions;B===null?(P.deletions=[V],P.flags|=16):B.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Yi(P,V),P.index=0,P.sibling=null,P}function d(P,V,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<V?(P.flags|=67108866,V):B):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,V,B,ee){return V===null||V.tag!==6?(V=Cf(B,P.mode,ee),V.return=P,V):(V=h(V,B),V.return=P,V)}function N(P,V,B,ee){var Ee=B.type;return Ee===X?W(P,V,B.props.children,ee,B.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&qs(Ee)===V.type)?(V=h(V,B.props),ol(V,B),V.return=P,V):(V=rc(B.type,B.key,B.props,null,P.mode,ee),ol(V,B),V.return=P,V)}function q(P,V,B,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=If(B,P.mode,ee),V.return=P,V):(V=h(V,B.children||[]),V.return=P,V)}function W(P,V,B,ee,Ee){return V===null||V.tag!==7?(V=Ps(B,P.mode,ee,Ee),V.return=P,V):(V=h(V,B),V.return=P,V)}function te(P,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,P.mode,B),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return B=rc(V.type,V.key,V.props,null,P.mode,B),ol(B,V),B.return=P,B;case $:return V=If(V,P.mode,B),V.return=P,V;case x:return V=qs(V),te(P,V,B)}if(ve(V)||L(V))return V=Ps(V,P.mode,B,null),V.return=P,V;if(typeof V.then=="function")return te(P,hc(V),B);if(V.$$typeof===J)return te(P,oc(P,V),B);fc(P,V)}return null}function H(P,V,B,ee){var Ee=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ee!==null?null:S(P,V,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===Ee?N(P,V,B,ee):null;case $:return B.key===Ee?q(P,V,B,ee):null;case x:return B=qs(B),H(P,V,B,ee)}if(ve(B)||L(B))return Ee!==null?null:W(P,V,B,ee,null);if(typeof B.then=="function")return H(P,V,hc(B),ee);if(B.$$typeof===J)return H(P,V,oc(P,B),ee);fc(P,B)}return null}function Q(P,V,B,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(B)||null,S(V,P,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return P=P.get(ee.key===null?B:ee.key)||null,N(V,P,ee,Ee);case $:return P=P.get(ee.key===null?B:ee.key)||null,q(V,P,ee,Ee);case x:return ee=qs(ee),Q(P,V,B,ee,Ee)}if(ve(ee)||L(ee))return P=P.get(B)||null,W(V,P,ee,Ee,null);if(typeof ee.then=="function")return Q(P,V,B,hc(ee),Ee);if(ee.$$typeof===J)return Q(P,V,B,oc(V,ee),Ee);fc(V,ee)}return null}function me(P,V,B,ee){for(var Ee=null,Ge=null,pe=V,Me=V=0,Ue=null;pe!==null&&Me<B.length;Me++){pe.index>Me?(Ue=pe,pe=null):Ue=pe.sibling;var Ye=H(P,pe,B[Me],ee);if(Ye===null){pe===null&&(pe=Ue);break}t&&pe&&Ye.alternate===null&&i(P,pe),V=d(Ye,V,Me),Ge===null?Ee=Ye:Ge.sibling=Ye,Ge=Ye,pe=Ue}if(Me===B.length)return a(P,pe),qe&&Ki(P,Me),Ee;if(pe===null){for(;Me<B.length;Me++)pe=te(P,B[Me],ee),pe!==null&&(V=d(pe,V,Me),Ge===null?Ee=pe:Ge.sibling=pe,Ge=pe);return qe&&Ki(P,Me),Ee}for(pe=l(pe);Me<B.length;Me++)Ue=Q(pe,P,Me,B[Me],ee),Ue!==null&&(t&&Ue.alternate!==null&&pe.delete(Ue.key===null?Me:Ue.key),V=d(Ue,V,Me),Ge===null?Ee=Ue:Ge.sibling=Ue,Ge=Ue);return t&&pe.forEach(function($r){return i(P,$r)}),qe&&Ki(P,Me),Ee}function Se(P,V,B,ee){if(B==null)throw Error(s(151));for(var Ee=null,Ge=null,pe=V,Me=V=0,Ue=null,Ye=B.next();pe!==null&&!Ye.done;Me++,Ye=B.next()){pe.index>Me?(Ue=pe,pe=null):Ue=pe.sibling;var $r=H(P,pe,Ye.value,ee);if($r===null){pe===null&&(pe=Ue);break}t&&pe&&$r.alternate===null&&i(P,pe),V=d($r,V,Me),Ge===null?Ee=$r:Ge.sibling=$r,Ge=$r,pe=Ue}if(Ye.done)return a(P,pe),qe&&Ki(P,Me),Ee;if(pe===null){for(;!Ye.done;Me++,Ye=B.next())Ye=te(P,Ye.value,ee),Ye!==null&&(V=d(Ye,V,Me),Ge===null?Ee=Ye:Ge.sibling=Ye,Ge=Ye);return qe&&Ki(P,Me),Ee}for(pe=l(pe);!Ye.done;Me++,Ye=B.next())Ye=Q(pe,P,Me,Ye.value,ee),Ye!==null&&(t&&Ye.alternate!==null&&pe.delete(Ye.key===null?Me:Ye.key),V=d(Ye,V,Me),Ge===null?Ee=Ye:Ge.sibling=Ye,Ge=Ye);return t&&pe.forEach(function(W1){return i(P,W1)}),qe&&Ki(P,Me),Ee}function nt(P,V,B,ee){if(typeof B=="object"&&B!==null&&B.type===X&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var Ee=B.key;V!==null;){if(V.key===Ee){if(Ee=B.type,Ee===X){if(V.tag===7){a(P,V.sibling),ee=h(V,B.props.children),ee.return=P,P=ee;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&qs(Ee)===V.type){a(P,V.sibling),ee=h(V,B.props),ol(ee,B),ee.return=P,P=ee;break e}a(P,V);break}else i(P,V);V=V.sibling}B.type===X?(ee=Ps(B.props.children,P.mode,ee,B.key),ee.return=P,P=ee):(ee=rc(B.type,B.key,B.props,null,P.mode,ee),ol(ee,B),ee.return=P,P=ee)}return _(P);case $:e:{for(Ee=B.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(P,V.sibling),ee=h(V,B.children||[]),ee.return=P,P=ee;break e}else{a(P,V);break}else i(P,V);V=V.sibling}ee=If(B,P.mode,ee),ee.return=P,P=ee}return _(P);case x:return B=qs(B),nt(P,V,B,ee)}if(ve(B))return me(P,V,B,ee);if(L(B)){if(Ee=L(B),typeof Ee!="function")throw Error(s(150));return B=Ee.call(B),Se(P,V,B,ee)}if(typeof B.then=="function")return nt(P,V,hc(B),ee);if(B.$$typeof===J)return nt(P,V,oc(P,B),ee);fc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(P,V.sibling),ee=h(V,B),ee.return=P,P=ee):(a(P,V),ee=Cf(B,P.mode,ee),ee.return=P,P=ee),_(P)):a(P,V)}return function(P,V,B,ee){try{al=0;var Ee=nt(P,V,B,ee);return ja=null,Ee}catch(pe){if(pe===Ua||pe===uc)throw pe;var Ge=wn(29,pe,null,P.mode);return Ge.lanes=ee,Ge.return=P,Ge}}}var Fs=Gg(!0),Yg=Gg(!1),Or=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ic(t),Ig(t,null,a),i}return nc(t,l,i,a),ic(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ul(){if(Ff){var t=Pa;if(t!==null)throw t}}function cl(t,i,a,l){Ff=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,q=N.next;N.next=null,_===null?d=q:_.next=q,_=N;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=N))}if(d!==null){var te=h.baseState;_=0,W=q=N=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(Pe&H)===H:(l&H)===H){H!==0&&H===La&&(Ff=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=t,Se=S;H=i;var nt=a;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){te=me.call(nt,te,H);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,H=typeof me=="function"?me.call(nt,te,H):me,H==null)break e;te=T({},te,H);break e;case 2:Or=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=Q,N=te):W=W.next=Q,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(N=te),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=te}}function Kg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],i)}var za=M(null),dc=M(0);function $g(t,i){t=rr,se(dc,t),se(za,i),rr=t|i.baseLanes}function Gf(){se(dc,rr),se(za,za.current)}function Yf(){rr=dc.current,Z(za),Z(dc)}var An=M(null),qn=null;function kr(t){var i=t.alternate;se(gt,gt.current&1),se(An,t),qn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(qn=t)}function Kf(t){se(gt,gt.current),se(An,t),qn===null&&(qn=t)}function Xg(t){t.tag===22?(se(gt,gt.current),se(An,t),qn===null&&(qn=t)):Lr()}function Lr(){se(gt,gt.current),se(An,An.current)}function xn(t){Z(An),qn===t&&(qn=null),Z(gt)}var gt=M(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Oe=null,et=null,Rt=null,pc=!1,Ba=!1,Gs=!1,gc=0,hl=0,qa=null,qS=0;function ft(){throw Error(s(321))}function Qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Sn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Xi=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?My:cd,Gs=!1,d=a(l,h),Gs=!1,Ba&&(d=Wg(i,a,l,h)),Jg(t),d}function Jg(t){K.H=ml;var i=et!==null&&et.next!==null;if(Xi=0,Rt=et=Oe=null,pc=!1,hl=0,qa=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&ac(t)&&(Ct=!0))}function Wg(t,i,a,l){Oe=t;var h=0;do{if(Ba&&(qa=null),hl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Vy,d=i(a,l)}while(Ba);return d}function HS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Xf(){var t=gc!==0;return gc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wf(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}Xi=0,Rt=et=Oe=null,Ba=!1,hl=gc=0,qa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(et===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Oe.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Oe.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,qa===null&&(qa=[]),t=qg(qa,t,i),i=Oe,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?My:cd),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===J)return $t(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=yt();return ed(i,et,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,q=i,W=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Pe&te)===te:(Xi&te)===te){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===La&&(W=!0);else if((Xi&H)===H){q=q.next,H===La&&(W=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=te,_=d):N=N.next=te,Oe.lanes|=H,jr|=H;te=q.action,Gs&&a(d,te),d=q.hasEagerState?q.eagerState:a(d,te)}else H={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=H,_=d):N=N.next=H,Oe.lanes|=te,jr|=te;q=q.next}while(q!==null&&q!==i);if(N===null?_=d:N.next=S,!Sn(d,t.memoizedState)&&(Ct=!0,W&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Sn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(t,i,a){var l=Oe,h=yt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Sn((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,rd(ny.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},ty.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Xi&127)!==0||ey(l,i,a)}return a}function ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=yc(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ty(t,i,a,l){i.value=a,i.getSnapshot=l,iy(i)&&ry(t)}function ny(t,i,a){return a(function(){iy(i)&&ry(t)})}function iy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Sn(t,a)}catch{return!0}}function ry(t){var i=Ls(t,2);i!==null&&_n(i,t,2)}function nd(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Gs){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function sy(t,i,a,l){return t.baseState=a,ed(t,et,typeof l=="function"?l:Ji)}function FS(t,i,a,l,h){if(Tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ay(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var S=a(h,l),N=K.S;N!==null&&N(_,S),oy(t,i,S)}catch(q){id(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),oy(t,i,d)}catch(q){id(t,i,q)}}function oy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,i,l)},function(l){return id(t,i,l)}):ly(t,i,a)}function ly(t,i,a){i.status="fulfilled",i.value=a,uy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ay(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,uy(i),i=i.next;while(i!==l)}t.action=null}function uy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function hy(t,i){if(qe){var a=it.formState;if(a!==null){e:{var l=Oe;if(qe){if(st){t:{for(var h=st,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=Hn(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},a.queue=l,a=Ny.bind(null,Oe,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Oe,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=FS.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function fy(t){var i=yt();return dy(i,et,t)}function dy(t,i,a){if(i=ed(t,i,cy)[0],t=vc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===Ua?uc:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,Ha(9,{destroy:void 0},GS.bind(null,h,a),null)),[l,d,t]}function GS(t,i){t.action=i}function my(t){var i=yt(),a=et;if(a!==null)return dy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=yc(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function py(){return yt().memoizedState}function Ec(t,i,a,l){var h=un();Oe.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function bc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Qf(l,et.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Oe.flags|=t,h.memoizedState=Ha(1|i,d,a,l))}function gy(t,i){Ec(8390656,8,t,i)}function rd(t,i){bc(2048,8,t,i)}function YS(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=yc(),Oe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function yy(t){var i=yt().memoizedState;return YS({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function _y(t,i){return bc(4,2,t,i)}function vy(t,i){return bc(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,Ey.bind(null,i,t),a)}function sd(){}function Ty(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qf(i,l[1]))return l[0];if(l=t(),Gs){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=w_(),Oe.lanes|=t,jr|=t,a)}function wy(t,i,a,l){return Sn(a,i)?a:za.current!==null?(t=ad(t,a,l),Sn(t,i)||(Ct=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Pe&261930)===0?(Ct=!0,t.memoizedState=a):(t=w_(),Oe.lanes|=t,jr|=t,i)}function Ay(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,ud(t,!1,i,a);try{var N=h(),q=K.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=BS(N,l);dl(t,i,W,In(t))}else dl(t,i,l,In(t))}catch(te){dl(t,i,{then:function(){},status:"rejected",reason:te},In())}finally{re.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function KS(){}function od(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=xy(t).queue;Ay(t,h,i,de,a===null?KS:function(){return Ry(t),a(l)})}function xy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ry(t){var i=xy(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},In())}function ld(){return $t(Nl)}function Cy(){return yt().memoizedState}function Iy(){return yt().memoizedState}function QS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Mr(a);var l=Vr(i,t,a);l!==null&&(_n(l,i,a),ll(l,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function $S(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Dy(i,a):(a=xf(t,i,a,l),a!==null&&(_n(a,t,l),Oy(a,i,l)))}function Ny(t,i,a){var l=In();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Dy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Sn(S,_))return nc(t,i,h,0),it===null&&tc(),!1}catch{}if(a=xf(t,i,h,l),a!==null)return _n(a,t,l),Oy(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&_n(i,t,2)}function Tc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function Dy(t,i){Ba=pc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Oy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var ml={readContext:$t,use:_c,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ml.useEffectEvent=ft;var My={readContext:$t,use:_c,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,Ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Gs){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var h=a(i);if(Gs){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=$S.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Ny.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,i){var a=un();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Ay.bind(null,Oe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,h=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Pe&127)!==0||ey(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},ty.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=it.identifierPrefix;if(qe){var a=Ni,l=Ii;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return un().memoizedState=QS.bind(null,Oe)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:$t,use:_c,useCallback:Ty,useContext:$t,useEffect:rd,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:vc,useRef:py,useState:function(){return vc(Ji)},useDebugValue:sd,useDeferredValue:function(t,i){var a=yt();return wy(a,et.memoizedState,t,i)},useTransition:function(){var t=vc(Ji)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Zg,useId:Cy,useHostTransitionStatus:ld,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=yt();return sy(a,et,t,i)},useMemoCache:Zf,useCacheRefresh:Iy};cd.useEffectEvent=yy;var Vy={readContext:$t,use:_c,useCallback:Ty,useContext:$t,useEffect:rd,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:td,useRef:py,useState:function(){return td(Ji)},useDebugValue:sd,useDeferredValue:function(t,i){var a=yt();return et===null?ad(a,t,i):wy(a,et.memoizedState,t,i)},useTransition:function(){var t=td(Ji)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Zg,useId:Cy,useHostTransitionStatus:ld,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=yt();return et!==null?sy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Iy};Vy.useEffectEvent=yy;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(_n(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(_n(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(_n(i,t,a),ll(i,t,a))}};function ky(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Py(t){ec(t)}function Uy(t){console.error(t)}function jy(t){ec(t)}function Sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,i)},a}function By(t){return t=Mr(t),t.tag=3,t}function qy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){zy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){zy(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function XS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?kc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),kc(),!1}if(qe)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(t=Error(s(422),{cause:l}),il(Un(t,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),il(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=dd(t.stateNode,l,h),Hf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Tl===null?Tl=[d]:Tl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),qy(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),Ct=!1;function Xt(t,i,a,l){i.child=t===null?Yg(i,null,a,l):Fs(i,t.child,a,l)}function Hy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return zs(i),l=$f(t,i,a,_,d,h),S=Xf(),t!==null&&!Ct?(Jf(t,i,h),Wi(t,i,h)):(qe&&S&&Nf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function Fy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Gy(t,i,d,l,h)):(t=rc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Gy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Td(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return pd(t,i,a,l,h)}function Yy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ky(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?$g(i,d):Gf(),Xg(i);else return l=i.lanes=536870912,Ky(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lc(i,d.cachePool),$g(i,d),Lr(),i.memoizedState=null):(t!==null&&lc(i,null),Gf(),Lr());return Xt(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ky(t,i,a,l,h){var d=jf();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&lc(i,null),Gf(),Xg(i),t!==null&&ka(t,i,l,!0),i.childLanes=h,null}function wc(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Qy(t,i,a){return Fs(i,t.child,null,a),t=wc(i,i.pendingProps),t.flags|=2,xn(i),i.memoizedState=null,t}function JS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=wc(i,l),i.lanes=536870912,pl(null,t);if(Kf(i),(t=st)?(t=av(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,Qt=i,st=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return wc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||ka(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=it,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),_n(l,t,_),md;kc(),i=Qy(t,i,a)}else t=d.treeContext,st=Hn(_.nextSibling),Qt=i,qe=!0,Ir=null,Bn=!1,t!==null&&Vg(i,t),i=wc(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,h){return zs(i),a=$f(t,i,a,l,void 0,h),l=Xf(),t!==null&&!Ct?(Jf(t,i,h),Wi(t,i,h)):(qe&&l&&Nf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function $y(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=Wg(i,l,a,h),Jg(t),l=Xf(),t!==null&&!Ct?(Jf(t,i,d),Wi(t,i,d)):(qe&&l&&Nf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Xy(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ys(a,S);d.props=N;var q=d.context,W=a.contextType;_=Da,typeof W=="object"&&W!==null&&(_=$t(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&Ly(i,d,l,_),Or=!1;var H=i.memoizedState;d.state=H,cl(i,l,d,h),ul(),q=i.memoizedState,S||H!==q||Or?(typeof te=="function"&&(hd(i,a,te,l),q=i.memoizedState),(N=Or||ky(i,a,N,l,H,q,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),_=i.memoizedProps,W=Ys(a,_),d.props=W,te=i.pendingProps,H=d.context,q=a.contextType,N=Da,typeof q=="object"&&q!==null&&(N=$t(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||H!==N)&&Ly(i,d,l,N),Or=!1,H=i.memoizedState,d.state=H,cl(i,l,d,h),ul();var Q=i.memoizedState;_!==te||H!==Q||Or||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof S=="function"&&(hd(i,a,S,l),Q=i.memoizedState),(W=Or||ky(i,a,W,l,H,Q,N)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function Jy(t,i,a,l){return Us(),i.flags|=256,Xt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:zg()}}function _d(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Cn),t}function Wy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?kr(i):Lr(),(t=st)?(t=av(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,Qt=i,st=null)):t=null,t===null)throw Nr(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Lr(),h=i.mode,S=xc({mode:"hidden",children:S},h),l=Ps(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,pl(null,l)):(kr(i),vd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),S=l.fallback,h=i.mode,l=xc({mode:"visible",children:l.children},h),S=Ps(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,i=pl(null,l));else if(kr(i),em(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(Ct||ka(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(l=Lo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ls(t,l),_n(_,t,l),md;Zd(S)||kc(),i=Ed(t,i,a)}else Zd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,st=Hn(S.nextSibling),Qt=i,qe=!0,Ir=null,Bn=!1,t!==null&&Vg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return h?(Lr(),S=l.fallback,h=i.mode,N=t.child,q=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=Yi(q,S):(S=Ps(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=yd(a):(h=S.cachePool,h!==null?(N=xt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=zg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=_d(t,_,a),i.memoizedState=gd,pl(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Fs(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function bd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function e_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,se(gt,_),Xt(t,i,l,a),l=qe?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,a,i);else if(t.tag===19)Zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function WS(t,i,a){switch(i.tag){case 3:he(i,i.stateNode.containerInfo),Dr(i,xt,t.memoizedState.cache),Us();break;case 27:case 5:Gt(i);break;case 4:he(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(t,i,a):(kr(i),t=Wi(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return e_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:Dr(i,xt,t.memoizedState.cache)}return Wi(t,i,a)}function t_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return Ct=!1,WS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,qe&&(i.flags&1048576)!==0&&Mg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Rf(t)?(l=Ys(t,l),i.tag=1,i=Xy(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){i.tag=11,i=Hy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Fy(null,i,t,l,a);break e}}throw i=le(t)||t,Error(s(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Xy(t,i,l,h,a);case 3:e:{if(he(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,xt,l),l!==d.cache&&Lf(i,[xt],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Jy(t,i,l,a);break e}else if(l!==h){h=Un(Error(s(424)),i),il(h),i=Jy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Hn(t.firstChild),Qt=i,qe=!0,Ir=null,Bn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===h){i=Wi(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=fv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=qc(xe.current).createElement(a),l[St]=i,l[Bt]=t,Jt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Gt(i),t===null&&qe&&(l=i.stateNode=uv(i.type,i.pendingProps,xe.current),Qt=i,Bn=!0,h=st,Fr(i.type)?(tm=h,st=Hn(l.firstChild)):st=h),Xt(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=st)&&(l=C1(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Qt=i,st=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Nr(i)),Gt(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,HS,null,null,a),Nl._currentValue=h),Ac(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=st)&&(a=I1(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Qt=i,st=null,t=!0):t=!1),t||Nr(i)),null;case 13:return Wy(t,i,a);case 4:return he(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return Hy(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=$t(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,a);case 15:return Gy(t,i,i.type,i.pendingProps,a);case 19:return e_(t,i,a);case 31:return JS(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return zs(i),l=$t(xt),t===null?(h=jf(),h===null&&(h=it,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Dr(i,xt,h)):((t.lanes&a)!==0&&(qf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,xt,l)):(l=d.cache,Dr(i,xt,l),l!==h.cache&&Lf(i,[xt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(C_())t.flags|=8192;else throw Hs=cc,zf}else t.flags&=-16777217}function n_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(i))if(C_())t.flags|=8192;else throw Hs=cc,zf}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mu():536870912,t.lanes|=i,Ka|=i)}function gl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ZS(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(xt),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(at(i),n_(i,d)):(at(i),Sd(i,h,null,l,a))):d?d!==t.memoizedState?(Zi(i),at(i),n_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),at(i),Sd(i,h,t,l,a)),null;case 27:if(jt(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ue.current,Va(i)?kg(i):(t=uv(h,l,a),i.stateNode=t,Zi(i))}return at(i),null;case 5:if(jt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=ue.current,Va(i))kg(i);else{var _=qc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Bt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Jt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return at(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(t.nodeValue,a)),t||Nr(i,!0)}else t=qc(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(xn(i),i):(xn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(xn(i),i):(xn(i),null)}return xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),at(i),null);case 4:return _e(),t===null&&Gd(i.stateNode.containerInfo),at(i),null;case 10:return $i(i.type),at(i),null;case 19:if(Z(gt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ng(a,t),a=a.sibling;return se(gt,gt.current&1|2),qe&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Oc&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=mc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return at(i),null}else 2*on()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=gt.current,se(gt,h?a&1|2:a&1),qe&&Ki(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return xn(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(xt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function e1(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(xt),_e(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return jt(i),null;case 31:if(i.memoizedState!==null){if(xn(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(xn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(gt),null;case 4:return _e(),null;case 10:return $i(i.type),null;case 22:case 23:return xn(i),Yf(),t!==null&&Z(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(xt),null;case 25:return null;default:return null}}function i_(t,i){switch(Df(i),i.tag){case 3:$i(xt),_e();break;case 26:case 27:case 5:jt(i);break;case 4:_e();break;case 31:i.memoizedState!==null&&xn(i);break;case 13:xn(i);break;case 19:Z(gt);break;case 10:$i(i.type);break;case 22:case 23:xn(i),Yf(),t!==null&&Z(Bs);break;case 24:$i(xt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){We(i,i.return,S)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,q=S;try{q()}catch(W){We(h,N,W)}}}l=l.next}while(l!==d)}}catch(W){We(i,i.return,W)}}function r_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Qg(i,a)}catch(l){We(t,t.return,l)}}}function s_(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function a_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function wd(t,i,a){try{var l=t.stateNode;T1(l,t.type,a,i),l[Bt]=i}catch(h){We(t,t.return,h)}}function o_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function l_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jt(i,l,a),i[St]=t,i[Bt]=a}catch(d){We(t,t.return,d)}}var er=!1,It=!1,Rd=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function t1(t,i){if(t=t.containerInfo,Qd=$c,t=bg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,q=0,W=0,te=t,H=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(S=_+h),te!==d||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)H=te,te=Q;for(;;){if(te===t)break t;if(H===a&&++q===h&&(S=_),H===d&&++W===l&&(N=_),(Q=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},$c=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Ys(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){We(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function c_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&yl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&r_(a),l&512&&_l(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Qg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&l_(a);case 26:case 5:nr(t,a),i===null&&l&4&&a_(a),l&512&&_l(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&d_(t,a);break;case 13:nr(t,a),l&4&&m_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=c1.bind(null,a),N1(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||It,h=er;var d=It;er=l,(It=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,It=d}break;case 30:break;default:nr(t,a)}}function h_(t){var i=t.alternate;i!==null&&(t.alternate=null,h_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,mn=!1;function tr(t,i,a){for(a=a.child;a!==null;)f_(t,i,a),a=a.sibling}function f_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:It||Di(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,i);var l=ut,h=mn;Fr(a.type)&&(ut=a.stateNode,mn=!1),tr(t,i,a),Rl(a.stateNode),ut=l,mn=h;break;case 5:It||Di(a,i);case 6:if(l=ut,h=mn,ut=null,tr(t,i,a),ut=l,mn=h,ut!==null)if(mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ut!==null&&(mn?(t=ut,rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):rv(ut,a.stateNode));break;case 4:l=ut,h=mn,ut=a.stateNode.containerInfo,mn=!0,tr(t,i,a),ut=l,mn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),It||Pr(4,a,i),tr(t,i,a);break;case 1:It||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,tr(t,i,a),It=l;break;default:tr(t,i,a)}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){We(i,i.return,a)}}}function m_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){We(i,i.return,a)}}function n1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new u_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new u_),i;default:throw Error(s(435,t.tag))}}function Ic(t,i){var a=n1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=h1.bind(null,t,l);l.then(h,h)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Fr(S.type)){ut=S.stateNode,mn=!1;break e}break;case 5:ut=S.stateNode,mn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));f_(d,_,h),ut=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,t),i=i.sibling}var ri=null;function p_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Pr(3,t,t.return),yl(3,t),Pr(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ri;if(pn(i,t),gn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rd=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(Gc=null,h=ri,ri=Hc(i.containerInfo),pn(i,t),ri=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(me){We(t,t.return,me)}Rd&&(Rd=!1,g_(t));break;case 4:l=ri,ri=Hc(t.stateNode.containerInfo),pn(i,t),gn(t),ri=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=er,W=It;if(er=q||h,It=W||N,pn(i,t),It=W,er=q,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||er||It||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(me){We(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){We(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?sv(Q,!0):sv(N.stateNode,!1)}catch(me){We(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(o_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ad(t);Cc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=Ad(t);Cc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Ad(t);xd(t,q,N);break;default:throw Error(s(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;g_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Ks(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&s_(i,i.return,a),Ks(i);break;case 27:Rl(i.stateNode);case 26:case 5:Di(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),yl(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Kg(N[h],S)}catch(q){We(l,l.return,q)}}a&&_&64&&r_(d),_l(d,d.return);break;case 27:l_(d);case 26:case 5:ir(h,d,a),a&&l===null&&_&4&&a_(d),_l(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&_&4&&d_(h,d);break;case 13:ir(h,d,a),a&&_&4&&m_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),_l(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(t,i,a,l),i=i.sibling}function y_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&yl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else si(t,i,a,l);break;case 31:si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):vl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(_,i);break;case 24:si(t,i,a,l),h&2048&&Id(i.alternate,i);break;default:si(t,i,a,l)}}function Fa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,S,N,h),yl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Fa(d,_,S,N,h):vl(d,_):(W._visibility|=2,Fa(d,_,S,N,h)),h&&q&2048&&Cd(_.alternate,_);break;case 24:Fa(d,_,S,N,h),h&&q&2048&&Id(_.alternate,_);break;default:Fa(d,_,S,N,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Id(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function Ga(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)__(t,i,a),t=t.sibling}function __(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&El&&t.memoizedState!==null&&q1(a,ri,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ri;ri=Hc(t.stateNode.containerInfo),Ga(t,i,a),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ga(t,i,a),El=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function v_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,b_(l,t)}v_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E_(t),t=t.sibling}function E_(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nc(t)):bl(t);break;default:bl(t)}}function Nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,b_(l,t)}v_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}t=t.sibling}}function b_(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var h=l.sibling,d=l.return;if(h_(l),l===a){Ht=null;break e}if(h!==null){h.return=d,Ht=h;break e}Ht=d}}}var i1={getCacheForType:function(t){var i=$t(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(xt).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,ke=null,Pe=0,Je=0,Rn=null,Ur=!1,Ya=!1,Nd=!1,rr=0,dt=0,jr=0,Qs=0,Dd=0,Cn=0,Ka=0,Tl=null,yn=null,Od=!1,Dc=0,T_=0,Oc=1/0,Mc=null,zr=null,Lt=0,Br=null,Qa=null,sr=0,Md=0,Vd=null,S_=null,Sl=0,kd=null;function In(){return(Qe&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?Bd():Vu()}function w_(){if(Cn===0)if((Pe&536870912)===0||qe){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Cn=t}else Cn=536870912;return t=An.current,t!==null&&(t.flags|=32),Cn}function _n(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&($a(t,0),qr(t,Pe,Cn,!1)),Ts(t,a),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(Qs|=a),dt===4&&qr(t,Pe,Cn,!1)),Oi(t))}function A_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||$n(t,i),h=l?o1(t,i):Pd(t,i,!0),d=l;do{if(h===0){Ya&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!s1(a)){h=Pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Tl;var N=S.current.memoizedState.isDehydrated;if(N&&($a(S,_).flags|=256),_=Pd(S,_,!1),_!==2){if(Nd&&!N){S.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Cn,!Ur);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Dc+300-on(),10<h)){if(qr(l,i,Cn,!Ur),mi(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=nv(x_.bind(null,l,a,yn,Mc,Od,i,Cn,Qs,Ka,Ur,d,"Throttled",-0,0),h);break e}x_(l,a,yn,Mc,Od,i,Cn,Qs,Ka,Ur,d,null,-0,0)}}break}while(!0);Oi(t)}function x_(t,i,a,l,h,d,_,S,N,q,W,te,H,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},__(i,d,te);var me=(d&62914560)===d?Dc-on():(d&4194048)===d?T_-on():0;if(me=H1(te,me),me!==null){sr=d,t.cancelPendingCommit=me(V_.bind(null,t,i,d,a,l,h,_,S,N,W,te,null,H,Q)),qr(t,d,_,!q);return}}V_(t,i,d,a,l,h,_,S,N)}function s1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~Dd,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ss(t,a,i)}function Vc(){return(Qe&6)===0?(wl(0),!1):!0}function Ld(){if(ke!==null){if(Je===0)var t=ke.return;else t=ke,Qi=js=null,Wf(t),ja=null,al=0,t=ke;for(;t!==null;)i_(t.alternate,t),t=t.return;ke=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,Ld(),it=t,ke=a=Yi(t.current,null),Pe=i,Je=0,Rn=null,Ur=!1,Ya=$n(t,i),Nd=!1,Ka=Cn=Dd=Qs=jr=dt=0,yn=Tl=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,tc(),a}function R_(t,i){Oe=null,K.H=ml,i===Ua||i===uc?(i=Hg(),Je=3):i===zf?(i=Hg(),Je=4):Je=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,ke===null&&(dt=1,Sc(t,Un(i,t.current)))}function C_(){var t=An.current;return t===null?!0:(Pe&4194048)===Pe?qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===qn:!1}function I_(){var t=K.H;return K.H=ml,t===null?ml:t}function N_(){var t=K.A;return K.A=i1,t}function kc(){dt=4,Ur||(Pe&4194048)!==Pe&&An.current!==null||(Ya=!0),(jr&134217727)===0&&(Qs&134217727)===0||it===null||qr(it,Pe,Cn,!1)}function Pd(t,i,a){var l=Qe;Qe|=2;var h=I_(),d=N_();(it!==t||Pe!==i)&&(Mc=null,$a(t,i)),i=!1;var _=dt;e:do try{if(Je!==0&&ke!==null){var S=ke,N=Rn;switch(Je){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var q=Je;if(Je=0,Rn=null,Xa(t,S,N,q),a&&Ya){_=0;break e}break;default:q=Je,Je=0,Rn=null,Xa(t,S,N,q)}}a1(),_=dt;break}catch(W){R_(t,W)}while(!0);return i&&t.shellSuspendCounter++,Qi=js=null,Qe=l,K.H=h,K.A=d,ke===null&&(it=null,Pe=0,tc()),_}function a1(){for(;ke!==null;)D_(ke)}function o1(t,i){var a=Qe;Qe|=2;var l=I_(),h=N_();it!==t||Pe!==i?(Mc=null,Oc=on()+500,$a(t,i)):Ya=$n(t,i);e:do try{if(Je!==0&&ke!==null){i=ke;var d=Rn;t:switch(Je){case 1:Je=0,Rn=null,Xa(t,i,d,1);break;case 2:case 9:if(Bg(d)){Je=0,Rn=null,O_(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Oi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Bg(d)?(Je=0,Rn=null,O_(i)):(Je=0,Rn=null,Xa(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var S=ke;if(_?yv(_):S.stateNode.complete){Je=0,Rn=null;var N=S.sibling;if(N!==null)ke=N;else{var q=S.return;q!==null?(ke=q,Lc(q)):ke=null}break t}}Je=0,Rn=null,Xa(t,i,d,5);break;case 6:Je=0,Rn=null,Xa(t,i,d,6);break;case 8:Ld(),dt=6;break e;default:throw Error(s(462))}}l1();break}catch(W){R_(t,W)}while(!0);return Qi=js=null,K.H=l,K.A=h,Qe=a,ke!==null?0:(it=null,Pe=0,tc(),dt)}function l1(){for(;ke!==null&&!df();)D_(ke)}function D_(t){var i=t_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Lc(t):ke=i}function O_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Wf(i);default:i_(a,i),i=ke=Ng(i,rr),i=t_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Lc(t):ke=i}function Xa(t,i,a,l){Qi=js=null,Wf(i),ja=null,al=0;var h=i.return;try{if(XS(t,h,i,a,Pe)){dt=1,Sc(t,Un(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;dt=1,Sc(t,Un(a,t.current)),ke=null;return}i.flags&32768?(qe||l===1?t=!0:Ya||(Pe&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),M_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){M_(i,Ur);return}t=i.return;var a=ZS(i.alternate,i,rr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);dt===0&&(dt=5)}function M_(t,i){do{var a=e1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);dt=6,ke=null}function V_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Pc();while(Lt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Af,gf(t,a,d,_,S,N),t===it&&(ke=it=null,Pe=0),Qa=i,Br=t,sr=a,Md=d,Vd=h,S_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f1(_r,function(){return j_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=re.p,re.p=2,_=Qe,Qe|=4;try{t1(t,i,a)}finally{Qe=_,re.p=h,K.T=l}}Lt=1,k_(),L_(),P_()}}function k_(){if(Lt===1){Lt=0;var t=Br,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{p_(i,t);var d=$d,_=bg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Eg(S.ownerDocument.documentElement,S)){if(N!==null&&Ef(S)){var q=N.start,W=N.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var te=S.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var Q=H.getSelection(),me=S.textContent.length,Se=Math.min(N.start,me),nt=N.end===void 0?Se:Math.min(N.end,me);!Q.extend&&Se>nt&&(_=nt,nt=Se,Se=_);var P=vg(S,Se),V=vg(S,nt);if(P&&V&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=te.createRange();B.setStart(P.node,P.offset),Q.removeAllRanges(),Se>nt?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}$c=!!Qd,$d=Qd=null}finally{Qe=h,re.p=l,K.T=a}}t.current=i,Lt=2}}function L_(){if(Lt===2){Lt=0;var t=Br,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{c_(t,i.alternate,i)}finally{Qe=h,re.p=l,K.T=a}}Lt=3}}function P_(){if(Lt===4||Lt===3){Lt=0,Ru();var t=Br,i=Qa,a=sr,l=S_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Qa=Br=null,U_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),qi(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=re.p,re.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=i,re.p=h}}(sr&3)!==0&&Pc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Sl++:(Sl=0,kd=t):Sl=0,wl(0)}}function U_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Pc(){return k_(),L_(),P_(),j_()}function j_(){if(Lt!==5)return!1;var t=Br,i=Md;Md=0;var a=qi(sr),l=K.T,h=re.p;try{re.p=32>a?32:a,K.T=null,a=Vd,Vd=null;var d=Br,_=sr;if(Lt=0,Qa=Br=null,sr=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,E_(d.current),y_(d,d.current,_,a),Qe=S,wl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{re.p=h,K.T=l,U_(t,i)}}function z_(t,i,a){i=Un(a,i),i=dd(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Ts(t,2),Oi(t))}function We(t,i,a){if(t.tag===3)z_(t,t,a);else for(;i!==null;){if(i.tag===3){z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Un(a,t),a=By(2),l=Vr(i,a,2),l!==null&&(qy(a,l,i,t),Ts(l,2),Oi(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new r1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),t=u1.bind(null,t,i,a),i.then(t,t))}function u1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Pe&a)===a&&(dt===4||dt===3&&(Pe&62914560)===Pe&&300>on()-Dc?(Qe&2)===0&&$a(t,0):Dd|=a,Ka===Pe&&(Ka=0)),Oi(t)}function B_(t,i){i===0&&(i=Mu()),t=Ls(t,i),t!==null&&(Ts(t,i),Oi(t))}function c1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),B_(t,a)}function h1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),B_(t,a)}function f1(t,i){return kt(t,i)}var Uc=null,Ja=null,jd=!1,jc=!1,zd=!1,Hr=0;function Oi(t){t!==Ja&&t.next===null&&(Ja===null?Uc=Ja=t:Ja=Ja.next=t),jc=!0,jd||(jd=!0,m1())}function wl(t,i){if(!zd&&jc){zd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,G_(l,d))}else d=Pe,d=mi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,G_(l,d));l=l.next}while(a);zd=!1}}function d1(){q_()}function q_(){jc=jd=!1;var t=0;Hr!==0&&w1()&&(t=Hr);for(var i=on(),a=null,l=Uc;l!==null;){var h=l.next,d=H_(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=h}Lt!==0&&Lt!==5||wl(t),Hr!==0&&(Hr=0)}function H_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=pf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=it,a=Pe,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),qi(a)){case 2:case 8:a=Vo;break;case 32:a=_r;break;case 268435456:a=Cu;break;default:a=_r}return l=F_.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pc()&&t.callbackNode!==a)return null;var l=Pe;return l=mi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(A_(t,l,i),H_(t,on()),t.callbackNode!=null&&t.callbackNode===a?F_.bind(null,t):null)}function G_(t,i){if(Pc())return null;A_(t,i,!0)}function m1(){x1(function(){(Qe&6)!==0?kt(Mo,d1):q_()})}function Bd(){if(Hr===0){var t=La;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Hr=t}return Hr}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function K_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function p1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Y_((h[Bt]||null).action),_=l.submitter;_&&(i=(i=_[Bt]||null)?Y_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ai("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var N=_?K_(h,_):new FormData(h);od(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?K_(h,_):new FormData(h),od(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var qd=0;qd<wf.length;qd++){var Hd=wf[qd],g1=Hd.toLowerCase(),y1=Hd[0].toUpperCase()+Hd.slice(1);ii(g1,"on"+y1)}ii(wg,"onAnimationEnd"),ii(Ag,"onAnimationIteration"),ii(xg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(MS,"onTransitionRun"),ii(VS,"onTransitionStart"),ii(kS,"onTransitionCancel"),ii(Rg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(W){ec(W)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,q=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(W){ec(W)}h.currentTarget=null,d=N}}}}function Le(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||($_(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),$_(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[zc]){t[zc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(_1.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,Fd("selectionchange",!1,i))}}function $_(t,i,a,l){switch(wv(i)){case 2:var h=Y1;break;case 8:h=K1;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=_i(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}wr(function(){var q=d,W=Vn(a),te=[];e:{var H=Cg.get(t);if(H!==void 0){var Q=Ai,me=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Q=Ju;break;case"focusin":me="focus",Q=Os;break;case"focusout":me="blur",Q=Os;break;case"beforeblur":case"afterblur":Q=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case wg:case Ag:case xg:Q=Fu;break;case Rg:Q=w;break;case"scroll":case"scrollend":Q=$o;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Gi;break;case"toggle":case"beforetoggle":Q=De}var Se=(i&4)!==0,nt=!Se&&(t==="scroll"||t==="scrollend"),P=Se?H!==null?H+"Capture":null:H;Se=[];for(var V=q,B;V!==null;){var ee=V;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||P===null||(ee=Zn(V,P),ee!=null&&Se.push(xl(V,ee,B))),nt)break;V=V.return}0<Se.length&&(H=new Q(H,me,null,a,W),te.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Yo&&(me=a.relatedTarget||a.fromElement)&&(_i(me)||me[gi]))break e;if((Q||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=q,me=me?_i(me):null,me!==null&&(nt=u(me),Se=me.tag,me!==nt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Q=null,me=q),Q!==me)){if(Se=Xo,ee="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Gi,ee="onPointerLeave",P="onPointerEnter",V="pointer"),nt=Q==null?H:bn(Q),B=me==null?H:bn(me),H=new Se(ee,V+"leave",Q,a,W),H.target=nt,H.relatedTarget=B,ee=null,_i(W)===q&&(Se=new Se(P,V+"enter",me,a,W),Se.target=B,Se.relatedTarget=nt,ee=Se),nt=ee,Q&&me)t:{for(Se=v1,P=Q,V=me,B=0,ee=P;ee;ee=Se(ee))B++;ee=0;for(var Ee=V;Ee;Ee=Se(Ee))ee++;for(;0<B-ee;)P=Se(P),B--;for(;0<ee-B;)V=Se(V),ee--;for(;B--;){if(P===V||V!==null&&P===V.alternate){Se=P;break t}P=Se(P),V=Se(V)}Se=null}else Se=null;Q!==null&&X_(te,H,Q,Se,!1),me!==null&&nt!==null&&X_(te,nt,me,Se,!0)}}e:{if(H=q?bn(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Ge=dg;else if(hg(H))if(mg)Ge=NS;else{Ge=CS;var pe=RS}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ea(q.elementType)&&(Ge=dg):Ge=IS;if(Ge&&(Ge=Ge(t,q))){fg(te,Ge,a,W);break e}pe&&pe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ho(H,"number",H.value)}switch(pe=q?bn(q):window,t){case"focusin":(hg(pe)||pe.contentEditable==="true")&&(Ca=pe,bf=q,tl=null);break;case"focusout":tl=bf=Ca=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Tg(te,a,W);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":Tg(te,a,W)}var Me;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ra?Ms(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ci&&a.locale!=="ko"&&(Ra||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ra&&(Me=Qo()):(wi=W,Ko="value"in wi?wi.value:wi.textContent,Ra=!0)),pe=Bc(q,Ue),0<pe.length&&(Ue=new Ri(Ue,t,null,a,W),te.push({event:Ue,listeners:pe}),Me?Ue.data=Me:(Me=xa(a),Me!==null&&(Ue.data=Me)))),(Me=Ln?SS(t,a):wS(t,a))&&(Ue=Bc(q,"onBeforeInput"),0<Ue.length&&(pe=new Ri("onBeforeInput","beforeinput",null,a,W),te.push({event:pe,listeners:Ue}),pe.data=Me)),p1(te,t,q,a,W)}Q_(te,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Zn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function v1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||q===null||(N=q,h?(q=Zn(a,d),q!=null&&_.unshift(xl(a,q,N))):h||(q=Zn(a,d),q!=null&&_.push(xl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var E1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(E1,`
`).replace(b1,"")}function W_(t,i){return i=J_(i),J_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,_a(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=d=_=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:tt(t,i,l,W,a,null)}}Uu(t,d,S,N,q,_,h,!1);return;case"select":Le("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:tt(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(t,i,_,S,a,null)}br(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,N,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Le(Al[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,q,l,a,null)}return;default:if(Ea(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kd(t,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function T1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,q=null,W=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,te)}}for(var H in l){var Q=l[H];if(te=a[H],l.hasOwnProperty(H)&&(Q!=null||te!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&tt(t,i,H,Q,l,te)}}va(t,_,S,N,q,W,d,h);return;case"select":Q=_=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&tt(t,i,h,d,l,N)}i=S,a=_,l=Q,H!=null?Er(t,!!a,H,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}ju(t,H,Q);return;case"option":for(var me in a)H=a[me],a.hasOwnProperty(me)&&H!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:tt(t,i,me,null,l,H));for(N in l)H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":tt(t,i,N,H,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&tt(t,i,Se,null,l,H);for(q in l)if(H=l[q],Q=a[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:tt(t,i,q,H,l,Q)}return;default:if(Ea(i)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&Kd(t,i,nt,void 0,l,H);for(W in l)H=l[W],Q=a[W],!l.hasOwnProperty(W)||H===Q||H===void 0&&Q===void 0||Kd(t,i,W,H,l,Q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&tt(t,i,P,null,l,H);for(te in l)H=l[te],Q=a[te],!l.hasOwnProperty(te)||H===Q||H==null&&Q==null||tt(t,i,te,H,l,Q)}function Z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Z_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>S)break;var W=N.transferSize,te=N.initiatorType;W&&Z_(te)&&(N=N.responseEnd,_+=W*(N<S?1:(S-q)/(N-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,$d=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function w1(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(R1)}:nv;function R1(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function rv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[yi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);to(i)}function sv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function C1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function I1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function N1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function ov(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function uv(t,i,a){switch(i=qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Fn=new Map,cv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=re.d;re.d={f:D1,r:O1,D:M1,C:V1,L:k1,m:L1,X:U1,S:P1,M:j1};function D1(){var t=ar.f(),i=Vc();return t||i}function O1(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Ry(i):ar.r(t)}var Wa=typeof document>"u"?null:document;function hv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=fn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Jt(i,"link",t),wt(i),l.head.appendChild(i)))}}function M1(t){ar.D(t),hv("dns-prefetch",t,null)}function V1(t,i){ar.C(t,i),hv("preconnect",t,i)}function k1(t,i,a){ar.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Fn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Jt(i,"link",t),wt(i),l.head.appendChild(i)))}}function L1(t,i){ar.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Fn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Jt(l,"link",t),wt(l),a.head.appendChild(l)}}}function P1(t,i,a){ar.S(t,i,a);var l=Wa;if(l&&t){var h=vi(l).hoistableStyles,d=Za(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&nm(t,a);var N=_=l.createElement("link");wt(N),Jt(N,"link",t),N._p=new Promise(function(q,W){N.onload=q,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function U1(t,i){ar.X(t,i);var a=Wa;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0},i),(i=Fn.get(h))&&im(t,i),d=a.createElement("script"),wt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function j1(t,i){ar.M(t,i);var a=Wa;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&im(t,i),d=a.createElement("script"),wt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,i,a,l){var h=(h=xe.current)?Hc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=vi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=vi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||z1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=vi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+fn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function z1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),wt(i),t.head.appendChild(i))}function eo(t){return'[src="'+fn(t)+'"]'}function Il(t){return"script[async]"+t}function mv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Jt(l,"style",h),Fc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=dv(a),(h=Fn.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),i.state.loading|=4,Fc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,wt(h),h):(l=a,(h=Fn.get(d))&&(l=T({},a),im(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Fc(l,a.precedence,t));return i.instance}function Fc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gc=null;function pv(t,i,a){if(Gc===null){var l=new Map,h=Gc=new Map;h.set(a,l)}else h=Gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function B1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=dv(l),(h=Fn.get(h))&&nm(l,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Yc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function H1(t,i){return t.stylesheets&&t.count===0&&Qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*S1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function Qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,i.forEach(F1,t),Kc=null,Yc.call(t))}function F1(t,i){if(!(i.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:J,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function G1(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function _v(t,i,a,l,h,d,_,S,N,q,W,te){return t=new G1(t,i,a,_,N,q,W,te,S),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function vv(t){return t?(t=Da,t):Da}function Ev(t,i,a,l,h,d){h=vv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(_n(a,t,i),ll(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function Tv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&_n(i,t,67108864),sm(t,67108864)}}function Sv(t){if(t.tag===13||t.tag===31){var i=In();i=ws(i);var a=Ls(t,i);a!==null&&_n(a,t,i),sm(t,i)}}var $c=!0;function Y1(t,i,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=2,am(t,i,a,l)}finally{re.p=d,K.T=h}}function K1(t,i,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=8,am(t,i,a,l)}finally{re.p=d,K.T=h}}function am(t,i,a,l){if($c){var h=om(l);if(h===null)Yd(t,i,l,Xc,a),Av(t,l);else if($1(h,t,i,a,l))l.stopPropagation();else if(Av(t,l),i&4&&-1<Q1.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-mt(_);S.entanglements[1]|=N,_&=~N}Oi(d),(Qe&6)===0&&(Oc=on()+500,wl(0))}}break;case 31:case 13:S=Ls(d,2),S!==null&&_n(S,d,2),Vc(),sm(d,2)}if(d=om(l),d===null&&Yd(t,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function om(t){return t=Vn(t),lm(t)}var Xc=null;function lm(t){if(Xc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Mo:return 2;case Vo:return 8;case _r:case mf:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var um=!1,Gr=null,Yr=null,Kr=null,Dl=new Map,Ol=new Map,Qr=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&Tv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $1(t,i,a,l,h){switch(i){case"focusin":return Gr=Ml(Gr,t,i,a,l,h),!0;case"dragenter":return Yr=Ml(Yr,t,i,a,l,h),!0;case"mouseover":return Kr=Ml(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function xv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Sv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Sv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=Mn(a),i!==null&&Tv(i),t.blockedOn=a,!1;i.shift()}return!0}function Rv(t,i,a){Jc(t)&&a.delete(i)}function X1(){um=!1,Gr!==null&&Jc(Gr)&&(Gr=null),Yr!==null&&Jc(Yr)&&(Yr=null),Kr!==null&&Jc(Kr)&&(Kr=null),Dl.forEach(Rv),Ol.forEach(Rv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,X1)))}var Zc=null;function Cv(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function i(N){return Wc(N,t)}Gr!==null&&Wc(Gr,t),Yr!==null&&Wc(Yr,t),Kr!==null&&Wc(Kr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)xv(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Bt]||null;if(typeof d=="function")_||Cv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Bt]||null)S=_.formAction;else if(lm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Cv(a)}}}function Iv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}eh.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();Ev(a,l,t,i,null,null)},eh.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ev(t.current,2,null,t,null,null),Vc(),i[gi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&xv(t)}};var Nv=e.version;if(Nv!=="19.2.4")throw Error(s(527,Nv,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var J1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Qn=th.inject(J1),Yt=th}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Py,d=Uy,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=_v(t,1,!1,null,null,a,l,null,h,d,_,Iv),t[gi]=i.current,Gd(t),new cm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Py,_=Uy,S=jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=_v(t,1,!0,i,a??null,l,h,N,d,_,S,Iv),i.context=vv(null),a=i.current,l=In(),l=ws(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,Ts(i,a),Oi(i),t[gi]=i.current,Gd(t),new eh(i)},kl.version="19.2.4",kl}var zv;function lw(){if(zv)return dm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=ow(),dm.exports}var uw=lw();const cw=AE(uw);var Bv="popstate";function hw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Om("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return dw(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function qv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:n,key:e&&e.key||s||fw()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ua(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function dw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let Y=E(),j=Y==null?null:Y-g;g=Y,p&&p({action:m,location:X.location,delta:j})}function A(Y,j){m="PUSH";let G=Om(X.location,Y,j);n&&n(G,Y),g=E()+1;let J=qv(G,g),oe=X.createHref(G);try{f.pushState(J,"",oe)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(oe)}u&&p&&p({action:m,location:X.location,delta:1})}function k(Y,j){m="REPLACE";let G=Om(X.location,Y,j);n&&n(G,Y),g=E();let J=qv(G,g),oe=X.createHref(G);f.replaceState(J,"",oe),u&&p&&p({action:m,location:X.location,delta:0})}function $(Y){return mw(Y)}let X={get action(){return m},get location(){return r(o,f)},listen(Y){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,T),p=Y,()=>{o.removeEventListener(Bv,T),p=null}},createHref(Y){return e(o,Y)},createURL:$,encodeLocation(Y){let j=$(Y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:k,go(Y){return f.go(Y)}};return X}function mw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xE(r,e,n="/"){return pw(r,e,n,!1)}function pw(r,e,n,s){let o=typeof e=="string"?ua(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=RE(r);gw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Rw(u);m=Aw(f[p],g,s)}return m}function RE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ur([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),RE(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Sw(T,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of CE(f.path))u(f,m,!0,p)}),e}function CE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=CE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function gw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ww(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yw=/^:[\w-]+$/,_w=3,vw=2,Ew=1,bw=10,Tw=-2,Hv=r=>r==="*";function Sw(r,e){let n=r.split("/"),s=n.length;return n.some(Hv)&&(s+=Tw),e&&(s+=vw),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(yw.test(u)?_w:u===""?Ew:bw),s)}function ww(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Aw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ur([u,T.pathname]),pathnameBase:Dw(ur([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ur([u,T.pathnameBase]))}return f}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let $=m[A]||"";f=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const k=m[A];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function xw(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Iw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ua(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Fv(n.substring(1),"/"):u=Fv(n,e)):u=e,{pathname:u,search:Ow(s),hash:Mw(o)}}function Fv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=Nw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(r,e,n,s=!1){let o;typeof r=="string"?o=ua(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=Iw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),Dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Vw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Lw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(r,e){let n=r;if(typeof n!="string"||!Cw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(IE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=hr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var Pw=["GET",...DE];new Set(Pw);var To=U.createContext(null);To.displayName="DataRouter";var Hh=U.createContext(null);Hh.displayName="DataRouterState";var Uw=U.createContext(!1),OE=U.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var jw=U.createContext(new Map);jw.displayName="Fetchers";var zw=U.createContext(null);zw.displayName="Await";var Dn=U.createContext(null);Dn.displayName="Navigation";var hu=U.createContext(null);hu.displayName="Location";var hi=U.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var hp=U.createContext(null);hp.displayName="RouteError";var ME="REACT_ROUTER_ERROR",Bw="REDIRECT",qw="ROUTE_ERROR_RESPONSE";function Hw(r){if(r.startsWith(`${ME}:${Bw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Fw(r){if(r.startsWith(`${ME}:${qw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Vw(e.status,e.statusText,e.data)}catch{}}function Gw(r,{relative:e}={}){ct(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Dn),{hash:o,pathname:u,search:f}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return U.useContext(hu)!=null}function ms(){return ct(So(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(hu).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(r){U.useContext(Dn).static||U.useLayoutEffect(r)}function fu(){let{isDataRoute:r}=U.useContext(hi);return r?rA():Yw()}function Yw(){ct(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(To),{basename:e,navigator:n}=U.useContext(Dn),{matches:s}=U.useContext(hi),{pathname:o}=ms(),u=JSON.stringify(up(s)),f=U.useRef(!1);return kE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Kn(f.current,VE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=cp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function fp(){let{matches:r}=U.useContext(hi),e=r[r.length-1];return e?e.params:{}}function du(r,{relative:e}={}){let{matches:n}=U.useContext(hi),{pathname:s}=ms(),o=JSON.stringify(up(n));return U.useMemo(()=>cp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Kw(r,e){return LE(r,e)}function LE(r,e,n,s,o){ct(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Dn),{matches:f}=U.useContext(hi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";UE(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=ms(),k;if(e){let G=typeof e=="string"?ua(e):e;ct(E==="/"||G.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),k=G}else k=A;let $=k.pathname||"/",X=$;if(E!=="/"){let G=E.replace(/^\//,"").split("/");X="/"+$.replace(/^\//,"").split("/").slice(G.length).join("/")}let Y=xE(r,{pathname:X});Kn(T||Y!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Kn(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Ww(Y&&Y.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:ur([E,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),f,n,s,o);return e&&j?U.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},j):j}function Qw(){let r=iA(),e=kw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var $w=U.createElement(Qw,null),PE=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Fw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(hi.Provider,{value:this.props.routeContext},U.createElement(hp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(Xw,{error:r},e):e}};PE.contextType=Uw;var _m=new WeakMap;function Xw({children:r,error:e}){let{basename:n}=U.useContext(Dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Hw(e.digest);if(s){let o=_m.get(e);if(o)throw o;let u=NE(s.location,n);if(IE&&!_m.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw _m.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Jw({routeContext:r,match:e,children:n}){let s=U.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(hi.Provider,{value:r},n)}function Ww(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:k}=n,$=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||$){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Lw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let k,$=!1,X=null,Y=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||$w,m&&(p<0&&A===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,Y=null):p===A&&($=!0,Y=T.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,A+1)),G=()=>{let J;return k?J=X:$?J=Y:T.route.Component?J=U.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=E,U.createElement(Jw,{match:T,routeContext:{outlet:E,matches:j,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?U.createElement(PE,{location:n.location,revalidation:n.revalidation,component:X,error:k,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:g}):G()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(r){let e=U.useContext(To);return ct(e,dp(r)),e}function eA(r){let e=U.useContext(Hh);return ct(e,dp(r)),e}function tA(r){let e=U.useContext(hi);return ct(e,dp(r)),e}function mp(r){let e=tA(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nA(){return mp("useRouteId")}function iA(){let r=U.useContext(hp),e=eA("useRouteError"),n=mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function rA(){let{router:r}=Zw("useNavigate"),e=mp("useNavigate"),n=U.useRef(!1);return kE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Kn(n.current,VE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gv={};function UE(r,e,n){!e&&!Gv[r]&&(Gv[r]=!0,Kn(!1,n))}U.memo(sA);function sA({routes:r,future:e,state:n,onError:s}){return LE(r,void 0,n,s,e)}function aA({to:r,replace:e,state:n,relative:s}){ct(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Dn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(hi),{pathname:f}=ms(),m=fu(),p=cp(r,up(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function $s(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ua(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:k="default"}=n,$=U.useMemo(()=>{let X=hr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:A,key:k},navigationType:s}},[m,g,E,T,A,k,s]);return Kn($!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:U.createElement(Dn.Provider,{value:p},U.createElement(hu.Provider,{children:e,value:$}))}function lA({children:r,location:e}){return Kw(Mm(r),e)}function Mm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Mm(s.props.children,u));return}ct(s.type===$s,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var uh="get",ch="application/x-www-form-urlencoded";function Fh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function uA(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function cA(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function hA(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function fA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dA(r,e){return r.button===0&&(!e||e==="_self")&&!fA(r)}var nh=null;function mA(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var pA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!pA.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function gA(r,e){let n,s,o,u,f;if(cA(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||uh,o=vm(r.getAttribute("enctype"))||ch,u=new FormData(r)}else if(uA(r)||hA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||uh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||ch,u=new FormData(m,r),!mA()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=ch,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function _A(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function EA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await _A(u,n);return f.links?f.links():[]}return[]}));return wA(s.flat(1).filter(vA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bA(r,e,{includeHydrateFallback:n}={}){return TA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TA(r){return[...new Set(r)]}function SA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function wA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(SA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jE(){let r=U.useContext(To);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AA(){let r=U.useContext(Hh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=U.createContext(void 0);gp.displayName="FrameworkContext";function zE(){let r=U.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function xA(r,e){let n=U.useContext(gp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=j=>{j.forEach(G=>{f(G.isIntersecting)})},Y=new IntersectionObserver(X,{threshold:.5});return A.current&&Y.observe(A.current),()=>{Y.disconnect()}}},[r]),U.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let k=()=>{o(!0)},$=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ll(m,k),onBlur:Ll(p,$),onMouseEnter:Ll(g,k),onMouseLeave:Ll(E,$),onTouchStart:Ll(T,k)}]:[!1,A,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function RA({page:r,...e}){let{router:n}=jE(),s=U.useMemo(()=>xE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(IA,{page:r,matches:s,...e}):null}function CA(r){let{manifest:e,routeModules:n}=zE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return EA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function IA({page:r,matches:e,...n}){let s=ms(),{future:o,manifest:u,routeModules:f}=zE(),{basename:m}=jE(),{loaderData:p,matches:g}=AA(),E=U.useMemo(()=>Yv(r,e,g,u,s,"data"),[r,e,g,u,s]),T=U.useMemo(()=>Yv(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,Y=!1;if(e.forEach(G=>{let J=u.routes[G.route.id];!J||!J.hasLoader||(!E.some(oe=>oe.route.id===G.route.id)&&G.route.id in p&&f[G.route.id]?.shouldRevalidate||J.hasClientLoader?Y=!0:X.add(G.route.id))}),X.size===0)return[];let j=yA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&X.size>0&&j.searchParams.set("_routes",e.filter(G=>X.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),k=U.useMemo(()=>bA(T,u),[T,u]),$=CA(T);return U.createElement(U.Fragment,null,A.map(X=>U.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),k.map(X=>U.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),$.map(({key:X,link:Y})=>U.createElement("link",{key:X,nonce:n.nonce,...Y,crossOrigin:Y.crossOrigin??n.crossOrigin})))}function NA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DA&&(window.__reactRouterVersion="7.13.0")}catch{}function OA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=hw({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(g=>{n===!1?m(g):U.startTransition(()=>m(g))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(oA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...k},$){let{basename:X,unstable_useTransitions:Y}=U.useContext(Dn),j=typeof g=="string"&&BE.test(g),G=NE(g,X);g=G.to;let J=Gw(g,{relative:o}),[oe,ge,ye]=xA(s,k),R=LA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:Y});function x(O){e&&e(O),O.defaultPrevented||R(O)}let C=U.createElement("a",{...k,...ye,href:G.absoluteURL||J,onClick:G.isExternal||u?e:x,ref:NA($,ge),target:p,"data-discover":!j&&n==="render"?"true":void 0});return oe&&!j?U.createElement(U.Fragment,null,C,U.createElement(RA,{page:J})):C});zi.displayName="Link";var MA=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=du(f,{relative:g.relative}),A=ms(),k=U.useContext(Hh),{navigator:$,basename:X}=U.useContext(Dn),Y=k!=null&&BA(T)&&m===!0,j=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,G=A.pathname,J=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(G=G.toLowerCase(),J=J?J.toLowerCase():null,j=j.toLowerCase()),J&&X&&(J=hr(J,X)||J);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ge=G===j||!o&&G.startsWith(j)&&G.charAt(oe)==="/",ye=J!=null&&(J===j||!o&&J.startsWith(j)&&J.charAt(j.length)==="/"),R={isActive:ge,isPending:ye,isTransitioning:Y},x=ge?e:void 0,C;typeof s=="function"?C=s(R):C=[s,ge?"active":null,ye?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(R):u;return U.createElement(zi,{...g,"aria-current":x,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(R):p)});MA.displayName="NavLink";var VA=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=uh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...k},$)=>{let{unstable_useTransitions:X}=U.useContext(Dn),Y=jA(),j=zA(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&BE.test(m),oe=ge=>{if(p&&p(ge),ge.defaultPrevented)return;ge.preventDefault();let ye=ge.nativeEvent.submitter,R=ye?.getAttribute("formmethod")||f,x=()=>Y(ye||ge.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});X&&n!==!1?U.startTransition(()=>x()):x()};return U.createElement("form",{ref:$,method:G,action:j,onSubmit:s?p:oe,...k,"data-discover":!J&&r==="render"?"true":void 0})});VA.displayName="Form";function kA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(r){let e=U.useContext(To);return ct(e,kA(r)),e}function LA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=fu(),E=ms(),T=du(r,{relative:u});return U.useCallback(A=>{if(dA(A,e)){A.preventDefault();let k=n!==void 0?n:Xl(E)===Xl(T),$=()=>g(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>$()):$()}},[E,g,T,n,s,e,r,o,u,f,m,p])}var PA=0,UA=()=>`__${String(++PA)}__`;function jA(){let{router:r}=qE("useSubmit"),{basename:e}=U.useContext(Dn),n=nA(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=gA(u,e);if(f.navigate===!1){let A=f.fetcherKey||UA();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function zA(r,{relative:e}={}){let{basename:n}=U.useContext(Dn),s=U.useContext(hi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},f=ms();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),Xl(u)}function BA(r,{relative:e}={}){let n=U.useContext(OE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qE("useViewTransitionState"),o=du(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}const qA=()=>{};var Kv={};const HE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},HA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[E],n[T],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(HE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new FA;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const $=g<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(r){const e=HE(r);return FE.encodeByteArray(e,!0)},Th=function(r){return GA(r).replace(/\./g,"")},GE=function(r){try{return FE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KA=()=>YA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&GE(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return qA()||KA()||QA()||$A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YE=r=>Gh()?.emulatorHosts?.[r],XA=r=>{const e=YE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KE=()=>Gh()?.config,QE=r=>Gh()?.[`_${r}`];class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(r){return(await fetch(r,{credentials:"include"})).ok}function WA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Fl={};function ZA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function ex(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Qv=!1;function XE(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Fl[r]===e||Fl[r]||Qv)return;Fl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=ZA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Qv=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=ex(s),k=n("text"),$=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),Y=document.getElementById(X)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),E(Y,X);const oe=g();p(G,j),J.append(G,$,Y,oe),document.body.appendChild(J)}u?($.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function nx(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ix(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ax(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ox(){return!nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lx(){try{return typeof indexedDB=="object"}catch{return!1}}function ux(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cx="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cx,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hx(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new gr(o,m,s)}}function hx(r,e){return r.replace(fx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fx=/\{\$([^}]+)}/g;function dx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if($v(u)&&$v(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $v(r){return r!==null&&typeof r=="object"}function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mx(r,e){const n=new px(r,e);return n.subscribe.bind(n)}class px{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function Ut(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new JA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vx(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(r){return r===Xs?void 0:r}function vx(r){return r.instantiationMode==="EAGER"}class Ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const bx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Tx=je.INFO,Sx={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},wx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Sx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=Tx,this._logHandler=wx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Ax=(r,e)=>e.some(n=>r instanceof n);let Xv,Jv;function xx(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Vm=new WeakMap,WE=new WeakMap,bm=new WeakMap,_p=new WeakMap;function Cx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,r)}).catch(()=>{}),_p.set(e,r),e}function Ix(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Vm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||WE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Nx(r){km=r(km)}function Dx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return WE.set(s,e.sort?e.sort():[e]),ns(s)}:Rx().includes(r)?function(...e){return r.apply(Tm(this),e),ns(JE.get(this))}:function(...e){return ns(r.apply(Tm(this),e))}}function Ox(r){return typeof r=="function"?Dx(r):(r instanceof IDBTransaction&&Ix(r),Ax(r,xx())?new Proxy(r,km):r)}function ns(r){if(r instanceof IDBRequest)return Cx(r);if(bm.has(r))return bm.get(r);const e=Ox(r);return e!==r&&(bm.set(r,e),_p.set(e,r)),e}const Tm=r=>_p.get(r);function Mx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Vx=["get","getKey","getAll","getAllKeys","count"],kx=["put","add","delete","clear"],Sm=new Map;function Wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}Nx(r=>({...r,get:(e,n,s)=>Wv(e,n)||r.get(e,n,s),has:(e,n)=>!!Wv(e,n)||r.has(e,n)}));class Lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Px(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Px(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",Zv="0.14.7";const fr=new yp("@firebase/app"),Ux="@firebase/app-compat",jx="@firebase/analytics-compat",zx="@firebase/analytics",Bx="@firebase/app-check-compat",qx="@firebase/app-check",Hx="@firebase/auth",Fx="@firebase/auth-compat",Gx="@firebase/database",Yx="@firebase/data-connect",Kx="@firebase/database-compat",Qx="@firebase/functions",$x="@firebase/functions-compat",Xx="@firebase/installations",Jx="@firebase/installations-compat",Wx="@firebase/messaging",Zx="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",iR="@firebase/remote-config-compat",rR="@firebase/storage",sR="@firebase/storage-compat",aR="@firebase/firestore",oR="@firebase/ai",lR="@firebase/firestore-compat",uR="firebase",cR="12.8.0";const Pm="[DEFAULT]",hR={[Lm]:"fire-core",[Ux]:"fire-core-compat",[zx]:"fire-analytics",[jx]:"fire-analytics-compat",[qx]:"fire-app-check",[Bx]:"fire-app-check-compat",[Hx]:"fire-auth",[Fx]:"fire-auth-compat",[Gx]:"fire-rtdb",[Yx]:"fire-data-connect",[Kx]:"fire-rtdb-compat",[Qx]:"fire-fn",[$x]:"fire-fn-compat",[Xx]:"fire-iid",[Jx]:"fire-iid-compat",[Wx]:"fire-fcm",[Zx]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[iR]:"fire-rc-compat",[rR]:"fire-gcs",[sR]:"fire-gcs-compat",[aR]:"fire-fst",[lR]:"fire-fst-compat",[oR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};const Sh=new Map,fR=new Map,Um=new Map;function e0(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function mo(r){const e=r.name;if(Um.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,r);for(const n of Sh.values())e0(n,r);for(const n of fR.values())e0(n,r);return!0}function vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new mu("app","Firebase",dR);class mR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const Ao=cR;function ZE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw is.create("no-options");const u=Sh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new Ex(o);for(const p of Um.values())f.addComponent(p);const m=new mR(n,s,f);return Sh.set(o,m),m}function eb(r=Pm){const e=Sh.get(r);if(!e&&r===Pm&&KE())return ZE();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=hR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(f.join(" "));return}mo(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pR="firebase-heartbeat-database",gR=1,Jl="firebase-heartbeat-store";let wm=null;function tb(){return wm||(wm=Mx(pR,gR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),wm}async function yR(r){try{const n=(await tb()).transaction(Jl),s=await n.objectStore(Jl).get(nb(r));return await n.done,s}catch(e){if(e instanceof gr)fr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function t0(r,e){try{const s=(await tb()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,nb(r)),await s.done}catch(n){if(n instanceof gr)fr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});fr.warn(s.message)}}}function nb(r){return`${r.name}!${r.options.appId}`}const _R=1024,vR=30;class ER{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vR){const o=SR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:n,unsentEntries:s}=bR(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function bR(r,e=_R){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),i0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),i0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lx()?ux().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i0(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function SR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function wR(r){mo(new ia("platform-logger",e=>new Lx(e),"PRIVATE")),mo(new ia("heartbeat",e=>new ER(e),"PRIVATE")),rs(Lm,Zv,r),rs(Lm,Zv,"esm2020"),rs("fire-js","")}wR("");function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=ib,rb=new mu("auth","Firebase",ib());const wh=new yp("@firebase/auth");function xR(r,...e){wh.logLevel<=je.WARN&&wh.warn(`Auth (${Ao}): ${r}`,...e)}function hh(r,...e){wh.logLevel<=je.ERROR&&wh.error(`Auth (${Ao}): ${r}`,...e)}function ui(r,...e){throw Ep(r,...e)}function Vi(r,...e){return Ep(r,...e)}function sb(r,e,n){const s={...AR(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:r.name})}function cr(r){return sb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rb.create(r,...e)}function we(r,e,...n){if(!r)throw Ep(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function dr(r,e){r||or(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function RR(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function CR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||rx()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=tx()||sx()}get(){return CR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bp(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ab{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OR=new gu(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function gs(r,e,n,s,o={}){return ob(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return ix()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(g.credentials="include"),ab.fetch()(await lb(r,r.config.apiHost,n,m),g)})}async function ob(r,e,n){r._canInitEmulator=!1;const s={...NR,...e};try{const o=new VR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ih(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sb(r,E,g);ui(r,E)}}catch(o){if(o instanceof gr)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function yu(r,e,n,s,o={}){const u=await gs(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function lb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?bp(r.config,o):`${r.config.apiScheme}://${o}`;return DR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function MR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),OR.get())})}}function ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(r,e,s);return o.customData._tokenResponse=n,o}function s0(r){return r!==void 0&&r.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LR(r,e){return gs(r,"GET","/v2/recaptchaConfig",ps(r,e))}async function PR(r,e){return gs(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return gs(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),o=Tp(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Am(o.auth_time)),issuedAtTime:Gl(Am(o.iat)),expirationTime:Gl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function Tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=GE(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(r){const e=Tp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&jR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,Ah(e,{idToken:n}));we(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ub(o.providerUserInfo):[],f=qR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function BR(r){const e=Ut(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ub(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HR(r,e){const n=await ob(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await lb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),ab.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FR(r,e){return gs(r,"POST","/v2/accounts:revokeToken",ps(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return or("not implemented")}}function Xr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UR(this,e)}reload(){return BR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Wl(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:$,stsTokenManager:X}=n;we(T&&X,e,"internal-error");const Y=oo.fromJSON(this.name,X);we(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof k=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const j=new ai({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:g,lastLoginAt:E});return $&&Array.isArray($)&&(j.providerData=$.map(G=>({...G}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ub(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const o0=new Map;function lr(r){dr(r instanceof Function,"Expected a class definition");let e=o0.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o0.set(r,e),e)}class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cb.type="NONE";const l0=cb;function fh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(lr(l0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(l0);const f=fh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const A=await Ah(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ai._fromGetAccountInfoResponse(e,A,E)}else T=ai._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,e,s))}}function u0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function hb(r=an()){return/firefox\//i.test(r)}function fb(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(r=an()){return/crios\//i.test(r)}function mb(r=an()){return/iemobile/i.test(r)}function pb(r=an()){return/android/i.test(r)}function gb(r=an()){return/blackberry/i.test(r)}function yb(r=an()){return/webos/i.test(r)}function Sp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GR(r=an()){return Sp(r)&&!!window.navigator?.standalone}function YR(){return ax()&&document.documentMode===10}function _b(r=an()){return Sp(r)||pb(r)||yb(r)||gb(r)||/windows phone/i.test(r)||mb(r)}function vb(r,e=[]){let n;switch(r){case"Browser":n=u0(an());break;case"Worker":n=`${u0(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QR(r,e={}){return gs(r,"GET","/v2/passwordPolicy",ps(r,e))}const $R=6;class XR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class JR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(cr(this));const n=e?Ut(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),n=new XR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return Ut(r)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mx(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WR(r){Yh=r}function Eb(r){return Yh.loadJS(r)}function ZR(){return Yh.recaptchaEnterpriseScript}function e2(){return Yh.gapiScript}function t2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class n2{constructor(){this.enterprise=new i2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r2="recaptcha-enterprise",bb="NO_RECAPTCHA";class s2{constructor(e){this.type=r2,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{LR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new kR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;s0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(bb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&s0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZR();p.length!==0&&(p+=m),Eb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function h0(r,e,n,s=!1,o=!1){const u=new s2(r);let f;if(o)f=bb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await h0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await h0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function a2(r,e){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function o2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function l2(r,e,n){const s=ca(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Tb(e),{host:f,port:m}=u2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(na(g,s.config.emulator)&&na(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wo(f)?($E(`${u}//${f}${p}`),XE("Auth",!0)):c2()}function Tb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function u2(r){const e=Tb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:f0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:f0(f)}}}function f0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function c2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function h2(r,e){return gs(r,"POST","/v1/accounts:signUp",e)}async function f2(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}async function d2(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function m2(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}class Zl extends wp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",f2);case"emailLink":return d2(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,s,"signUpPassword",h2);case"emailLink":return m2(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}const p2="http://localhost";class ra extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:p2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}function g2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y2(r){const e=Ul(jl(r)).link,n=e?Ul(jl(e)).deep_link_id:null,s=Ul(jl(r)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||e||r}class Ap{constructor(e){const n=Ul(jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=g2(n.mode??null);we(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=y2(e);try{return new Ap(n)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return we(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends _u{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class Wr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class Zr extends _u{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends _u{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function _2(r,e){return yu(r,"POST","/v1/accounts:signUp",ps(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),f=d0(s);return new sa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=d0(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Rh extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function wb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,e,s):u})}async function v2(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function E2(r,e,n=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await Wl(r,wb(s,o,e,r),n);we(u.idToken,s,"internal-error");const f=Tp(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}async function Ab(r,e,n=!1){if(Gn(r.app))return Promise.reject(cr(r));const s="signIn",o=await wb(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function b2(r,e){return Ab(ca(r),e)}async function xb(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T2(r,e,n){if(Gn(r.app))return Promise.reject(cr(r));const s=ca(r),f=await Bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xb(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function S2(r,e,n){return Gn(r.app)?Promise.reject(cr(r)):b2(Ut(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xb(r),s})}function w2(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function A2(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function x2(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}function R2(r){return Ut(r).signOut()}const Ch="__sak";class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const C2=1e3,I2=10;class Cb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);YR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,I2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const N2=Cb;class Ib extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ib.type="SESSION";const Nb=Ib;function D2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await D2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function xp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class O2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=xp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ki(){return window}function M2(r){ki().location.href=r}function Db(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function V2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k2(){return navigator?.serviceWorker?.controller||null}function L2(){return Db()?self:null}const Ob="firebaseLocalStorageDb",P2=1,Ih="firebaseLocalStorage",Mb="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function U2(){const r=indexedDB.deleteDatabase(Ob);return new vu(r).toPromise()}function qm(){const r=indexedDB.open(Ob,P2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:Mb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await U2(),e(await qm()))})})}async function m0(r,e,n){const s=Qh(r,!0).put({[Mb]:e,value:n});return new vu(s).toPromise()}async function j2(r,e){const n=Qh(r,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function p0(r,e){const n=Qh(r,!0).delete(e);return new vu(n).toPromise()}const z2=800,B2=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>B2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(L2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await m0(e,Ch,"1"),await p0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>m0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>j2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const q2=Vb;new gu(3e4,6e4);function H2(r,e){return e?lr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rp extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F2(r){return Ab(r.auth,new Rp(r),r.bypassAuthState)}function G2(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),E2(n,new Rp(r),r.bypassAuthState)}async function Y2(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),v2(n,new Rp(r),r.bypassAuthState)}class kb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:ui(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K2=new gu(2e3,1e4);class ao extends kb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K2.get())};e()}}ao.currentPopupAction=null;const Q2="pendingRedirect",dh=new Map;class $2 extends kb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X2(r,e){const n=Z2(e),s=W2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function J2(r,e){dh.set(r._key(),e)}function W2(r){return lr(r._redirectPersistence)}function Z2(r){return fh(Q2,r.config.apiKey,r.name)}async function eC(r,e,n=!1){if(Gn(r.app))return Promise.reject(cr(r));const s=ca(r),o=H2(s,e),f=await new $2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const tC=600*1e3;class nC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tC&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Lb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function iC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(r);default:return!1}}async function rC(r,e={}){return gs(r,"GET","/v1/projects",e)}const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await rC(r);for(const n of e)try{if(lC(n))return}catch{}ui(r,"unauthorized-domain")}function lC(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!aC.test(n))return!1;if(sC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const uC=new gu(3e4,6e4);function y0(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function cC(r){return new Promise((e,n)=>{function s(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(Vi(r,"network-request-failed"))},timeout:uC.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=t2("iframefcb");return ki()[o]=()=>{gapi.load?s():n(Vi(r,"network-request-failed"))},Eb(`${e2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function hC(r){return mh=mh||cC(r),mh}const fC=new gu(5e3,15e3),dC="__/auth/iframe",mC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bp(e,mC):`https://${r.config.authDomain}/${dC}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=gC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function _C(r){const e=await hC(r),n=ki().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:yC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},fC.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,bC=600,TC="_blank",SC="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(r,e,n,s=EC,o=bC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...vC,width:s.toString(),height:o.toString(),top:u,left:f},g=an().toLowerCase();n&&(m=db(g)?TC:n),hb(g)&&(e=e||SC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,$])=>`${A}${k}=${$},`,"");if(GR(g)&&m!=="_self")return AC(e||"",m),new _0(null);const T=window.open(e||"",m,E);we(T,r,"popup-blocked");try{T.focus()}catch{}return new _0(T)}function AC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xC="__/auth/handler",RC="emulator/auth/handler",CC=encodeURIComponent("fac");async function v0(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof Sb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof _u){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${CC}=${encodeURIComponent(p)}`:"";return`${IC(r)}?${pu(m).slice(1)}${g}`}function IC({config:r}){return r.emulator?bp(r,RC):`https://${r.authDomain}/${xC}`}const xm="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=eC,this._overrideRedirectResult=J2}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await v0(e,n,s,jm(),o);return wC(e,u,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await v0(e,n,s,jm(),o);return M2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _C(e),s=new nC(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{const u=o?.[0]?.[xm];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||Sp()}}const DC=NC;var E0="@firebase/auth",b0="1.12.0";class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){mo(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(r)},g=new JR(s,o,u,p);return o2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new ia("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new OC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(E0,b0,MC(r)),rs(E0,b0,"esm2020")}const kC=300,LC=QE("authIdTokenMaxAge")||kC;let T0=null;const PC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LC)return;const o=n?.token;T0!==o&&(T0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UC(r=eb()){const e=vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=a2(r,{popupRedirectResolver:DC,persistence:[q2,N2,Nb]}),s=QE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=PC(u.toString());A2(n,f,()=>f(n.currentUser)),w2(n,m=>f(m))}}const o=YE("auth");return o&&l2(n,`http://${o}`),n}function jC(){return document.getElementsByTagName("head")?.[0]??document}WR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var zC="firebase",BC="12.8.0";rs(zC,BC,"app");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,Pb;(function(){var r;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,D,L){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return x.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],I;I=x+(L^C&(D^L))+O[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+O[1]+3905402710&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+O[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+O[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+O[5]+1200080426&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+O[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+O[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+O[9]+2336552879&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+O[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+O[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+O[13]+4254626195&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+O[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(D^L&(C^D))+O[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+O[6]+3225465664&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+O[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+O[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+O[10]+38016083&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+O[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+O[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+O[14]+3275163606&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+O[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+O[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+O[2]+4243563512&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+O[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(C^D^L)+O[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+O[8]+2272392833&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+O[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+O[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+O[4]+1272893353&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+O[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+O[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+O[0]+3936430074&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+O[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+O[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+O[12]+3873151461&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+O[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(D^(C|~L))+O[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+O[7]+1126891415&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+O[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+O[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+O[3]+2399980690&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+O[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+O[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+O[15]+4264355552&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+O[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+O[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+O[11]+3174756917&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+O[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<x;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<x;)if(O[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<x;)if(O[D++]=R[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[x++]=this.g[C]>>>O&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function f(R,x){this.h=x;const C=[];let O=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;O&&L==x||(C[D]=L,O=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new f([x|0],x<0?-1:0)}):new f([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return Y(g(-R));const x=[];let C=1;for(let O=0;R>=C;O++)x[O]=R/C|0,C*=4294967296;return new f(x,0)}function E(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return Y(E(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let O=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),x);D<8?(D=g(Math.pow(x,D)),O=O.j(D).add(g(I))):(O=O.j(C),O=O.add(g(I)))}return O}var T=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-Y(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*x,x*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(X(this))return"-"+Y(this).toString(R);const x=g(Math.pow(R,6));var C=this;let O="";for(;;){const D=oe(C,x).g;C=j(C,D.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,$(C))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function X(R){return R.h==-1}r.l=function(R){return R=j(this,R),X(R)?-1:$(R)?0:1};function Y(R){const x=R.g.length,C=[];for(let O=0;O<x;O++)C[O]=~R.g[O];return new f(C,~R.h).add(A)}r.abs=function(){return X(this)?Y(this):this},r.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let D=0;D<=x;D++){let L=O+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function j(R,x){return R.add(Y(x))}r.j=function(R){if($(this)||$(R))return T;if(X(this))return X(R)?Y(this).j(Y(R)):Y(Y(this).j(R));if(X(R))return Y(this.j(Y(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const L=this.i(O)>>>16,I=this.i(O)&65535,le=R.i(D)>>>16,ve=R.i(D)&65535;C[2*O+2*D]+=I*ve,G(C,2*O+2*D),C[2*O+2*D+1]+=L*ve,G(C,2*O+2*D+1),C[2*O+2*D+1]+=I*le,G(C,2*O+2*D+1),C[2*O+2*D+2]+=L*le,G(C,2*O+2*D+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new f(C,0)};function G(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function J(R,x){this.g=R,this.h=x}function oe(R,x){if($(x))throw Error("division by zero");if($(R))return new J(T,T);if(X(R))return x=oe(Y(R),x),new J(Y(x.g),Y(x.h));if(X(x))return x=oe(R,Y(x)),new J(Y(x.g),x.h);if(R.g.length>30){if(X(R)||X(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=x;O.l(R)<=0;)C=ge(C),O=ge(O);var D=ye(C,1),L=ye(O,1);for(O=ye(O,2),C=ye(C,2);!$(O);){var I=L.add(O);I.l(R)<=0&&(D=D.add(C),L=I),O=ye(O,1),C=ye(C,1)}return x=j(R,D.j(x)),new J(D,x)}for(D=T;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(C),I=L.j(x);X(I)||I.l(R)>0;)C-=O,L=g(C),I=L.j(x);$(L)&&(L=A),D=D.add(L),R=j(R,I)}return new J(D,R)}r.B=function(R){return oe(this,R).h},r.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&R.i(O);return new f(C,this.h&R.h)},r.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|R.i(O);return new f(C,this.h|R.h)},r.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^R.i(O);return new f(C,this.h^R.h)};function ge(R){const x=R.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(C,R.h)}function ye(R,x){const C=x>>5;x%=32;const O=R.g.length-C,D=[];for(let L=0;L<O;L++)D[L]=x>0?R.i(L+C)>>>x|R.i(L+C+1)<<32-x:R.i(L+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Pb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ub,zl,jb,ph,Hm,zb,Bb,qb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break e;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,z,F){for(var ae=Array(arguments.length-2),De=2;De<arguments.length;De++)ae[De-2]=arguments[De];return y.prototype[z].apply(w,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function $(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const F=z.length||0;c.length=v+F;for(let ae=0;ae<F;ae++)c[v+ae]=z[ae]}else c.push(z)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){f.setTimeout(()=>{throw c},0)}function j(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,v){const w=J.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new X(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ye=!1,R=new G,x=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(C)}};function C(){for(var c;c=j();){try{c.h.call(c.g)}catch(v){Y(v)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function le(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(le,D),le.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++K,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function He(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let F=0;F<Z.length;F++)v=Z[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,w,z){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ae=xe(c,y,w,z);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new re(y,this.src,F,!!w,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),F;(F=z>=0)&&Array.prototype.splice.call(w,z,1),F&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,w){for(let z=0;z<c.length;++z){const F=c[z];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==w)return z}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),he={};function _e(c,y,v,w,z){if(Array.isArray(y)){for(let F=0;F<y.length;F++)_e(c,y[F],v,w,z);return null}return v=Oo(v),c&&c[ve]?c.J(y,v,m(w)?!!w.capture:!1,z):Gt(c,y,v,!1,w,z)}function Gt(c,y,v,w,z,F){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let De=vs(c);if(De||(c[Re]=De=new ue(c)),v=De.add(y,v,w,ae,F),v.proxy)return v;if(w=jt(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)L||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(zt(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function jt(){function c(v){return y.call(c.src,c.listener,v)}const y=ma;return c}function hn(c,y,v,w,z){if(Array.isArray(y))for(var F=0;F<y.length;F++)hn(c,y[F],v,w,z);else w=m(w)?!!w.capture:!!w,v=Oo(v),c&&c[ve]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=xe(y,v,w,z),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,w,z)),(v=c>-1?y[c]:null)&&Vt(v))}function Vt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])Te(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(zt(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=vs(y))?(Te(v,c),v.h==0&&(v.src=null,y[Re]=null)):de(c)}}}function zt(c){return c in he?he[c]:he[c]="on"+c}function ma(c,y){if(c.da)c=!0;else{y=new le(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&Vt(c),c=v.call(w,y)}return c}function vs(c){return c=c[Re],c instanceof ue?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function bt(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}T(bt,O),bt.prototype[ve]=!0,bt.prototype.removeEventListener=function(c,y,v,w){hn(this,c,y,v,w)};function kt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(w,c),se(y,z)}z=!0;let F,ae;if(v)for(ae=v.length-1;ae>=0;ae--)F=y.g=v[ae],z=yr(F,w,!0,y)&&z;if(F=y.g=c,z=yr(F,w,!0,y)&&z,z=yr(F,w,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)F=y.g=v[ae],z=yr(F,w,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)de(v[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},bt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function yr(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let F=0;F<y.length;++F){const ae=y[F];if(ae&&!ae.da&&ae.capture==v){const De=ae.listener,pt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),z=De.call(pt,w)!==!1&&z}}return z&&!w.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ru(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){O.call(this),this.h=c,this.g={}}T(Es,O);var Mo=[];function Vo(c){Ve(c.g,function(y,v){this.g.hasOwnProperty(v)&&Vt(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Vo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,mf=f.JSON.parse,Cu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Iu(){}function Nu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}T(Yt,D);function On(){D.call(this,"c")}T(On,D);var mt={},Du=null;function pa(){return Du=Du||new bt}mt.Ia="serverreachability";function Ou(c){D.call(this,mt.Ia,c)}T(Ou,D);function fi(c){const y=pa();kt(y,new Ou(y))}mt.STAT_EVENT="statevent";function bs(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}T(bs,D);function Tt(c){const y=pa();kt(y,new bs(y,c))}mt.Ja="timingevent";function di(c,y){D.call(this,mt.Ja,c),this.size=y}T(di,D);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function pf(c,y,v,w,z,F){c.info(function(){if(c.g)if(F){var ae="",De=F.split("&");for(let Ke=0;Ke<De.length;Ke++){var pt=De[Ke].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Ln=lt.split("_");ae=Ln.length>=2&&Ln[1]=="type"?ae+(lt+"="+pt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=F;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Mu(c,y,v,w,z,F,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+F+" "+ae})}function pi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,v)+(w?" "+w:"")})}function Ts(c,y){c.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return _r(F)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function ws(){}T(ws,Iu),ws.prototype.g=function(){return new XMLHttpRequest},Lo=new ws;function qi(c){return encodeURIComponent(String(c))}function Vu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Xn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var St={},Bt={};function gi(c,y,v){c.M=1,c.A=As(At(y)),c.u=v,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),yi(c),c.B=At(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ea(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Jn,c.g=$u(c.j,v?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Mo[0]=z.toString()),z=Mo);for(let F=0;F<z.length;F++){const ae=_e(v,z[F],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ei(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ei(this.g),pt=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||De!=4||pt==7||(pt==8||Ke<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=yf(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var F=w;break t}}F=null}if(c=F)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Tt(12),bn(this),Mn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Lu(this,v),lt==Bt){De==4&&(this.m=4,Tt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ae),ae.P=!0,Tt(11))}}else pi(this.i,this.l,v,null),vi(this,v);De==4&&bn(this),this.o&&!this.K&&(De==4?Gu(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),bn(this),Mn(this)}}}catch{}};function yf(c){if(!ku(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let v="";const w=y.length,z=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Mn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(z&&F==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Bt:(v=Number(y.substring(v,w)),isNaN(v)?St:(w+=1,w+v>y.length?Bt:(y=y.slice(w,w+v),c.C=w+v,y)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function yi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),y)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(fi(),Tt(17)),bn(this),this.m=2,Mn(this)):ya(this,this.T-c)};function Mn(c){c.j.I==0||c.K||Gu(c.j,c)}function bn(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),xr(v);else break e;Os(v),Tt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Aa(v),!I(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Ke=z[y];const lt=Ke[0];if(!(lt<=v.K))if(v.K=lt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Ln=Ke[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ci=Ke[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ti=Ke[5];ti!=null&&typeof ti=="number"&&ti>0&&(w=1.5*ti,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ni=c.g;if(ni){const Ms=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var F=w.h;F.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(jo(F,F.h),F.h=null))}if(w.G){const xa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(w.wa=xa,Xe(w.J,w.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ae=c;if(w.na=Qu(w,w.L?w.ba:null,w.W),ae.L){zo(w.h,ae);var De=ae,pt=w.O;pt&&(De.H=pt),De.D&&(_i(De),yi(De)),w.g=ae}else Hu(w);v.i.length>0&&xi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ri(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ri(v,7):$o(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}fi(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let z,F=null;w>=0?(z=c[v].substring(0,w),F=c[v].substring(w+1)):z=c[v],y(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Tn?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,qo(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(Pu))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),vr(this,y[4]),this.h=Ti(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}Tn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,va,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,va,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?Ho:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,ju)),c.join("")},Tn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?qt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const F=[];for(let ae=0;ae<z.length;){const De=z[ae++];De=="."?w&&ae==z.length&&F.push(""):De==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&ae==z.length&&F.push("")):(F.push(De),w=!0)}w=F.join("/")}else w=z}return v?y.h=w:v=c.i.toString()!=="",v?qo(y,Bu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new Tn(c)}function qt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,v){y instanceof br?(c.i=y,ba(c.i,c.l)):(v||(y=xs(y,Er)),c.i=new br(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function As(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Uu=/[#\?:]/g,Ho=/[#\?]/g,Er=/[#\?@]/g,ju=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=br.prototype,r.add=function(c,y){dn(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zu(c,y){dn(c),y=Tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fo(c,y){return dn(c),y=Tr(c,y),c.g.has(y)}r.forEach=function(c,y){dn(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)};function Go(c,y){dn(c);let v=[];if(typeof y=="string")Fo(c,y)&&(v=v.concat(c.g.get(Tr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return dn(this),this.i=null,c=Tr(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Go(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,v){zu(c,y),v.length>0&&(c.i=null,c.g.set(Tr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const z=qi(v);v=Go(this,v);for(let F=0;F<v.length;F++){let ae=z;v[F]!==""&&(ae+="="+qi(v[F])),c.push(ae)}}return this.i=c.join("&")};function Bu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,w){const z=w.toLowerCase();w!=z&&(zu(this,w),Ea(this,z,v))},c)),c.j=y}function Wn(c,y){const v=new $n;if(f.Image){const w=new Image;w.onload=E(Vn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Vn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(Vn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Yo(c,y){const v=new $n,w=new AbortController,z=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(z),F.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Sr(){this.g=new Cu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,Iu),Si.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,bt),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Zn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return Ve(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Cs(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=kn(v),typeof c=="string"?v!=null&&qi(v):Xe(c,y,v))}function Ze(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,bt);var wi=/^https?$/i,Ko=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Is(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ae]of v)this.g.setRequestHeader(F,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Is(this,F)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Qo(c),Hi(c)}function Qo(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),ei(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=F===0){let ae=String(c.D).match(Pu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),w=!wi.test(ae?ae.toLowerCase():"")}v=w}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=ei(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Qo(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var v=Vu(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[z]||[];y[z]=F,F.push(v)}He(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ar(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){Tt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Qu(this,null,this.W),xi(this)};function $o(c){if(Sa(c),c.I==3){var y=c.V++,v=At(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Ds(c,v),y=new Xn(c,c.j,y),y.M=2,y.A=As(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Ku(c)}function xr(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Sa(c){xr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!Uo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||x(),ye||(ge(),ye=!0),R.add(y,c),c.D=0}}function wa(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(z.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=qu(this,z,y),v=At(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Ds(this,v),F&&(this.R?y="headers="+qi(kn(F))+"&"+y:this.u&&Cs(v,this.u,F)),jo(this.h,z),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),z.U=!0,gi(z,v,null)):gi(z,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const w=At(c.J);Xe(w,"SID",c.M),Xe(w,"RID",v),Xe(w,"AID",c.K),Ds(c,w),c.u&&c.o&&Cs(w,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=qu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),gi(v,w,y)}function Ds(c,y){c.H&&Ve(c.H,function(v,w){Xe(y,w,v)}),c.l&&Ve({},function(v,w){Xe(y,w,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let De=-1;for(;;){const pt=["count="+v];De==-1?v>0?(De=z[0].g,pt.push("ofs="+De)):De=0:pt.push("ofs="+De);let Ke=!0;for(let lt=0;lt<v;lt++){var F=z[lt].g;const Ln=z[lt].map;if(F-=De,F<0)De=Math.max(0,z[lt].g-100),Ke=!1;else try{F="req"+F+"_"||"";try{var ae=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ti]of ae){let ni=ti;m(ti)&&(ni=_r(ti)),pt.push(F+Ci+"="+encodeURIComponent(ni))}}catch(Ci){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(Ln)}}if(Ke){ae=pt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||x(),ye||(ge(),ye=!0),R.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Yu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),xr(this),Fu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=As(At(y)),v.u=null,v.R=!0,ga(v,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),Os(this),Tt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Aa(c),Jo(c),c.g=null;var w=2}else if(bi(c.h,y))v=y.G,zo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=pa(),kt(w,new di(w,v)),xi(c)}else Hu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&wa(c,y)||w==2&&Os(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Yu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const z=!w;w=new Tn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qt(w,"https"),As(w),z?Wn(w.toString(),v):Yo(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Ku(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&($(c.ja,y),$(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Qu(c,y,v){var w=v instanceof Tn?At(v):new Tn(v);if(w.g!="")y&&(w.g=y+"."+w.g),vr(w,w.u);else{var z=f.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const F=new Tn(null);w&&qt(F,w),y&&(F.g=y),z&&vr(F,z),v&&(F.h=v),w=F}return v=c.G,y=c.wa,v&&y&&Xe(w,v,y),Xe(w,"VER",c.ka),Ds(c,w),w}function $u(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new Si({ab:v})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){bt.call(this),this.g=new Ar(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}T(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){$o(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new wt(y.Ya++,c)),y.I==3&&xi(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,ln.Z.N.call(this)};function Ju(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ju,Yt);function Wu(){On.call(this),this.status=1}T(Wu,On);function Gi(c){this.g=c}T(Gi,Xu),Gi.prototype.ra=function(){kt(this.g,"a")},Gi.prototype.qa=function(c){kt(this.g,new Ju(c))},Gi.prototype.pa=function(c){kt(this.g,new Wu)},Gi.prototype.oa=function(){kt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,qb=function(){return new Rr},Bb=function(){return pa()},zb=mt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,ph=Ss,ko.COMPLETE="complete",jb=ko,Nu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,zl=Nu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Ub=Ze}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Ro="12.8.0";function qC(r){Ro=r}const aa=new yp("@firebase/firestore");function no(){return aa.logLevel}function fe(r,...e){if(aa.logLevel<=je.DEBUG){const n=e.map(Cp);aa.debug(`Firestore (${Ro}): ${r}`,...n)}}function mr(r,...e){if(aa.logLevel<=je.ERROR){const n=e.map(Cp);aa.error(`Firestore (${Ro}): ${r}`,...n)}}function po(r,...e){if(aa.logLevel<=je.WARN){const n=e.map(Cp);aa.warn(`Firestore (${Ro}): ${r}`,...n)}}function Cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Hb(r,s,n)}function Hb(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Hb(e,o,s)}function Ne(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Fb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new Fb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class YC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $C(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Rm(o)===Rm(u)?ze(o,u):Rm(o)?1:-1}return ze(r.length,e.length)}const XC=55296,JC=57343;function Rm(r){const e=r.charCodeAt(0);return e>=XC&&e<=JC}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const A0="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class rt extends Mi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Mi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return WC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Zt([A0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}function Gb(r,e,n){if(!n)throw new ce(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZC(r,e,n,s){if(e===!0&&s===!0)throw new ce(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x0(r){if(!be.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R0(r){if(be.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Eu(r,e){if(!Yb(r))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ne.INVALID_ARGUMENT,n);return!0}const C0=-62135596800,I0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*I0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ot(0,0))}static max(){return new Ce(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function eI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new ls(o,be.empty(),e)}function tI(r){return new ls(r.readTime,r.key,eu)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Ce.min(),be.empty(),eu)}static max(){return new ls(Ce.max(),be.empty(),eu)}}function nI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==iI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function sI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Np=-1;function Jh(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function aI(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Kb="";function oI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=N0(e)),e=lI(r.get(n),e);return N0(e)}function lI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Kb:n+="";break;default:n+=u}}return n}function N0(r){return r+Kb+""}function D0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Qb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Pt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $b("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=uI.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const Xb="server_timestamp",Jb="__type__",Wb="__previous_value__",Zb="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[Jb]?.stringValue===Xb}function Wh(r){const e=r.mapValue.fields[Wb];return Dp(e)?Wh(e):e}function tu(r){const e=us(r.mapValue.fields[Zb].timestampValue);return new ot(e.seconds,e.nanos)}class cI{constructor(e,n,s,o,u,f,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Dh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}function hI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(r.options.projectId,e)}const eT="__type__",fI="__max__",ah={mapValue:{}},tT="__vector__",Oh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:mI(r)?9007199254740991:dI(r)?10:11:Ae(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(D0(f)!==D0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function iu(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return M0(r.timestampValue,e.timestampValue);case 4:return M0(tu(r),tu(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=cs(u),p=cs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(_t(u.latitude),_t(f.latitude));return m!==0?m:ze(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return V0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,E=p[Oh]?.arrayValue,T=ze(g?.values?.length||0,E?.values?.length||0);return T!==0?T:V0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ah.mapValue&&f===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(f===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Fm(p[T],E[T]);if(A!==0)return A;const k=yo(m[p[T]],g[E[T]]);if(k!==0)return k}return ze(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function M0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=us(r),s=us(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function V0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function _o(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"})(r.mapValue):Ae(61005,{value:r})}function gh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+gh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+gh(f)})),o})(r.mapValue);default:throw Ae(13486,{value:r})}}function k0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function L0(r){return!!r&&"nullValue"in r}function P0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function dI(r){return(r?.mapValue?.fields||{})[eT]?.stringValue===tT}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function mI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fI}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(Yl(this.value))}}function nT(r){const e=[];return ys(r.fields,((n,s)=>{const o=new Zt([n]);if(yh(s)){const u=nT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class sn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ce.min(),Ce.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ce.min(),Ce.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function U0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function j0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class iT{}class Dt extends iT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yI(e,n,s):n==="array-contains"?new EI(e,s):n==="in"?new bI(e,s):n==="not-in"?new TI(e,s):n==="array-contains-any"?new SI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _I(e,s):new vI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends iT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return rT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function sT(r){return gI(r)&&rT(r)}function gI(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function Km(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(sT(r))return r.filters.map((e=>Km(e))).join(",");{const e=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${e})`}}function aT(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&aT(f,o.filters[m])),!0):!1})(r,e):void Ae(19439)}function oT(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"})(r):"Filter"}class yI extends Dt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class _I extends Dt{constructor(e,n){super(e,"in",n),this.keys=lT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=lT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lT(r,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class EI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&iu(n.arrayValue,this.value)}}class bI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class TI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class SI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}class wI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function z0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new wI(r,e,n,s,o,u,f)}function Mp(r){const e=Ne(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j0(r.startAt,e.startAt)&&j0(r.endAt,e.endAt)}function Qm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class bu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AI(r,e,n,s,o,u,f,m){return new bu(r,e,n,s,o,u,f,m)}function kp(r){return new bu(r)}function B0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xI(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function uT(r){return r.collectionGroup!==null}function Kl(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Zt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Vh(Zt.keyField(),s))}return e.Ie}function Pi(r){const e=Ne(r);return e.Ee||(e.Ee=RI(e,Kl(r))),e.Ee}function RI(r,e){if(r.limitType==="F")return z0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return z0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function $m(r,e){const n=r.filters.concat([e]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xm(r,e,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Zh(r,e){return Vp(Pi(r),Pi(e))&&r.limitType===e.limitType}function cT(r){return`${Mp(Pi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>oT(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function ef(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=U0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const g=U0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(r,e)}function CI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hT(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=II(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function II(r,e,n){const s=r.field.isKeyField()?be.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ae(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}const NI=new ht(be.comparator);function pr(){return NI}const fT=new ht(be.comparator);function Bl(...r){let e=fT;for(const n of r)e=e.insert(n.key,n);return e}function dT(r){let e=fT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Ql()}function mT(){return Ql()}function Ql(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DI=new ht(be.comparator),OI=new Pt(be.comparator);function Be(...r){let e=OI;for(const n of r)e=e.add(n);return e}const MI=new Pt(ze);function VI(){return MI}function Lp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function pT(r){return{integerValue:""+r}}function kI(r,e){return aI(e)?pT(e):Lp(r,e)}class tf{constructor(){this._=void 0}}function LI(r,e,n){return r instanceof ru?(function(o,u){const f={fields:{[Jb]:{stringValue:Xb},[Zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Wh(u)),u&&(f.fields[Wb]=u),{mapValue:f}})(n,e):r instanceof su?yT(r,e):r instanceof au?_T(r,e):(function(o,u){const f=gT(o,u),m=q0(f)+q0(o.Ae);return Ym(f)&&Ym(o.Ae)?pT(m):Lp(o.serializer,m)})(r,e)}function PI(r,e,n){return r instanceof su?yT(r,e):r instanceof au?_T(r,e):n}function gT(r,e){return r instanceof kh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ru extends tf{}class su extends tf{constructor(e){super(),this.elements=e}}function yT(r,e){const n=vT(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends tf{constructor(e){super(),this.elements=e}}function _T(r,e){let n=vT(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class kh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(r){return _t(r.integerValue||r.doubleValue)}function vT(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class UI{constructor(e,n){this.field=e,this.transform=n}}function jI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?go(s.elements,o.elements,Bi):s instanceof kh&&o instanceof kh?Bi(s.Ae,o.Ae):s instanceof ru&&o instanceof ru})(r.transform,e.transform)}class zI{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nf{}function ET(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pp(r.key,oi.none()):new Tu(r.key,r.data,oi.none());{const n=r.data,s=En.empty();let o=new Pt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Nn(o.toArray()),oi.none())}}function BI(r,e,n){r instanceof Tu?(function(o,u,f){const m=o.value.clone(),p=F0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(o,u,f){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=F0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(bT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,s){return r instanceof Tu?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const g=u.value.clone(),E=G0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const g=G0(u.fieldTransforms,p,f),E=f.data;return E.setAll(bT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return _h(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function qI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=gT(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function H0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>jI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function F0(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,PI(f,m,n[o]))}return s}function G0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,LI(u,f,e))}return s}class Pp extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HI extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ET(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>H0(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>H0(n,s)))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Up(e,n,s,o)}}class GI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Fe;function KI(r){switch(r){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function TT(r){if(r===void 0)return mr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:r})}}(Fe=Nt||(Nt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function QI(){return new TextEncoder}const $I=new ss([4294967295,4294967295],0);function Y0(r){const e=QI().encode(r),n=new Pb;return n.update(e),new Uint8Array(n.digest())}function K0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare($I)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y0(e),[s,o]=K0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Y0(e),[s,o]=K0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(Ce.min(),o,new ht(ze),pr(),Be())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Be(),Be(),Be())}}class vh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ST{constructor(e,n){this.targetId=e,this.Ce=n}}class wT{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=$0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=$0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XI{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.He=oh(),this.Je=oh(),this.Ze=new ht(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new be(u.path);this.et(n,f,sn.newNoDocument(f,Ce.min()))}else $e(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cs(s).toUint8Array()}catch(p){if(p instanceof $b)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(f,o,u)}catch(p){return po(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Qm(m.target)){const p=new be(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,sn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Be();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new rf(e,n,this.Ze,this.je,s);return this.je=pr(),this.He=oh(),this.Je=oh(),this.Ze=new ht(ze),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Q0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ht(be.comparator)}function $0(){return new ht(be.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZI={and:"AND",or:"OR"};class eN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tN(r,e){return Lh(r,e.toTimestamp())}function Ui(r){return $e(!!r,49232),Ce.fromTimestamp((function(n){const s=us(n);return new ot(s.seconds,s.nanos)})(r))}function zp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function xT(r){const e=rt.fromString(r);return $e(DT(e),10190,{key:e.toString()}),e}function Zm(r,e){return zp(r.databaseId,e.path)}function Cm(r,e){const n=xT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(CT(n))}function RT(r,e){return zp(r.databaseId,e)}function nN(r){const e=xT(r);return e.length===4?rt.emptyPath():CT(e)}function ep(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CT(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function X0(r,e,n){return{name:Zm(r,e),fields:n.value.mapValue.fields}}function iN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ne.UNKNOWN:TT(g.code);return new ce(E,g.message||"")})(f);n=new wT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Ce.min(),m=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new vh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?Ui(s.readTime):Ce.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new vh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new YI(o,u),m=s.targetId;n=new ST(m,f)}}return n}function rN(r,e){let n;if(e instanceof Tu)n={update:X0(r,e.key,e.value)};else if(e instanceof Pp)n={delete:Zm(r,e.key)};else if(e instanceof _s)n={update:X0(r,e.key,e.data),updateMask:dN(e.fieldMask)};else{if(!(e instanceof HI))return Ae(16599,{dt:e.type});n={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(r,e.precondition)),n}function sN(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Ce.min())&&(f=Ui(u)),new zI(f,o.transformResults||[])})(n,e)))):[]}function aN(r,e){return{documents:[RT(r,e.path)]}}function oN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(r,o);const u=(function(g){if(g.length!==0)return NT(ci.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:ro(A.field),direction:cN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function lN(r){let e=nN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=IT(T);return A instanceof ci&&sT(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function($){return new Vh(so($.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Jh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,k=T.values||[];return new Mh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,k=T.values||[];return new Mh(k,A)})(n.endAt)),AI(e,o,f,u,m,"F",p,g)}function uN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>IT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(r):Ae(30097,{filter:r})}function cN(r){return JI[r]}function hN(r){return WI[r]}function fN(r){return ZI[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Zt.fromServerFormat(r.fieldPath)}function NT(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(L0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(L0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:hN(n.op),value:n.value}}})(r):r instanceof ci?(function(n){const s=n.getFilters().map((o=>NT(o)));return s.length===1?s[0]:{compositeFilter:{op:fN(n.op),filters:s}}})(r):Ae(54877,{filter:r})}function dN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function OT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ts{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mN{constructor(e){this.yt=e}}function pN(r){const e=lN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xm(e,e.limit,"L"):e}class gN{constructor(){this.Sn=new yN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ls.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class yN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(MT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const W0="LruGarbageCollector",_N=1048576;function Z0([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class vN{constructor(e){this.Pr=e,this.buffer=new Pt(Z0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?fe(W0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class bN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Xh.ce);const s=new vN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(J0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),no()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function TN(r,e){return new bN(r,e)}class SN{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$l(s.mutation,o,Nn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=pr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),ot.now())):f.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new wN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ht(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=mT();E.forEach((A=>{if(!u.has(A)){const k=ET(n.get(A),s.get(A));k!==null&&T.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return xI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Js());let m=eu,p=u;return f.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Be()))).next((E=>({batchId:m,changes:dT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,A){return new bu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,Nn.empty(),ot.now()),ef(n,g)&&(m=m.insert(p,g))})),m}))}}class xN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),ie.resolve()}}class RN{constructor(){this.overlays=new ht(be.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new be(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Be(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class CN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Bp{constructor(){this.kr=new Pt(Ft.Kr),this.qr=new Pt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new rt([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new rt([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=Be();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ft(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class IN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Ft.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(ze);return n.forEach((o=>{const u=new Ft(o,0),f=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const f=new Ft(new be(u),0);let m=new Pt(ze);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NN{constructor(e){this.ti=e,this.docs=(function(){return new ht(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const f=n.path,m=new be(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||nI(tI(E),s)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DN(this)}getSize(e){return ie.resolve(this.size)}}class DN extends SN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class ON{constructor(e){this.persistence=e,this.ri=new ha((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Bp,this.targetCount=0,this.oi=vo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class VT{constructor(e,n){this._i={},this.overlays={},this.ai=new Xh(0),this.ui=!1,this.ui=!0,this.ci=new CN,this.referenceDelegate=e(this),this.li=new ON(this),this.indexManager=new gN,this.remoteDocumentCache=(function(o){return new NN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new mN(n),this.Pi=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new IN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new MN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class MN extends rI{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Ai=null}static Vi(e){return new qp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=be.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.fi=new ha((s=>oI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TN(this,n)}static Vi(e,n){return new Ph(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ce.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,s,o)}}class VN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ox()?8:sI(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new VN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(no()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(no()<=je.DEBUG&&fe("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(no()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ie.resolve())}gs(e,n){if(B0(n))return ie.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,f,p.readTime)?this.gs(e,Xm(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return B0(n)||o.isEqual(Ce.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ie.resolve(null):(no()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Ds(e,f,n,eI(o,eu)).next((m=>m)))}))}bs(e,n){let s=new Pt(hT(e));return n.forEach(((o,u)=>{ef(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return no()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,ls.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Fp="LocalStore",LN=3e8;class PN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(ze),this.Fs=new ha((u=>Mp(u)),Vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function UN(r,e,n,s){return new PN(r,e,n,s)}async function kT(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Be();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function jN(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let k=ie.resolve();return A.forEach(($=>{k=k.next((()=>E.getEntry(p,$))).next((X=>{const Y=g.docVersions.get($);$e(Y!==null,48541),X.version.compareTo(Y)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function LT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zN(r,e){const n=Ne(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(X,Y,j){return X.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=LN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,k,E)&&m.push(n.li.updateTargetData(u,k))}));let p=pr(),g=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(BN(u,f,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Ce.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function BN(r,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=pr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function qN(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HN(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function tp(r,e,n){const s=Ne(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;fe(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function eE(r,e,n){const s=Ne(r);let o=Ce.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Ne(p),A=T.Fs.get(E);return A!==void 0?ie.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:Be()))).next((m=>(FN(s,CI(e),m),{documents:m,ks:u})))))}function FN(r,e,n){let s=r.Ms.get(e)||Ce.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class tE{constructor(){this.activeTargetIds=VI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GN{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YN{Mo(e){}shutdown(){}}const nE="ConnectivityMonitor";class iE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function np(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Im="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=np(),m=this.Qo(e,n.toUriEncodedString());fe(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=wo(g);return this.zo(e,m,p,s,E).then((T=>(fe(Im,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw po(Im,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=KN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $N{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Pl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends QN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=Bb();Pl(e,zb.STAT_EVENT,(n=>{n.stat===Hm.PROXY?fe(nn,"STAT_EVENT: detected buffering proxy"):n.stat===Hm.NOPROXY&&fe(nn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,s,o,u){const f=np();return new Promise(((m,p)=>{const g=new Ub;g.setWithCredentials(!0),g.listenOnce(jb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const T=g.getResponseJson();fe(nn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case ph.TIMEOUT:fe(nn,`RPC '${e}' ${f} timed out`),p(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const A=g.getStatus();if(fe(nn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const $=k?.error;if($&&$.status&&$.message){const X=(function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN})($.status);p(new ce(X,$.message))}else p(new ce(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(nn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);fe(nn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=np(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const k=new $N({Ho:$=>{A?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(T||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,$),E.send($))},Jo:()=>E.close()});return Pl(E,zl.EventType.OPEN,(()=>{A||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Pl(E,zl.EventType.CLOSE,(()=>{A||(A=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Pl(E,zl.EventType.ERROR,($=>{A||(A=!0,po(nn,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),k.o_(new ce(ne.UNAVAILABLE,"The operation could not be completed")))})),Pl(E,zl.EventType.MESSAGE,($=>{if(!A){const X=$.data[0];$e(!!X,16349);const Y=X,j=Y?.error||Y[0]?.error;if(j){fe(nn,`RPC '${e}' stream ${o} received error:`,j);const G=j.status;let J=(function(ye){const R=Nt[ye];if(R!==void 0)return TT(R)})(G),oe=j.message;J===void 0&&(J=ne.INTERNAL,oe="Unknown error status: "+G+" with message "+j.message),A=!0,k.o_(new ce(J,oe)),E.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,X),k.__(X)}})),co.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qb()}}function XN(r){return new co(r)}function Nm(){return typeof document<"u"?document:null}function sf(r){return new eN(r,!0)}co.c_=!1;class PT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rE="PersistentStream";class UT{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JN extends UT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?Ui(f.readTime):Ce.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Qm(p)?{documents:aN(u,p)}:{query:oN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AT(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=uN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.K_(n)}}class WN extends UT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ep(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rN(this.serializer,s)))};this.K_(n)}}class ZN{}class eD extends ZN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ne.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Wm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tD(r,e,n,s){return new eD(r,e,n,s)}class nD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class iD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{fa(this)&&(fe(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await wu(g),g.Va.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Va=new nD(s,o)}}async function af(r){if(fa(r))for(const e of r.Ra)await e(!0)}async function wu(r){for(const e of r.Ra)await e(!1)}function jT(r,e){const n=Ne(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Kp(n):No(n).O_()&&Yp(n,e))}function Gp(r,e){const n=Ne(r),s=No(n);n.Ia.delete(e),s.O_()&&zT(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Va.set("Unknown"))}function Yp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Z_(e)}function zT(r,e){r.da.$e(e),No(r).X_(e)}function Kp(r){r.da=new XI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Va.ua()}function Qp(r){return fa(r)&&!No(r).x_()&&r.Ia.size>0}function fa(r){return Ne(r).Ea.size===0}function BT(r){r.da=void 0}async function rD(r){r.Va.set("Online")}async function sD(r){r.Ia.forEach(((e,n)=>{Yp(r,e)}))}async function aD(r,e){BT(r),Qp(r)?(r.Va.ha(e),Kp(r)):r.Va.set("Unknown")}async function oD(r,e,n){if(r.Va.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){fe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(r,s)}else if(e instanceof vh?r.da.Xe(e):e instanceof ST?r.da.st(e):r.da.tt(e),!n.isEqual(Ce.min()))try{const s=await LT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),zT(u,p);const T=new ts(E.target,p,g,E.sequenceNumber);Yp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){fe(oa,"Failed to raise snapshot:",s),await Uh(r,s)}}async function Uh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await wu(r),r.Va.set("Offline"),n||(n=()=>LT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await af(r)}))}function qT(r,e){return e().catch((n=>Uh(r,n,e)))}async function of(r){const e=Ne(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;lD(e);)try{const o=await qN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,uD(e,o)}catch(o){await Uh(e,o)}HT(e)&&FT(e)}function lD(r){return fa(r)&&r.Ta.length<10}function uD(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function HT(r){return fa(r)&&!fs(r).x_()&&r.Ta.length>0}function FT(r){fs(r).start()}async function cD(r){fs(r).ra()}async function hD(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function fD(r,e,n){const s=r.Ta.shift(),o=Up.from(s,e,n);await qT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await of(r)}async function dD(r,e){e&&fs(r).Y_&&await(async function(s,o){if((function(f){return KI(f)&&f!==ne.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await qT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(r,e),HT(r)&&FT(r)}async function sE(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),fe(oa,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await wu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function mD(r,e){const n=Ne(r);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await wu(n),n.Va.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Ne(n);return u.sa(),new JN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:rD.bind(null,r),Yo:sD.bind(null,r),t_:aD.bind(null,r),J_:oD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Qp(r)?Kp(r):r.Va.set("Unknown")):(await r.ma.stop(),BT(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ne(n);return u.sa(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cD.bind(null,r),t_:dD.bind(null,r),ta:hD.bind(null,r),na:fD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new $p(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(r,e){if(mr("AsyncQueue",`${e}: ${r}`),Io(r))return new ce(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class aE{constructor(){this.ga=new ht(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class pD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gD{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=oE(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function oE(){return new ha((r=>cT(r)),Zh)}async function GT(r,e){const n=Ne(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new pD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function YT(r,e){const n=Ne(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yD(r,e){const n=Ne(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Jp(n)}function _D(r,e,n){const s=Ne(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Jp(r){r.Ca.forEach((e=>{e.next()}))}var ip,lE;(lE=ip||(ip={})).Ma="default",lE.Cache="cache";class KT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class QT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class vD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=hT(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new aE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),k=ef(this.query,T)?T:null,$=!!A&&this.mutatedKeys.has(A.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Y=!1;A&&k?A.data.isEqual(k.data)?$!==X&&(s.track({type:3,doc:k}),Y=!0):this.su(A,k)||(s.track({type:2,doc:k}),Y=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),Y=!0):A&&!k&&(s.track({type:1,doc:A}),Y=!0,(p||g)&&(m=!0)),Y&&(k?(f=f.add(k),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,$){const X=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:Y})}};return X(k)-X($)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new $T(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new QT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wp="SyncEngine";class ED{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bD{constructor(e){this.key=e,this.hu=!1}}class TD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ha((m=>cT(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(be.comparator),this.Au=new Map,this.Vu=new Bp,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SD(r,e,n=!0){const s=tS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await XT(s,e,n,!0),o}async function wD(r,e){const n=tS(r);await XT(n,e,!0,!1)}async function XT(r,e,n,s){const o=await HN(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await AD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&jT(r.remoteStore,o),m}async function AD(r,e,n,s,o){r.pu=(T,A,k)=>(async function(X,Y,j,G){let J=Y.view.ru(j);J.Ss&&(J=await eE(X.localStore,Y.query,!1).then((({documents:R})=>Y.view.ru(R,J))));const oe=G&&G.targetChanges.get(Y.targetId),ge=G&&G.targetMismatches.get(Y.targetId)!=null,ye=Y.view.applyChanges(J,X.isPrimaryClient,oe,ge);return cE(X,Y.targetId,ye.au),ye.snapshot})(r,T,A,k);const u=await eE(r.localStore,e,!0),f=new vD(e,u.ks),m=f.ru(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);cE(r,n,g.au);const E=new ED(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function xD(r,e,n){const s=Ne(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Zh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),rp(s,o.targetId)})).catch(Co)):(rp(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function RD(r,e){const n=Ne(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function CD(r,e,n){const s=kD(r);try{const o=await(function(f,m){const p=Ne(f),g=ot.now(),E=m.reduce(((k,$)=>k.add($.key)),Be());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let $=pr(),X=Be();return p.xs.getEntries(k,E).next((Y=>{$=Y,$.forEach(((j,G)=>{G.isValidDocument()||(X=X.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,$))).next((Y=>{T=Y;const j=[];for(const G of m){const J=qI(G,T.get(G.key).overlayedDocument);J!=null&&j.push(new _s(G.key,J,nT(J.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,j,m)})).next((Y=>{A=Y;const j=Y.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(k,Y.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:dT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.du[f.currentUser.toKey()];g||(g=new ht(ze)),g=g.insert(m,p),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await Au(s,o.changes),await of(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function JT(r,e){const n=Ne(r);try{const s=await zN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$e(f.hu,14607):o.removedDocuments.size>0&&($e(f.hu,42227),f.hu=!1))})),await Au(n,s,e)}catch(s){await Co(s)}}function uE(r,e,n){const s=Ne(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&Jp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ID(r,e,n){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(be.comparator);f=f.insert(u,sn.newNoDocument(u,Ce.min()));const m=Be().add(u),p=new rf(Ce.min(),new Map,new ht(ze),f,m);await JT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Zp(s)}else await tp(s.localStore,e,!1).then((()=>rp(s,e,n))).catch(Co)}async function ND(r,e){const n=Ne(r),s=e.batch.batchId;try{const o=await jN(n.localStore,e);ZT(n,s,null),WT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Co(o)}}async function DD(r,e,n){const s=Ne(r);try{const o=await(function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>($e(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);ZT(s,e,n),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await Co(o)}}function WT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ZT(r,e,n){const s=Ne(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function rp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||eS(r,s)}))}function eS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Gp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Zp(r))}function cE(r,e,n){for(const s of n)s instanceof QT?(r.Vu.addReference(s.key,e),OD(r,s)):s instanceof $T?(fe(Wp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||eS(r,s.key)):Ae(19791,{wu:s})}function OD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(fe(Wp,"New document in limbo: "+n),r.Eu.add(s),Zp(r))}function Zp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new bD(n)),r.Ru=r.Ru.insert(n,s),jT(r.remoteStore,new ts(Pi(kp(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Au(r,e,n){const s=Ne(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Hp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(A=>ie.forEach(A.Ts,(k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k))).next((()=>ie.forEach(A.Is,(k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))))))}catch(T){if(!Io(T))throw T;fe(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const k=E.vs.get(A),$=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion($);E.vs=E.vs.insert(A,X)}}})(s.localStore,u))}async function MD(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){fe(Wp,"User change. New user:",e.toKey());const s=await kT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ns)}}function VD(r,e){const n=Ne(r),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function tS(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ID.bind(null,e),e.Pu.J_=yD.bind(null,e.eventManager),e.Pu.yu=_D.bind(null,e.eventManager),e}function kD(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UN(this.persistence,new kN,e.initialUser,this.serializer)}Cu(e){return new VT(qp.Vi,this.serializer)}Du(e){return new GN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class LD extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new VT((s=>Ph.Vi(s,n)),this.serializer)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gD})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=XN(e.databaseInfo);return tD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new iD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>uE(this.syncEngine,n,0)),(function(){return iE.v()?new iE:new YN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new TD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);fe(oa,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ds="FirestoreClient";class PD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UD(r);fe(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>sE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>sE(e.remoteStore,o))),r._onlineComponents=e}async function UD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ds,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new jh)}}else fe(ds,"Using default OfflineComponentProvider"),await Dm(r,new LD(void 0));return r._offlineComponents}async function iS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ds,"Using user provided OnlineComponentProvider"),await hE(r,r._uninitializedComponentsProvider._online)):(fe(ds,"Using default OnlineComponentProvider"),await hE(r,new sp))),r._onlineComponents}function jD(r){return iS(r).then((e=>e.syncEngine))}async function ap(r){const e=await iS(r),n=e.eventManager;return n.onListen=SD.bind(null,e.syncEngine),n.onUnlisten=xD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RD.bind(null,e.syncEngine),n}function zD(r,e,n,s){const o=new nS(s),u=new KT(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>GT(await ap(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>YT(await ap(r),u)))}}function BD(r,e,n={}){const s=new as;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new nS({next:A=>{E.Nu(),f.enqueueAndForget((()=>YT(u,T))),A.fromCache&&p.source==="server"?g.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new KT(m,E,{includeMetadataChanges:!0,Ka:!0});return GT(u,T)})(await ap(r),r.asyncQueue,e,n,s))),s.promise}function qD(r,e){const n=new as;return r.asyncQueue.enqueueAndForget((async()=>CD(await jD(r),e,n))),n.promise}function rS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const HD="ComponentProvider",fE=new Map;function FD(r,e,n,s,o){return new cI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const sS="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_N)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=fE.get(n);s&&(fe(HD,"Removing Datastore"),fE.delete(n),s.terminate())})(this),Promise.resolve()}}function GD(r,e,n,s={}){r=Li(r,lf);const o=wo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&($E(`https://${m}`),XE("Firestore",!0)),u.host!==sS&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=WA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}r._authCredentials=new FC(new Fb(g,E))}}class da{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Eu(n,Mt._jsonSchema))return new Mt(e,s||null,new be(rt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class os extends da{constructor(e,n,s){super(e,n,kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new be(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function cn(r,e,...n){if(r=Ut(r),Gb("collection","path",e),r instanceof lf){const s=rt.fromString(e,...n);return R0(s),new os(r,null,s)}{if(!(r instanceof Mt||r instanceof os))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return R0(s),new os(r.firestore,null,s)}}function Ws(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=Ip.newId()),Gb("doc","path",e),r instanceof lf){const s=rt.fromString(e,...n);return x0(s),new Mt(r,null,new be(s))}{if(!(r instanceof Mt||r instanceof os))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return x0(s),new Mt(r.firestore,r instanceof os?r.converter:null,new be(s))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&fe(pE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;fe(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",yE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class la extends lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function YD(r,e){const n=typeof r=="object"?r:eb(),s=typeof r=="string"?r:Dh,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XA("firestore");u&&GD(o,...u)}return o}function eg(r){if(r._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KD(r),r._firestoreClient}function KD(r){const e=r._freezeSettings(),n=FD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new PD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(en.fromBase64String(e))}catch(n){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ot("string",Yn._jsonSchemaVersion),bytes:Ot("string")};class tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ot("string",ji._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ot("string",li._jsonSchemaVersion),vectorValues:Ot("object")};const QD=/^__.*__$/;class $D{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class aS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:r})}}class ng{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oS(this.dataSource)&&QD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}createContext(e,n,s,o=!1){return new ng({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(r){const e=r._freezeSettings(),n=sf(r._databaseId);return new XD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function JD(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,s);const m=lS(s,f);let p,g;if(u.merge)p=new Nn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=bo(e,T,n);if(!f.contains(A))throw new ce(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);hS(E,A)||E.push(A)}p=new Nn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new $D(new En(m),p,g)}class cf extends uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}class rg extends uf{_toFieldTransform(e){return new UI(e.path,new ru)}isEqual(e){return e instanceof rg}}function WD(r,e,n,s){const o=r.createContext(1,e,n);sg("Data must be an object, but it was:",o,s);const u=[],f=En.empty();ys(s,((p,g)=>{const E=cS(e,p,n);g=Ut(g);const T=o.childContextForFieldPath(E);if(g instanceof cf)u.push(E);else{const A=xu(g,T);A!=null&&(u.push(E),f.set(E,A))}}));const m=new Nn(u);return new aS(f,m,o.fieldTransforms)}function ZD(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[bo(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(bo(e,u[A])),p.push(u[A+1]);const g=[],E=En.empty();for(let A=m.length-1;A>=0;--A)if(!hS(g,m[A])){const k=m[A];let $=p[A];$=Ut($);const X=f.childContextForFieldPath(k);if($ instanceof cf)g.push(k);else{const Y=xu($,X);Y!=null&&(g.push(k),E.set(k,Y))}}const T=new Nn(g);return new aS(E,T,f.fieldTransforms)}function e4(r,e,n,s=!1){return xu(n,r.createContext(s?4:3,e))}function xu(r,e){if(uS(r=Ut(r)))return sg("Unsupported field value:",e,r),lS(r,e);if(r instanceof uf)return(function(s,o){if(!oS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=xu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:AT(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(f,m){const p=f instanceof li?f.toArray():f;return{mapValue:{fields:{[eT]:{stringValue:tT},[Oh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Lp(m.serializer,E)}))}}}}}})(s,o);if(OT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$h(s)}`)})(r,e)}function lS(r,e){const n={};return Qb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const u=xu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function uS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof ji||r instanceof Yn||r instanceof Mt||r instanceof uf||r instanceof li||OT(r))}function sg(r,e,n){if(!uS(n)||!Yb(n)){const s=$h(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function bo(r,e,n){if((e=Ut(e))instanceof tg)return e._internalPath;if(typeof e=="string")return cS(r,e);throw zh("Field path arguments must be of type string or ",r,!1,void 0,n)}const t4=new RegExp("[~\\*/\\[\\]]");function cS(r,e,n){if(e.search(t4)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tg(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(ne.INVALID_ARGUMENT,m+r+p)}function hS(r,e){return r.some((n=>n.isEqual(e)))}class n4{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new li(n)}convertGeoPoint(e){return new ji(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=us(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);$e(DT(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ag extends n4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function fS(){return new rg("serverTimestamp")}const _E="@firebase/firestore",vE="4.10.0";function EE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class dS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(bo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i4 extends dS{data(){return super.data()}}function mS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class r4 extends og{}function ou(r,e,...n){let s=[];e instanceof og&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof lg)).length,m=u.filter((p=>p instanceof hf)).length;if(f>1||f>0&&m>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hf extends r4{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hf(e,n,s)}_apply(e){const n=this._parse(e);return pS(e._query,n),new da(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=ig(e.firestore);return(function(u,f,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TE(T,E);const $=[];for(const X of T)$.push(bE(p,u,X));A={arrayValue:{values:$}}}else A=bE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TE(T,E),A=e4(m,f,T,E==="in"||E==="not-in");return Dt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lu(r,e,n){const s=e,o=bo("where",r);return hf._create(o,s,n)}class lg extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)pS(f,p),f=$m(f,p)})(e._query,n),new da(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bE(r,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uT(e)&&n.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!be.isDocumentKey(s))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return k0(r,new be(s))}if(n instanceof Mt)return k0(r,n._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function TE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function s4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends dS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Ot("string",Zs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Eh extends Zs{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Eh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:a4(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function uu(r){r=Li(r,da);const e=Li(r.firestore,la),n=eg(e),s=new ag(e);return mS(r._query),BD(n,r._query).then((o=>new ea(e,s,r,o)))}function Bh(r,e,n,...s){r=Li(r,Mt);const o=Li(r.firestore,la),u=ig(o);let f;return f=typeof(e=Ut(e))=="string"||e instanceof tg?ZD(u,"updateDoc",r._key,e,n,s):WD(u,"updateDoc",r._key,e),ug(o,[f.toMutation(r._key,oi.exists(!0))])}function SE(r){return ug(Li(r.firestore,la),[new Pp(r._key,oi.none())])}function ff(r,e){const n=Li(r.firestore,la),s=Ws(r),o=s4(r.converter,e),u=ig(r.firestore);return ug(n,[JD(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function fo(r,...e){r=Ut(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||EE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(EE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof Mt)f=Li(r.firestore,la),m=kp(r._key.path),u={next:g=>{e[s]&&e[s](o4(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Li(r,da);f=Li(g.firestore,la),m=g._query;const E=new ag(f);u={next:T=>{e[s]&&e[s](new ea(f,E,g,T))},error:e[s+1],complete:e[s+2]},mS(r._query)}const p=eg(f);return zD(p,m,o,u)}function ug(r,e){const n=eg(r);return qD(n,e)}function o4(r,e,n){const s=n.docs.get(e._key),o=new ag(r);return new Zs(r,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qC(Ao),mo(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new la(new GC(s.getProvider("auth-internal")),new QC(f,s.getProvider("app-check-internal")),hI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(_E,vE,e),rs(_E,vE,"esm2020")})();const l4={apiKey:"AIzaSyC1qZ9fK-6LFBxVWZsAD4dZq-KVg36A7f8",authDomain:"scheduler-65e51.firebaseapp.com",projectId:"scheduler-65e51",storageBucket:"scheduler-65e51.firebasestorage.app",messagingSenderId:"93993791456",appId:"1:93993791456:web:3a777a2da0dad4b8b74585"},gS=ZE(l4),vt=YD(gS),cu=UC(gS);const yS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const u4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const c4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const wE=r=>{const e=c4(r);return e.charAt(0).toUpperCase()+e.slice(1)};var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const d4=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...h4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:yS("lucide",o),...!u&&!f4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Et=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(d4,{ref:u,iconNode:e,className:yS(`lucide-${u4(wE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=wE(r),n};const m4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cg=Et("arrow-left",m4);const p4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_S=Et("calendar",p4);const g4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],y4=Et("check",g4);const _4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vS=Et("chevron-left",_4);const v4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ES=Et("chevron-right",v4);const E4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b4=Et("circle-check-big",E4);const T4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ta=Et("clock",T4);const S4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w4=Et("eye",S4);const A4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bS=Et("lock",A4);const x4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R4=Et("log-out",x4);const C4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],I4=Et("mail",C4);const N4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],D4=Et("pen-line",N4);const O4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],M4=Et("phone",O4);const V4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],TS=Et("plus",V4);const k4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],L4=Et("shield",k4);const P4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],qh=Et("tag",P4);const U4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],op=Et("trash-2",U4);const j4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],z4=Et("user-plus",j4);const B4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q4=Et("user",B4);const H4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F4=Et("users",H4);const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y4=Et("x",G4);function K4(){return b.jsx("div",{className:"min-h-[80vh] flex flex-col items-center justify-center",children:b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 max-w-3xl w-full text-center",children:[b.jsxs("div",{className:"mb-10",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-6 shadow-lg shadow-blue-500/30",children:b.jsx(_S,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4 tracking-tight",children:"Scheduling made simple for beauty professionals"}),b.jsx("p",{className:"text-lg text-slate-600 max-w-xl mx-auto",children:"Let your clients book appointments online. Manage your availability, track bookings, and grow your business  all in one place."})]}),b.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:b.jsx(zi,{to:"/register",className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 text-lg",children:"Get Started  It's Free"})}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-left",children:[b.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[b.jsx(ta,{className:"w-8 h-8 text-blue-500 mb-3"}),b.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Easy Scheduling"}),b.jsx("p",{className:"text-sm text-slate-600",children:"Set your hours, generate time slots, and let clients book instantly."})]}),b.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[b.jsx(F4,{className:"w-8 h-8 text-blue-500 mb-3"}),b.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Your Own Booking Page"}),b.jsx("p",{className:"text-sm text-slate-600",children:"Get a unique link to share with clients. No app downloads required."})]}),b.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[b.jsx(L4,{className:"w-8 h-8 text-blue-500 mb-3"}),b.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Secure Dashboard"}),b.jsx("p",{className:"text-sm text-slate-600",children:"Manage bookings, cancel appointments, and control your schedule."})]})]})]})})}function Q4(r){return r.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function $4(){const r=fu(),[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(""),[g,E]=U.useState(!1),T=Q4(e),A=async k=>{if(k.preventDefault(),p(""),!T){p("Please enter a valid shop name");return}if(u.length<6){p("Password must be at least 6 characters");return}E(!0);try{const $=ou(cn(vt,"shops"),lu("slug","==",T));if(!(await uu($)).empty){p("A shop with that name already exists. Please choose a different name."),E(!1);return}const j=(await T2(cu,s,u)).user;await ff(cn(vt,"shops"),{name:e.trim(),slug:T,ownerUid:j.uid,ownerEmail:s,createdAt:fS()}),r(`/shop/${T}/dashboard`)}catch($){switch($.code){case"auth/email-already-in-use":p("An account with this email already exists");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/weak-password":p("Password must be at least 6 characters");break;default:p("Registration failed. Please try again.")}}finally{E(!1)}};return b.jsx("div",{className:"max-w-md mx-auto mt-20",children:b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:b.jsx(z4,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Create Your Shop"}),b.jsx("p",{className:"text-slate-600",children:"Set up your booking page in seconds"})]}),b.jsxs("form",{onSubmit:A,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Shop Name"}),b.jsx("input",{type:"text",value:e,onChange:k=>{n(k.target.value),p("")},placeholder:"Jane's Salon",required:!0,autoFocus:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),T&&b.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Your booking page: ",b.jsxs("span",{className:"font-mono text-blue-600",children:["/shop/",T]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:s,onChange:k=>{o(k.target.value),p("")},placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),b.jsx("input",{type:"password",value:u,onChange:k=>{f(k.target.value),p("")},placeholder:"At least 6 characters",required:!0,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),m&&b.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[b.jsx("span",{children:""})," ",m]})]}),b.jsx("button",{type:"submit",disabled:g,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Creating your shop":"Create Shop"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs(zi,{to:"/",className:"inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900 font-medium transition-colors",children:[b.jsx(cg,{className:"w-4 h-4"}),"Back to home"]})})]})})}function X4({availableDates:r,selectedDate:e,onSelectDate:n}){const[s,o]=U.useState(new Date),u=j=>{const G=j.getFullYear(),J=j.getMonth(),oe=new Date(G,J,1),ye=new Date(G,J+1,0).getDate(),R=oe.getDay();return{daysInMonth:ye,startingDayOfWeek:R,year:G,month:J}},{daysInMonth:f,startingDayOfWeek:m,year:p,month:g}=u(s),E=()=>{o(new Date(s.getFullYear(),s.getMonth()-1))},T=()=>{o(new Date(s.getFullYear(),s.getMonth()+1))},A=j=>{const G=`${p}-${String(g+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`;return r.includes(G)},k=j=>`${p}-${String(g+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`===e,$=j=>{if(A(j)){const G=`${p}-${String(g+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`;n(G)}},X=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return b.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-center mb-5",children:[b.jsx("button",{onClick:E,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:b.jsx(vS,{className:"w-5 h-5 text-slate-600"})}),b.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[X[g]," ",p]}),b.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:b.jsx(ES,{className:"w-5 h-5 text-slate-600"})})]}),b.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:Y.map(j=>b.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:j},j))}),b.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:m}).map((j,G)=>b.jsx("div",{},`empty-${G}`)),Array.from({length:f}).map((j,G)=>{const J=G+1,oe=A(J),ge=k(J),ye=new Date,R=ye.getDate()===J&&ye.getMonth()===g&&ye.getFullYear()===p;return b.jsx("button",{onClick:()=>$(J),disabled:!oe,className:`
                p-3 text-center rounded-lg text-sm font-semibold transition-all
                ${ge?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30 scale-105":oe?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 hover:scale-105 cursor-pointer":R?"bg-slate-100 text-slate-900 border border-slate-200":"text-slate-300 cursor-not-allowed"}
              `,children:J},J)})]}),b.jsx("div",{className:"mt-5 p-3 bg-slate-50 rounded-lg",children:b.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),b.jsx("span",{children:"Available"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded"}),b.jsx("span",{children:"Selected"})]})]})})]})}function J4(){const{slug:r}=fp(),[e,n]=U.useState(null),[s,o]=U.useState(null),[u,f]=U.useState(!0),[m,p]=U.useState(!1),[g,E]=U.useState([]),[T,A]=U.useState(null),[k,$]=U.useState([]),[X,Y]=U.useState([]),[j,G]=U.useState(!1),[J,oe]=U.useState(null),[ge,ye]=U.useState(null),[R,x]=U.useState(""),[C,O]=U.useState(!1),[D,L]=U.useState({name:"",email:"",phone:""});U.useEffect(()=>{(async()=>{f(!0),p(!1);try{const _e=ou(cn(vt,"shops"),lu("slug","==",r)),Gt=await uu(_e);if(Gt.empty)p(!0);else{const jt=Gt.docs[0];n(jt.data()),o(jt.id)}}catch(_e){console.error("Error looking up shop:",_e),p(!0)}finally{f(!1)}})()},[r]),U.useEffect(()=>{if(!s)return;const he=fo(cn(vt,"shops",s,"services"),jt=>{const hn=jt.docs.map(Vt=>({id:Vt.id,...Vt.data()})).filter(Vt=>Vt.active!==!1).sort((Vt,zt)=>(Vt.name||"").localeCompare(zt.name||""));E(hn)}),_e=fo(cn(vt,"shops",s,"availability"),jt=>{const hn=new Date,Vt=jt.docs.map(zt=>({id:zt.id,...zt.data()})).filter(zt=>new Date(`${zt.date}T${zt.time}`)>hn);$(Vt)}),Gt=fo(cn(vt,"shops",s,"bookings"),jt=>{const hn=jt.docs.map(Vt=>({id:Vt.id,...Vt.data()}));Y(hn)});return()=>{he(),_e(),Gt()}},[s]);const I=g.length>0,ve=(()=>{if(!T)return k.filter(_e=>_e.available);const he=T.duration;return k.filter(_e=>_e.available?_e.duration>=he:!1)})(),K=he=>{A(he),ye(null),oe(null),G(!1),x("")},re=()=>{A(null),ye(null),oe(null),G(!1)},de=he=>{oe(he),G(!0),x("")},Ve=async he=>{he.preventDefault(),O(!0);try{const _e={slotId:J.id,date:J.date,time:J.time,duration:T?T.duration:J.duration,clientName:D.name,clientEmail:D.email,clientPhone:D.phone,bookedAt:new Date().toISOString()};T&&(_e.serviceId=T.id,_e.serviceName=T.name,_e.servicePrice=T.price,_e.serviceDuration=T.duration),await ff(cn(vt,"shops",s,"bookings"),_e),await Bh(Ws(vt,"shops",s,"availability",J.id),{available:!1}),L({name:"",email:"",phone:""}),G(!1),oe(null),A(null),ye(null),x(" Booking confirmed! You will receive a confirmation email shortly.")}catch(_e){console.error("Booking error:",_e),x(" Something went wrong. Please try again.")}finally{O(!1)}},He=he=>{const _e=new Date(he);return`${_e.getMonth()+1}/${_e.getDate()}/${_e.getFullYear().toString().slice(-2)}`},M=he=>{const[_e,Gt]=he.split(":"),jt=parseInt(_e),hn=jt>=12?"PM":"AM";return`${jt%12||12}:${Gt} ${hn}`},Z=he=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(he),se=he=>{if(he<60)return`${he} min`;const _e=Math.floor(he/60),Gt=he%60;return Gt?`${_e}h ${Gt}m`:`${_e} hour${_e>1?"s":""}`};if(u)return b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})});if(m)return b.jsx("div",{className:"max-w-md mx-auto mt-20",children:b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 text-center",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Shop Not Found"}),b.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,b.jsx("span",{className:"font-mono text-blue-600",children:r}),'".']}),b.jsx(zi,{to:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all",children:"Go Home"})]})});const ue=[...new Set(ve.map(he=>he.date))].sort(),Te=ge?ve.filter(he=>he.date===ge):ve,Re=j?"form":!I||T?"calendar":"services";return b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2 tracking-tight",children:e.name}),b.jsxs("p",{className:"text-slate-600 text-base",children:[Re==="services"&&"Choose a service to get started",Re==="calendar"&&"Pick a date and time for your appointment",Re==="form"&&"Complete your booking details"]})]}),b.jsxs(zi,{to:`/shop/${r}/login`,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[b.jsx(bS,{className:"w-4 h-4"}),"Owner Login"]})]}),I&&b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${Re==="services"?"bg-blue-100 text-blue-700 border border-blue-200":T?"bg-green-50 text-green-700 border border-green-200":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[b.jsx("span",{className:"w-6 h-6 rounded-full bg-current/10 flex items-center justify-center text-xs font-bold",children:"1"}),"Service"]}),b.jsx("div",{className:"w-6 h-px bg-slate-300"}),b.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${Re==="calendar"?"bg-blue-100 text-blue-700 border border-blue-200":Re==="form"?"bg-green-50 text-green-700 border border-green-200":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[b.jsx("span",{className:"w-6 h-6 rounded-full bg-current/10 flex items-center justify-center text-xs font-bold",children:"2"}),"Date & Time"]}),b.jsx("div",{className:"w-6 h-px bg-slate-300"}),b.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${Re==="form"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[b.jsx("span",{className:"w-6 h-6 rounded-full bg-current/10 flex items-center justify-center text-xs font-bold",children:"3"}),"Book"]})]}),R&&b.jsxs("div",{className:`mb-6 p-5 rounded-xl flex items-center gap-3 ${R.startsWith("")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[R.startsWith("")&&b.jsx(b4,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),b.jsx("span",{className:"font-medium",children:R})]}),Re==="services"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Our Services"})}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:g.map(he=>b.jsxs("button",{onClick:()=>K(he),className:"group text-left bg-white border-2 border-slate-200 hover:border-blue-500 rounded-2xl p-6 transition-all hover:shadow-xl hover:shadow-blue-500/10 hover:-translate-y-1",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:he.name}),b.jsx("span",{className:"text-2xl font-extrabold text-blue-600 whitespace-nowrap ml-3",children:Z(he.price)})]}),he.description&&b.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:he.description}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-5",children:[b.jsx(ta,{className:"w-4 h-4"}),b.jsx("span",{children:se(he.duration)})]}),b.jsx("div",{className:"w-full px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-xl font-semibold text-sm text-center transition-all shadow-md shadow-blue-500/20 group-hover:shadow-lg group-hover:shadow-blue-500/30",children:"Select & Book "})]},he.id))})]}),Re==="calendar"&&b.jsxs(b.Fragment,{children:[I&&T&&b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200 text-sm",children:[b.jsx(cg,{className:"w-4 h-4"}),"Back to Services"]}),b.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-blue-50 border border-blue-200 rounded-xl",children:[b.jsx(qh,{className:"w-4 h-4 text-blue-500"}),b.jsx("span",{className:"font-semibold text-slate-800",children:T.name}),b.jsx("span",{className:"text-blue-600 font-bold",children:Z(T.price)}),b.jsxs("span",{className:"text-slate-400 text-sm",children:[" ",se(T.duration)]})]})]}),ue.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"No available slots at the moment"}),b.jsx("p",{className:"text-slate-600",children:T?`No time slots available for ${T.name} (${se(T.duration)}). Check back soon!`:"Check back soon for new availability!"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Select a Date"}),b.jsx(X4,{availableDates:ue,selectedDate:ge,onSelectDate:ye})]}),ge&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:b.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Available Times for ",He(ge),b.jsxs("span",{className:"ml-2 text-slate-500 font-normal",children:["(",Te.length," slots)"]})]})}),Te.length===0?b.jsx("div",{className:"text-center py-16",children:b.jsx("p",{className:"text-slate-600",children:"No slots available for this date"})}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Te.sort((he,_e)=>he.time.localeCompare(_e.time)).map(he=>b.jsxs("button",{onClick:()=>de(he),className:"group bg-white border-2 border-slate-200 hover:border-blue-500 rounded-xl p-5 transition-all hover:shadow-lg hover:shadow-blue-500/10 hover:-translate-y-1",children:[b.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-3",children:[b.jsx(ta,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-2xl font-bold text-slate-900",children:M(he.time)})]}),b.jsx("div",{className:"text-sm text-slate-600 mb-4",children:T?se(T.duration):`${he.duration} minutes`}),b.jsx("div",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-lg font-medium text-sm transition-all",children:"Book Now "})]},he.id))})]}),!ge&&b.jsx("div",{className:"text-center py-12 text-slate-600 text-base",children:" Select a date from the calendar above to see available time slots"})]})]}),Re==="form"&&b.jsxs("div",{className:"max-w-xl mx-auto",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Complete Your Booking"}),b.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 rounded-lg mb-6",children:[T&&b.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-blue-200",children:[b.jsx(qh,{className:"w-5 h-5 text-blue-600"}),b.jsx("strong",{className:"text-lg text-slate-900",children:T.name}),b.jsx("span",{className:"text-blue-600 font-bold text-lg ml-auto",children:Z(T.price)})]}),b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(_S,{className:"w-5 h-5 text-blue-600"}),b.jsxs("strong",{className:"text-lg text-slate-900",children:[He(J.date)," at ",M(J.time)]})]}),b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 ml-8",children:[b.jsx(ta,{className:"w-4 h-4"}),b.jsx("span",{children:T?se(T.duration):`${J.duration}min`})]})]}),b.jsxs("form",{onSubmit:Ve,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),b.jsx("input",{type:"text",value:D.name,onChange:he=>L({...D,name:he.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:D.email,onChange:he=>L({...D,email:he.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),b.jsx("input",{type:"tel",value:D.phone,onChange:he=>L({...D,phone:he.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Booking":"Confirm Booking"}),b.jsx("button",{type:"button",onClick:()=>{G(!1),oe(null)},className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})]})}function W4({slotsByDate:r,bookingsByDate:e,selectedDate:n,onSelectDate:s}){const[o,u]=U.useState(new Date),f=G=>{const J=G.getFullYear(),oe=G.getMonth(),ge=new Date(J,oe,1),R=new Date(J,oe+1,0).getDate(),x=ge.getDay();return{daysInMonth:R,startingDayOfWeek:x,year:J,month:oe}},{daysInMonth:m,startingDayOfWeek:p,year:g,month:E}=f(o),T=()=>{u(new Date(o.getFullYear(),o.getMonth()-1))},A=()=>{u(new Date(o.getFullYear(),o.getMonth()+1))},k=G=>`${g}-${String(E+1).padStart(2,"0")}-${String(G).padStart(2,"0")}`,$=G=>{const J=k(G),oe=r[J]||[],ge=e[J]||[],ye=oe.filter(x=>x.available).length,R=ge.length;return{availableCount:ye,bookedCount:R,hasData:oe.length>0||ge.length>0}},X=G=>{const J=k(G);s(J===n?null:J)},Y=["January","February","March","April","May","June","July","August","September","October","November","December"],j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return b.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-center mb-5",children:[b.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:b.jsx(vS,{className:"w-5 h-5 text-slate-600"})}),b.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[Y[E]," ",g]}),b.jsx("button",{onClick:A,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:b.jsx(ES,{className:"w-5 h-5 text-slate-600"})})]}),b.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:j.map(G=>b.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:G},G))}),b.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:p}).map((G,J)=>b.jsx("div",{},`empty-${J}`)),Array.from({length:m}).map((G,J)=>{const oe=J+1,ge=k(oe),{availableCount:ye,bookedCount:R,hasData:x}=$(oe),C=ge===n,O=new Date,D=O.getDate()===oe&&O.getMonth()===E&&O.getFullYear()===g;return b.jsxs("button",{onClick:()=>X(oe),className:`
                relative p-2 text-center rounded-lg text-sm font-semibold transition-all min-h-[60px] flex flex-col items-center justify-start
                ${C?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30 scale-105":x?"bg-slate-50 hover:bg-slate-100 text-slate-900 border border-slate-200 hover:scale-105 cursor-pointer":D?"bg-slate-100 text-slate-900 border border-slate-300":"text-slate-400 hover:bg-slate-50 cursor-pointer"}
              `,children:[b.jsx("span",{className:`text-sm ${D&&!C?"underline decoration-2 underline-offset-2":""}`,children:oe}),x&&b.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap justify-center",children:[ye>0&&b.jsx("span",{className:`text-[10px] font-bold px-1 rounded ${C?"bg-white/25 text-white":"bg-green-100 text-green-700"}`,children:ye}),R>0&&b.jsx("span",{className:`text-[10px] font-bold px-1 rounded ${C?"bg-white/25 text-white":"bg-blue-100 text-blue-700"}`,children:R})]})]},oe)})]}),b.jsx("div",{className:"mt-5 p-3 bg-slate-50 rounded-lg",children:b.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-slate-600",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded"}),b.jsx("span",{children:"Available slots"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-200 rounded"}),b.jsx("span",{children:"Booked"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded"}),b.jsx("span",{children:"Selected"})]})]})})]})}const Z4=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}];function eO({shopId:r}){const[e,n]=U.useState([]),[s,o]=U.useState(!1),[u,f]=U.useState(null),[m,p]=U.useState({name:"",description:"",duration:30,price:""}),[g,E]=U.useState(!1);U.useEffect(()=>{if(!r)return;const j=fo(cn(vt,"shops",r,"services"),G=>{const J=G.docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.active!==!1).sort((oe,ge)=>(oe.name||"").localeCompare(ge.name||""));n(J)});return()=>j()},[r]);const T=()=>{p({name:"",description:"",duration:30,price:""}),o(!1),f(null)},A=async j=>{j.preventDefault(),E(!0);const G={name:m.name.trim(),description:m.description.trim(),duration:parseInt(m.duration),price:parseFloat(m.price),active:!0};try{u?await Bh(Ws(vt,"shops",r,"services",u),G):await ff(cn(vt,"shops",r,"services"),{...G,createdAt:fS()}),T()}catch(J){console.error("Error saving service:",J)}finally{E(!1)}},k=j=>{p({name:j.name,description:j.description||"",duration:j.duration,price:j.price.toString()}),f(j.id),o(!0)},$=async j=>{try{await Bh(Ws(vt,"shops",r,"services",j),{active:!1})}catch(G){console.error("Error deleting service:",G)}},X=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),Y=j=>{if(j<60)return`${j} min`;const G=Math.floor(j/60),J=j%60;return J?`${G}h ${J}m`:`${G}h`};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services"}),b.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Define the services you offer  clients will pick one before booking"})]}),!s&&b.jsxs("button",{onClick:()=>{T(),o(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[b.jsx(TS,{className:"w-4 h-4"}),"Add Service"]})]}),s&&b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Service":"New Service"}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),b.jsx("input",{type:"text",value:m.name,onChange:j=>p({...m,name:j.target.value}),required:!0,placeholder:"e.g. Haircut",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (optional)"}),b.jsx("input",{type:"text",value:m.description,onChange:j=>p({...m,description:j.target.value}),placeholder:"e.g. Classic cut and style",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),b.jsx("select",{value:m.duration,onChange:j=>p({...m,duration:j.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:Z4.map(j=>b.jsx("option",{value:j.value,children:j.label},j.value))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:"$"}),b.jsx("input",{type:"number",step:"0.01",min:"0",value:m.price,onChange:j=>p({...m,price:j.target.value}),required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsxs("button",{type:"submit",disabled:g,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[b.jsx(y4,{className:"w-4 h-4"}),g?"Saving":u?"Update Service":"Add Service"]}),b.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[b.jsx(Y4,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?b.jsxs("div",{className:"text-center py-16",children:[b.jsx("div",{className:"text-5xl mb-3",children:""}),b.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No services yet"}),b.jsx("p",{className:"text-sm text-slate-600",children:"Add your first service so clients can choose what to book"})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(j=>b.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-slate-900",children:j.name}),j.description&&b.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:j.description})]}),b.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap ml-3",children:X(j.price)})]}),b.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx(ta,{className:"w-4 h-4"}),Y(j.duration)]})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>k(j),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[b.jsx(D4,{className:"w-3.5 h-3.5"}),"Edit"]}),b.jsx("button",{onClick:()=>$(j.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:b.jsx(op,{className:"w-3.5 h-3.5"})})]})]},j.id))})]})}function tO({user:r}){const{slug:e}=fp(),n=fu(),[s,o]=U.useState(null),[u,f]=U.useState(null),[m,p]=U.useState(!0),[g,E]=U.useState(!1),[T,A]=U.useState([]),[k,$]=U.useState([]),[X,Y]=U.useState("schedule"),[j,G]=U.useState(null),[J,oe]=U.useState({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60"});U.useEffect(()=>{if(!r){n(`/shop/${e}/login`,{replace:!0});return}(async()=>{p(!0);try{const ve=ou(cn(vt,"shops"),lu("slug","==",e)),K=await uu(ve);if(K.empty){E(!0),p(!1);return}const re=K.docs[0],de=re.data();if(de.ownerUid!==r.uid){E(!0),p(!1);return}o(de),f(re.id)}catch(ve){console.error("Error checking ownership:",ve),E(!0)}finally{p(!1)}})()},[r,e,n]),U.useEffect(()=>{if(!u)return;const le=fo(cn(vt,"shops",u,"availability"),K=>{const re=K.docs.map(de=>({id:de.id,...de.data()}));A(re)}),ve=fo(cn(vt,"shops",u,"bookings"),K=>{const re=K.docs.map(de=>({id:de.id,...de.data()}));$(re)});return()=>{le(),ve()}},[u]);const ge=async()=>{await R2(cu),n(`/shop/${e}`,{replace:!0})},ye=async le=>{le.preventDefault();const{date:ve,startTime:K,endTime:re,slotDuration:de}=J,Ve=parseInt(de),[He,M]=K.split(":").map(Number),[Z,se]=re.split(":").map(Number),ue=He*60+M,Te=Z*60+se;let xe=ue;for(;xe+Ve<=Te;){const Re=Math.floor(xe/60),he=xe%60,_e=`${Re.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`;await ff(cn(vt,"shops",u,"availability"),{date:ve,time:_e,duration:Ve,available:!0}),xe+=Ve}oe({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60"})},R=async le=>{await SE(Ws(vt,"shops",u,"availability",le))},x=async le=>{const ve=k.find(K=>K.id===le);if(await SE(Ws(vt,"shops",u,"bookings",le)),ve)try{await Bh(Ws(vt,"shops",u,"availability",ve.slotId),{available:!0})}catch(K){console.warn("Could not re-open slot:",K)}},C=(le,ve)=>new Date(`${le}T${ve}`).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});if(m)return b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})});if(g)return b.jsx("div",{className:"max-w-md mx-auto mt-20",children:b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 text-center",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Unauthorized"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have access to this dashboard."}),b.jsx(zi,{to:`/shop/${e}/login`,className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all",children:"Login"})]})});const O=T.reduce((le,ve)=>(le[ve.date]||(le[ve.date]=[]),le[ve.date].push(ve),le),{}),D=k.reduce((le,ve)=>(le[ve.date]||(le[ve.date]=[]),le[ve.date].push(ve),le),{}),L=j?Object.keys(O).filter(le=>le===j).sort():Object.keys(O).sort(),I=j?k.filter(le=>le.date===j):k;return b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[b.jsxs("div",{className:"flex gap-3 mb-8",children:[b.jsxs(zi,{to:`/shop/${e}`,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[b.jsx(w4,{className:"w-4 h-4"}),"Booking Page"]}),b.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-semibold transition-all shadow-lg shadow-red-500/30",children:[b.jsx(R4,{className:"w-4 h-4"}),"Logout"]})]}),b.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-8",children:[b.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2 tracking-tight",children:s.name}),b.jsx("p",{className:"text-slate-600",children:"Manage your availability and view bookings"})]}),b.jsxs("div",{className:"flex gap-1 mb-8 bg-slate-100 p-1 rounded-xl w-fit",children:[b.jsx("button",{onClick:()=>Y("schedule"),className:`px-6 py-2.5 rounded-lg font-semibold text-sm transition-all ${X==="schedule"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Schedule"}),b.jsxs("button",{onClick:()=>Y("services"),className:`px-6 py-2.5 rounded-lg font-semibold text-sm transition-all flex items-center gap-2 ${X==="services"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(qh,{className:"w-4 h-4"}),"Services"]})]}),X==="services"&&b.jsx(eO,{shopId:u}),X==="schedule"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-10",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Monthly Overview"}),b.jsx(W4,{slotsByDate:O,bookingsByDate:D,selectedDate:j,onSelectDate:G}),j&&b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsxs("span",{className:"text-sm text-slate-600",children:["Showing: ",b.jsx("strong",{className:"text-slate-900",children:new Date(j+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),b.jsx("button",{onClick:()=>G(null),className:"text-sm px-3 py-1 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all border border-slate-200",children:"Show All"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Create Time Slots"}),b.jsxs("form",{onSubmit:ye,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Select Date"}),b.jsx("input",{type:"date",value:J.date,onChange:le=>oe({...J,date:le.target.value}),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Time"}),b.jsx("input",{type:"time",value:J.startTime,onChange:le=>oe({...J,startTime:le.target.value}),required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"End Time"}),b.jsx("input",{type:"time",value:J.endTime,onChange:le=>oe({...J,endTime:le.target.value}),required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Time Slot Duration"}),b.jsxs("select",{value:J.slotDuration,onChange:le=>oe({...J,slotDuration:le.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[b.jsx("option",{value:"15",children:"15 minutes"}),b.jsx("option",{value:"30",children:"30 minutes"}),b.jsx("option",{value:"45",children:"45 minutes"}),b.jsx("option",{value:"60",children:"1 hour"}),b.jsx("option",{value:"90",children:"1.5 hours"}),b.jsx("option",{value:"120",children:"2 hours"})]})]}),b.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[b.jsx(TS,{className:"w-5 h-5"}),"Generate Time Slots"]})]}),b.jsxs("div",{className:"mt-5 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg text-sm text-slate-700",children:[b.jsx("strong",{className:"block text-slate-900 mb-1",children:" Tip:"}),"Select a date, set your working hours, and choose how long each appointment should be. We'll automatically create all the slots for that day."]})]}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:[j?"Bookings for Date":"Current Bookings",b.jsxs("span",{className:"ml-2 text-blue-600",children:["(",I.length,")"]})]}),I.length===0?b.jsxs("div",{className:"text-center py-16",children:[b.jsx("div",{className:"text-5xl mb-3",children:""}),b.jsx("p",{className:"text-slate-600",children:j?"No bookings for this date":"No bookings yet"})]}):b.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:I.map(le=>b.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 rounded-lg shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx(q4,{className:"w-5 h-5 text-blue-600"}),b.jsx("strong",{className:"text-lg text-slate-900",children:le.clientName})]}),b.jsxs("div",{className:"space-y-1.5 text-sm text-slate-600 mb-3",children:[le.serviceName&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(qh,{className:"w-4 h-4 text-blue-500"}),b.jsx("span",{className:"font-semibold text-slate-800",children:le.serviceName}),le.servicePrice!=null&&b.jsxs("span",{className:"text-blue-600 font-semibold",children:["$",Number(le.servicePrice).toFixed(2)]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(I4,{className:"w-4 h-4"}),le.clientEmail]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(M4,{className:"w-4 h-4"}),le.clientPhone]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ta,{className:"w-4 h-4"}),C(le.date,le.time)]})]}),b.jsxs("button",{onClick:()=>x(le.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-all",children:[b.jsx(op,{className:"w-4 h-4"}),"Cancel Booking"]})]},le.id))})]})]}),b.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:b.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[j?"Time Slots":"All Time Slots",b.jsxs("span",{className:"ml-2 text-slate-500 font-normal",children:["(",j?(O[j]||[]).length:T.length," ",j?"for date":"total",")"]})]})}),L.length===0?b.jsxs("div",{className:"text-center py-16",children:[b.jsx("div",{className:"text-5xl mb-3",children:""}),b.jsx("p",{className:"text-slate-800 font-medium mb-1",children:j?"No time slots for this date":"No time slots created yet"}),b.jsx("p",{className:"text-sm text-slate-600",children:j?"Select another date or create slots":"Use the form above to generate your availability"})]}):b.jsx("div",{className:"space-y-8",children:L.map(le=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 pb-2 border-b-2 border-slate-100",children:new Date(le).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:O[le].sort((ve,K)=>ve.time.localeCompare(K.time)).map(ve=>b.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(ta,{className:"w-5 h-5 text-blue-500"}),b.jsx("strong",{className:"text-xl text-slate-900",children:ve.time})]}),b.jsxs("div",{className:"text-sm text-slate-600 mb-3",children:["Duration: ",ve.duration," min"]}),b.jsx("div",{className:"mb-3",children:ve.available?b.jsx("span",{className:"inline-block px-3 py-1 bg-green-50 text-green-700 border border-green-200 rounded-lg text-sm font-semibold",children:" Available"}):b.jsx("span",{className:"inline-block px-3 py-1 bg-red-50 text-red-700 border border-red-200 rounded-lg text-sm font-semibold",children:" Booked"})}),ve.available&&b.jsxs("button",{onClick:()=>R(ve.id),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-all",children:[b.jsx(op,{className:"w-4 h-4"}),"Remove"]})]},ve.id))})]},le))})]})]})}function nO({user:r}){const{slug:e}=fp(),n=fu(),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(""),[g,E]=U.useState(!1);U.useEffect(()=>{if(!r)return;(async()=>{const k=ou(cn(vt,"shops"),lu("slug","==",e)),$=await uu(k);$.empty||$.docs[0].data().ownerUid===r.uid&&n(`/shop/${e}/dashboard`,{replace:!0})})()},[r,e,n]);const T=async A=>{A.preventDefault(),p(""),E(!0);try{const $=(await S2(cu,s,u)).user,X=ou(cn(vt,"shops"),lu("slug","==",e)),Y=await uu(X);if(Y.empty){p("Shop not found"),E(!1);return}if(Y.docs[0].data().ownerUid!==$.uid){p("You are not the owner of this shop"),await cu.signOut(),E(!1);return}n(`/shop/${e}/dashboard`,{replace:!0})}catch(k){switch(k.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":p("Invalid email or password");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please try again.")}f("")}finally{E(!1)}};return b.jsx("div",{className:"max-w-md mx-auto mt-20",children:b.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:b.jsx(bS,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Owner Login"}),b.jsx("p",{className:"text-slate-600",children:"Enter your credentials to access the dashboard"})]}),b.jsxs("form",{onSubmit:T,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:s,onChange:A=>{o(A.target.value),p("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),b.jsx("input",{type:"password",value:u,onChange:A=>{f(A.target.value),p("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),m&&b.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[b.jsx("span",{children:""})," ",m]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Signing in":"Login"}),b.jsxs(zi,{to:`/shop/${e}`,className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200 flex items-center gap-2",children:[b.jsx(cg,{className:"w-4 h-4"}),"Back"]})]})]}),b.jsx("div",{className:"mt-6 p-4 bg-slate-50 border-l-4 border-slate-300 rounded-lg",children:b.jsxs("p",{className:"text-sm text-slate-600",children:[" ",b.jsx("strong",{children:"Owner access only."})," If you need an account,"," ",b.jsx(zi,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"register here"}),"."]})})]})})}function iO(){const[r,e]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>{const o=x2(cu,u=>{e(u),s(!1)});return()=>o()},[]),n?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})}):b.jsx(OA,{children:b.jsxs(lA,{children:[b.jsx($s,{path:"/",element:b.jsx(K4,{})}),b.jsx($s,{path:"/register",element:b.jsx($4,{})}),b.jsx($s,{path:"/shop/:slug",element:b.jsx(J4,{})}),b.jsx($s,{path:"/shop/:slug/login",element:b.jsx(nO,{user:r})}),b.jsx($s,{path:"/shop/:slug/dashboard",element:b.jsx(tO,{user:r})}),b.jsx($s,{path:"*",element:b.jsx(aA,{to:"/",replace:!0})})]})})}cw.createRoot(document.getElementById("root")).render(b.jsx(nw.StrictMode,{children:b.jsx(iO,{})}));
