(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function i_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Am={exports:{}},uc={};var Jx;function PT(){if(Jx)return uc;Jx=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:a,type:i,key:f,ref:l!==void 0?l:null,props:u}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var Zx;function UT(){return Zx||(Zx=1,Am.exports=PT()),Am.exports}var c=UT(),jm={exports:{}},He={};var eb;function zT(){if(eb)return He;eb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function z(M,te,he){this.props=M,this.context=te,this.refs=L,this.updater=he||G}z.prototype.isReactComponent={},z.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=z.prototype;function Q(M,te,he){this.props=M,this.context=te,this.refs=L,this.updater=he||G}var ue=Q.prototype=new U;ue.constructor=Q,q(ue,z.prototype),ue.isPureReactComponent=!0;var oe=Array.isArray;function re(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function j(M,te,he){var pe=he.ref;return{$$typeof:a,type:M,key:te,ref:pe!==void 0?pe:null,props:he}}function O(M,te){return j(M.type,te,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function P(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return te[he]})}var I=/\/+/g;function De(M,te){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):te.toString(36)}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(re,re):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,te,he,pe,Ee){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var qe=!1;if(M===null)qe=!0;else switch(Ce){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(M.$$typeof){case a:case e:qe=!0;break;case b:return qe=M._init,K(qe(M._payload),te,he,pe,Ee)}}if(qe)return Ee=Ee(M),qe=pe===""?"."+De(M,0):pe,oe(Ee)?(he="",qe!=null&&(he=qe.replace(I,"$&/")+"/"),K(Ee,te,he,"",function(yn){return yn})):Ee!=null&&(D(Ee)&&(Ee=O(Ee,he+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+qe)),te.push(Ee)),1;qe=0;var wt=pe===""?".":pe+":";if(oe(M))for(var et=0;et<M.length;et++)pe=M[et],Ce=wt+De(pe,et),qe+=K(pe,te,he,Ce,Ee);else if(et=R(M),typeof et=="function")for(M=et.call(M),et=0;!(pe=M.next()).done;)pe=pe.value,Ce=wt+De(pe,et++),qe+=K(pe,te,he,Ce,Ee);else if(Ce==="object"){if(typeof M.then=="function")return K(Me(M),te,he,pe,Ee);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return qe}function ce(M,te,he){if(M==null)return M;var pe=[],Ee=0;return K(M,pe,"","",function(Ce){return te.call(he,Ce,Ee++)}),pe}function we(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var $e=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Be={map:ce,forEach:function(M,te,he){ce(M,function(){te.apply(this,arguments)},he)},count:function(M){var te=0;return ce(M,function(){te++}),te},toArray:function(M){return ce(M,function(te){return te})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return He.Activity=w,He.Children=Be,He.Component=z,He.Fragment=n,He.Profiler=l,He.PureComponent=Q,He.StrictMode=i,He.Suspense=g,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,He.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},He.cache=function(M){return function(){return M.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(M,te,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var pe=q({},M.props),Ee=M.key;if(te!=null)for(Ce in te.key!==void 0&&(Ee=""+te.key),te)!A.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(pe[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)pe.children=he;else if(1<Ce){for(var qe=Array(Ce),wt=0;wt<Ce;wt++)qe[wt]=arguments[wt+2];pe.children=qe}return j(M.type,Ee,pe)},He.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},He.createElement=function(M,te,he){var pe,Ee={},Ce=null;if(te!=null)for(pe in te.key!==void 0&&(Ce=""+te.key),te)A.call(te,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ee[pe]=te[pe]);var qe=arguments.length-2;if(qe===1)Ee.children=he;else if(1<qe){for(var wt=Array(qe),et=0;et<qe;et++)wt[et]=arguments[et+2];Ee.children=wt}if(M&&M.defaultProps)for(pe in qe=M.defaultProps,qe)Ee[pe]===void 0&&(Ee[pe]=qe[pe]);return j(M,Ce,Ee)},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:p,render:M}},He.isValidElement=D,He.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:we}},He.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},He.startTransition=function(M){var te=S.T,he={};S.T=he;try{var pe=M(),Ee=S.S;Ee!==null&&Ee(he,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(re,$e)}catch(Ce){$e(Ce)}finally{te!==null&&he.types!==null&&(te.types=he.types),S.T=te}},He.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},He.use=function(M){return S.H.use(M)},He.useActionState=function(M,te,he){return S.H.useActionState(M,te,he)},He.useCallback=function(M,te){return S.H.useCallback(M,te)},He.useContext=function(M){return S.H.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M,te){return S.H.useDeferredValue(M,te)},He.useEffect=function(M,te){return S.H.useEffect(M,te)},He.useEffectEvent=function(M){return S.H.useEffectEvent(M)},He.useId=function(){return S.H.useId()},He.useImperativeHandle=function(M,te,he){return S.H.useImperativeHandle(M,te,he)},He.useInsertionEffect=function(M,te){return S.H.useInsertionEffect(M,te)},He.useLayoutEffect=function(M,te){return S.H.useLayoutEffect(M,te)},He.useMemo=function(M,te){return S.H.useMemo(M,te)},He.useOptimistic=function(M,te){return S.H.useOptimistic(M,te)},He.useReducer=function(M,te,he){return S.H.useReducer(M,te,he)},He.useRef=function(M){return S.H.useRef(M)},He.useState=function(M){return S.H.useState(M)},He.useSyncExternalStore=function(M,te,he){return S.H.useSyncExternalStore(M,te,he)},He.useTransition=function(){return S.H.useTransition()},He.version="19.2.4",He}var tb;function jp(){return tb||(tb=1,jm.exports=zT()),jm.exports}var C=jp();const BT=i_(C);var Rm={exports:{}},hc={},Cm={exports:{}},Im={};var nb;function qT(){return nb||(nb=1,(function(a){function e(K,ce){var we=K.length;K.push(ce);e:for(;0<we;){var $e=we-1>>>1,Be=K[$e];if(0<l(Be,ce))K[$e]=ce,K[we]=Be,we=$e;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ce=K[0],we=K.pop();if(we!==ce){K[0]=we;e:for(var $e=0,Be=K.length,M=Be>>>1;$e<M;){var te=2*($e+1)-1,he=K[te],pe=te+1,Ee=K[pe];if(0>l(he,we))pe<Be&&0>l(Ee,he)?(K[$e]=Ee,K[pe]=we,$e=pe):(K[$e]=he,K[te]=we,$e=te);else if(pe<Be&&0>l(Ee,we))K[$e]=Ee,K[pe]=we,$e=pe;else break e}}return ce}function l(K,ce){var we=K.sortIndex-ce.sortIndex;return we!==0?we:K.id-ce.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,w=null,N=3,R=!1,G=!1,q=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ue(K){for(var ce=n(y);ce!==null;){if(ce.callback===null)i(y);else if(ce.startTime<=K)i(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function oe(K){if(q=!1,ue(K),!G)if(n(g)!==null)G=!0,re||(re=!0,P());else{var ce=n(y);ce!==null&&Me(oe,ce.startTime-K)}}var re=!1,S=-1,A=5,j=-1;function O(){return L?!0:!(a.unstable_now()-j<A)}function D(){if(L=!1,re){var K=a.unstable_now();j=K;var ce=!0;try{e:{G=!1,q&&(q=!1,U(S),S=-1),R=!0;var we=N;try{t:{for(ue(K),w=n(g);w!==null&&!(w.expirationTime>K&&O());){var $e=w.callback;if(typeof $e=="function"){w.callback=null,N=w.priorityLevel;var Be=$e(w.expirationTime<=K);if(K=a.unstable_now(),typeof Be=="function"){w.callback=Be,ue(K),ce=!0;break t}w===n(g)&&i(g),ue(K)}else i(g);w=n(g)}if(w!==null)ce=!0;else{var M=n(y);M!==null&&Me(oe,M.startTime-K),ce=!1}}break e}finally{w=null,N=we,R=!1}ce=void 0}}finally{ce?P():re=!1}}}var P;if(typeof Q=="function")P=function(){Q(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,De=I.port2;I.port1.onmessage=D,P=function(){De.postMessage(null)}}else P=function(){z(D,0)};function Me(K,ce){S=z(function(){K(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(K){switch(N){case 1:case 2:case 3:var ce=3;break;default:ce=N}var we=N;N=ce;try{return K()}finally{N=we}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var we=N;N=K;try{return ce()}finally{N=we}},a.unstable_scheduleCallback=function(K,ce,we){var $e=a.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?$e+we:$e):we=$e,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=we+Be,K={id:b++,callback:ce,priorityLevel:K,startTime:we,expirationTime:Be,sortIndex:-1},we>$e?(K.sortIndex=we,e(y,K),n(g)===null&&K===n(y)&&(q?(U(S),S=-1):q=!0,Me(oe,we-$e))):(K.sortIndex=Be,e(g,K),G||R||(G=!0,re||(re=!0,P()))),K},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(K){var ce=N;return function(){var we=N;N=ce;try{return K.apply(this,arguments)}finally{N=we}}}})(Im)),Im}var sb;function HT(){return sb||(sb=1,Cm.exports=qT()),Cm.exports}var Dm={exports:{}},Cn={};var ab;function FT(){if(ab)return Cn;ab=1;var a=jp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Cn.flushSync=function(g){var y=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=b,i.d.f()}},Cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Cn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:R}):b==="script"&&i.d.X(g,{crossOrigin:w,integrity:N,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Cn.requestFormReset=function(g){i.d.r(g)},Cn.unstable_batchedUpdates=function(g,y){return g(y)},Cn.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Cn.version="19.2.4",Cn}var ib;function $T(){if(ib)return Dm.exports;ib=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dm.exports=FT(),Dm.exports}var rb;function GT(){if(rb)return hc;rb=1;var a=HT(),e=jp(),n=$T();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return g(d),t;if(m===o)return g(d),s;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=m;else{for(var v=!1,E=d.child;E;){if(E===r){v=!0,r=d,o=m;break}if(E===o){v=!0,o=d,r=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===r){v=!0,r=m,o=d;break}if(E===o){v=!0,o=m,r=d;break}E=E.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case re:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case Q:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case ue:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return s=t.displayName||null,s!==null?s:De(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return De(t(s))}catch{}}return null}var Me=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},$e=[],Be=-1;function M(t){return{current:t}}function te(t){0>Be||(t.current=$e[Be],$e[Be]=null,Be--)}function he(t,s){Be++,$e[Be]=t.current,t.current=s}var pe=M(null),Ee=M(null),Ce=M(null),qe=M(null);function wt(t,s){switch(he(Ce,s),he(Ee,t),he(pe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?_x(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=_x(s),t=wx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(pe),he(pe,t)}function et(){te(pe),te(Ee),te(Ce)}function yn(t){t.memoizedState!==null&&he(qe,t);var s=pe.current,r=wx(s,t.type);s!==r&&(he(Ee,t),he(pe,r))}function Xn(t){Ee.current===t&&(te(pe),te(Ee)),qe.current===t&&(te(qe),rc._currentValue=we)}var It,Lt;function Xt(t){if(It===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);It=s&&s[1]||"",Lt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+Lt}var xn=!1;function bn(t,s){if(!t||xn)return"";xn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var X=J}Reflect.construct(t,[],se)}else{try{se.call()}catch(J){X=J}t.call(se.prototype)}}else{try{throw Error()}catch(J){X=J}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var k=v.split(`
`),Y=E.split(`
`);for(d=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(o===k.length||d===Y.length)for(o=k.length-1,d=Y.length-1;1<=o&&0<=d&&k[o]!==Y[d];)d--;for(;1<=o&&0<=d;o--,d--)if(k[o]!==Y[d]){if(o!==1||d!==1)do if(o--,d--,0>d||k[o]!==Y[d]){var ee=`
`+k[o].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=o&&0<=d);break}}}finally{xn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Xt(r):""}function Wn(t,s){switch(t.tag){case 26:case 27:case 5:return Xt(t.type);case 16:return Xt("Lazy");case 13:return t.child!==s&&s!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return bn(t.type,!1);case 11:return bn(t.type.render,!1);case 1:return bn(t.type,!0);case 31:return Xt("Activity");default:return""}}function jn(t){try{var s="",r=null;do s+=Wn(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ft=Object.prototype.hasOwnProperty,ge=a.unstable_scheduleCallback,Ae=a.unstable_cancelCallback,Le=a.unstable_shouldYield,yt=a.unstable_requestPaint,lt=a.unstable_now,ot=a.unstable_getCurrentPriorityLevel,B=a.unstable_ImmediatePriority,Z=a.unstable_UserBlockingPriority,me=a.unstable_NormalPriority,ve=a.unstable_LowPriority,Pe=a.unstable_IdlePriority,le=a.log,fe=a.unstable_setDisableYieldValue,Ue=null,ke=null;function We(t){if(typeof le=="function"&&fe(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ue,t)}catch{}}var ye=Math.clz32?Math.clz32:dn,Ne=Math.log,Dt=Math.LN2;function dn(t){return t>>>=0,t===0?32:31-(Ne(t)/Dt|0)|0}var $t=256,Ln=262144,Rt=4194304;function Rn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pn(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~m,o!==0?d=Rn(o):(v&=E,v!==0?d=Rn(v):r||(r=E&~t,r!==0&&(d=Rn(r))))):(E=o&~m,E!==0?d=Rn(E):v!==0?d=Rn(v):r||(r=o&~t,r!==0&&(d=Rn(r)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:d}function kt(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function $r(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Zn(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function va(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,s,r,o,d,m){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,k=t.expirationTimes,Y=t.hiddenUpdates;for(r=v&~r;0<r;){var ee=31-ye(r),se=1<<ee;E[ee]=0,k[ee]=-1;var X=Y[ee];if(X!==null)for(Y[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}r&=~se}o!==0&&Gs(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function Gs(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-ye(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Gr(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-ye(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function ho(t,s){var r=s&-s;return r=(r&42)!==0?1:Zi(r),(r&(t.suspendedLanes|s))!==0?0:r}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:$x(t.type))}function Cs(t,s){var r=ce.p;try{return ce.p=t,s()}finally{ce.p=r}}var Is=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Is,fn="__reactProps$"+Is,Ys="__reactContainer$"+Is,Yr="__reactEvents$"+Is,Dd="__reactListeners$"+Is,tu="__reactHandles$"+Is,nu="__reactResources$"+Is,Ks="__reactMarker$"+Is;function Kr(t){delete t[Wt],delete t[fn],delete t[Yr],delete t[Dd],delete t[tu]}function Qs(t){var s=t[Wt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ys]||r[Wt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Rx(t);t!==null;){if(r=t[Wt])return r;t=Rx(t)}return s}t=r,r=t.parentNode}return null}function fs(t){if(t=t[Wt]||t[Ys]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function es(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Xs(t){var s=t[nu];return s||(s=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(t){t[Ks]=!0}var fo=new Set,mo={};function Ws(t,s){Js(t,s),Js(t+"Capture",s)}function Js(t,s){for(mo[t]=s,t=0;t<s.length;t++)fo.add(s[t])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function su(t){return ft.call(yo,t)?!0:ft.call(go,t)?!1:po.test(t)?yo[t]=!0:(go[t]=!0,!1)}function Qr(t,s,r){if(su(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function ts(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Zt(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ja(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xo(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function xt(t){if(!t._valueTracker){var s=Ja(t)?"checked":"value";t._valueTracker=xo(t,s,""+t[s])}}function er(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=Ja(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tr=/[\n"\\]/g;function Un(t){return t.replace(tr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xr(t,s,r,o,d,m,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+mn(s)):t.value!==""+mn(s)&&(t.value=""+mn(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?bo(t,v,mn(s)):r!=null?bo(t,v,mn(r)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+mn(E):t.removeAttribute("name")}function au(t,s,r,o,d,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){xt(t);return}r=r!=null?""+mn(r):"",s=s!=null?""+mn(s):r,E||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),xt(t)}function bo(t,s,r){s==="number"&&Zs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Za(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+mn(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function iu(t,s,r){if(s!=null&&(s=""+mn(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+mn(r):""}function ei(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(Me(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=mn(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),xt(t)}function zn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||ru.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function _o(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&vo(t,d,o)}else for(var m in s)s.hasOwnProperty(m)&&vo(t,m,s[m])}function Wr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ti=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(t){return ti.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ds(){}var wo=null;function ms(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ni=null,ea=null;function nr(t){var s=fs(t);if(s&&(t=s.stateNode)){var r=t[fn]||null;e:switch(t=s.stateNode,s.type){case"input":if(Xr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Un(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[fn]||null;if(!d)throw Error(i(90));Xr(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&er(o)}break e;case"textarea":iu(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Za(t,!!r.multiple,s,!1)}}}var Zr=!1;function si(t,s,r){if(Zr)return t(s,r);Zr=!0;try{var o=t(s);return o}finally{if(Zr=!1,(ni!==null||ea!==null)&&(eh(),ni&&(s=ni,t=ea,ea=ni=null,nr(s),t)))for(s=0;s<t.length;s++)nr(t[s])}}function ks(t,s){var r=t.stateNode;if(r===null)return null;var o=r[fn]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(ps)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{sr=!1}var ta=null,Eo=null,ar=null;function To(){if(ar)return ar;var t,s=Eo,r=s.length,o,d="value"in ta?ta.value:ta.textContent,m=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(o=1;o<=v&&s[r-o]===d[m-o];o++);return ar=d.slice(t,1<o?1-o:void 0)}function ir(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function Ms(){return!1}function vn(t){function s(r,o,d,m,v){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wa:Ms,this.isPropagationStopped=Ms,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),s}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=vn(Ea),ai=w({},Ea,{view:0,detail:0}),So=vn(ai),ii,el,sa,tl=w({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(ii=t.screenX-sa.screenX,el=t.screenY-sa.screenY):el=ii=0,sa=t),ii)},movementY:function(t){return"movementY"in t?t.movementY:el}}),No=vn(tl),rr=w({},tl,{dataTransfer:0}),ou=vn(rr),cu=w({},ai,{relatedTarget:0}),lr=vn(cu),Ao=w({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=vn(Ao),nl=w({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=vn(nl),du=w({},Ea,{data:0}),aa=vn(du),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=pu[t])?!!s[t]:!1}function ri(){return gu}var On=w({},ai,{key:function(t){if(t.key){var s=fu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(t){return t.type==="keypress"?ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yu=vn(On),xu=w({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=vn(xu),h=w({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),x=vn(h),_=w({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=vn(_),F=w({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=vn(F),de=w({},Ea,{newState:0,oldState:0}),Ge=vn(de),Gt=[9,13,27,32],mt=ps&&"CompositionEvent"in window,Pt=null;ps&&"documentMode"in document&&(Pt=document.documentMode);var gs=ps&&"TextEvent"in window&&!Pt,ia=ps&&(!mt||Pt&&8<Pt&&11>=Pt),Os=" ",Vs=!1;function or(t,s){switch(t){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function oE(t,s){switch(t){case"compositionend":return sl(s);case"keypress":return s.which!==32?null:(Vs=!0,Os);case"textInput":return t=s.data,t===Os&&Vs?null:t;default:return null}}function cE(t,s){if(al)return t==="compositionend"||!mt&&or(t,s)?(t=To(),ar=Eo=ta=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ia&&s.locale!=="ko"?null:s.data;default:return null}}var uE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!uE[t.type]:s==="textarea"}function kg(t,s,r,o){ni?ea?ea.push(o):ea=[o]:ni=o,s=lh(s,"onChange"),0<s.length&&(r=new na("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var jo=null,Ro=null;function hE(t){px(t,0)}function bu(t){var s=es(t);if(er(s))return t}function Mg(t,s){if(t==="change")return s}var Og=!1;if(ps){var kd;if(ps){var Md="oninput"in document;if(!Md){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Md=typeof Vg.oninput=="function"}kd=Md}else kd=!1;Og=kd&&(!document.documentMode||9<document.documentMode)}function Lg(){jo&&(jo.detachEvent("onpropertychange",Pg),Ro=jo=null)}function Pg(t){if(t.propertyName==="value"&&bu(Ro)){var s=[];kg(s,Ro,t,ms(t)),si(hE,s)}}function dE(t,s,r){t==="focusin"?(Lg(),jo=s,Ro=r,jo.attachEvent("onpropertychange",Pg)):t==="focusout"&&Lg()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Ro)}function mE(t,s){if(t==="click")return bu(s)}function pE(t,s){if(t==="input"||t==="change")return bu(s)}function gE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ns=typeof Object.is=="function"?Object.is:gE;function Co(t,s){if(ns(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!ft.call(s,d)||!ns(t[d],s[d]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,s){var r=Ug(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ug(r)}}function Bg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Bg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Zs(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Zs(t.document)}return s}function Od(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var yE=ps&&"documentMode"in document&&11>=document.documentMode,il=null,Vd=null,Io=null,Ld=!1;function Hg(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ld||il==null||il!==Zs(o)||(o=il,"selectionStart"in o&&Od(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Co(Io,o)||(Io=o,o=lh(Vd,"onSelect"),0<o.length&&(s=new na("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=il)))}function cr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var rl={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},Pd={},Fg={};ps&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function ur(t){if(Pd[t])return Pd[t];if(!rl[t])return t;var s=rl[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Fg)return Pd[t]=s[r];return t}var $g=ur("animationend"),Gg=ur("animationiteration"),Yg=ur("animationstart"),xE=ur("transitionrun"),bE=ur("transitionstart"),vE=ur("transitioncancel"),Kg=ur("transitionend"),Qg=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function Ls(t,s){Qg.set(t,s),Ws(s,[t])}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ys=[],ll=0,zd=0;function _u(){for(var t=ll,s=zd=ll=0;s<t;){var r=ys[s];ys[s++]=null;var o=ys[s];ys[s++]=null;var d=ys[s];ys[s++]=null;var m=ys[s];if(ys[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}m!==0&&Xg(r,d,m)}}function wu(t,s,r,o){ys[ll++]=t,ys[ll++]=s,ys[ll++]=r,ys[ll++]=o,zd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bd(t,s,r,o){return wu(t,s,r,o),Eu(t)}function hr(t,s){return wu(t,null,null,s),Eu(t)}function Xg(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-ye(r),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),m):null}function Eu(t){if(50<Zo)throw Zo=0,Wf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ol={};function _E(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,s,r,o){return new _E(t,s,r,o)}function qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sa(t,s){var r=t.alternate;return r===null?(r=ss(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Wg(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Tu(t,s,r,o,d,m){var v=0;if(o=t,typeof t=="function")qd(t)&&(v=1);else if(typeof t=="string")v=NT(t,r,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=ss(31,r,s,d),t.elementType=j,t.lanes=m,t;case q:return dr(r.children,d,m,s);case L:v=8,d|=24;break;case z:return t=ss(12,r,s,d|2),t.elementType=z,t.lanes=m,t;case oe:return t=ss(13,r,s,d),t.elementType=oe,t.lanes=m,t;case re:return t=ss(19,r,s,d),t.elementType=re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:v=10;break e;case U:v=9;break e;case ue:v=11;break e;case S:v=14;break e;case A:v=16,o=null;break e}v=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=ss(v,r,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function dr(t,s,r,o){return t=ss(7,t,o,s),t.lanes=r,t}function Hd(t,s,r){return t=ss(6,t,null,s),t.lanes=r,t}function Jg(t){var s=ss(18,null,null,0);return s.stateNode=t,s}function Fd(t,s,r){return s=ss(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Zg=new WeakMap;function xs(t,s){if(typeof t=="object"&&t!==null){var r=Zg.get(t);return r!==void 0?r:(s={value:t,source:s,stack:jn(s)},Zg.set(t,s),s)}return{value:t,source:s,stack:jn(s)}}var cl=[],ul=0,Su=null,Do=0,bs=[],vs=0,li=null,ra=1,la="";function Na(t,s){cl[ul++]=Do,cl[ul++]=Su,Su=t,Do=s}function e0(t,s,r){bs[vs++]=ra,bs[vs++]=la,bs[vs++]=li,li=t;var o=ra;t=la;var d=32-ye(o)-1;o&=~(1<<d),r+=1;var m=32-ye(s)+d;if(30<m){var v=d-d%5;m=(o&(1<<v)-1).toString(32),o>>=v,d-=v,ra=1<<32-ye(s)+d|r<<d|o,la=m+t}else ra=1<<m|r<<d|o,la=t}function $d(t){t.return!==null&&(Na(t,1),e0(t,1,0))}function Gd(t){for(;t===Su;)Su=cl[--ul],cl[ul]=null,Do=cl[--ul],cl[ul]=null;for(;t===li;)li=bs[--vs],bs[vs]=null,la=bs[--vs],bs[vs]=null,ra=bs[--vs],bs[vs]=null}function t0(t,s){bs[vs++]=ra,bs[vs++]=la,bs[vs++]=li,ra=s.id,la=s.overflow,li=t}var _n=null,Mt=null,rt=!1,oi=null,_s=!1,Yd=Error(i(519));function ci(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(xs(s,t)),Yd}function n0(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[Wt]=t,s[fn]=o,r){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(r=0;r<tc.length;r++)Ze(tc[r],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),au(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),ei(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||bx(s.textContent,r)?(o.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),o.onScroll!=null&&Ze("scroll",s),o.onScrollEnd!=null&&Ze("scrollend",s),o.onClick!=null&&(s.onclick=Ds),s=!0):s=!1,s||ci(t,!0)}function s0(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:_n=_n.return}}function hl(t){if(t!==_n)return!1;if(!rt)return s0(t),rt=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||dm(t.type,t.memoizedProps)),r=!r),r&&Mt&&ci(t),s0(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Mt=jx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Mt=jx(t)}else s===27?(s=Mt,Ei(t.type)?(t=ym,ym=null,Mt=t):Mt=s):Mt=_n?Es(t.stateNode.nextSibling):null;return!0}function fr(){Mt=_n=null,rt=!1}function Kd(){var t=oi;return t!==null&&(Fn===null?Fn=t:Fn.push.apply(Fn,t),oi=null),t}function ko(t){oi===null?oi=[t]:oi.push(t)}var Qd=M(null),mr=null,Aa=null;function ui(t,s,r){he(Qd,s._currentValue),s._currentValue=r}function ja(t){t._currentValue=Qd.current,te(Qd)}function Xd(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Wd(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var k=0;k<s.length;k++)if(E.context===s[k]){m.lanes|=r,E=m.alternate,E!==null&&(E.lanes|=r),Xd(m.return,r,t),o||(v=null);break e}m=E.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,m=v.alternate,m!==null&&(m.lanes|=r),Xd(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function dl(t,s,r,o){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var E=d.type;ns(d.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(d===qe.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(rc):t=[rc])}d=d.return}t!==null&&Wd(s,t,r,o),s.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!ns(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pr(t){mr=t,Aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return a0(mr,t)}function Au(t,s){return mr===null&&pr(t),a0(t,s)}function a0(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Aa===null){if(t===null)throw Error(i(308));Aa=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Aa=Aa.next=s;return r}var wE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},EE=a.unstable_scheduleCallback,TE=a.unstable_NormalPriority,en={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new wE,data:new Map,refCount:0}}function Mo(t){t.refCount--,t.refCount===0&&EE(TE,function(){t.controller.abort()})}var Oo=null,Zd=0,fl=0,ml=null;function SE(t,s){if(Oo===null){var r=Oo=[];Zd=0,fl=sm(),ml={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zd++,s.then(i0,i0),s}function i0(){if(--Zd===0&&Oo!==null){ml!==null&&(ml.status="fulfilled");var t=Oo;Oo=null,fl=0,ml=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function NE(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var r0=K.S;K.S=function(t,s){Hy=lt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&SE(t,s),r0!==null&&r0(t,s)};var gr=M(null);function ef(){var t=gr.current;return t!==null?t:At.pooledCache}function ju(t,s){s===null?he(gr,gr.current):he(gr,s.pool)}function l0(){var t=ef();return t===null?null:{parent:en._currentValue,pool:t}}var pl=Error(i(460)),tf=Error(i(474)),Ru=Error(i(542)),Cu={then:function(){}};function o0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function c0(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Ds,Ds),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,h0(t),t;default:if(typeof s.status=="string")s.then(Ds,Ds);else{if(t=At,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,h0(t),t}throw xr=s,pl}}function yr(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(xr=r,pl):r}}var xr=null;function u0(){if(xr===null)throw Error(i(459));var t=xr;return xr=null,t}function h0(t){if(t===pl||t===Ru)throw Error(i(483))}var gl=null,Vo=0;function Iu(t){var s=Vo;return Vo+=1,gl===null&&(gl=[]),c0(gl,t,s)}function Lo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Du(t,s){throw s.$$typeof===N?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function d0(t){function s(H,V){if(t){var $=H.deletions;$===null?(H.deletions=[V],H.flags|=16):$.push(V)}}function r(H,V){if(!t)return null;for(;V!==null;)s(H,V),V=V.sibling;return null}function o(H){for(var V=new Map;H!==null;)H.key!==null?V.set(H.key,H):V.set(H.index,H),H=H.sibling;return V}function d(H,V){return H=Sa(H,V),H.index=0,H.sibling=null,H}function m(H,V,$){return H.index=$,t?($=H.alternate,$!==null?($=$.index,$<V?(H.flags|=67108866,V):$):(H.flags|=67108866,V)):(H.flags|=1048576,V)}function v(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function E(H,V,$,ne){return V===null||V.tag!==6?(V=Hd($,H.mode,ne),V.return=H,V):(V=d(V,$),V.return=H,V)}function k(H,V,$,ne){var je=$.type;return je===q?ee(H,V,$.props.children,ne,$.key):V!==null&&(V.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===A&&yr(je)===V.type)?(V=d(V,$.props),Lo(V,$),V.return=H,V):(V=Tu($.type,$.key,$.props,null,H.mode,ne),Lo(V,$),V.return=H,V)}function Y(H,V,$,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Fd($,H.mode,ne),V.return=H,V):(V=d(V,$.children||[]),V.return=H,V)}function ee(H,V,$,ne,je){return V===null||V.tag!==7?(V=dr($,H.mode,ne,je),V.return=H,V):(V=d(V,$),V.return=H,V)}function se(H,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hd(""+V,H.mode,$),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return $=Tu(V.type,V.key,V.props,null,H.mode,$),Lo($,V),$.return=H,$;case G:return V=Fd(V,H.mode,$),V.return=H,V;case A:return V=yr(V),se(H,V,$)}if(Me(V)||P(V))return V=dr(V,H.mode,$,null),V.return=H,V;if(typeof V.then=="function")return se(H,Iu(V),$);if(V.$$typeof===Q)return se(H,Au(H,V),$);Du(H,V)}return null}function X(H,V,$,ne){var je=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return je!==null?null:E(H,V,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===je?k(H,V,$,ne):null;case G:return $.key===je?Y(H,V,$,ne):null;case A:return $=yr($),X(H,V,$,ne)}if(Me($)||P($))return je!==null?null:ee(H,V,$,ne,null);if(typeof $.then=="function")return X(H,V,Iu($),ne);if($.$$typeof===Q)return X(H,V,Au(H,$),ne);Du(H,$)}return null}function J(H,V,$,ne,je){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get($)||null,E(V,H,""+ne,je);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return H=H.get(ne.key===null?$:ne.key)||null,k(V,H,ne,je);case G:return H=H.get(ne.key===null?$:ne.key)||null,Y(V,H,ne,je);case A:return ne=yr(ne),J(H,V,$,ne,je)}if(Me(ne)||P(ne))return H=H.get($)||null,ee(V,H,ne,je,null);if(typeof ne.then=="function")return J(H,V,$,Iu(ne),je);if(ne.$$typeof===Q)return J(H,V,$,Au(V,ne),je);Du(V,ne)}return null}function _e(H,V,$,ne){for(var je=null,ht=null,Te=V,Ke=V=0,nt=null;Te!==null&&Ke<$.length;Ke++){Te.index>Ke?(nt=Te,Te=null):nt=Te.sibling;var dt=X(H,Te,$[Ke],ne);if(dt===null){Te===null&&(Te=nt);break}t&&Te&&dt.alternate===null&&s(H,Te),V=m(dt,V,Ke),ht===null?je=dt:ht.sibling=dt,ht=dt,Te=nt}if(Ke===$.length)return r(H,Te),rt&&Na(H,Ke),je;if(Te===null){for(;Ke<$.length;Ke++)Te=se(H,$[Ke],ne),Te!==null&&(V=m(Te,V,Ke),ht===null?je=Te:ht.sibling=Te,ht=Te);return rt&&Na(H,Ke),je}for(Te=o(Te);Ke<$.length;Ke++)nt=J(Te,H,Ke,$[Ke],ne),nt!==null&&(t&&nt.alternate!==null&&Te.delete(nt.key===null?Ke:nt.key),V=m(nt,V,Ke),ht===null?je=nt:ht.sibling=nt,ht=nt);return t&&Te.forEach(function(ji){return s(H,ji)}),rt&&Na(H,Ke),je}function Ie(H,V,$,ne){if($==null)throw Error(i(151));for(var je=null,ht=null,Te=V,Ke=V=0,nt=null,dt=$.next();Te!==null&&!dt.done;Ke++,dt=$.next()){Te.index>Ke?(nt=Te,Te=null):nt=Te.sibling;var ji=X(H,Te,dt.value,ne);if(ji===null){Te===null&&(Te=nt);break}t&&Te&&ji.alternate===null&&s(H,Te),V=m(ji,V,Ke),ht===null?je=ji:ht.sibling=ji,ht=ji,Te=nt}if(dt.done)return r(H,Te),rt&&Na(H,Ke),je;if(Te===null){for(;!dt.done;Ke++,dt=$.next())dt=se(H,dt.value,ne),dt!==null&&(V=m(dt,V,Ke),ht===null?je=dt:ht.sibling=dt,ht=dt);return rt&&Na(H,Ke),je}for(Te=o(Te);!dt.done;Ke++,dt=$.next())dt=J(Te,H,Ke,dt.value,ne),dt!==null&&(t&&dt.alternate!==null&&Te.delete(dt.key===null?Ke:dt.key),V=m(dt,V,Ke),ht===null?je=dt:ht.sibling=dt,ht=dt);return t&&Te.forEach(function(LT){return s(H,LT)}),rt&&Na(H,Ke),je}function Nt(H,V,$,ne){if(typeof $=="object"&&$!==null&&$.type===q&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var je=$.key;V!==null;){if(V.key===je){if(je=$.type,je===q){if(V.tag===7){r(H,V.sibling),ne=d(V,$.props.children),ne.return=H,H=ne;break e}}else if(V.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===A&&yr(je)===V.type){r(H,V.sibling),ne=d(V,$.props),Lo(ne,$),ne.return=H,H=ne;break e}r(H,V);break}else s(H,V);V=V.sibling}$.type===q?(ne=dr($.props.children,H.mode,ne,$.key),ne.return=H,H=ne):(ne=Tu($.type,$.key,$.props,null,H.mode,ne),Lo(ne,$),ne.return=H,H=ne)}return v(H);case G:e:{for(je=$.key;V!==null;){if(V.key===je)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){r(H,V.sibling),ne=d(V,$.children||[]),ne.return=H,H=ne;break e}else{r(H,V);break}else s(H,V);V=V.sibling}ne=Fd($,H.mode,ne),ne.return=H,H=ne}return v(H);case A:return $=yr($),Nt(H,V,$,ne)}if(Me($))return _e(H,V,$,ne);if(P($)){if(je=P($),typeof je!="function")throw Error(i(150));return $=je.call($),Ie(H,V,$,ne)}if(typeof $.then=="function")return Nt(H,V,Iu($),ne);if($.$$typeof===Q)return Nt(H,V,Au(H,$),ne);Du(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(r(H,V.sibling),ne=d(V,$),ne.return=H,H=ne):(r(H,V),ne=Hd($,H.mode,ne),ne.return=H,H=ne),v(H)):r(H,V)}return function(H,V,$,ne){try{Vo=0;var je=Nt(H,V,$,ne);return gl=null,je}catch(Te){if(Te===pl||Te===Ru)throw Te;var ht=ss(29,Te,null,H.mode);return ht.lanes=ne,ht.return=H,ht}}}var br=d0(!0),f0=d0(!1),hi=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fi(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(pt&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=Eu(t),Xg(t,null,r),s}return wu(t,o,s,r),Eu(t)}function Po(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Gr(t,r)}}function af(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,r=r.next}while(r!==null);m===null?d=m=s:m=m.next=s}else d=m=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var rf=!1;function Uo(){if(rf){var t=ml;if(t!==null)throw t}}function zo(t,s,r,o){rf=!1;var d=t.updateQueue;hi=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var k=E,Y=k.next;k.next=null,v===null?m=Y:v.next=Y,v=k;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==v&&(E===null?ee.firstBaseUpdate=Y:E.next=Y,ee.lastBaseUpdate=k))}if(m!==null){var se=d.baseState;v=0,ee=Y=k=null,E=m;do{var X=E.lane&-536870913,J=X!==E.lane;if(J?(tt&X)===X:(o&X)===X){X!==0&&X===fl&&(rf=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var _e=t,Ie=E;X=s;var Nt=r;switch(Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){se=_e.call(Nt,se,X);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,X=typeof _e=="function"?_e.call(Nt,se,X):_e,X==null)break e;se=w({},se,X);break e;case 2:hi=!0}}X=E.callback,X!==null&&(t.flags|=64,J&&(t.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(Y=ee=J,k=se):ee=ee.next=J,v|=X;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;J=E,E=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ee===null&&(k=se),d.baseState=k,d.firstBaseUpdate=Y,d.lastBaseUpdate=ee,m===null&&(d.shared.lanes=0),xi|=v,t.lanes=v,t.memoizedState=se}}function m0(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function p0(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)m0(r[t],s)}var yl=M(null),ku=M(0);function g0(t,s){t=La,he(ku,t),he(yl,s),La=t|s.baseLanes}function lf(){he(ku,La),he(yl,yl.current)}function of(){La=ku.current,te(yl),te(ku)}var as=M(null),ws=null;function mi(t){var s=t.alternate;he(Yt,Yt.current&1),he(as,t),ws===null&&(s===null||yl.current!==null||s.memoizedState!==null)&&(ws=t)}function cf(t){he(Yt,Yt.current),he(as,t),ws===null&&(ws=t)}function y0(t){t.tag===22?(he(Yt,Yt.current),he(as,t),ws===null&&(ws=t)):pi()}function pi(){he(Yt,Yt.current),he(as,as.current)}function is(t){te(as),ws===t&&(ws=null),te(Yt)}var Yt=M(0);function Mu(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pm(r)||gm(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ra=0,Ye=null,Tt=null,tn=null,Ou=!1,xl=!1,vr=!1,Vu=0,Bo=0,bl=null,AE=0;function Ht(){throw Error(i(321))}function uf(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ns(t[r],s[r]))return!1;return!0}function hf(t,s,r,o,d,m){return Ra=m,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=t===null||t.memoizedState===null?ey:Nf,vr=!1,m=r(o,d),vr=!1,xl&&(m=b0(s,r,o,d)),x0(t),m}function x0(t){K.H=Fo;var s=Tt!==null&&Tt.next!==null;if(Ra=0,tn=Tt=Ye=null,Ou=!1,Bo=0,bl=null,s)throw Error(i(300));t===null||nn||(t=t.dependencies,t!==null&&Nu(t)&&(nn=!0))}function b0(t,s,r,o){Ye=t;var d=0;do{if(xl&&(bl=null),Bo=0,xl=!1,25<=d)throw Error(i(301));if(d+=1,tn=Tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=ty,m=s(r,o)}while(xl);return m}function jE(){var t=K.H,s=t.useState()[0];return s=typeof s.then=="function"?qo(s):s,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(Ye.flags|=1024),s}function df(){var t=Vu!==0;return Vu=0,t}function ff(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function mf(t){if(Ou){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ou=!1}Ra=0,tn=Tt=Ye=null,xl=!1,Bo=Vu=0,bl=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ye.memoizedState=tn=t:tn=tn.next=t,tn}function Kt(){if(Tt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var s=tn===null?Ye.memoizedState:tn.next;if(s!==null)tn=s,Tt=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},tn===null?Ye.memoizedState=tn=t:tn=tn.next=t}return tn}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(t){var s=Bo;return Bo+=1,bl===null&&(bl=[]),t=c0(bl,t,s),s=Ye,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?ey:Nf),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qo(t);if(t.$$typeof===Q)return wn(t)}throw Error(i(438,String(t)))}function pf(t){var s=null,r=Ye.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=Ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Lu(),Ye.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=O;return s.index++,r}function Ca(t,s){return typeof s=="function"?s(t):s}function Uu(t){var s=Kt();return gf(s,Tt,t)}function gf(t,s,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}s.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var E=v=null,k=null,Y=s,ee=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(tt&se)===se:(Ra&se)===se){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===fl&&(ee=!0);else if((Ra&X)===X){Y=Y.next,X===fl&&(ee=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(E=k=se,v=m):k=k.next=se,Ye.lanes|=X,xi|=X;se=Y.action,vr&&r(m,se),m=Y.hasEagerState?Y.eagerState:r(m,se)}else X={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(E=k=X,v=m):k=k.next=X,Ye.lanes|=se,xi|=se;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?v=m:k.next=E,!ns(m,t.memoizedState)&&(nn=!0,ee&&(r=ml,r!==null)))throw r;t.memoizedState=m,t.baseState=v,t.baseQueue=k,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var s=Kt(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,m=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);ns(m,s.memoizedState)||(nn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,o]}function v0(t,s,r){var o=Ye,d=Kt(),m=rt;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=s();var v=!ns((Tt||d).memoizedState,r);if(v&&(d.memoizedState=r,nn=!0),d=d.queue,vf(E0.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||tn!==null&&tn.memoizedState.tag&1){if(o.flags|=2048,vl(9,{destroy:void 0},w0.bind(null,o,d,r,s),null),At===null)throw Error(i(349));m||(Ra&127)!==0||_0(o,s,r)}return r}function _0(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ye.updateQueue,s===null?(s=Lu(),Ye.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function w0(t,s,r,o){s.value=r,s.getSnapshot=o,T0(s)&&S0(t)}function E0(t,s,r){return r(function(){T0(s)&&S0(t)})}function T0(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ns(t,r)}catch{return!0}}function S0(t){var s=hr(t,2);s!==null&&$n(s,t,2)}function xf(t){var s=Vn();if(typeof t=="function"){var r=t;if(t=r(),vr){We(!0);try{r()}finally{We(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},s}function N0(t,s,r,o){return t.baseState=r,gf(t,Tt,typeof o=="function"?o:Ca)}function RE(t,s,r,o,d){if(qu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};K.T!==null?r(!0):m.isTransition=!1,o(m),r=s.pending,r===null?(m.next=s.pending=m,A0(s,m)):(m.next=r.next,s.pending=r.next=m)}}function A0(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var m=K.T,v={};K.T=v;try{var E=r(d,o),k=K.S;k!==null&&k(v,E),j0(t,s,E)}catch(Y){bf(t,s,Y)}finally{m!==null&&v.types!==null&&(m.types=v.types),K.T=m}}else try{m=r(d,o),j0(t,s,m)}catch(Y){bf(t,s,Y)}}function j0(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){R0(t,s,o)},function(o){return bf(t,s,o)}):R0(t,s,r)}function R0(t,s,r){s.status="fulfilled",s.value=r,C0(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,A0(t,r)))}function bf(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,C0(s),s=s.next;while(s!==o)}t.action=null}function C0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function I0(t,s){return s}function D0(t,s){if(rt){var r=At.formState;if(r!==null){e:{var o=Ye;if(rt){if(Mt){t:{for(var d=Mt,m=_s;d.nodeType!==8;){if(!m){d=null;break t}if(d=Es(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Mt=Es(d.nextSibling),o=d.data==="F!";break e}}ci(o)}o=!1}o&&(s=r[0])}}return r=Vn(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:s},r.queue=o,r=W0.bind(null,Ye,o),o.dispatch=r,o=xf(!1),m=Sf.bind(null,Ye,!1,o.queue),o=Vn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=RE.bind(null,Ye,d,m,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function k0(t){var s=Kt();return M0(s,Tt,t)}function M0(t,s,r){if(s=gf(t,s,I0)[0],t=Uu(Ca)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=qo(s)}catch(v){throw v===pl?Ru:v}else o=s;s=Kt();var d=s.queue,m=d.dispatch;return r!==s.memoizedState&&(Ye.flags|=2048,vl(9,{destroy:void 0},CE.bind(null,d,r),null)),[o,m,t]}function CE(t,s){t.action=s}function O0(t){var s=Kt(),r=Tt;if(r!==null)return M0(s,r,t);Kt(),s=s.memoizedState,r=Kt();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function vl(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Lu(),Ye.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function V0(){return Kt().memoizedState}function zu(t,s,r,o){var d=Vn();Ye.flags|=t,d.memoizedState=vl(1|s,{destroy:void 0},r,o===void 0?null:o)}function Bu(t,s,r,o){var d=Kt();o=o===void 0?null:o;var m=d.memoizedState.inst;Tt!==null&&o!==null&&uf(o,Tt.memoizedState.deps)?d.memoizedState=vl(s,m,r,o):(Ye.flags|=t,d.memoizedState=vl(1|s,m,r,o))}function L0(t,s){zu(8390656,8,t,s)}function vf(t,s){Bu(2048,8,t,s)}function IE(t){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Lu(),Ye.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function P0(t){var s=Kt().memoizedState;return IE({ref:s,nextImpl:t}),function(){if((pt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function U0(t,s){return Bu(4,2,t,s)}function z0(t,s){return Bu(4,4,t,s)}function B0(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function q0(t,s,r){r=r!=null?r.concat([t]):null,Bu(4,4,B0.bind(null,s,t),r)}function _f(){}function H0(t,s){var r=Kt();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&uf(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function F0(t,s){var r=Kt();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&uf(s,o[1]))return o[0];if(o=t(),vr){We(!0);try{t()}finally{We(!1)}}return r.memoizedState=[o,s],o}function wf(t,s,r){return r===void 0||(Ra&1073741824)!==0&&(tt&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=$y(),Ye.lanes|=t,xi|=t,r)}function $0(t,s,r,o){return ns(r,s)?r:yl.current!==null?(t=wf(t,r,o),ns(t,s)||(nn=!0),t):(Ra&42)===0||(Ra&1073741824)!==0&&(tt&261930)===0?(nn=!0,t.memoizedState=r):(t=$y(),Ye.lanes|=t,xi|=t,s)}function G0(t,s,r,o,d){var m=ce.p;ce.p=m!==0&&8>m?m:8;var v=K.T,E={};K.T=E,Sf(t,!1,s,r);try{var k=d(),Y=K.S;if(Y!==null&&Y(E,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=NE(k,o);Ho(t,s,ee,os(t))}else Ho(t,s,o,os(t))}catch(se){Ho(t,s,{then:function(){},status:"rejected",reason:se},os())}finally{ce.p=m,v!==null&&E.types!==null&&(v.types=E.types),K.T=v}}function DE(){}function Ef(t,s,r,o){if(t.tag!==5)throw Error(i(476));var d=Y0(t).queue;G0(t,d,s,we,r===null?DE:function(){return K0(t),r(o)})}function Y0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:we},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function K0(t){var s=Y0(t);s.next===null&&(s=t.alternate.memoizedState),Ho(t,s.next.queue,{},os())}function Tf(){return wn(rc)}function Q0(){return Kt().memoizedState}function X0(){return Kt().memoizedState}function kE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=os();t=di(r);var o=fi(s,t,r);o!==null&&($n(o,s,r),Po(o,s,r)),s={cache:Jd()},t.payload=s;return}s=s.return}}function ME(t,s,r){var o=os();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?J0(s,r):(r=Bd(t,s,r,o),r!==null&&($n(r,t,o),Z0(r,s,o)))}function W0(t,s,r){var o=os();Ho(t,s,r,o)}function Ho(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))J0(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,r);if(d.hasEagerState=!0,d.eagerState=E,ns(E,v))return wu(t,s,d,0),At===null&&_u(),!1}catch{}if(r=Bd(t,s,d,o),r!==null)return $n(r,t,o),Z0(r,s,o),!0}return!1}function Sf(t,s,r,o){if(o={lane:2,revertLane:sm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(s)throw Error(i(479))}else s=Bd(t,r,o,2),s!==null&&$n(s,t,2)}function qu(t){var s=t.alternate;return t===Ye||s!==null&&s===Ye}function J0(t,s){xl=Ou=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Z0(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Gr(t,r)}}var Fo={readContext:wn,use:Pu,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};Fo.useEffectEvent=Ht;var ey={readContext:wn,use:Pu,useCallback:function(t,s){return Vn().memoizedState=[t,s===void 0?null:s],t},useContext:wn,useEffect:L0,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,zu(4194308,4,B0.bind(null,s,t),r)},useLayoutEffect:function(t,s){return zu(4194308,4,t,s)},useInsertionEffect:function(t,s){zu(4,2,t,s)},useMemo:function(t,s){var r=Vn();s=s===void 0?null:s;var o=t();if(vr){We(!0);try{t()}finally{We(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Vn();if(r!==void 0){var d=r(s);if(vr){We(!0);try{r(s)}finally{We(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=ME.bind(null,Ye,t),[o.memoizedState,t]},useRef:function(t){var s=Vn();return t={current:t},s.memoizedState=t},useState:function(t){t=xf(t);var s=t.queue,r=W0.bind(null,Ye,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(t,s){var r=Vn();return wf(r,t,s)},useTransition:function(){var t=xf(!1);return t=G0.bind(null,Ye,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=Ye,d=Vn();if(rt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),At===null)throw Error(i(349));(tt&127)!==0||_0(o,s,r)}d.memoizedState=r;var m={value:r,getSnapshot:s};return d.queue=m,L0(E0.bind(null,o,m,t),[t]),o.flags|=2048,vl(9,{destroy:void 0},w0.bind(null,o,m,r,s),null),r},useId:function(){var t=Vn(),s=At.identifierPrefix;if(rt){var r=la,o=ra;r=(o&~(1<<32-ye(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Vu++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=AE++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Tf,useFormState:D0,useActionState:D0,useOptimistic:function(t){var s=Vn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Sf.bind(null,Ye,!0,r),r.dispatch=s,[t,s]},useMemoCache:pf,useCacheRefresh:function(){return Vn().memoizedState=kE.bind(null,Ye)},useEffectEvent:function(t){var s=Vn(),r={impl:t};return s.memoizedState=r,function(){if((pt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:wn,use:Pu,useCallback:H0,useContext:wn,useEffect:vf,useImperativeHandle:q0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:F0,useReducer:Uu,useRef:V0,useState:function(){return Uu(Ca)},useDebugValue:_f,useDeferredValue:function(t,s){var r=Kt();return $0(r,Tt.memoizedState,t,s)},useTransition:function(){var t=Uu(Ca)[0],s=Kt().memoizedState;return[typeof t=="boolean"?t:qo(t),s]},useSyncExternalStore:v0,useId:Q0,useHostTransitionStatus:Tf,useFormState:k0,useActionState:k0,useOptimistic:function(t,s){var r=Kt();return N0(r,Tt,t,s)},useMemoCache:pf,useCacheRefresh:X0};Nf.useEffectEvent=P0;var ty={readContext:wn,use:Pu,useCallback:H0,useContext:wn,useEffect:vf,useImperativeHandle:q0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:F0,useReducer:yf,useRef:V0,useState:function(){return yf(Ca)},useDebugValue:_f,useDeferredValue:function(t,s){var r=Kt();return Tt===null?wf(r,t,s):$0(r,Tt.memoizedState,t,s)},useTransition:function(){var t=yf(Ca)[0],s=Kt().memoizedState;return[typeof t=="boolean"?t:qo(t),s]},useSyncExternalStore:v0,useId:Q0,useHostTransitionStatus:Tf,useFormState:O0,useActionState:O0,useOptimistic:function(t,s){var r=Kt();return Tt!==null?N0(r,Tt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:pf,useCacheRefresh:X0};ty.useEffectEvent=P0;function Af(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:w({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=os(),d=di(o);d.payload=s,r!=null&&(d.callback=r),s=fi(t,d,o),s!==null&&($n(s,t,o),Po(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=os(),d=di(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=fi(t,d,o),s!==null&&($n(s,t,o),Po(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=os(),o=di(r);o.tag=2,s!=null&&(o.callback=s),s=fi(t,o,r),s!==null&&($n(s,t,r),Po(s,t,r))}};function ny(t,s,r,o,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,v):s.prototype&&s.prototype.isPureReactComponent?!Co(r,o)||!Co(d,m):!0}function sy(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&jf.enqueueReplaceState(s,s.state,null)}function _r(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=w({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function ay(t){vu(t)}function iy(t){console.error(t)}function ry(t){vu(t)}function Hu(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function ly(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rf(t,s,r){return r=di(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,s)},r}function oy(t){return t=di(t),t.tag=3,t}function cy(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){ly(s,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ly(s,r,o),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function OE(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&dl(s,r,d,!0),r=as.current,r!==null){switch(r.tag){case 31:case 13:return ws===null?th():r.alternate===null&&Ft===0&&(Ft=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Cu?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),em(t,o,d)),!1;case 22:return r.flags|=65536,o===Cu?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),em(t,o,d)),!1}throw Error(i(435,r.tag))}return em(t,o,d),th(),!1}if(rt)return s=as.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Yd&&(t=Error(i(422),{cause:o}),ko(xs(t,r)))):(o!==Yd&&(s=Error(i(423),{cause:o}),ko(xs(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=xs(o,r),d=Rf(t.stateNode,o,d),af(t,d),Ft!==4&&(Ft=2)),!1;var m=Error(i(520),{cause:o});if(m=xs(m,r),Jo===null?Jo=[m]:Jo.push(m),Ft!==4&&(Ft=2),s===null)return!0;o=xs(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Rf(r.stateNode,o,t),af(r,t),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bi===null||!bi.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=oy(d),cy(d,t,r,o),af(r,d),!1}r=r.return}while(r!==null);return!1}var Cf=Error(i(461)),nn=!1;function En(t,s,r,o){s.child=t===null?f0(s,null,r,o):br(s,t.child,r,o)}function uy(t,s,r,o,d){r=r.render;var m=s.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return pr(s),o=hf(t,s,r,v,m,d),E=df(),t!==null&&!nn?(ff(t,s,d),Ia(t,s,d)):(rt&&E&&$d(s),s.flags|=1,En(t,s,o,d),s.child)}function hy(t,s,r,o,d){if(t===null){var m=r.type;return typeof m=="function"&&!qd(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,dy(t,s,m,o,d)):(t=Tu(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Pf(t,d)){var v=m.memoizedProps;if(r=r.compare,r=r!==null?r:Co,r(v,o)&&t.ref===s.ref)return Ia(t,s,d)}return s.flags|=1,t=Sa(m,o),t.ref=s.ref,t.return=s,s.child=t}function dy(t,s,r,o,d){if(t!==null){var m=t.memoizedProps;if(Co(m,o)&&t.ref===s.ref)if(nn=!1,s.pendingProps=o=m,Pf(t,d))(t.flags&131072)!==0&&(nn=!0);else return s.lanes=t.lanes,Ia(t,s,d)}return If(t,s,r,o,d)}function fy(t,s,r,o){var d=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,s.child=null;return my(t,s,m,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(s,m!==null?m.cachePool:null),m!==null?g0(s,m):lf(),y0(s);else return o=s.lanes=536870912,my(t,s,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(ju(s,m.cachePool),g0(s,m),pi(),s.memoizedState=null):(t!==null&&ju(s,null),lf(),pi());return En(t,s,d,r),s.child}function $o(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function my(t,s,r,o,d){var m=ef();return m=m===null?null:{parent:en._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},t!==null&&ju(s,null),lf(),y0(s),t!==null&&dl(t,s,o,!0),s.childLanes=d,null}function Fu(t,s){return s=Gu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function py(t,s,r){return br(s,t.child,null,r),t=Fu(s,s.pendingProps),t.flags|=2,is(s),s.memoizedState=null,t}function VE(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(rt){if(o.mode==="hidden")return t=Fu(s,o),s.lanes=536870912,$o(null,t);if(cf(s),(t=Mt)?(t=Ax(t,_s),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:li!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},r=Jg(t),r.return=s,s.child=r,_n=s,Mt=null)):t=null,t===null)throw ci(s);return s.lanes=536870912,null}return Fu(s,o)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(cf(s),d)if(s.flags&256)s.flags&=-257,s=py(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(nn||dl(t,s,r,!1),d=(r&t.childLanes)!==0,nn||d){if(o=At,o!==null&&(v=ho(o,r),v!==0&&v!==m.retryLane))throw m.retryLane=v,hr(t,v),$n(o,t,v),Cf;th(),s=py(t,s,r)}else t=m.treeContext,Mt=Es(v.nextSibling),_n=s,rt=!0,oi=null,_s=!1,t!==null&&t0(s,t),s=Fu(s,o),s.flags|=4096;return s}return t=Sa(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function $u(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function If(t,s,r,o,d){return pr(s),r=hf(t,s,r,o,void 0,d),o=df(),t!==null&&!nn?(ff(t,s,d),Ia(t,s,d)):(rt&&o&&$d(s),s.flags|=1,En(t,s,r,d),s.child)}function gy(t,s,r,o,d,m){return pr(s),s.updateQueue=null,r=b0(s,o,r,d),x0(t),o=df(),t!==null&&!nn?(ff(t,s,m),Ia(t,s,m)):(rt&&o&&$d(s),s.flags|=1,En(t,s,r,m),s.child)}function yy(t,s,r,o,d){if(pr(s),s.stateNode===null){var m=ol,v=r.contextType;typeof v=="object"&&v!==null&&(m=wn(v)),m=new r(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},nf(s),v=r.contextType,m.context=typeof v=="object"&&v!==null?wn(v):ol,m.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Af(s,r,v,o),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&jf.enqueueReplaceState(m,m.state,null),zo(s,o,m,d),Uo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,k=_r(r,E);m.props=k;var Y=m.context,ee=r.contextType;v=ol,typeof ee=="object"&&ee!==null&&(v=wn(ee));var se=r.getDerivedStateFromProps;ee=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||Y!==v)&&sy(s,m,o,v),hi=!1;var X=s.memoizedState;m.state=X,zo(s,o,m,d),Uo(),Y=s.memoizedState,E||X!==Y||hi?(typeof se=="function"&&(Af(s,r,se,o),Y=s.memoizedState),(k=hi||ny(s,r,k,o,X,Y,v))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=Y),m.props=o,m.state=Y,m.context=v,o=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,sf(t,s),v=s.memoizedProps,ee=_r(r,v),m.props=ee,se=s.pendingProps,X=m.context,Y=r.contextType,k=ol,typeof Y=="object"&&Y!==null&&(k=wn(Y)),E=r.getDerivedStateFromProps,(Y=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==se||X!==k)&&sy(s,m,o,k),hi=!1,X=s.memoizedState,m.state=X,zo(s,o,m,d),Uo();var J=s.memoizedState;v!==se||X!==J||hi||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(Af(s,r,E,o),J=s.memoizedState),(ee=hi||ny(s,r,ee,o,X,J,k)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,J,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,J,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=J),m.props=o,m.state=J,m.context=k,o=ee):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,$u(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=br(s,t.child,null,d),s.child=br(s,null,r,d)):En(t,s,r,d),s.memoizedState=m.state,t=s.child):t=Ia(t,s,d),t}function xy(t,s,r,o){return fr(),s.flags|=256,En(t,s,r,o),s.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:l0()}}function Mf(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=ls),t}function by(t,s,r){var o=s.pendingProps,d=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(rt){if(d?mi(s):pi(),(t=Mt)?(t=Ax(t,_s),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:li!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},r=Jg(t),r.return=s,s.child=r,_n=s,Mt=null)):t=null,t===null)throw ci(s);return gm(t)?s.lanes=32:s.lanes=536870912,null}var E=o.children;return o=o.fallback,d?(pi(),d=s.mode,E=Gu({mode:"hidden",children:E},d),o=dr(o,d,r,null),E.return=s,o.return=s,E.sibling=o,s.child=E,o=s.child,o.memoizedState=kf(r),o.childLanes=Mf(t,v,r),s.memoizedState=Df,$o(null,o)):(mi(s),Of(s,E))}var k=t.memoizedState;if(k!==null&&(E=k.dehydrated,E!==null)){if(m)s.flags&256?(mi(s),s.flags&=-257,s=Vf(t,s,r)):s.memoizedState!==null?(pi(),s.child=t.child,s.flags|=128,s=null):(pi(),E=o.fallback,d=s.mode,o=Gu({mode:"visible",children:o.children},d),E=dr(E,d,r,null),E.flags|=2,o.return=s,E.return=s,o.sibling=E,s.child=o,br(s,t.child,null,r),o=s.child,o.memoizedState=kf(r),o.childLanes=Mf(t,v,r),s.memoizedState=Df,s=$o(null,o));else if(mi(s),gm(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var Y=v.dgst;v=Y,o=Error(i(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),s=Vf(t,s,r)}else if(nn||dl(t,s,r,!1),v=(r&t.childLanes)!==0,nn||v){if(v=At,v!==null&&(o=ho(v,r),o!==0&&o!==k.retryLane))throw k.retryLane=o,hr(t,o),$n(v,t,o),Cf;pm(E)||th(),s=Vf(t,s,r)}else pm(E)?(s.flags|=192,s.child=t.child,s=null):(t=k.treeContext,Mt=Es(E.nextSibling),_n=s,rt=!0,oi=null,_s=!1,t!==null&&t0(s,t),s=Of(s,o.children),s.flags|=4096);return s}return d?(pi(),E=o.fallback,d=s.mode,k=t.child,Y=k.sibling,o=Sa(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,Y!==null?E=Sa(Y,E):(E=dr(E,d,r,null),E.flags|=2),E.return=s,o.return=s,o.sibling=E,s.child=o,$o(null,o),o=s.child,E=t.child.memoizedState,E===null?E=kf(r):(d=E.cachePool,d!==null?(k=en._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=l0(),E={baseLanes:E.baseLanes|r,cachePool:d}),o.memoizedState=E,o.childLanes=Mf(t,v,r),s.memoizedState=Df,$o(t.child,o)):(mi(s),r=t.child,t=r.sibling,r=Sa(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function Of(t,s){return s=Gu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Gu(t,s){return t=ss(22,t,null,s),t.lanes=0,t}function Vf(t,s,r){return br(s,t.child,null,r),t=Of(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function vy(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Xd(t.return,s,r)}function Lf(t,s,r,o,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=d,v.treeForkCount=m)}function _y(t,s,r){var o=s.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var v=Yt.current,E=(v&2)!==0;if(E?(v=v&1|2,s.flags|=128):v&=1,he(Yt,v),En(t,s,o,r),o=rt?Do:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,r,s);else if(t.tag===19)vy(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Lf(s,!1,d,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Mu(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Lf(s,!0,r,null,m,o);break;case"together":Lf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Ia(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),xi|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(dl(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Sa(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Sa(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Pf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function LE(t,s,r){switch(s.tag){case 3:wt(s,s.stateNode.containerInfo),ui(s,en,t.memoizedState.cache),fr();break;case 27:case 5:yn(s);break;case 4:wt(s,s.stateNode.containerInfo);break;case 10:ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(mi(s),s.flags|=128,null):(r&s.child.childLanes)!==0?by(t,s,r):(mi(s),t=Ia(t,s,r),t!==null?t.sibling:null);mi(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(dl(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return _y(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Yt,Yt.current),o)break;return null;case 22:return s.lanes=0,fy(t,s,r,s.pendingProps);case 24:ui(s,en,t.memoizedState.cache)}return Ia(t,s,r)}function wy(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)nn=!0;else{if(!Pf(t,r)&&(s.flags&128)===0)return nn=!1,LE(t,s,r);nn=(t.flags&131072)!==0}else nn=!1,rt&&(s.flags&1048576)!==0&&e0(s,Do,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=yr(s.elementType),s.type=t,typeof t=="function")qd(t)?(o=_r(t,o),s.tag=1,s=yy(null,s,t,o,r)):(s.tag=0,s=If(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===ue){s.tag=11,s=uy(null,s,t,o,r);break e}else if(d===S){s.tag=14,s=hy(null,s,t,o,r);break e}}throw s=De(t)||t,Error(i(306,s,""))}}return s;case 0:return If(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=_r(o,s.pendingProps),yy(t,s,o,d,r);case 3:e:{if(wt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var m=s.memoizedState;d=m.element,sf(t,s),zo(s,o,null,r);var v=s.memoizedState;if(o=v.cache,ui(s,en,o),o!==m.cache&&Wd(s,[en],r,!0),Uo(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=xy(t,s,o,r);break e}else if(o!==d){d=xs(Error(i(424)),s),ko(d),s=xy(t,s,o,r);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Mt=Es(t.firstChild),_n=s,rt=!0,oi=null,_s=!0,r=f0(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fr(),o===d){s=Ia(t,s,r);break e}En(t,s,o,r)}s=s.child}return s;case 26:return $u(t,s),t===null?(r=kx(s.type,null,s.pendingProps,null))?s.memoizedState=r:rt||(r=s.type,t=s.pendingProps,o=oh(Ce.current).createElement(r),o[Wt]=s,o[fn]=t,Tn(o,r,t),Jt(o),s.stateNode=o):s.memoizedState=kx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return yn(s),t===null&&rt&&(o=s.stateNode=Cx(s.type,s.pendingProps,Ce.current),_n=s,_s=!0,d=Mt,Ei(s.type)?(ym=d,Mt=Es(o.firstChild)):Mt=d),En(t,s,s.pendingProps.children,r),$u(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&rt&&((d=o=Mt)&&(o=fT(o,s.type,s.pendingProps,_s),o!==null?(s.stateNode=o,_n=s,Mt=Es(o.firstChild),_s=!1,d=!0):d=!1),d||ci(s)),yn(s),d=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,o=m.children,dm(d,m)?o=null:v!==null&&dm(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=hf(t,s,jE,null,null,r),rc._currentValue=d),$u(t,s),En(t,s,o,r),s.child;case 6:return t===null&&rt&&((t=r=Mt)&&(r=mT(r,s.pendingProps,_s),r!==null?(s.stateNode=r,_n=s,Mt=null,t=!0):t=!1),t||ci(s)),null;case 13:return by(t,s,r);case 4:return wt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=br(s,null,o,r):En(t,s,o,r),s.child;case 11:return uy(t,s,s.type,s.pendingProps,r);case 7:return En(t,s,s.pendingProps,r),s.child;case 8:return En(t,s,s.pendingProps.children,r),s.child;case 12:return En(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,ui(s,s.type,o.value),En(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,pr(s),d=wn(d),o=o(d),s.flags|=1,En(t,s,o,r),s.child;case 14:return hy(t,s,s.type,s.pendingProps,r);case 15:return dy(t,s,s.type,s.pendingProps,r);case 19:return _y(t,s,r);case 31:return VE(t,s,r);case 22:return fy(t,s,r,s.pendingProps);case 24:return pr(s),o=wn(en),t===null?(d=ef(),d===null&&(d=At,m=Jd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),s.memoizedState={parent:o,cache:d},nf(s),ui(s,en,d)):((t.lanes&r)!==0&&(sf(t,s),zo(s,null,null,r),Uo()),d=t.memoizedState,m=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ui(s,en,o)):(o=m.cache,ui(s,en,o),o!==d.cache&&Wd(s,[en],r,!0))),En(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Da(t){t.flags|=4}function Uf(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw xr=Cu,tf}else t.flags&=-16777217}function Ey(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Px(s))if(Qy())t.flags|=8192;else throw xr=Cu,tf}function Yu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Jn():536870912,t.lanes|=s,Tl|=s)}function Go(t,s){if(!rt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ot(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function PE(t,s,r){var o=s.pendingProps;switch(Gd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ot(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ja(en),et(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hl(s)?Da(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kd())),Ot(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(Da(s),m!==null?(Ot(s),Ey(s,m)):(Ot(s),Uf(s,d,null,o,r))):m?m!==t.memoizedState?(Da(s),Ot(s),Ey(s,m)):(Ot(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Da(s),Ot(s),Uf(s,d,t,o,r)),null;case 27:if(Xn(s),r=Ce.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Da(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Ot(s),null}t=pe.current,hl(s)?n0(s):(t=Cx(d,o,r),s.stateNode=t,Da(s))}return Ot(s),null;case 5:if(Xn(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Da(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Ot(s),null}if(m=pe.current,hl(s))n0(s);else{var v=oh(Ce.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}m[Wt]=s,m[fn]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Tn(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Da(s)}}return Ot(s),Uf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Da(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ce.current,hl(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=_n,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Wt]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||bx(t.nodeValue,r)),t||ci(s,!0)}else t=oh(t).createTextNode(o),t[Wt]=s,s.stateNode=t}return Ot(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=hl(s),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Wt]=s}else fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),t=!1}else r=Kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(is(s),s):(is(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Ot(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=hl(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Wt]=s}else fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),d=!1}else d=Kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(is(s),s):(is(s),null)}return is(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),Yu(s,s.updateQueue),Ot(s),null);case 4:return et(),t===null&&lm(s.stateNode.containerInfo),Ot(s),null;case 10:return ja(s.type),Ot(s),null;case 19:if(te(Yt),o=s.memoizedState,o===null)return Ot(s),null;if(d=(s.flags&128)!==0,m=o.rendering,m===null)if(d)Go(o,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Mu(t),m!==null){for(s.flags|=128,Go(o,!1),t=m.updateQueue,s.updateQueue=t,Yu(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)Wg(r,t),r=r.sibling;return he(Yt,Yt.current&1|2),rt&&Na(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&lt()>Ju&&(s.flags|=128,d=!0,Go(o,!1),s.lanes=4194304)}else{if(!d)if(t=Mu(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Yu(s,t),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!rt)return Ot(s),null}else 2*lt()-o.renderingStartTime>Ju&&r!==536870912&&(s.flags|=128,d=!0,Go(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,r=Yt.current,he(Yt,d?r&1|2:r&1),rt&&Na(s,o.treeForkCount),t):(Ot(s),null);case 22:case 23:return is(s),of(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),r=s.updateQueue,r!==null&&Yu(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&te(gr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),ja(en),Ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function UE(t,s){switch(Gd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ja(en),et(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Xn(s),null;case 31:if(s.memoizedState!==null){if(is(s),s.alternate===null)throw Error(i(340));fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(is(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return te(Yt),null;case 4:return et(),null;case 10:return ja(s.type),null;case 22:case 23:return is(s),of(),t!==null&&te(gr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ja(en),null;case 25:return null;default:return null}}function Ty(t,s){switch(Gd(s),s.tag){case 3:ja(en),et();break;case 26:case 27:case 5:Xn(s);break;case 4:et();break;case 31:s.memoizedState!==null&&is(s);break;case 13:is(s);break;case 19:te(Yt);break;case 10:ja(s.type);break;case 22:case 23:is(s),of(),t!==null&&te(gr);break;case 24:ja(en)}}function Yo(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var m=r.create,v=r.inst;o=m(),v.destroy=o}r=r.next}while(r!==d)}}catch(E){vt(s,s.return,E)}}function gi(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,d=s;var k=r,Y=E;try{Y()}catch(ee){vt(d,k,ee)}}}o=o.next}while(o!==m)}}catch(ee){vt(s,s.return,ee)}}function Sy(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{p0(s,r)}catch(o){vt(t,t.return,o)}}}function Ny(t,s,r){r.props=_r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){vt(t,s,o)}}function Ko(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){vt(t,s,d)}}function oa(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){vt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){vt(t,s,d)}else r.current=null}function Ay(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){vt(t,t.return,d)}}function zf(t,s,r){try{var o=t.stateNode;lT(o,t.type,r,s),o[fn]=s}catch(d){vt(t,t.return,d)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ei(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Ds));else if(o!==4&&(o===27&&Ei(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(qf(t,s,r),t=t.sibling;t!==null;)qf(t,s,r),t=t.sibling}function Ku(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&Ei(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ku(t,s,r),t=t.sibling;t!==null;)Ku(t,s,r),t=t.sibling}function Ry(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Tn(s,o,r),s[Wt]=t,s[fn]=r}catch(m){vt(t,t.return,m)}}var ka=!1,sn=!1,Hf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,pn=null;function zE(t,s){if(t=t.containerInfo,um=ph,t=qg(t),Od(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var v=0,E=-1,k=-1,Y=0,ee=0,se=t,X=null;t:for(;;){for(var J;se!==r||d!==0&&se.nodeType!==3||(E=v+d),se!==m||o!==0&&se.nodeType!==3||(k=v+o),se.nodeType===3&&(v+=se.nodeValue.length),(J=se.firstChild)!==null;)X=se,se=J;for(;;){if(se===t)break t;if(X===r&&++Y===d&&(E=v),X===m&&++ee===o&&(k=v),(J=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=J}r=E===-1||k===-1?null:{start:E,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(hm={focusedElem:t,selectionRange:r},ph=!1,pn=s;pn!==null;)if(s=pn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,pn=t;else for(;pn!==null;){switch(s=pn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=s,d=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var _e=_r(r.type,d);t=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ie){vt(r,r.return,Ie)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)mm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,pn=t;break}pn=s.return}}function Iy(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Oa(t,r),o&4&&Yo(5,r);break;case 1:if(Oa(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){vt(r,r.return,v)}else{var d=_r(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){vt(r,r.return,v)}}o&64&&Sy(r),o&512&&Ko(r,r.return);break;case 3:if(Oa(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{p0(t,s)}catch(v){vt(r,r.return,v)}}break;case 27:s===null&&o&4&&Ry(r);case 26:case 5:Oa(t,r),s===null&&o&4&&Ay(r),o&512&&Ko(r,r.return);break;case 12:Oa(t,r);break;case 31:Oa(t,r),o&4&&My(t,r);break;case 13:Oa(t,r),o&4&&Oy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QE.bind(null,r),pT(t,r))));break;case 22:if(o=r.memoizedState!==null||ka,!o){s=s!==null&&s.memoizedState!==null||sn,d=ka;var m=sn;ka=o,(sn=s)&&!m?Va(t,r,(r.subtreeFlags&8772)!==0):Oa(t,r),ka=d,sn=m}break;case 30:break;default:Oa(t,r)}}function Dy(t){var s=t.alternate;s!==null&&(t.alternate=null,Dy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Kr(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,Bn=!1;function Ma(t,s,r){for(r=r.child;r!==null;)ky(t,s,r),r=r.sibling}function ky(t,s,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ue,r)}catch{}switch(r.tag){case 26:sn||oa(r,s),Ma(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:sn||oa(r,s);var o=Ut,d=Bn;Ei(r.type)&&(Ut=r.stateNode,Bn=!1),Ma(t,s,r),sc(r.stateNode),Ut=o,Bn=d;break;case 5:sn||oa(r,s);case 6:if(o=Ut,d=Bn,Ut=null,Ma(t,s,r),Ut=o,Bn=d,Ut!==null)if(Bn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(r.stateNode)}catch(m){vt(r,s,m)}else try{Ut.removeChild(r.stateNode)}catch(m){vt(r,s,m)}break;case 18:Ut!==null&&(Bn?(t=Ut,Sx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Dl(t)):Sx(Ut,r.stateNode));break;case 4:o=Ut,d=Bn,Ut=r.stateNode.containerInfo,Bn=!0,Ma(t,s,r),Ut=o,Bn=d;break;case 0:case 11:case 14:case 15:gi(2,r,s),sn||gi(4,r,s),Ma(t,s,r);break;case 1:sn||(oa(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ny(r,s,o)),Ma(t,s,r);break;case 21:Ma(t,s,r);break;case 22:sn=(o=sn)||r.memoizedState!==null,Ma(t,s,r),sn=o;break;default:Ma(t,s,r)}}function My(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Dl(t)}catch(r){vt(s,s.return,r)}}}function Oy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(r){vt(s,s.return,r)}}function BE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Cy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Cy),s;default:throw Error(i(435,t.tag))}}function Qu(t,s){var r=BE(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=XE.bind(null,t,o);o.then(d,d)}})}function qn(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],m=t,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Ei(E.type)){Ut=E.stateNode,Bn=!1;break e}break;case 5:Ut=E.stateNode,Bn=!1;break e;case 3:case 4:Ut=E.stateNode.containerInfo,Bn=!0;break e}E=E.return}if(Ut===null)throw Error(i(160));ky(m,v,d),Ut=null,Bn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Vy(s,t),s=s.sibling}var Ps=null;function Vy(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qn(s,t),Hn(t),o&4&&(gi(3,t,t.return),Yo(3,t),gi(5,t,t.return));break;case 1:qn(s,t),Hn(t),o&512&&(sn||r===null||oa(r,r.return)),o&64&&ka&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Ps;if(qn(s,t),Hn(t),o&512&&(sn||r===null||oa(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ks]||m[Wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Tn(m,o,r),m[Wt]=t,Jt(m),o=m;break e;case"link":var v=Vx("link","href",d).get(o+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break t}}m=d.createElement(o),Tn(m,o,r),d.head.appendChild(m);break;case"meta":if(v=Vx("meta","content",d).get(o+(r.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break t}}m=d.createElement(o),Tn(m,o,r),d.head.appendChild(m);break;default:throw Error(i(468,o))}m[Wt]=t,Jt(m),o=m}t.stateNode=o}else Lx(d,t.type,t.stateNode);else t.stateNode=Ox(d,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Lx(d,t.type,t.stateNode):Ox(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:qn(s,t),Hn(t),o&512&&(sn||r===null||oa(r,r.return)),r!==null&&o&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(qn(s,t),Hn(t),o&512&&(sn||r===null||oa(r,r.return)),t.flags&32){d=t.stateNode;try{zn(d,"")}catch(_e){vt(t,t.return,_e)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,zf(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Hf=!0);break;case 6:if(qn(s,t),Hn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(_e){vt(t,t.return,_e)}}break;case 3:if(hh=null,d=Ps,Ps=ch(s.containerInfo),qn(s,t),Ps=d,Hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(s.containerInfo)}catch(_e){vt(t,t.return,_e)}Hf&&(Hf=!1,Ly(t));break;case 4:o=Ps,Ps=ch(t.stateNode.containerInfo),qn(s,t),Hn(t),Ps=o;break;case 12:qn(s,t),Hn(t);break;case 31:qn(s,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qu(t,o)));break;case 13:qn(s,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=lt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qu(t,o)));break;case 22:d=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,Y=ka,ee=sn;if(ka=Y||d,sn=ee||k,qn(s,t),sn=ee,ka=Y,Hn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||k||ka||sn||wr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){k=r=s;try{if(m=k.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=k.stateNode;var se=k.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){vt(k,k.return,_e)}}}else if(s.tag===6){if(r===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(_e){vt(k,k.return,_e)}}}else if(s.tag===18){if(r===null){k=s;try{var J=k.stateNode;d?Nx(J,!0):Nx(k.stateNode,!1)}catch(_e){vt(k,k.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Qu(t,r))));break;case 19:qn(s,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qu(t,o)));break;case 30:break;case 21:break;default:qn(s,t),Hn(t)}}function Hn(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if(jy(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,m=Bf(t);Ku(t,m,d);break;case 5:var v=r.stateNode;r.flags&32&&(zn(v,""),r.flags&=-33);var E=Bf(t);Ku(t,E,v);break;case 3:case 4:var k=r.stateNode.containerInfo,Y=Bf(t);qf(t,Y,k);break;default:throw Error(i(161))}}catch(ee){vt(t,t.return,ee)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ly(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Oa(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Iy(t,s.alternate,s),s=s.sibling}function wr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:gi(4,s,s.return),wr(s);break;case 1:oa(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Ny(s,s.return,r),wr(s);break;case 27:sc(s.stateNode);case 26:case 5:oa(s,s.return),wr(s);break;case 22:s.memoizedState===null&&wr(s);break;case 30:wr(s);break;default:wr(s)}t=t.sibling}}function Va(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Va(d,m,r),Yo(4,m);break;case 1:if(Va(d,m,r),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){vt(o,o.return,Y)}if(o=m,d=o.updateQueue,d!==null){var E=o.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)m0(k[d],E)}catch(Y){vt(o,o.return,Y)}}r&&v&64&&Sy(m),Ko(m,m.return);break;case 27:Ry(m);case 26:case 5:Va(d,m,r),r&&o===null&&v&4&&Ay(m),Ko(m,m.return);break;case 12:Va(d,m,r);break;case 31:Va(d,m,r),r&&v&4&&My(d,m);break;case 13:Va(d,m,r),r&&v&4&&Oy(d,m);break;case 22:m.memoizedState===null&&Va(d,m,r),Ko(m,m.return);break;case 30:break;default:Va(d,m,r)}s=s.sibling}}function Ff(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Mo(r))}function $f(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Mo(t))}function Us(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Py(t,s,r,o),s=s.sibling}function Py(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Us(t,s,r,o),d&2048&&Yo(9,s);break;case 1:Us(t,s,r,o);break;case 3:Us(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Mo(t)));break;case 12:if(d&2048){Us(t,s,r,o),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){vt(s,s.return,k)}}else Us(t,s,r,o);break;case 31:Us(t,s,r,o);break;case 13:Us(t,s,r,o);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Us(t,s,r,o):Qo(t,s):m._visibility&2?Us(t,s,r,o):(m._visibility|=2,_l(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Ff(v,s);break;case 24:Us(t,s,r,o),d&2048&&$f(s.alternate,s);break;default:Us(t,s,r,o)}}function _l(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,E=r,k=o,Y=v.flags;switch(v.tag){case 0:case 11:case 15:_l(m,v,E,k,d),Yo(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&2?_l(m,v,E,k,d):Qo(m,v):(ee._visibility|=2,_l(m,v,E,k,d)),d&&Y&2048&&Ff(v.alternate,v);break;case 24:_l(m,v,E,k,d),d&&Y&2048&&$f(v.alternate,v);break;default:_l(m,v,E,k,d)}s=s.sibling}}function Qo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:Qo(r,o),d&2048&&Ff(o.alternate,o);break;case 24:Qo(r,o),d&2048&&$f(o.alternate,o);break;default:Qo(r,o)}s=s.sibling}}var Xo=8192;function wl(t,s,r){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)Uy(t,s,r),t=t.sibling}function Uy(t,s,r){switch(t.tag){case 26:wl(t,s,r),t.flags&Xo&&t.memoizedState!==null&&AT(r,Ps,t.memoizedState,t.memoizedProps);break;case 5:wl(t,s,r);break;case 3:case 4:var o=Ps;Ps=ch(t.stateNode.containerInfo),wl(t,s,r),Ps=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Xo,Xo=16777216,wl(t,s,r),Xo=o):wl(t,s,r));break;default:wl(t,s,r)}}function zy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Wo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];pn=o,qy(o,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&gi(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Xu(t)):Wo(t);break;default:Wo(t)}}function Xu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];pn=o,qy(o,t)}zy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:gi(8,s,s.return),Xu(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(s));break;default:Xu(s)}t=t.sibling}}function qy(t,s){for(;pn!==null;){var r=pn;switch(r.tag){case 0:case 11:case 15:gi(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,pn=o;else e:for(r=t;pn!==null;){o=pn;var d=o.sibling,m=o.return;if(Dy(o),o===r){pn=null;break e}if(d!==null){d.return=m,pn=d;break e}pn=m}}}var qE={getCacheForType:function(t){var s=wn(en),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return wn(en).controller.signal}},HE=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,Je=null,tt=0,bt=0,rs=null,yi=!1,El=!1,Gf=!1,La=0,Ft=0,xi=0,Er=0,Yf=0,ls=0,Tl=0,Jo=null,Fn=null,Kf=!1,Wu=0,Hy=0,Ju=1/0,Zu=null,bi=null,cn=0,vi=null,Sl=null,Pa=0,Qf=0,Xf=null,Fy=null,Zo=0,Wf=null;function os(){return(pt&2)!==0&&tt!==0?tt&-tt:K.T!==null?sm():eu()}function $y(){if(ls===0)if((tt&536870912)===0||rt){var t=Ln;Ln<<=1,(Ln&3932160)===0&&(Ln=262144),ls=t}else ls=536870912;return t=as.current,t!==null&&(t.flags|=32),ls}function $n(t,s,r){(t===At&&(bt===2||bt===9)||t.cancelPendingCommit!==null)&&(Nl(t,0),_i(t,tt,ls,!1)),va(t,r),((pt&2)===0||t!==At)&&(t===At&&((pt&2)===0&&(Er|=r),Ft===4&&_i(t,tt,ls,!1)),ca(t))}function Gy(t,s,r){if((pt&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||kt(t,s),d=o?GE(t,s):Zf(t,s,!0),m=o;do{if(d===0){El&&!o&&_i(t,s,0,!1);break}else{if(r=t.current.alternate,m&&!FE(r)){d=Zf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=t;d=Jo;var k=E.current.memoizedState.isDehydrated;if(k&&(Nl(E,v).flags|=256),v=Zf(E,v,!1),v!==2){if(Gf&&!k){E.errorRecoveryDisabledLanes|=m,Er|=m,d=4;break e}m=Fn,Fn=d,m!==null&&(Fn===null?Fn=m:Fn.push.apply(Fn,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Nl(t,0),_i(t,s,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:_i(o,s,ls,!yi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Wu+300-lt(),10<d)){if(_i(o,s,ls,!yi),Pn(o,0,!0)!==0)break e;Pa=s,o.timeoutHandle=Ex(Yy.bind(null,o,r,Fn,Zu,Kf,s,ls,Er,Tl,yi,m,"Throttled",-0,0),d);break e}Yy(o,r,Fn,Zu,Kf,s,ls,Er,Tl,yi,m,null,-0,0)}}break}while(!0);ca(t)}function Yy(t,s,r,o,d,m,v,E,k,Y,ee,se,X,J){if(t.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},Uy(s,m,se);var _e=(m&62914560)===m?Wu-lt():(m&4194048)===m?Hy-lt():0;if(_e=jT(se,_e),_e!==null){Pa=m,t.cancelPendingCommit=_e(tx.bind(null,t,s,m,r,o,d,v,E,k,ee,se,null,X,J)),_i(t,m,v,!Y);return}}tx(t,s,m,r,o,d,v,E,k)}function FE(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],m=d.getSnapshot;d=d.value;try{if(!ns(m(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(t,s,r,o){s&=~Yf,s&=~Er,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var m=31-ye(d),v=1<<m;o[m]=-1,d&=~v}r!==0&&Gs(t,r,s)}function eh(){return(pt&6)===0?(ec(0),!1):!0}function Jf(){if(Je!==null){if(bt===0)var t=Je.return;else t=Je,Aa=mr=null,mf(t),gl=null,Vo=0,t=Je;for(;t!==null;)Ty(t.alternate,t),t=t.return;Je=null}}function Nl(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,uT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Pa=0,Jf(),At=t,Je=r=Sa(t.current,null),tt=s,bt=0,rs=null,yi=!1,El=kt(t,s),Gf=!1,Tl=ls=Yf=Er=xi=Ft=0,Fn=Jo=null,Kf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-ye(o),m=1<<d;s|=t[d],o&=~m}return La=s,_u(),r}function Ky(t,s){Ye=null,K.H=Fo,s===pl||s===Ru?(s=u0(),bt=3):s===tf?(s=u0(),bt=4):bt=s===Cf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rs=s,Je===null&&(Ft=1,Hu(t,xs(s,t.current)))}function Qy(){var t=as.current;return t===null?!0:(tt&4194048)===tt?ws===null:(tt&62914560)===tt||(tt&536870912)!==0?t===ws:!1}function Xy(){var t=K.H;return K.H=Fo,t===null?Fo:t}function Wy(){var t=K.A;return K.A=qE,t}function th(){Ft=4,yi||(tt&4194048)!==tt&&as.current!==null||(El=!0),(xi&134217727)===0&&(Er&134217727)===0||At===null||_i(At,tt,ls,!1)}function Zf(t,s,r){var o=pt;pt|=2;var d=Xy(),m=Wy();(At!==t||tt!==s)&&(Zu=null,Nl(t,s)),s=!1;var v=Ft;e:do try{if(bt!==0&&Je!==null){var E=Je,k=rs;switch(bt){case 8:Jf(),v=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(s=!0);var Y=bt;if(bt=0,rs=null,Al(t,E,k,Y),r&&El){v=0;break e}break;default:Y=bt,bt=0,rs=null,Al(t,E,k,Y)}}$E(),v=Ft;break}catch(ee){Ky(t,ee)}while(!0);return s&&t.shellSuspendCounter++,Aa=mr=null,pt=o,K.H=d,K.A=m,Je===null&&(At=null,tt=0,_u()),v}function $E(){for(;Je!==null;)Jy(Je)}function GE(t,s){var r=pt;pt|=2;var o=Xy(),d=Wy();At!==t||tt!==s?(Zu=null,Ju=lt()+500,Nl(t,s)):El=kt(t,s);e:do try{if(bt!==0&&Je!==null){s=Je;var m=rs;t:switch(bt){case 1:bt=0,rs=null,Al(t,s,m,1);break;case 2:case 9:if(o0(m)){bt=0,rs=null,Zy(s);break}s=function(){bt!==2&&bt!==9||At!==t||(bt=7),ca(t)},m.then(s,s);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:o0(m)?(bt=0,rs=null,Zy(s)):(bt=0,rs=null,Al(t,s,m,7));break;case 5:var v=null;switch(Je.tag){case 26:v=Je.memoizedState;case 5:case 27:var E=Je;if(v?Px(v):E.stateNode.complete){bt=0,rs=null;var k=E.sibling;if(k!==null)Je=k;else{var Y=E.return;Y!==null?(Je=Y,nh(Y)):Je=null}break t}}bt=0,rs=null,Al(t,s,m,5);break;case 6:bt=0,rs=null,Al(t,s,m,6);break;case 8:Jf(),Ft=6;break e;default:throw Error(i(462))}}YE();break}catch(ee){Ky(t,ee)}while(!0);return Aa=mr=null,K.H=o,K.A=d,pt=r,Je!==null?0:(At=null,tt=0,_u(),Ft)}function YE(){for(;Je!==null&&!Le();)Jy(Je)}function Jy(t){var s=wy(t.alternate,t,La);t.memoizedProps=t.pendingProps,s===null?nh(t):Je=s}function Zy(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=gy(r,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=gy(r,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:mf(s);default:Ty(r,s),s=Je=Wg(s,La),s=wy(r,s,La)}t.memoizedProps=t.pendingProps,s===null?nh(t):Je=s}function Al(t,s,r,o){Aa=mr=null,mf(s),gl=null,Vo=0;var d=s.return;try{if(OE(t,d,s,r,tt)){Ft=1,Hu(t,xs(r,t.current)),Je=null;return}}catch(m){if(d!==null)throw Je=d,m;Ft=1,Hu(t,xs(r,t.current)),Je=null;return}s.flags&32768?(rt||o===1?t=!0:El||(tt&536870912)!==0?t=!1:(yi=t=!0,(o===2||o===9||o===3||o===6)&&(o=as.current,o!==null&&o.tag===13&&(o.flags|=16384))),ex(s,t)):nh(s)}function nh(t){var s=t;do{if((s.flags&32768)!==0){ex(s,yi);return}t=s.return;var r=PE(s.alternate,s,La);if(r!==null){Je=r;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=t}while(s!==null);Ft===0&&(Ft=5)}function ex(t,s){do{var r=UE(t.alternate,t);if(r!==null){r.flags&=32767,Je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Je=t;return}Je=t=r}while(t!==null);Ft=6,Je=null}function tx(t,s,r,o,d,m,v,E,k){t.cancelPendingCommit=null;do sh();while(cn!==0);if((pt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=zd,uo(t,r,m,v,E,k),t===At&&(Je=At=null,tt=0),Sl=s,vi=t,Pa=r,Qf=m,Xf=d,Fy=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(me,function(){return rx(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,d=ce.p,ce.p=2,v=pt,pt|=4;try{zE(t,s,r)}finally{pt=v,ce.p=d,K.T=o}}cn=1,nx(),sx(),ax()}}function nx(){if(cn===1){cn=0;var t=vi,s=Sl,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var o=ce.p;ce.p=2;var d=pt;pt|=4;try{Vy(s,t);var m=hm,v=qg(t.containerInfo),E=m.focusedElem,k=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&Bg(E.ownerDocument.documentElement,E)){if(k!==null&&Od(E)){var Y=k.start,ee=k.end;if(ee===void 0&&(ee=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(ee,E.value.length);else{var se=E.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var J=X.getSelection(),_e=E.textContent.length,Ie=Math.min(k.start,_e),Nt=k.end===void 0?Ie:Math.min(k.end,_e);!J.extend&&Ie>Nt&&(v=Nt,Nt=Ie,Ie=v);var H=zg(E,Ie),V=zg(E,Nt);if(H&&V&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var $=se.createRange();$.setStart(H.node,H.offset),J.removeAllRanges(),Ie>Nt?(J.addRange($),J.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),J.addRange($))}}}}for(se=[],J=E;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var ne=se[E];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ph=!!um,hm=um=null}finally{pt=d,ce.p=o,K.T=r}}t.current=s,cn=2}}function sx(){if(cn===2){cn=0;var t=vi,s=Sl,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var o=ce.p;ce.p=2;var d=pt;pt|=4;try{Iy(t,s.alternate,s)}finally{pt=d,ce.p=o,K.T=r}}cn=3}}function ax(){if(cn===4||cn===3){cn=0,yt();var t=vi,s=Sl,r=Pa,o=Fy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,Sl=vi=null,ix(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(bi=null),_a(r),s=s.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ue,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=K.T,d=ce.p,ce.p=2,K.T=null;try{for(var m=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];m(E.value,{componentStack:E.stack})}}finally{K.T=s,ce.p=d}}(Pa&3)!==0&&sh(),ca(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Wf?Zo++:(Zo=0,Wf=t):Zo=0,ec(0)}}function ix(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Mo(s)))}function sh(){return nx(),sx(),ax(),rx()}function rx(){if(cn!==5)return!1;var t=vi,s=Qf;Qf=0;var r=_a(Pa),o=K.T,d=ce.p;try{ce.p=32>r?32:r,K.T=null,r=Xf,Xf=null;var m=vi,v=Pa;if(cn=0,Sl=vi=null,Pa=0,(pt&6)!==0)throw Error(i(331));var E=pt;if(pt|=4,By(m.current),Py(m,m.current,v,r),pt=E,ec(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ue,m)}catch{}return!0}finally{ce.p=d,K.T=o,ix(t,s)}}function lx(t,s,r){s=xs(r,s),s=Rf(t.stateNode,s,2),t=fi(t,s,2),t!==null&&(va(t,2),ca(t))}function vt(t,s,r){if(t.tag===3)lx(t,t,r);else for(;s!==null;){if(s.tag===3){lx(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(bi===null||!bi.has(o))){t=xs(r,t),r=oy(2),o=fi(s,r,2),o!==null&&(cy(r,o,s,t),va(o,2),ca(o));break}}s=s.return}}function em(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new HE;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(Gf=!0,d.add(r),t=KE.bind(null,t,s,r),s.then(t,t))}function KE(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,At===t&&(tt&r)===r&&(Ft===4||Ft===3&&(tt&62914560)===tt&&300>lt()-Wu?(pt&2)===0&&Nl(t,0):Yf|=r,Tl===tt&&(Tl=0)),ca(t)}function ox(t,s){s===0&&(s=Jn()),t=hr(t,s),t!==null&&(va(t,s),ca(t))}function QE(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),ox(t,r)}function XE(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),ox(t,r)}function WE(t,s){return ge(t,s)}var ah=null,jl=null,tm=!1,ih=!1,nm=!1,wi=0;function ca(t){t!==jl&&t.next===null&&(jl===null?ah=jl=t:jl=jl.next=t),ih=!0,tm||(tm=!0,ZE())}function ec(t,s){if(!nm&&ih){nm=!0;do for(var r=!1,o=ah;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var v=o.suspendedLanes,E=o.pingedLanes;m=(1<<31-ye(42|t)+1)-1,m&=d&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,dx(o,m))}else m=tt,m=Pn(o,o===At?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||kt(o,m)||(r=!0,dx(o,m));o=o.next}while(r);nm=!1}}function JE(){cx()}function cx(){ih=tm=!1;var t=0;wi!==0&&cT()&&(t=wi);for(var s=lt(),r=null,o=ah;o!==null;){var d=o.next,m=ux(o,s);m===0?(o.next=null,r===null?ah=d:r.next=d,d===null&&(jl=r)):(r=o,(t!==0||(m&3)!==0)&&(ih=!0)),o=d}cn!==0&&cn!==5||ec(t),wi!==0&&(wi=0)}function ux(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-ye(m),E=1<<v,k=d[v];k===-1?((E&r)===0||(E&o)!==0)&&(d[v]=$r(E,s)):k<=s&&(t.expiredLanes|=E),m&=~E}if(s=At,r=tt,r=Pn(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(bt===2||bt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ae(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kt(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&Ae(o),_a(r)){case 2:case 8:r=Z;break;case 32:r=me;break;case 268435456:r=Pe;break;default:r=me}return o=hx.bind(null,t),r=ge(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&Ae(o),t.callbackPriority=2,t.callbackNode=null,2}function hx(t,s){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(sh()&&t.callbackNode!==r)return null;var o=tt;return o=Pn(t,t===At?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,s),ux(t,lt()),t.callbackNode!=null&&t.callbackNode===r?hx.bind(null,t):null)}function dx(t,s){if(sh())return null;Gy(t,s,!0)}function ZE(){hT(function(){(pt&6)!==0?ge(B,JE):cx()})}function sm(){if(wi===0){var t=fl;t===0&&(t=$t,$t<<=1,($t&261888)===0&&($t=256)),wi=t}return wi}function fx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jr(""+t)}function mx(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function eT(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var m=fx((d[fn]||null).action),v=o.submitter;v&&(s=(s=v[fn]||null)?fx(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new na("action","action",null,o,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(wi!==0){var k=v?mx(d,v):new FormData(d);Ef(r,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(E.preventDefault(),k=v?mx(d,v):new FormData(d),Ef(r,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var am=0;am<Ud.length;am++){var im=Ud[am],tT=im.toLowerCase(),nT=im[0].toUpperCase()+im.slice(1);Ls(tT,"on"+nT)}Ls($g,"onAnimationEnd"),Ls(Gg,"onAnimationIteration"),Ls(Yg,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(xE,"onTransitionRun"),Ls(bE,"onTransitionStart"),Ls(vE,"onTransitionCancel"),Ls(Kg,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function px(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var v=o.length-1;0<=v;v--){var E=o[v],k=E.instance,Y=E.currentTarget;if(E=E.listener,k!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=Y;try{m(d)}catch(ee){vu(ee)}d.currentTarget=null,m=k}else for(v=0;v<o.length;v++){if(E=o[v],k=E.instance,Y=E.currentTarget,E=E.listener,k!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=Y;try{m(d)}catch(ee){vu(ee)}d.currentTarget=null,m=k}}}}function Ze(t,s){var r=s[Yr];r===void 0&&(r=s[Yr]=new Set);var o=t+"__bubble";r.has(o)||(gx(s,t,2,!1),r.add(o))}function rm(t,s,r){var o=0;s&&(o|=4),gx(r,t,o,s)}var rh="_reactListening"+Math.random().toString(36).slice(2);function lm(t){if(!t[rh]){t[rh]=!0,fo.forEach(function(r){r!=="selectionchange"&&(sT.has(r)||rm(r,!1,t),rm(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[rh]||(s[rh]=!0,rm("selectionchange",!1,s))}}function gx(t,s,r,o){switch($x(s)){case 2:var d=IT;break;case 8:d=DT;break;default:d=wm}r=d.bind(null,s,r,t),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function om(t,s,r,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===d)break;if(v===4)for(v=o.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;E!==null;){if(v=Qs(E),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){o=m=v;continue e}E=E.parentNode}}o=o.return}si(function(){var Y=m,ee=ms(r),se=[];e:{var X=Qg.get(t);if(X!==void 0){var J=na,_e=t;switch(t){case"keypress":if(ir(r)===0)break e;case"keydown":case"keyup":J=yu;break;case"focusin":_e="focus",J=lr;break;case"focusout":_e="blur",J=lr;break;case"beforeblur":case"afterblur":J=lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case $g:case Gg:case Yg:J=uu;break;case Kg:J=T;break;case"scroll":case"scrollend":J=So;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ta;break;case"toggle":case"beforetoggle":J=Ge}var Ie=(s&4)!==0,Nt=!Ie&&(t==="scroll"||t==="scrollend"),H=Ie?X!==null?X+"Capture":null:X;Ie=[];for(var V=Y,$;V!==null;){var ne=V;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||H===null||(ne=ks(V,H),ne!=null&&Ie.push(nc(V,ne,$))),Nt)break;V=V.return}0<Ie.length&&(X=new J(X,_e,null,r,ee),se.push({event:X,listeners:Ie}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",X&&r!==wo&&(_e=r.relatedTarget||r.fromElement)&&(Qs(_e)||_e[Ys]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(_e=r.relatedTarget||r.toElement,J=Y,_e=_e?Qs(_e):null,_e!==null&&(Nt=u(_e),Ie=_e.tag,_e!==Nt||Ie!==5&&Ie!==27&&Ie!==6)&&(_e=null)):(J=null,_e=Y),J!==_e)){if(Ie=No,ne="onMouseLeave",H="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=Ta,ne="onPointerLeave",H="onPointerEnter",V="pointer"),Nt=J==null?X:es(J),$=_e==null?X:es(_e),X=new Ie(ne,V+"leave",J,r,ee),X.target=Nt,X.relatedTarget=$,ne=null,Qs(ee)===Y&&(Ie=new Ie(H,V+"enter",_e,r,ee),Ie.target=$,Ie.relatedTarget=Nt,ne=Ie),Nt=ne,J&&_e)t:{for(Ie=aT,H=J,V=_e,$=0,ne=H;ne;ne=Ie(ne))$++;ne=0;for(var je=V;je;je=Ie(je))ne++;for(;0<$-ne;)H=Ie(H),$--;for(;0<ne-$;)V=Ie(V),ne--;for(;$--;){if(H===V||V!==null&&H===V.alternate){Ie=H;break t}H=Ie(H),V=Ie(V)}Ie=null}else Ie=null;J!==null&&yx(se,X,J,Ie,!1),_e!==null&&Nt!==null&&yx(se,Nt,_e,Ie,!0)}}e:{if(X=Y?es(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var ht=Mg;else if(Dg(X))if(Og)ht=pE;else{ht=fE;var Te=dE}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Wr(Y.elementType)&&(ht=Mg):ht=mE;if(ht&&(ht=ht(t,Y))){kg(se,ht,r,ee);break e}Te&&Te(t,X,Y),t==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&bo(X,"number",X.value)}switch(Te=Y?es(Y):window,t){case"focusin":(Dg(Te)||Te.contentEditable==="true")&&(il=Te,Vd=Y,Io=null);break;case"focusout":Io=Vd=il=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Hg(se,r,ee);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Hg(se,r,ee)}var Ke;if(mt)e:{switch(t){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else al?or(t,r)&&(nt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(nt="onCompositionStart");nt&&(ia&&r.locale!=="ko"&&(al||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&al&&(Ke=To()):(ta=ee,Eo="value"in ta?ta.value:ta.textContent,al=!0)),Te=lh(Y,nt),0<Te.length&&(nt=new aa(nt,t,null,r,ee),se.push({event:nt,listeners:Te}),Ke?nt.data=Ke:(Ke=sl(r),Ke!==null&&(nt.data=Ke)))),(Ke=gs?oE(t,r):cE(t,r))&&(nt=lh(Y,"onBeforeInput"),0<nt.length&&(Te=new aa("onBeforeInput","beforeinput",null,r,ee),se.push({event:Te,listeners:nt}),Te.data=Ke)),eT(se,t,Y,r,ee)}px(se,s)})}function nc(t,s,r){return{instance:t,listener:s,currentTarget:r}}function lh(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ks(t,r),d!=null&&o.unshift(nc(t,d,m)),d=ks(t,s),d!=null&&o.push(nc(t,d,m))),t.tag===3)return o;t=t.return}return[]}function aT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yx(t,s,r,o,d){for(var m=s._reactName,v=[];r!==null&&r!==o;){var E=r,k=E.alternate,Y=E.stateNode;if(E=E.tag,k!==null&&k===o)break;E!==5&&E!==26&&E!==27||Y===null||(k=Y,d?(Y=ks(r,m),Y!=null&&v.unshift(nc(r,Y,k))):d||(Y=ks(r,m),Y!=null&&v.push(nc(r,Y,k)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var iT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function xx(t){return(typeof t=="string"?t:""+t).replace(iT,`
`).replace(rT,"")}function bx(t,s){return s=xx(s),xx(t)===s}function St(t,s,r,o,d,m){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||zn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&zn(t,""+o);break;case"className":ts(t,"class",o);break;case"tabIndex":ts(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(t,r,o);break;case"style":_o(t,o,m);break;case"data":if(s!=="object"){ts(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Jr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&St(t,s,"name",d.name,d,null),St(t,s,"formEncType",d.formEncType,d,null),St(t,s,"formMethod",d.formMethod,d,null),St(t,s,"formTarget",d.formTarget,d,null)):(St(t,s,"encType",d.encType,d,null),St(t,s,"method",d.method,d,null),St(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Jr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Ds);break;case"onScroll":o!=null&&Ze("scroll",t);break;case"onScrollEnd":o!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Jr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),Qr(t,"popover",o);break;case"xlinkActuate":Zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Zt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Zt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Zt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Zt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Qr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=lu.get(r)||r,Qr(t,r,o))}}function cm(t,s,r,o,d,m){switch(r){case"style":_o(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?zn(t,o):(typeof o=="number"||typeof o=="bigint")&&zn(t,""+o);break;case"onScroll":o!=null&&Ze("scroll",t);break;case"onScrollEnd":o!=null&&Ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),m=t[fn]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Qr(t,r,o)}}}function Tn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var o=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var v=r[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(t,s,m,v,r,null)}}d&&St(t,s,"srcSet",r.srcSet,r,null),o&&St(t,s,"src",r.src,r,null);return;case"input":Ze("invalid",t);var E=m=v=d=null,k=null,Y=null;for(o in r)if(r.hasOwnProperty(o)){var ee=r[o];if(ee!=null)switch(o){case"name":d=ee;break;case"type":v=ee;break;case"checked":k=ee;break;case"defaultChecked":Y=ee;break;case"value":m=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:St(t,s,o,ee,r,null)}}au(t,m,E,k,Y,v,d,!1);return;case"select":Ze("invalid",t),o=v=m=null;for(d in r)if(r.hasOwnProperty(d)&&(E=r[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:St(t,s,d,E,r,null)}s=m,r=v,t.multiple=!!o,s!=null?Za(t,!!o,s,!1):r!=null&&Za(t,!!o,r,!0);return;case"textarea":Ze("invalid",t),m=d=o=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:St(t,s,v,E,r,null)}ei(t,o,d,m);return;case"option":for(k in r)r.hasOwnProperty(k)&&(o=r[k],o!=null)&&(k==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":St(t,s,k,o,r,null));return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(o=0;o<tc.length;o++)Ze(tc[o],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(o=r[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(t,s,Y,o,r,null)}return;default:if(Wr(s)){for(ee in r)r.hasOwnProperty(ee)&&(o=r[ee],o!==void 0&&cm(t,s,ee,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&St(t,s,E,o,r,null))}function lT(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,E=null,k=null,Y=null,ee=null;for(J in r){var se=r[J];if(r.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=se;default:o.hasOwnProperty(J)||St(t,s,J,null,o,se)}}for(var X in o){var J=o[X];if(se=r[X],o.hasOwnProperty(X)&&(J!=null||se!=null))switch(X){case"type":m=J;break;case"name":d=J;break;case"checked":Y=J;break;case"defaultChecked":ee=J;break;case"value":v=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==se&&St(t,s,X,J,o,se)}}Xr(t,v,E,k,Y,ee,m,d);return;case"select":J=v=E=X=null;for(m in r)if(k=r[m],r.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":J=k;default:o.hasOwnProperty(m)||St(t,s,m,null,o,k)}for(d in o)if(m=o[d],k=r[d],o.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":X=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==k&&St(t,s,d,m,o,k)}s=E,r=v,o=J,X!=null?Za(t,!!r,X,!1):!!o!=!!r&&(s!=null?Za(t,!!r,s,!0):Za(t,!!r,r?[]:"",!1));return;case"textarea":J=X=null;for(E in r)if(d=r[E],r.hasOwnProperty(E)&&d!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:St(t,s,E,null,o,d)}for(v in o)if(d=o[v],m=r[v],o.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&St(t,s,v,d,o,m)}iu(t,X,J);return;case"option":for(var _e in r)X=r[_e],r.hasOwnProperty(_e)&&X!=null&&!o.hasOwnProperty(_e)&&(_e==="selected"?t.selected=!1:St(t,s,_e,null,o,X));for(k in o)X=o[k],J=r[k],o.hasOwnProperty(k)&&X!==J&&(X!=null||J!=null)&&(k==="selected"?t.selected=X&&typeof X!="function"&&typeof X!="symbol":St(t,s,k,X,o,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in r)X=r[Ie],r.hasOwnProperty(Ie)&&X!=null&&!o.hasOwnProperty(Ie)&&St(t,s,Ie,null,o,X);for(Y in o)if(X=o[Y],J=r[Y],o.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:St(t,s,Y,X,o,J)}return;default:if(Wr(s)){for(var Nt in r)X=r[Nt],r.hasOwnProperty(Nt)&&X!==void 0&&!o.hasOwnProperty(Nt)&&cm(t,s,Nt,void 0,o,X);for(ee in o)X=o[ee],J=r[ee],!o.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||cm(t,s,ee,X,o,J);return}}for(var H in r)X=r[H],r.hasOwnProperty(H)&&X!=null&&!o.hasOwnProperty(H)&&St(t,s,H,null,o,X);for(se in o)X=o[se],J=r[se],!o.hasOwnProperty(se)||X===J||X==null&&J==null||St(t,s,se,X,o,J)}function vx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],m=d.transferSize,v=d.initiatorType,E=d.duration;if(m&&E&&vx(v)){for(v=0,E=d.responseEnd,o+=1;o<r.length;o++){var k=r[o],Y=k.startTime;if(Y>E)break;var ee=k.transferSize,se=k.initiatorType;ee&&vx(se)&&(k=k.responseEnd,v+=ee*(k<E?1:(E-Y)/(k-Y)))}if(--o,s+=8*(m+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var um=null,hm=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function _x(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function dm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function cT(){var t=window.event;return t&&t.type==="popstate"?t===fm?!1:(fm=t,!0):(fm=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(dT)}:Ex;function dT(t){setTimeout(function(){throw t})}function Ei(t){return t==="head"}function Sx(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),Dl(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")sc(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,sc(r);for(var m=r.firstChild;m;){var v=m.nextSibling,E=m.nodeName;m[Ks]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=v}}else r==="body"&&sc(t.ownerDocument.body);r=d}while(r);Dl(s)}function Nx(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function mm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mm(r),Kr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fT(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ks])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Es(t.nextSibling),t===null)break}return null}function mT(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Es(t.nextSibling),t===null))return null;return t}function Ax(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Es(t.nextSibling),t===null))return null;return t}function pm(t){return t.data==="$?"||t.data==="$~"}function gm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pT(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Es(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ym=null;function jx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return Es(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Rx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Cx(t,s,r){switch(s=oh(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function sc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Kr(t)}var Ts=new Map,Ix=new Set;function ch(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ua=ce.d;ce.d={f:gT,r:yT,D:xT,C:bT,L:vT,m:_T,X:ET,S:wT,M:TT};function gT(){var t=Ua.f(),s=eh();return t||s}function yT(t){var s=fs(t);s!==null&&s.tag===5&&s.type==="form"?K0(s):Ua.r(t)}var Rl=typeof document>"u"?null:document;function Dx(t,s,r){var o=Rl;if(o&&typeof s=="string"&&s){var d=Un(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Ix.has(d)||(Ix.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Tn(s,"link",t),Jt(s),o.head.appendChild(s)))}}function xT(t){Ua.D(t),Dx("dns-prefetch",t,null)}function bT(t,s){Ua.C(t,s),Dx("preconnect",t,s)}function vT(t,s,r){Ua.L(t,s,r);var o=Rl;if(o&&t&&s){var d='link[rel="preload"][as="'+Un(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Un(r.imageSizes)+'"]')):d+='[href="'+Un(t)+'"]';var m=d;switch(s){case"style":m=Cl(t);break;case"script":m=Il(t)}Ts.has(m)||(t=w({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),Ts.set(m,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(ac(m))||s==="script"&&o.querySelector(ic(m))||(s=o.createElement("link"),Tn(s,"link",t),Jt(s),o.head.appendChild(s)))}}function _T(t,s){Ua.m(t,s);var r=Rl;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Un(o)+'"][href="'+Un(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Il(t)}if(!Ts.has(m)&&(t=w({rel:"modulepreload",href:t},s),Ts.set(m,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ic(m)))return}o=r.createElement("link"),Tn(o,"link",t),Jt(o),r.head.appendChild(o)}}}function wT(t,s,r){Ua.S(t,s,r);var o=Rl;if(o&&t){var d=Xs(o).hoistableStyles,m=Cl(t);s=s||"default";var v=d.get(m);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ac(m)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},r),(r=Ts.get(m))&&xm(t,r);var k=v=o.createElement("link");Jt(k),Tn(k,"link",t),k._p=new Promise(function(Y,ee){k.onload=Y,k.onerror=ee}),k.addEventListener("load",function(){E.loading|=1}),k.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uh(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:E},d.set(m,v)}}}function ET(t,s){Ua.X(t,s);var r=Rl;if(r&&t){var o=Xs(r).hoistableScripts,d=Il(t),m=o.get(d);m||(m=r.querySelector(ic(d)),m||(t=w({src:t,async:!0},s),(s=Ts.get(d))&&bm(t,s),m=r.createElement("script"),Jt(m),Tn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function TT(t,s){Ua.M(t,s);var r=Rl;if(r&&t){var o=Xs(r).hoistableScripts,d=Il(t),m=o.get(d);m||(m=r.querySelector(ic(d)),m||(t=w({src:t,async:!0,type:"module"},s),(s=Ts.get(d))&&bm(t,s),m=r.createElement("script"),Jt(m),Tn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function kx(t,s,r,o){var d=(d=Ce.current)?ch(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Cl(r.href),r=Xs(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Cl(r.href);var m=Xs(d).hoistableStyles,v=m.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=d.querySelector(ac(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Ts.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ts.set(t,r),m||ST(d,t,r,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Il(r),r=Xs(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Cl(t){return'href="'+Un(t)+'"'}function ac(t){return'link[rel="stylesheet"]['+t+"]"}function Mx(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function ST(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Tn(s,"link",r),Jt(s),t.head.appendChild(s))}function Il(t){return'[src="'+Un(t)+'"]'}function ic(t){return"script[async]"+t}function Ox(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Un(r.href)+'"]');if(o)return s.instance=o,Jt(o),o;var d=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Jt(o),Tn(o,"style",d),uh(o,r.precedence,t),s.instance=o;case"stylesheet":d=Cl(r.href);var m=t.querySelector(ac(d));if(m)return s.state.loading|=4,s.instance=m,Jt(m),m;o=Mx(r),(d=Ts.get(d))&&xm(o,d),m=(t.ownerDocument||t).createElement("link"),Jt(m);var v=m;return v._p=new Promise(function(E,k){v.onload=E,v.onerror=k}),Tn(m,"link",o),s.state.loading|=4,uh(m,r.precedence,t),s.instance=m;case"script":return m=Il(r.src),(d=t.querySelector(ic(m)))?(s.instance=d,Jt(d),d):(o=r,(d=Ts.get(m))&&(o=w({},r),bm(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Jt(d),Tn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,uh(o,r.precedence,t));return s.instance}function uh(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===s)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function xm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function bm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var hh=null;function Vx(t,s,r){if(hh===null){var o=new Map,d=hh=new Map;d.set(r,o)}else d=hh,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var m=r[d];if(!(m[Ks]||m[Wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var E=o.get(v);E?E.push(m):o.set(v,[m])}}return o}function Lx(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function NT(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Px(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AT(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Cl(o.href),m=s.querySelector(ac(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=dh.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=m,Jt(m);return}m=s.ownerDocument||s,o=Mx(o),(d=Ts.get(d))&&xm(o,d),m=m.createElement("link"),Jt(m);var v=m;v._p=new Promise(function(E,k){v.onload=E,v.onerror=k}),Tn(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=dh.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var vm=0;function jT(t,s){return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&vm===0&&(vm=62500*oT());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>vm?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fh=null;function mh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fh=new Map,s.forEach(RT,t),fh=null,dh.call(t))}function RT(t,s){if(!(s.state.loading&4)){var r=fh.get(t);if(r)var o=r.get(null);else{r=new Map,fh.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),m=r.get(v)||o,m===o&&r.set(null,d),r.set(v,d),this.count++,o=dh.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var rc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function CT(t,s,r,o,d,m,v,E,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Ux(t,s,r,o,d,m,v,E,k,Y,ee,se){return t=new CT(t,s,r,v,k,Y,ee,se,E),s=1,m===!0&&(s|=24),m=ss(3,null,null,s),t.current=m,m.stateNode=t,s=Jd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:s},nf(m),t}function zx(t){return t?(t=ol,t):ol}function Bx(t,s,r,o,d,m){d=zx(d),o.context===null?o.context=d:o.pendingContext=d,o=di(s),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=fi(t,o,s),r!==null&&($n(r,t,s),Po(r,t,s))}function qx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function _m(t,s){qx(t,s),(t=t.alternate)&&qx(t,s)}function Hx(t){if(t.tag===13||t.tag===31){var s=hr(t,67108864);s!==null&&$n(s,t,67108864),_m(t,67108864)}}function Fx(t){if(t.tag===13||t.tag===31){var s=os();s=Zi(s);var r=hr(t,s);r!==null&&$n(r,t,s),_m(t,s)}}var ph=!0;function IT(t,s,r,o){var d=K.T;K.T=null;var m=ce.p;try{ce.p=2,wm(t,s,r,o)}finally{ce.p=m,K.T=d}}function DT(t,s,r,o){var d=K.T;K.T=null;var m=ce.p;try{ce.p=8,wm(t,s,r,o)}finally{ce.p=m,K.T=d}}function wm(t,s,r,o){if(ph){var d=Em(o);if(d===null)om(t,s,o,gh,r),Gx(t,o);else if(MT(d,t,s,r,o))o.stopPropagation();else if(Gx(t,o),s&4&&-1<kT.indexOf(t)){for(;d!==null;){var m=fs(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Rn(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var k=1<<31-ye(v);E.entanglements[1]|=k,v&=~k}ca(m),(pt&6)===0&&(Ju=lt()+500,ec(0))}}break;case 31:case 13:E=hr(m,2),E!==null&&$n(E,m,2),eh(),_m(m,2)}if(m=Em(o),m===null&&om(t,s,o,gh,r),m===d)break;d=m}d!==null&&o.stopPropagation()}else om(t,s,o,null,r)}}function Em(t){return t=ms(t),Tm(t)}var gh=null;function Tm(t){if(gh=null,t=Qs(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=p(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return gh=t,null}function $x(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case B:return 2;case Z:return 8;case me:case ve:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Sm=!1,Ti=null,Si=null,Ni=null,lc=new Map,oc=new Map,Ai=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gx(t,s){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":lc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(s.pointerId)}}function cc(t,s,r,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=fs(s),s!==null&&Hx(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function MT(t,s,r,o,d){switch(s){case"focusin":return Ti=cc(Ti,t,s,r,o,d),!0;case"dragenter":return Si=cc(Si,t,s,r,o,d),!0;case"mouseover":return Ni=cc(Ni,t,s,r,o,d),!0;case"pointerover":var m=d.pointerId;return lc.set(m,cc(lc.get(m)||null,t,s,r,o,d)),!0;case"gotpointercapture":return m=d.pointerId,oc.set(m,cc(oc.get(m)||null,t,s,r,o,d)),!0}return!1}function Yx(t){var s=Qs(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,Cs(t.priority,function(){Fx(r)});return}}else if(s===31){if(s=p(r),s!==null){t.blockedOn=s,Cs(t.priority,function(){Fx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Em(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return s=fs(r),s!==null&&Hx(s),t.blockedOn=r,!1;s.shift()}return!0}function Kx(t,s,r){yh(t)&&r.delete(s)}function OT(){Sm=!1,Ti!==null&&yh(Ti)&&(Ti=null),Si!==null&&yh(Si)&&(Si=null),Ni!==null&&yh(Ni)&&(Ni=null),lc.forEach(Kx),oc.forEach(Kx)}function xh(t,s){t.blockedOn===s&&(t.blockedOn=null,Sm||(Sm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OT)))}var bh=null;function Qx(t){bh!==t&&(bh=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){bh===t&&(bh=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(Tm(o||r)===null)continue;break}var m=fs(r);m!==null&&(t.splice(s,3),s-=3,Ef(m,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Dl(t){function s(k){return xh(k,t)}Ti!==null&&xh(Ti,t),Si!==null&&xh(Si,t),Ni!==null&&xh(Ni,t),lc.forEach(s),oc.forEach(s);for(var r=0;r<Ai.length;r++){var o=Ai[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ai.length&&(r=Ai[0],r.blockedOn===null);)Yx(r),r.blockedOn===null&&Ai.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],v=d[fn]||null;if(typeof m=="function")v||Qx(r);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[fn]||null)E=v.formAction;else if(Tm(d)!==null)continue}else E=v.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Qx(r)}}}function Xx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Nm(t){this._internalRoot=t}vh.prototype.render=Nm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=os();Bx(r,o,t,s,null,null)},vh.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Bx(t.current,2,null,t,null,null),eh(),s[Ys]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var s=eu();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ai.length&&s!==0&&s<Ai[r].priority;r++);Ai.splice(r,0,t),r===0&&Yx(t)}};var Wx=e.version;if(Wx!=="19.2.4")throw Error(i(527,Wx,"19.2.4"));ce.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var VT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Ue=_h.inject(VT),ke=_h}catch{}}return hc.createRoot=function(t,s){if(!l(t))throw Error(i(299));var r=!1,o="",d=ay,m=iy,v=ry;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Ux(t,1,!1,null,null,r,o,null,d,m,v,Xx),t[Ys]=s.current,lm(t),new Nm(s)},hc.hydrateRoot=function(t,s,r){if(!l(t))throw Error(i(299));var o=!1,d="",m=ay,v=iy,E=ry,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),s=Ux(t,1,!0,s,r??null,o,d,k,m,v,E,Xx),s.context=zx(null),r=s.current,o=os(),o=Zi(o),d=di(o),d.callback=null,fi(r,d,o),r=o,s.current.lanes=r,va(s,r),ca(s),t[Ys]=s.current,lm(t),new vh(s)},hc.version="19.2.4",hc}var lb;function YT(){if(lb)return Rm.exports;lb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Rm.exports=GT(),Rm.exports}var KT=YT();const QT=i_(KT);var ob="popstate";function XT(a={}){function e(l,u){let{pathname:f="/",search:p="",hash:g=""}=Ur(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wm("",{pathname:f,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof u=="string"?u:Ac(u))}function i(l,u){Rs(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return JT(e,n,i,a)}function zt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Rs(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WT(){return Math.random().toString(36).substring(2,10)}function cb(a,e){return{usr:a.state,key:a.key,idx:e}}function Wm(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ur(e):e,state:n,key:e&&e.key||i||WT()}}function Ac({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Ur(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function JT(a,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,f=l.history,p="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function w(){p="POP";let L=b(),z=L==null?null:L-y;y=L,g&&g({action:p,location:q.location,delta:z})}function N(L,z){p="PUSH";let U=Wm(q.location,L,z);n&&n(U,L),y=b()+1;let Q=cb(U,y),ue=q.createHref(U);try{f.pushState(Q,"",ue)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(ue)}u&&g&&g({action:p,location:q.location,delta:1})}function R(L,z){p="REPLACE";let U=Wm(q.location,L,z);n&&n(U,L),y=b();let Q=cb(U,y),ue=q.createHref(U);f.replaceState(Q,"",ue),u&&g&&g({action:p,location:q.location,delta:0})}function G(L){return ZT(L)}let q={get action(){return p},get location(){return a(l,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(ob,w),g=L,()=>{l.removeEventListener(ob,w),g=null}},createHref(L){return e(l,L)},createURL:G,encodeLocation(L){let z=G(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:R,go(L){return f.go(L)}};return q}function ZT(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Ac(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function r_(a,e,n="/"){return eS(a,e,n,!1)}function eS(a,e,n,i){let l=typeof e=="string"?Ur(e):e,u=Ga(l.pathname||"/",n);if(u==null)return null;let f=l_(a);tS(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=dS(u);p=uS(f[g],y,i)}return p}function l_(a,e=[],n=[],i="",l=!1){let u=(f,p,g=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;zt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let w=qa([i,b.relativePath]),N=n.concat(b);f.children&&f.children.length>0&&(zt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),l_(f.children,e,N,w,g)),!(f.path==null&&!f.index)&&e.push({path:w,score:oS(w,f.index),routesMeta:N})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of o_(f.path))u(f,p,!0,g)}),e}function o_(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let f=o_(i.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...f),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function tS(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:cS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var nS=/^:[\w-]+$/,sS=3,aS=2,iS=1,rS=10,lS=-2,ub=a=>a==="*";function oS(a,e){let n=a.split("/"),i=n.length;return n.some(ub)&&(i+=lS),e&&(i+=aS),n.filter(l=>!ub(l)).reduce((l,u)=>l+(nS.test(u)?sS:u===""?iS:rS),i)}function cS(a,e){return a.length===e.length&&a.slice(0,-1).every((i,l)=>i===e[l])?a[a.length-1]-e[e.length-1]:0}function uS(a,e,n=!1){let{routesMeta:i}=a,l={},u="/",f=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,b=u==="/"?e:e.slice(u.length)||"/",w=qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),N=g.route;if(!w&&y&&n&&!i[i.length-1].route.index&&(w=qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(l,w.params),f.push({params:l,pathname:qa([u,w.pathname]),pathnameBase:gS(qa([u,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(u=qa([u,w.pathnameBase]))}return f}function qh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=hS(a.path,a.caseSensitive,a.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:w},N)=>{if(b==="*"){let G=p[N]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const R=p[N];return w&&!R?y[b]=void 0:y[b]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function hS(a,e=!1,n=!0){Rs(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function dS(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rs(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ga(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function mS(a,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof a=="string"?Ur(a):a,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=hb(n.substring(1),"/"):u=hb(n,e)):u=e,{pathname:u,search:yS(i),hash:xS(l)}}function hb(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function km(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rp(a){let e=pS(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Cp(a,e,n,i=!1){let l;typeof a=="string"?l=Ur(a):(l={...a},zt(!l.pathname||!l.pathname.includes("?"),km("?","pathname","search",l)),zt(!l.pathname||!l.pathname.includes("#"),km("#","pathname","hash",l)),zt(!l.search||!l.search.includes("#"),km("#","search","hash",l)));let u=a===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=n;else{let w=e.length-1;if(!i&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),w-=1;l.pathname=N.join("/")}p=w>=0?e[w]:"/"}let g=mS(l,p),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var qa=a=>a.join("/").replace(/\/\/+/g,"/"),gS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,xS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,bS=class{constructor(a,e,n,i=!1){this.status=a,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function _S(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u_(a,e){let n=a;if(typeof n!="string"||!fS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,l=!1;if(c_)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=Ga(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:l=!0}catch{Rs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h_=["POST","PUT","PATCH","DELETE"];new Set(h_);var wS=["GET",...h_];new Set(wS);var eo=C.createContext(null);eo.displayName="DataRouter";var ud=C.createContext(null);ud.displayName="DataRouterState";var ES=C.createContext(!1),d_=C.createContext({isTransitioning:!1});d_.displayName="ViewTransition";var TS=C.createContext(new Map);TS.displayName="Fetchers";var SS=C.createContext(null);SS.displayName="Await";var ds=C.createContext(null);ds.displayName="Navigation";var Pc=C.createContext(null);Pc.displayName="Location";var $s=C.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var Ip=C.createContext(null);Ip.displayName="RouteError";var f_="REACT_ROUTER_ERROR",NS="REDIRECT",AS="ROUTE_ERROR_RESPONSE";function jS(a){if(a.startsWith(`${f_}:${NS}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RS(a){if(a.startsWith(`${f_}:${AS}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bS(e.status,e.statusText,e.data)}catch{}}function CS(a,{relative:e}={}){zt(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(ds),{hash:l,pathname:u,search:f}=zc(a,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:qa([n,u])),i.createHref({pathname:p,search:f,hash:l})}function to(){return C.useContext(Pc)!=null}function Ki(){return zt(to(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Pc).location}var m_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p_(a){C.useContext(ds).static||C.useLayoutEffect(a)}function no(){let{isDataRoute:a}=C.useContext($s);return a?HS():IS()}function IS(){zt(to(),"useNavigate() may be used only in the context of a <Router> component.");let a=C.useContext(eo),{basename:e,navigator:n}=C.useContext(ds),{matches:i}=C.useContext($s),{pathname:l}=Ki(),u=JSON.stringify(Rp(i)),f=C.useRef(!1);return p_(()=>{f.current=!0}),C.useCallback((g,y={})=>{if(Rs(f.current,m_),!f.current)return;if(typeof g=="number"){n.go(g);return}let b=Cp(g,JSON.parse(u),l,y.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:qa([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,l,a])}C.createContext(null);function Uc(){let{matches:a}=C.useContext($s),e=a[a.length-1];return e?e.params:{}}function zc(a,{relative:e}={}){let{matches:n}=C.useContext($s),{pathname:i}=Ki(),l=JSON.stringify(Rp(n));return C.useMemo(()=>Cp(a,JSON.parse(l),i,e==="path"),[a,l,i,e])}function DS(a,e){return g_(a,e)}function g_(a,e,n,i,l){zt(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(ds),{matches:f}=C.useContext($s),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",w=p&&p.route;{let U=w&&w.path||"";x_(y,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let N=Ki(),R;if(e){let U=typeof e=="string"?Ur(e):e;zt(b==="/"||U.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${U.pathname}" was given in the \`location\` prop.`),R=U}else R=N;let G=R.pathname||"/",q=G;if(b!=="/"){let U=b.replace(/^\//,"").split("/");q="/"+G.replace(/^\//,"").split("/").slice(U.length).join("/")}let L=r_(a,{pathname:q});Rs(w||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Rs(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=LS(L&&L.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:qa([b,u.encodeLocation?u.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:qa([b,u.encodeLocation?u.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,n,i,l);return e&&z?C.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function kS(){let a=qS(),e=vS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:l},n):null,f)}var MS=C.createElement(kS,null),y_=class extends C.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const n=RS(a.digest);n&&(a=n)}let e=a!==void 0?C.createElement($s.Provider,{value:this.props.routeContext},C.createElement(Ip.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?C.createElement(OS,{error:a},e):e}};y_.contextType=ES;var Mm=new WeakMap;function OS({children:a,error:e}){let{basename:n}=C.useContext(ds);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=jS(e.digest);if(i){let l=Mm.get(e);if(l)throw l;let u=u_(i.location,n);if(c_&&!Mm.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Mm.set(e,f),f}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function VS({routeContext:a,match:e,children:n}){let i=C.useContext(eo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement($s.Provider,{value:a},n)}function LS(a,e=[],n=null,i=null,l=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,f=n?.errors;if(f!=null){let b=u.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);zt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let w=u[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=b),w.route.id){let{loaderData:N,errors:R}=n,G=w.route.loader&&!N.hasOwnProperty(w.route.id)&&(!R||R[w.route.id]===void 0);if(w.route.lazy||G){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(b,w)=>{i(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_S(n.matches),errorInfo:w})}:void 0;return u.reduceRight((b,w,N)=>{let R,G=!1,q=null,L=null;n&&(R=f&&w.route.id?f[w.route.id]:void 0,q=w.route.errorElement||MS,p&&(g<0&&N===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):g===N&&(G=!0,L=w.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,N+1)),U=()=>{let Q;return R?Q=q:G?Q=L:w.route.Component?Q=C.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=b,C.createElement(VS,{match:w,routeContext:{outlet:b,matches:z,isDataRoute:n!=null},children:Q})};return n&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?C.createElement(y_,{location:n.location,revalidation:n.revalidation,component:q,error:R,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:y}):U()},null)}function Dp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(a){let e=C.useContext(eo);return zt(e,Dp(a)),e}function US(a){let e=C.useContext(ud);return zt(e,Dp(a)),e}function zS(a){let e=C.useContext($s);return zt(e,Dp(a)),e}function kp(a){let e=zS(a),n=e.matches[e.matches.length-1];return zt(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function BS(){return kp("useRouteId")}function qS(){let a=C.useContext(Ip),e=US("useRouteError"),n=kp("useRouteError");return a!==void 0?a:e.errors?.[n]}function HS(){let{router:a}=PS("useNavigate"),e=kp("useNavigate"),n=C.useRef(!1);return p_(()=>{n.current=!0}),C.useCallback(async(l,u={})=>{Rs(n.current,m_),n.current&&(typeof l=="number"?await a.navigate(l):await a.navigate(l,{fromRouteId:e,...u}))},[a,e])}var db={};function x_(a,e,n){!e&&!db[a]&&(db[a]=!0,Rs(!1,n))}C.memo(FS);function FS({routes:a,future:e,state:n,onError:i}){return g_(a,void 0,n,i,e)}function $S({to:a,replace:e,state:n,relative:i}){zt(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=C.useContext(ds);Rs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext($s),{pathname:f}=Ki(),p=no(),g=Cp(a,Rp(u),f,i==="path"),y=JSON.stringify(g);return C.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function ua(a){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){zt(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[p,l,u,f]);typeof n=="string"&&(n=Ur(n));let{pathname:y="/",search:b="",hash:w="",state:N=null,key:R="default"}=n,G=C.useMemo(()=>{let q=Ga(y,p);return q==null?null:{location:{pathname:q,search:b,hash:w,state:N,key:R},navigationType:i}},[p,y,b,w,N,R,i]);return Rs(G!=null,`<Router basename="${p}"> is not able to match the URL "${y}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:C.createElement(ds.Provider,{value:g},C.createElement(Pc.Provider,{children:e,value:G}))}function YS({children:a,location:e}){return DS(Jm(a),e)}function Jm(a,e=[]){let n=[];return C.Children.forEach(a,(i,l)=>{if(!C.isValidElement(i))return;let u=[...e,l];if(i.type===C.Fragment){n.push.apply(n,Jm(i.props.children,u));return}zt(i.type===ua,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Jm(i.props.children,u)),n.push(f)}),n}var Ch="get",Ih="application/x-www-form-urlencoded";function hd(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function KS(a){return hd(a)&&a.tagName.toLowerCase()==="button"}function QS(a){return hd(a)&&a.tagName.toLowerCase()==="form"}function XS(a){return hd(a)&&a.tagName.toLowerCase()==="input"}function WS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function JS(a,e){return a.button===0&&(!e||e==="_self")&&!WS(a)}var wh=null;function ZS(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var e2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(a){return a!=null&&!e2.has(a)?(Rs(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):a}function t2(a,e){let n,i,l,u,f;if(QS(a)){let p=a.getAttribute("action");i=p?Ga(p,e):null,n=a.getAttribute("method")||Ch,l=Om(a.getAttribute("enctype"))||Ih,u=new FormData(a)}else if(KS(a)||XS(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(i=g?Ga(g,e):null,n=a.getAttribute("formmethod")||p.getAttribute("method")||Ch,l=Om(a.getAttribute("formenctype"))||Om(p.getAttribute("enctype"))||Ih,u=new FormData(p,a),!ZS()){let{name:y,type:b,value:w}=a;if(b==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,w)}}else{if(hd(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,i=null,l=Ih,f=a}return u&&l==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mp(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function n2(a,e,n,i){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${i}`:l.pathname=`${l.pathname}.${i}`:l.pathname==="/"?l.pathname=`_root.${i}`:e&&Ga(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function s2(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function i2(a,e,n){let i=await Promise.all(a.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await s2(u,n);return f.links?f.links():[]}return[]}));return c2(i.flat(1).filter(a2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function fb(a,e,n,i,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function r2(a,e,{includeHydrateFallback:n}={}){return l2(a.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function l2(a){return[...new Set(a)]}function o2(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function c2(a,e){let n=new Set;return new Set(e),a.reduce((i,l)=>{let u=JSON.stringify(o2(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function b_(){let a=C.useContext(eo);return Mp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function u2(){let a=C.useContext(ud);return Mp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Op=C.createContext(void 0);Op.displayName="FrameworkContext";function v_(){let a=C.useContext(Op);return Mp(a,"You must render this element inside a <HydratedRouter> element"),a}function h2(a,e){let n=C.useContext(Op),[i,l]=C.useState(!1),[u,f]=C.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:w}=e,N=C.useRef(null);C.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let q=z=>{z.forEach(U=>{f(U.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return N.current&&L.observe(N.current),()=>{L.disconnect()}}},[a]),C.useEffect(()=>{if(i){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[i]);let R=()=>{l(!0)},G=()=>{l(!1),f(!1)};return n?a!=="intent"?[u,N,{}]:[u,N,{onFocus:dc(p,R),onBlur:dc(g,G),onMouseEnter:dc(y,R),onMouseLeave:dc(b,G),onTouchStart:dc(w,R)}]:[!1,N,{}]}function dc(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function d2({page:a,...e}){let{router:n}=b_(),i=C.useMemo(()=>r_(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?C.createElement(m2,{page:a,matches:i,...e}):null}function f2(a){let{manifest:e,routeModules:n}=v_(),[i,l]=C.useState([]);return C.useEffect(()=>{let u=!1;return i2(a,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[a,e,n]),i}function m2({page:a,matches:e,...n}){let i=Ki(),{future:l,manifest:u,routeModules:f}=v_(),{basename:p}=b_(),{loaderData:g,matches:y}=u2(),b=C.useMemo(()=>fb(a,e,y,u,i,"data"),[a,e,y,u,i]),w=C.useMemo(()=>fb(a,e,y,u,i,"assets"),[a,e,y,u,i]),N=C.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let q=new Set,L=!1;if(e.forEach(U=>{let Q=u.routes[U.route.id];!Q||!Q.hasLoader||(!b.some(ue=>ue.route.id===U.route.id)&&U.route.id in g&&f[U.route.id]?.shouldRevalidate||Q.hasClientLoader?L=!0:q.add(U.route.id))}),q.size===0)return[];let z=n2(a,p,l.unstable_trailingSlashAwareDataRequests,"data");return L&&q.size>0&&z.searchParams.set("_routes",e.filter(U=>q.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,i,u,b,e,a,f]),R=C.useMemo(()=>r2(w,u),[w,u]),G=f2(w);return C.createElement(C.Fragment,null,N.map(q=>C.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),R.map(q=>C.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),G.map(({key:q,link:L})=>C.createElement("link",{key:q,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function p2(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var g2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g2&&(window.__reactRouterVersion="7.13.0")}catch{}function y2({basename:a,children:e,unstable_useTransitions:n,window:i}){let l=C.useRef();l.current==null&&(l.current=XT({window:i,v5Compat:!0}));let u=l.current,[f,p]=C.useState({action:u.action,location:u.location}),g=C.useCallback(y=>{n===!1?p(y):C.startTransition(()=>p(y))},[n]);return C.useLayoutEffect(()=>u.listen(g),[u,g]),C.createElement(GS,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var __=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:N,...R},G){let{basename:q,unstable_useTransitions:L}=C.useContext(ds),z=typeof y=="string"&&__.test(y),U=u_(y,q);y=U.to;let Q=CS(y,{relative:l}),[ue,oe,re]=h2(i,R),S=_2(y,{replace:f,state:p,target:g,preventScrollReset:b,relative:l,viewTransition:w,unstable_defaultShouldRevalidate:N,unstable_useTransitions:L});function A(O){e&&e(O),O.defaultPrevented||S(O)}let j=C.createElement("a",{...R,...re,href:U.absoluteURL||Q,onClick:U.isExternal||u?e:A,ref:p2(G,oe),target:g,"data-discover":!z&&n==="render"?"true":void 0});return ue&&!z?C.createElement(C.Fragment,null,j,C.createElement(d2,{page:Q})):j});Xe.displayName="Link";var x2=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:f,viewTransition:p,children:g,...y},b){let w=zc(f,{relative:y.relative}),N=Ki(),R=C.useContext(ud),{navigator:G,basename:q}=C.useContext(ds),L=R!=null&&N2(w)&&p===!0,z=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,U=N.pathname,Q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(U=U.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&q&&(Q=Ga(Q,q)||Q);const ue=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let oe=U===z||!l&&U.startsWith(z)&&U.charAt(ue)==="/",re=Q!=null&&(Q===z||!l&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),S={isActive:oe,isPending:re,isTransitioning:L},A=oe?e:void 0,j;typeof i=="function"?j=i(S):j=[i,oe?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(S):u;return C.createElement(Xe,{...y,"aria-current":A,className:j,ref:b,style:O,to:f,viewTransition:p},typeof g=="function"?g(S):g)});x2.displayName="NavLink";var b2=C.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:f=Ch,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:N,...R},G)=>{let{unstable_useTransitions:q}=C.useContext(ds),L=T2(),z=S2(p,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&__.test(p),ue=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let re=oe.nativeEvent.submitter,S=re?.getAttribute("formmethod")||f,A=()=>L(re||oe.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:N});q&&n!==!1?C.startTransition(()=>A()):A()};return C.createElement("form",{ref:G,method:U,action:z,onSubmit:i?g:ue,...R,"data-discover":!Q&&a==="render"?"true":void 0})});b2.displayName="Form";function v2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w_(a){let e=C.useContext(eo);return zt(e,v2(a)),e}function _2(a,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=no(),b=Ki(),w=zc(a,{relative:u});return C.useCallback(N=>{if(JS(N,e)){N.preventDefault();let R=n!==void 0?n:Ac(b)===Ac(w),G=()=>y(a,{replace:R,state:i,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?C.startTransition(()=>G()):G()}},[b,y,w,n,i,e,a,l,u,f,p,g])}var w2=0,E2=()=>`__${String(++w2)}__`;function T2(){let{router:a}=w_("useSubmit"),{basename:e}=C.useContext(ds),n=BS(),i=a.fetch,l=a.navigate;return C.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:b,body:w}=t2(u,e);if(f.navigate===!1){let N=f.fetcherKey||E2();await i(N,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:w,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:w,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,l,e,n])}function S2(a,{relative:e}={}){let{basename:n}=C.useContext(ds),i=C.useContext($s);zt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...zc(a||".",{relative:e})},f=Ki();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();u.search=b?`?${b}`:""}}return(!a||a===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qa([n,u.pathname])),Ac(u)}function N2(a,{relative:e}={}){let n=C.useContext(d_);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=w_("useViewTransitionState"),l=zc(a,{relative:e});if(!n.isTransitioning)return!1;let u=Ga(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=Ga(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qh(l.pathname,f)!=null||qh(l.pathname,u)!=null}const A2=()=>{};var mb={};const E_=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let l=a.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},j2=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const l=a[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],p=a[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],f=a[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,p=f?a[l+1]:0,g=l+2<a.length,y=g?a[l+2]:0,b=u>>2,w=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,R=y&63;g||(R=64,f||(N=64)),i.push(n[b],n[w],n[N],n[R])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(E_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):j2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],p=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const w=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||p==null||y==null||w==null)throw new R2;const N=u<<2|p>>4;if(i.push(N),y!==64){const R=p<<4&240|y>>2;if(i.push(R),w!==64){const G=y<<6&192|w;i.push(G)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(a){const e=E_(a);return T_.encodeByteArray(e,!0)},Hh=function(a){return C2(a).replace(/\./g,"")},S_=function(a){try{return T_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D2=()=>I2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof mb>"u")return;const a=mb.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},M2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&S_(a[1]);return e&&JSON.parse(e)},dd=()=>{try{return A2()||D2()||k2()||M2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},N_=a=>dd()?.emulatorHosts?.[a],O2=a=>{const e=N_(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},A_=()=>dd()?.config,j_=a=>dd()?.[`_${a}`];class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function so(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R_(a){return(await fetch(a,{credentials:"include"})).ok}function L2(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Hh(JSON.stringify(n)),Hh(JSON.stringify(f)),""].join(".")}const vc={};function P2(){const a={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?a.emulator.push(e):a.prod.push(e);return a}function U2(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let pb=!1;function C_(a,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||vc[a]===e||vc[a]||pb)return;vc[a]=e;function n(N){return`__firebase__banner__${N}`}const i="__firebase__banner",u=P2().prod.length>0;function f(){const N=document.getElementById(i);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{pb=!0,f()},N}function b(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=U2(i),R=n("text"),G=document.getElementById(R)||document.createElement("span"),q=n("learnmore"),L=document.getElementById(q)||document.createElement("a"),z=n("preprendIcon"),U=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Q=N.element;p(Q),b(L,q);const ue=y();g(U,z),Q.append(U,G,L,ue),document.body.appendChild(Q)}u?(G.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function B2(){const a=dd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H2(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $2(){const a=Mn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function G2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Q2="FirebaseError";class Wa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Q2,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?X2(u,i):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new Wa(l,p,i)}}function X2(a,e){return a.replace(W2,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const W2=/\{\$([^}]+)}/g;function J2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Cr(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=a[l],f=e[l];if(gb(u)&&gb(f)){if(!Cr(u,f))return!1}else if(u!==f)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function gb(a){return a!==null&&typeof a=="object"}function qc(a){const e=[];for(const[n,i]of Object.entries(a))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mc(a){const e={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function pc(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function Z2(a,e){const n=new eN(a,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Vm),l.error===void 0&&(l.error=Vm),l.complete===void 0&&(l.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function Vm(){}function hn(a){return a&&a._delegate?a._delegate:a}class Ir{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sr="[DEFAULT]";class nN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new V2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aN(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&f.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sN(a){return a===Sr?void 0:a}function aN(a){return a.instantiationMode==="EAGER"}class iN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var st;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(st||(st={}));const rN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},lN=st.INFO,oN={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},cN=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),l=oN[e];if(l)console[l](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=lN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const uN=(a,e)=>e.some(n=>a instanceof n);let yb,xb;function hN(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dN(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I_=new WeakMap,Zm=new WeakMap,D_=new WeakMap,Lm=new WeakMap,Lp=new WeakMap;function fN(a){const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(Vi(a.result)),l()},f=()=>{i(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&I_.set(n,a)}).catch(()=>{}),Lp.set(e,a),e}function mN(a){if(Zm.has(a))return;const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Zm.set(a,e)}let ep={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Zm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||D_.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function pN(a){ep=a(ep)}function gN(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(Pm(this),e,...n);return D_.set(i,e.sort?e.sort():[e]),Vi(i)}:dN().includes(a)?function(...e){return a.apply(Pm(this),e),Vi(I_.get(this))}:function(...e){return Vi(a.apply(Pm(this),e))}}function yN(a){return typeof a=="function"?gN(a):(a instanceof IDBTransaction&&mN(a),uN(a,hN())?new Proxy(a,ep):a)}function Vi(a){if(a instanceof IDBRequest)return fN(a);if(Lm.has(a))return Lm.get(a);const e=yN(a);return e!==a&&(Lm.set(a,e),Lp.set(e,a)),e}const Pm=a=>Lp.get(a);function xN(a,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),p=Vi(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Vi(f.result),g.oldVersion,g.newVersion,Vi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const bN=["get","getKey","getAll","getAllKeys","count"],vN=["put","add","delete","clear"],Um=new Map;function bb(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=vN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||bN.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Um.set(e,u),u}pN(a=>({...a,get:(e,n,i)=>bb(e,n)||a.get(e,n,i),has:(e,n)=>!!bb(e,n)||a.has(e,n)}));class _N{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wN(a){return a.getComponent()?.type==="VERSION"}const tp="@firebase/app",vb="0.14.7";const Ya=new Vp("@firebase/app"),EN="@firebase/app-compat",TN="@firebase/analytics-compat",SN="@firebase/analytics",NN="@firebase/app-check-compat",AN="@firebase/app-check",jN="@firebase/auth",RN="@firebase/auth-compat",CN="@firebase/database",IN="@firebase/data-connect",DN="@firebase/database-compat",kN="@firebase/functions",MN="@firebase/functions-compat",ON="@firebase/installations",VN="@firebase/installations-compat",LN="@firebase/messaging",PN="@firebase/messaging-compat",UN="@firebase/performance",zN="@firebase/performance-compat",BN="@firebase/remote-config",qN="@firebase/remote-config-compat",HN="@firebase/storage",FN="@firebase/storage-compat",$N="@firebase/firestore",GN="@firebase/ai",YN="@firebase/firestore-compat",KN="firebase",QN="12.8.0";const np="[DEFAULT]",XN={[tp]:"fire-core",[EN]:"fire-core-compat",[SN]:"fire-analytics",[TN]:"fire-analytics-compat",[AN]:"fire-app-check",[NN]:"fire-app-check-compat",[jN]:"fire-auth",[RN]:"fire-auth-compat",[CN]:"fire-rtdb",[IN]:"fire-data-connect",[DN]:"fire-rtdb-compat",[kN]:"fire-fn",[MN]:"fire-fn-compat",[ON]:"fire-iid",[VN]:"fire-iid-compat",[LN]:"fire-fcm",[PN]:"fire-fcm-compat",[UN]:"fire-perf",[zN]:"fire-perf-compat",[BN]:"fire-rc",[qN]:"fire-rc-compat",[HN]:"fire-gcs",[FN]:"fire-gcs-compat",[$N]:"fire-fst",[YN]:"fire-fst-compat",[GN]:"fire-vertex","fire-js":"fire-js",[KN]:"fire-js-all"};const Fh=new Map,WN=new Map,sp=new Map;function _b(a,e){try{a.container.addComponent(e)}catch(n){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function $l(a){const e=a.name;if(sp.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,a);for(const n of Fh.values())_b(n,a);for(const n of WN.values())_b(n,a);return!0}function Pp(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Ss(a){return a==null?!1:a.settings!==void 0}const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Bc("app","Firebase",JN);class ZN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const ao=QN;function k_(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i={name:np,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw Li.create("bad-app-name",{appName:String(l)});if(n||(n=A_()),!n)throw Li.create("no-options");const u=Fh.get(l);if(u){if(Cr(n,u.options)&&Cr(i,u.config))return u;throw Li.create("duplicate-app",{appName:l})}const f=new iN(l);for(const g of sp.values())f.addComponent(g);const p=new ZN(n,i,f);return Fh.set(l,p),p}function M_(a=np){const e=Fh.get(a);if(!e&&a===np&&A_())return k_();if(!e)throw Li.create("no-app",{appName:a});return e}function Pi(a,e,n){let i=XN[a]??a;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(f.join(" "));return}$l(new Ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eA="firebase-heartbeat-database",tA=1,jc="firebase-heartbeat-store";let zm=null;function O_(){return zm||(zm=xN(eA,tA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(a=>{throw Li.create("idb-open",{originalErrorMessage:a.message})})),zm}async function nA(a){try{const n=(await O_()).transaction(jc),i=await n.objectStore(jc).get(V_(a));return await n.done,i}catch(e){if(e instanceof Wa)Ya.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e?.message});Ya.warn(n.message)}}}async function wb(a,e){try{const i=(await O_()).transaction(jc,"readwrite");await i.objectStore(jc).put(e,V_(a)),await i.done}catch(n){if(n instanceof Wa)Ya.warn(n.message);else{const i=Li.create("idb-set",{originalErrorMessage:n?.message});Ya.warn(i.message)}}}function V_(a){return`${a.name}!${a.options.appId}`}const sA=1024,aA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Eb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>aA){const l=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Eb(),{heartbeatsToSend:n,unsentEntries:i}=rA(this._heartbeatsCache.heartbeats),l=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ya.warn(e),""}}}function Eb(){return new Date().toISOString().substring(0,10)}function rA(a,e=sA){const n=[];let i=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Tb(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Tb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tb(a){return Hh(JSON.stringify({version:2,heartbeats:a})).length}function oA(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}function cA(a){$l(new Ir("platform-logger",e=>new _N(e),"PRIVATE")),$l(new Ir("heartbeat",e=>new iA(e),"PRIVATE")),Pi(tp,vb,a),Pi(tp,vb,"esm2020"),Pi("fire-js","")}cA("");function L_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uA=L_,P_=new Bc("auth","Firebase",L_());const $h=new Vp("@firebase/auth");function hA(a,...e){$h.logLevel<=st.WARN&&$h.warn(`Auth (${ao}): ${a}`,...e)}function Dh(a,...e){$h.logLevel<=st.ERROR&&$h.error(`Auth (${ao}): ${a}`,...e)}function Hs(a,...e){throw Up(a,...e)}function fa(a,...e){return Up(a,...e)}function U_(a,e,n){const i={...uA(),[e]:n};return new Bc("auth","Firebase",i).create(e,{appName:a.name})}function Ha(a){return U_(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(a,...e){if(typeof a!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(n,...i)}return P_.create(a,...e)}function Oe(a,e,...n){if(!a)throw Up(e,...n)}function za(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Dh(e),new Error(e)}function Ka(a,e){a||za(e)}function ap(){return typeof self<"u"&&self.location?.href||""}function dA(){return Sb()==="http:"||Sb()==="https:"}function Sb(){return typeof self<"u"&&self.location?.protocol||null}function fA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dA()||H2()||"connection"in navigator)?navigator.onLine:!0}function mA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ka(n>e,"Short delay should be less than long delay!"),this.isMobile=z2()||F2()}get(){return fA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zp(a,e){Ka(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class z_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yA=new Hc(3e4,6e4);function Qi(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Xi(a,e,n,i,l={}){return B_(a,l,async()=>{let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});const p=qc({key:a.config.apiKey,...f}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:g,...u};return q2()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&so(a.emulatorConfig.host)&&(y.credentials="include"),z_.fetch()(await q_(a,a.config.apiHost,n,p),y)})}async function B_(a,e,n){a._canInitEmulator=!1;const i={...pA,...e};try{const l=new bA(a),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Eh(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(a,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Eh(a,"email-already-in-use",f);if(g==="USER_DISABLED")throw Eh(a,"user-disabled",f);const b=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw U_(a,b,y);Hs(a,b)}}catch(l){if(l instanceof Wa)throw l;Hs(a,"network-request-failed",{message:String(l)})}}async function Fc(a,e,n,i,l={}){const u=await Xi(a,e,n,i,l);return"mfaPendingCredential"in u&&Hs(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function q_(a,e,n,i){const l=`${e}${n}?${i}`,u=a,f=u.config.emulator?zp(a.config,l):`${a.config.apiScheme}://${l}`;return gA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function xA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fa(this.auth,"network-request-failed")),yA.get())})}}function Eh(a,e,n){const i={appName:a.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=fa(a,e,i);return l.customData._tokenResponse=n,l}function Nb(a){return a!==void 0&&a.enterprise!==void 0}class vA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _A(a,e){return Xi(a,"GET","/v2/recaptchaConfig",Qi(a,e))}async function wA(a,e){return Xi(a,"POST","/v1/accounts:delete",e)}async function Gh(a,e){return Xi(a,"POST","/v1/accounts:lookup",e)}function _c(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EA(a,e=!1){const n=hn(a),i=await n.getIdToken(e),l=Bp(i);Oe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:i,authTime:_c(Bm(l.auth_time)),issuedAtTime:_c(Bm(l.iat)),expirationTime:_c(Bm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(a){return Number(a)*1e3}function Bp(a){const[e,n,i]=a.split(".");if(e===void 0||n===void 0||i===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const l=S_(n);return l?JSON.parse(l):(Dh("Failed to decode base64 JWT payload"),null)}catch(l){return Dh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ab(a){const e=Bp(a);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Rc(a,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Wa&&TA(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function TA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class SA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yh(a){const e=a.auth,n=await a.getIdToken(),i=await Rc(a,Gh(e,{idToken:n}));Oe(i?.users.length,e,"internal-error");const l=i.users[0];a._notifyReloadListener(l);const u=l.providerUserInfo?.length?H_(l.providerUserInfo):[],f=AA(a.providerData,u),p=a.isAnonymous,g=!(a.email&&l.passwordHash)&&!f?.length,y=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ip(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,b)}async function NA(a){const e=hn(a);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AA(a,e){return[...a.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function H_(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jA(a,e){const n=await B_(a,{},async()=>{const i=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await q_(a,l,"/v1/token",`key=${u}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return a.emulatorConfig&&so(a.emulatorConfig.host)&&(g.credentials="include"),z_.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RA(a,e){return Xi(a,"POST","/v2/accounts:revokeToken",Qi(a,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Ab(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:u}=await jA(e,n);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:u}=n,f=new zl;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),l&&(Oe(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Oe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return za("not implemented")}}function Ri(a,e){Oe(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class zs{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new SA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ip(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EA(this,e)}reload(){return NA(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await Rc(this,wA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:R,providerData:G,stsTokenManager:q}=n;Oe(w&&q,e,"internal-error");const L=zl.fromJSON(this.name,q);Oe(typeof w=="string",e,"internal-error"),Ri(i,e.name),Ri(l,e.name),Oe(typeof N=="boolean",e,"internal-error"),Oe(typeof R=="boolean",e,"internal-error"),Ri(u,e.name),Ri(f,e.name),Ri(p,e.name),Ri(g,e.name),Ri(y,e.name),Ri(b,e.name);const z=new zs({uid:w,auth:e,email:l,emailVerified:N,displayName:i,isAnonymous:R,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:b});return G&&Array.isArray(G)&&(z.providerData=G.map(U=>({...U}))),g&&(z._redirectEventId=g),z}static async _fromIdTokenResponse(e,n,i=!1){const l=new zl;l.updateFromServerResponse(n);const u=new zs({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Yh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];Oe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?H_(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new zl;p.updateFromIdToken(i);const g=new zs({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ip(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const jb=new Map;function Ba(a){Ka(a instanceof Function,"Expected a class definition");let e=jb.get(a);return e?(Ka(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,jb.set(a,e),e)}class F_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}F_.type="NONE";const Rb=F_;function kh(a,e,n){return`firebase:${a}:${e}:${n}`}class Bl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=kh(this.userKey,l.apiKey,u),this.fullPersistenceKey=kh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?zs._fromGetAccountInfoResponse(this.auth,n,e):null}return zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bl(Ba(Rb),e,i);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Ba(Rb);const f=kh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const b=await y._get(f);if(b){let w;if(typeof b=="string"){const N=await Gh(e,{idToken:b}).catch(()=>{});if(!N)break;w=await zs._fromGetAccountInfoResponse(e,N,b)}else w=zs._fromJSON(e,b);y!==u&&(p=w),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Bl(u,e,i):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Bl(u,e,i))}}function Cb(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(W_(e))return"Webos";if(G_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(Q_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(n);if(i?.length===2)return i[1]}return"Other"}function $_(a=Mn()){return/firefox\//i.test(a)}function G_(a=Mn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(a=Mn()){return/crios\//i.test(a)}function K_(a=Mn()){return/iemobile/i.test(a)}function Q_(a=Mn()){return/android/i.test(a)}function X_(a=Mn()){return/blackberry/i.test(a)}function W_(a=Mn()){return/webos/i.test(a)}function qp(a=Mn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function CA(a=Mn()){return qp(a)&&!!window.navigator?.standalone}function IA(){return $2()&&document.documentMode===10}function J_(a=Mn()){return qp(a)||Q_(a)||W_(a)||X_(a)||/windows phone/i.test(a)||K_(a)}function Z_(a,e=[]){let n;switch(a){case"Browser":n=Cb(Mn());break;case"Worker":n=`${Cb(Mn())}-${a}`;break;default:n=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${i}`}class DA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function kA(a,e={}){return Xi(a,"GET","/v2/passwordPolicy",Qi(a,e))}const MA=6;class OA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class VA{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new DA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ba(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),i=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ss(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(Ha(this));const n=e?hn(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ba(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kA(this),n=new OA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ba(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Ba(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zr(a){return hn(a)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LA(a){fd=a}function ew(a){return fd.loadJS(a)}function PA(){return fd.recaptchaEnterpriseScript}function UA(){return fd.gapiScript}function zA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class BA{constructor(){this.enterprise=new qA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HA="recaptcha-enterprise",tw="NO_RECAPTCHA";class FA{constructor(e){this.type=HA,this.auth=zr(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{_A(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new vA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;Nb(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(tw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{i(this.auth).then(p=>{if(!n&&Nb(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PA();g.length!==0&&(g+=p),ew(g).then(()=>{l(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function Db(a,e,n,i=!1,l=!1){const u=new FA(a);let f;if(l)f=tw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rp(a,e,n,i,l){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Db(a,e,n,n==="getOobCode");return i(a,u)}else return i(a,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Db(a,e,n,n==="getOobCode");return i(a,f)}else return Promise.reject(u)})}function $A(a,e){const n=Pp(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Cr(u,e??{}))return l;Hs(l,"already-initialized")}return n.initialize({options:e})}function GA(a,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ba);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e?.popupRedirectResolver)}function YA(a,e,n){const i=zr(a);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=nw(e),{host:f,port:p}=KA(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(Cr(y,i.config.emulator)&&Cr(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,so(f)?(R_(`${u}//${f}${g}`),C_("Auth",!0)):QA()}function nw(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function KA(a){const e=nw(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:kb(i.substr(u.length+1))}}else{const[u,f]=i.split(":");return{host:u,port:kb(f)}}}function kb(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function QA(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,n){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}async function XA(a,e){return Xi(a,"POST","/v1/accounts:signUp",e)}async function WA(a,e){return Fc(a,"POST","/v1/accounts:signInWithPassword",Qi(a,e))}async function JA(a,e){return Fc(a,"POST","/v1/accounts:signInWithEmailLink",Qi(a,e))}async function ZA(a,e){return Fc(a,"POST","/v1/accounts:signInWithEmailLink",Qi(a,e))}class Cc extends Hp{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Cc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Cc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,n,"signInWithPassword",WA);case"emailLink":return JA(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,i,"signUpPassword",XA);case"emailLink":return ZA(e,{idToken:n,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ql(a,e){return Fc(a,"POST","/v1/accounts:signInWithIdp",Qi(a,e))}const ej="http://localhost";class Dr extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...u}=n;if(!i||!l)return null;const f=new Dr(i,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ql(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ql(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ql(e,n)}buildRequest(){const e={requestUri:ej,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}function tj(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nj(a){const e=mc(pc(a)).link,n=e?mc(pc(e)).deep_link_id:null,i=mc(pc(a)).deep_link_id;return(i?mc(pc(i)).link:null)||i||n||e||a}class Fp{constructor(e){const n=mc(pc(e)),i=n.apiKey??null,l=n.oobCode??null,u=tj(n.mode??null);Oe(i&&l&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nj(e);try{return new Fp(n)}catch{return null}}}class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Fp.parseLink(n);return Oe(i,"argument-error"),Cc._fromEmailAndCode(e,i.code,i.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $c extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ii extends $c{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";class Di extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Di.credential(n,i)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";class ki extends $c{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";class Mi extends $c{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Mi.credential(n,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";async function sj(a,e){return Fc(a,"POST","/v1/accounts:signUp",Qi(a,e))}class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const u=await zs._fromIdTokenResponse(e,i,l),f=Mb(i);return new kr({user:u,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=Mb(i);return new kr({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function Mb(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Kh extends Wa{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Kh(e,n,i,l)}}function aw(a,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(a,u,e,i):u})}async function aj(a,e,n=!1){const i=await Rc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return kr._forOperation(a,"link",i)}async function ij(a,e,n=!1){const{auth:i}=a;if(Ss(i.app))return Promise.reject(Ha(i));const l="reauthenticate";try{const u=await Rc(a,aw(i,l,e,a),n);Oe(u.idToken,i,"internal-error");const f=Bp(u.idToken);Oe(f,i,"internal-error");const{sub:p}=f;return Oe(a.uid===p,i,"user-mismatch"),kr._forOperation(a,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hs(i,"user-mismatch"),u}}async function iw(a,e,n=!1){if(Ss(a.app))return Promise.reject(Ha(a));const i="signIn",l=await aw(a,i,e),u=await kr._fromIdTokenResponse(a,i,l);return n||await a._updateCurrentUser(u.user),u}async function rj(a,e){return iw(zr(a),e)}async function rw(a){const e=zr(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lj(a,e,n){if(Ss(a.app))return Promise.reject(Ha(a));const i=zr(a),f=await rp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&rw(a),g}),p=await kr._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(p.user),p}function lw(a,e,n){return Ss(a.app)?Promise.reject(Ha(a)):rj(hn(a),io.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rw(a),i})}function oj(a,e,n,i){return hn(a).onIdTokenChanged(e,n,i)}function cj(a,e,n){return hn(a).beforeAuthStateChanged(e,n)}function uj(a,e,n,i){return hn(a).onAuthStateChanged(e,n,i)}function hj(a){return hn(a).signOut()}const Qh="__sak";class ow{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dj=1e3,fj=10;class cw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);IA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,fj):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cw.type="LOCAL";const mj=cw;class uw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uw.type="SESSION";const hw=uw;function pj(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new md(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await pj(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];function $p(a="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return a+n}class gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=$p("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},i);f={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ma(){return window}function yj(a){ma().location.href=a}function dw(){return typeof ma().WorkerGlobalScope<"u"&&typeof ma().importScripts=="function"}async function xj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bj(){return navigator?.serviceWorker?.controller||null}function vj(){return dw()?self:null}const fw="firebaseLocalStorageDb",_j=1,Xh="firebaseLocalStorage",mw="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(a,e){return a.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function wj(){const a=indexedDB.deleteDatabase(fw);return new Gc(a).toPromise()}function lp(){const a=indexedDB.open(fw,_j);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(Xh,{keyPath:mw})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(Xh)?e(i):(i.close(),await wj(),e(await lp()))})})}async function Ob(a,e,n){const i=pd(a,!0).put({[mw]:e,value:n});return new Gc(i).toPromise()}async function Ej(a,e){const n=pd(a,!1).get(e),i=await new Gc(n).toPromise();return i===void 0?null:i.value}function Vb(a,e){const n=pd(a,!0).delete(e);return new Gc(n).toPromise()}const Tj=800,Sj=3;class pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Sj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(vj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xj(),!this.activeServiceWorker)return;this.sender=new gj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await Ob(e,Qh,"1"),await Vb(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ob(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Ej(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=pd(l,!1).getAll();return new Gc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pw.type="LOCAL";const Nj=pw;new Hc(3e4,6e4);function Aj(a,e){return e?Ba(e):(Oe(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Gp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jj(a){return iw(a.auth,new Gp(a),a.bypassAuthState)}function Rj(a){const{auth:e,user:n}=a;return Oe(n,e,"internal-error"),ij(n,new Gp(a),a.bypassAuthState)}async function Cj(a){const{auth:e,user:n}=a;return Oe(n,e,"internal-error"),aj(n,new Gp(a),a.bypassAuthState)}class gw{constructor(e,n,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jj;case"linkViaPopup":case"linkViaRedirect":return Cj;case"reauthViaPopup":case"reauthViaRedirect":return Rj;default:Hs(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ij=new Hc(2e3,1e4);class Ll extends gw{constructor(e,n,i,l,u){super(e,n,l,u),this.provider=i,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ij.get())};e()}}Ll.currentPopupAction=null;const Dj="pendingRedirect",Mh=new Map;class kj extends gw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const i=await Mj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mj(a,e){const n=Lj(e),i=Vj(a);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function Oj(a,e){Mh.set(a._key(),e)}function Vj(a){return Ba(a._redirectPersistence)}function Lj(a){return kh(Dj,a.config.apiKey,a.name)}async function Pj(a,e,n=!1){if(Ss(a.app))return Promise.reject(Ha(a));const i=zr(a),l=Aj(i,e),f=await new kj(i,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}const Uj=600*1e3;class zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lb(e))}saveEventToCache(e){this.cachedEventUids.add(Lb(e)),this.lastProcessedEventTime=Date.now()}}function Lb(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function yw({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function Bj(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yw(a);default:return!1}}async function qj(a,e={}){return Xi(a,"GET","/v1/projects",e)}const Hj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;async function $j(a){if(a.config.emulator)return;const{authorizedDomains:e}=await qj(a);for(const n of e)try{if(Gj(n))return}catch{}Hs(a,"unauthorized-domain")}function Gj(a){const e=ap(),{protocol:n,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&i===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!Fj.test(n))return!1;if(Hj.test(a))return i===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}const Yj=new Hc(3e4,6e4);function Pb(){const a=ma().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function Kj(a){return new Promise((e,n)=>{function i(){Pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pb(),n(fa(a,"network-request-failed"))},timeout:Yj.get()})}if(ma().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ma().gapi?.load)i();else{const l=zA("iframefcb");return ma()[l]=()=>{gapi.load?i():n(fa(a,"network-request-failed"))},ew(`${UA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function Qj(a){return Oh=Oh||Kj(a),Oh}const Xj=new Hc(5e3,15e3),Wj="__/auth/iframe",Jj="emulator/auth/iframe",Zj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tR(a){const e=a.config;Oe(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?zp(e,Jj):`https://${a.config.authDomain}/${Wj}`,i={apiKey:e.apiKey,appName:a.name,v:ao},l=eR.get(a.config.apiHost);l&&(i.eid=l);const u=a._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${qc(i).slice(1)}`}async function nR(a){const e=await Qj(a),n=ma().gapi;return Oe(n,a,"internal-error"),e.open({where:document.body,url:tR(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zj,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const f=fa(a,"network-request-failed"),p=ma().setTimeout(()=>{u(f)},Xj.get());function g(){ma().clearTimeout(p),l(i)}i.ping(g).then(g,()=>{u(f)})}))}const sR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aR=500,iR=600,rR="_blank",lR="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oR(a,e,n,i=aR,l=iR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...sR,width:i.toString(),height:l.toString(),top:u,left:f},y=Mn().toLowerCase();n&&(p=Y_(y)?rR:n),$_(y)&&(e=e||lR,g.scrollbars="yes");const b=Object.entries(g).reduce((N,[R,G])=>`${N}${R}=${G},`,"");if(CA(y)&&p!=="_self")return cR(e||"",p),new Ub(null);const w=window.open(e||"",p,b);Oe(w,a,"popup-blocked");try{w.focus()}catch{}return new Ub(w)}function cR(a,e){const n=document.createElement("a");n.href=a,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const uR="__/auth/handler",hR="emulator/auth/handler",dR=encodeURIComponent("fac");async function zb(a,e,n,i,l,u){Oe(a.config.authDomain,a,"auth-domain-config-required"),Oe(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:i,v:ao,eventId:l};if(e instanceof sw){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",J2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))f[b]=w}if(e instanceof $c){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(f.scopes=b.join(","))}a.tenantId&&(f.tid=a.tenantId);const p=f;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await a._getAppCheckToken(),y=g?`#${dR}=${encodeURIComponent(g)}`:"";return`${fR(a)}?${qc(p).slice(1)}${y}`}function fR({config:a}){return a.emulator?zp(a,hR):`https://${a.authDomain}/${uR}`}const qm="webStorageSupport";class mR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=Pj,this._overrideRedirectResult=Oj}async _openPopup(e,n,i,l){Ka(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zb(e,n,i,ap(),l);return oR(e,u,$p())}async _openRedirect(e,n,i,l){await this._originValidation(e);const u=await zb(e,n,i,ap(),l);return yj(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ka(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await nR(e),i=new zj(e);return n.register("authEvent",l=>(Oe(l?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},l=>{const u=l?.[0]?.[qm];u!==void 0&&n(!!u),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$j(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J_()||G_()||qp()}}const pR=mR;var Bb="@firebase/auth",qb="1.12.0";class gR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(a){$l(new Ir("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=i.options;Oe(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:f,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z_(a)},y=new VA(i,l,u,g);return GA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$l(new Ir("auth-internal",e=>{const n=zr(e.getProvider("auth").getImmediate());return(i=>new gR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(Bb,qb,yR(a)),Pi(Bb,qb,"esm2020")}const bR=300,vR=j_("authIdTokenMaxAge")||bR;let Hb=null;const _R=a=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>vR)return;const l=n?.token;Hb!==l&&(Hb=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function wR(a=M_()){const e=Pp(a,"auth");if(e.isInitialized())return e.getImmediate();const n=$A(a,{popupRedirectResolver:pR,persistence:[Nj,mj,hw]}),i=j_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const f=_R(u.toString());cj(n,f,()=>f(n.currentUser)),oj(n,p=>f(p))}}const l=N_("auth");return l&&YA(n,`http://${l}`),n}function ER(){return document.getElementsByTagName("head")?.[0]??document}LA({loadJS(a){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=l=>{const u=fa("internal-error");u.customData=l,n(u)},i.type="text/javascript",i.charset="UTF-8",ER().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var TR="firebase",SR="12.8.0";Pi(TR,SR,"app");var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ui,xw;(function(){var a;function e(S,A){function j(){}j.prototype=A.prototype,S.F=A.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(O,D,P){for(var I=Array(arguments.length-2),De=2;De<arguments.length;De++)I[De-2]=arguments[De];return A.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,A,j){j||(j=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(D=0;D<16;++D)O[D]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=S.g[0],j=S.g[1],D=S.g[2];let P=S.g[3],I;I=A+(P^j&(D^P))+O[0]+3614090360&4294967295,A=j+(I<<7&4294967295|I>>>25),I=P+(D^A&(j^D))+O[1]+3905402710&4294967295,P=A+(I<<12&4294967295|I>>>20),I=D+(j^P&(A^j))+O[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=j+(A^D&(P^A))+O[3]+3250441966&4294967295,j=D+(I<<22&4294967295|I>>>10),I=A+(P^j&(D^P))+O[4]+4118548399&4294967295,A=j+(I<<7&4294967295|I>>>25),I=P+(D^A&(j^D))+O[5]+1200080426&4294967295,P=A+(I<<12&4294967295|I>>>20),I=D+(j^P&(A^j))+O[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=j+(A^D&(P^A))+O[7]+4249261313&4294967295,j=D+(I<<22&4294967295|I>>>10),I=A+(P^j&(D^P))+O[8]+1770035416&4294967295,A=j+(I<<7&4294967295|I>>>25),I=P+(D^A&(j^D))+O[9]+2336552879&4294967295,P=A+(I<<12&4294967295|I>>>20),I=D+(j^P&(A^j))+O[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=j+(A^D&(P^A))+O[11]+2304563134&4294967295,j=D+(I<<22&4294967295|I>>>10),I=A+(P^j&(D^P))+O[12]+1804603682&4294967295,A=j+(I<<7&4294967295|I>>>25),I=P+(D^A&(j^D))+O[13]+4254626195&4294967295,P=A+(I<<12&4294967295|I>>>20),I=D+(j^P&(A^j))+O[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=j+(A^D&(P^A))+O[15]+1236535329&4294967295,j=D+(I<<22&4294967295|I>>>10),I=A+(D^P&(j^D))+O[1]+4129170786&4294967295,A=j+(I<<5&4294967295|I>>>27),I=P+(j^D&(A^j))+O[6]+3225465664&4294967295,P=A+(I<<9&4294967295|I>>>23),I=D+(A^j&(P^A))+O[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=j+(P^A&(D^P))+O[0]+3921069994&4294967295,j=D+(I<<20&4294967295|I>>>12),I=A+(D^P&(j^D))+O[5]+3593408605&4294967295,A=j+(I<<5&4294967295|I>>>27),I=P+(j^D&(A^j))+O[10]+38016083&4294967295,P=A+(I<<9&4294967295|I>>>23),I=D+(A^j&(P^A))+O[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=j+(P^A&(D^P))+O[4]+3889429448&4294967295,j=D+(I<<20&4294967295|I>>>12),I=A+(D^P&(j^D))+O[9]+568446438&4294967295,A=j+(I<<5&4294967295|I>>>27),I=P+(j^D&(A^j))+O[14]+3275163606&4294967295,P=A+(I<<9&4294967295|I>>>23),I=D+(A^j&(P^A))+O[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=j+(P^A&(D^P))+O[8]+1163531501&4294967295,j=D+(I<<20&4294967295|I>>>12),I=A+(D^P&(j^D))+O[13]+2850285829&4294967295,A=j+(I<<5&4294967295|I>>>27),I=P+(j^D&(A^j))+O[2]+4243563512&4294967295,P=A+(I<<9&4294967295|I>>>23),I=D+(A^j&(P^A))+O[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=j+(P^A&(D^P))+O[12]+2368359562&4294967295,j=D+(I<<20&4294967295|I>>>12),I=A+(j^D^P)+O[5]+4294588738&4294967295,A=j+(I<<4&4294967295|I>>>28),I=P+(A^j^D)+O[8]+2272392833&4294967295,P=A+(I<<11&4294967295|I>>>21),I=D+(P^A^j)+O[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=j+(D^P^A)+O[14]+4259657740&4294967295,j=D+(I<<23&4294967295|I>>>9),I=A+(j^D^P)+O[1]+2763975236&4294967295,A=j+(I<<4&4294967295|I>>>28),I=P+(A^j^D)+O[4]+1272893353&4294967295,P=A+(I<<11&4294967295|I>>>21),I=D+(P^A^j)+O[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=j+(D^P^A)+O[10]+3200236656&4294967295,j=D+(I<<23&4294967295|I>>>9),I=A+(j^D^P)+O[13]+681279174&4294967295,A=j+(I<<4&4294967295|I>>>28),I=P+(A^j^D)+O[0]+3936430074&4294967295,P=A+(I<<11&4294967295|I>>>21),I=D+(P^A^j)+O[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=j+(D^P^A)+O[6]+76029189&4294967295,j=D+(I<<23&4294967295|I>>>9),I=A+(j^D^P)+O[9]+3654602809&4294967295,A=j+(I<<4&4294967295|I>>>28),I=P+(A^j^D)+O[12]+3873151461&4294967295,P=A+(I<<11&4294967295|I>>>21),I=D+(P^A^j)+O[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=j+(D^P^A)+O[2]+3299628645&4294967295,j=D+(I<<23&4294967295|I>>>9),I=A+(D^(j|~P))+O[0]+4096336452&4294967295,A=j+(I<<6&4294967295|I>>>26),I=P+(j^(A|~D))+O[7]+1126891415&4294967295,P=A+(I<<10&4294967295|I>>>22),I=D+(A^(P|~j))+O[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=j+(P^(D|~A))+O[5]+4237533241&4294967295,j=D+(I<<21&4294967295|I>>>11),I=A+(D^(j|~P))+O[12]+1700485571&4294967295,A=j+(I<<6&4294967295|I>>>26),I=P+(j^(A|~D))+O[3]+2399980690&4294967295,P=A+(I<<10&4294967295|I>>>22),I=D+(A^(P|~j))+O[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=j+(P^(D|~A))+O[1]+2240044497&4294967295,j=D+(I<<21&4294967295|I>>>11),I=A+(D^(j|~P))+O[8]+1873313359&4294967295,A=j+(I<<6&4294967295|I>>>26),I=P+(j^(A|~D))+O[15]+4264355552&4294967295,P=A+(I<<10&4294967295|I>>>22),I=D+(A^(P|~j))+O[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=j+(P^(D|~A))+O[13]+1309151649&4294967295,j=D+(I<<21&4294967295|I>>>11),I=A+(D^(j|~P))+O[4]+4149444226&4294967295,A=j+(I<<6&4294967295|I>>>26),I=P+(j^(A|~D))+O[11]+3174756917&4294967295,P=A+(I<<10&4294967295|I>>>22),I=D+(A^(P|~j))+O[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=j+(P^(D|~A))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+P&4294967295}i.prototype.v=function(S,A){A===void 0&&(A=S.length);const j=A-this.blockSize,O=this.C;let D=this.h,P=0;for(;P<A;){if(D==0)for(;P<=j;)l(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<A;)if(O[D++]=S.charCodeAt(P++),D==this.blockSize){l(this,O),D=0;break}}else for(;P<A;)if(O[D++]=S[P++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=A},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,j=0;j<4;++j)for(let O=0;O<32;O+=8)S[A++]=this.g[j]>>>O&255;return S};function u(S,A){var j=p;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=A(S)}function f(S,A){this.h=A;const j=[];let O=!0;for(let D=S.length-1;D>=0;D--){const P=S[D]|0;O&&P==A||(j[D]=P,O=!1)}this.g=j}var p={};function g(S){return-128<=S&&S<128?u(S,function(A){return new f([A|0],A<0?-1:0)}):new f([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return w;if(S<0)return L(y(-S));const A=[];let j=1;for(let O=0;S>=j;O++)A[O]=S/j|0,j*=4294967296;return new f(A,0)}function b(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return L(b(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(A,8));let O=w;for(let P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P);const I=parseInt(S.substring(P,P+D),A);D<8?(D=y(Math.pow(A,D)),O=O.j(D).add(y(I))):(O=O.j(j),O=O.add(y(I)))}return O}var w=g(0),N=g(1),R=g(16777216);a=f.prototype,a.m=function(){if(q(this))return-L(this).m();let S=0,A=1;for(let j=0;j<this.g.length;j++){const O=this.i(j);S+=(O>=0?O:4294967296+O)*A,A*=4294967296}return S},a.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(G(this))return"0";if(q(this))return"-"+L(this).toString(S);const A=y(Math.pow(S,6));var j=this;let O="";for(;;){const D=ue(j,A).g;j=z(j,D.j(A));let P=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=D,G(j))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},a.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function G(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function q(S){return S.h==-1}a.l=function(S){return S=z(this,S),q(S)?-1:G(S)?0:1};function L(S){const A=S.g.length,j=[];for(let O=0;O<A;O++)j[O]=~S.g[O];return new f(j,~S.h).add(N)}a.abs=function(){return q(this)?L(this):this},a.add=function(S){const A=Math.max(this.g.length,S.g.length),j=[];let O=0;for(let D=0;D<=A;D++){let P=O+(this.i(D)&65535)+(S.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);O=I>>>16,P&=65535,I&=65535,j[D]=I<<16|P}return new f(j,j[j.length-1]&-2147483648?-1:0)};function z(S,A){return S.add(L(A))}a.j=function(S){if(G(this)||G(S))return w;if(q(this))return q(S)?L(this).j(L(S)):L(L(this).j(S));if(q(S))return L(this.j(L(S)));if(this.l(R)<0&&S.l(R)<0)return y(this.m()*S.m());const A=this.g.length+S.g.length,j=[];for(var O=0;O<2*A;O++)j[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<S.g.length;D++){const P=this.i(O)>>>16,I=this.i(O)&65535,De=S.i(D)>>>16,Me=S.i(D)&65535;j[2*O+2*D]+=I*Me,U(j,2*O+2*D),j[2*O+2*D+1]+=P*Me,U(j,2*O+2*D+1),j[2*O+2*D+1]+=I*De,U(j,2*O+2*D+1),j[2*O+2*D+2]+=P*De,U(j,2*O+2*D+2)}for(S=0;S<A;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=A;S<2*A;S++)j[S]=0;return new f(j,0)};function U(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function Q(S,A){this.g=S,this.h=A}function ue(S,A){if(G(A))throw Error("division by zero");if(G(S))return new Q(w,w);if(q(S))return A=ue(L(S),A),new Q(L(A.g),L(A.h));if(q(A))return A=ue(S,L(A)),new Q(L(A.g),A.h);if(S.g.length>30){if(q(S)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var j=N,O=A;O.l(S)<=0;)j=oe(j),O=oe(O);var D=re(j,1),P=re(O,1);for(O=re(O,2),j=re(j,2);!G(O);){var I=P.add(O);I.l(S)<=0&&(D=D.add(j),P=I),O=re(O,1),j=re(j,1)}return A=z(S,D.j(A)),new Q(D,A)}for(D=w;S.l(A)>=0;){for(j=Math.max(1,Math.floor(S.m()/A.m())),O=Math.ceil(Math.log(j)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=y(j),I=P.j(A);q(I)||I.l(S)>0;)j-=O,P=y(j),I=P.j(A);G(P)&&(P=N),D=D.add(P),S=z(S,I)}return new Q(D,S)}a.B=function(S){return ue(this,S).h},a.and=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let O=0;O<A;O++)j[O]=this.i(O)&S.i(O);return new f(j,this.h&S.h)},a.or=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let O=0;O<A;O++)j[O]=this.i(O)|S.i(O);return new f(j,this.h|S.h)},a.xor=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let O=0;O<A;O++)j[O]=this.i(O)^S.i(O);return new f(j,this.h^S.h)};function oe(S){const A=S.g.length+1,j=[];for(let O=0;O<A;O++)j[O]=S.i(O)<<1|S.i(O-1)>>>31;return new f(j,S.h)}function re(S,A){const j=A>>5;A%=32;const O=S.g.length-j,D=[];for(let P=0;P<O;P++)D[P]=A>0?S.i(P+j)>>>A|S.i(P+j+1)<<32-A:S.i(P+j);return new f(D,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,xw=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Ui=f}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bw,gc,vw,Vh,op,_w,ww,Ew;(function(){var a,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function l(h,x){if(x)e:{var _=i;h=h.split(".");for(var T=0;T<h.length-1;T++){var F=h[T];if(!(F in _))break e;_=_[F]}h=h[h.length-1],T=_[h],x=x(T),x!=T&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(x){var _=[],T;for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&_.push([T,x[T]]);return _}});var u=u||{},f=this||self;function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,_){return h.call.apply(h.bind,arguments)}function y(h,x,_){return y=g,y.apply(null,arguments)}function b(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function w(h,x){function _(){}_.prototype=x.prototype,h.Z=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(T,F,W){for(var de=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)de[Ge-2]=arguments[Ge];return x.prototype[F].apply(T,de)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const x=h.length;if(x>0){const _=Array(x);for(let T=0;T<x;T++)_[T]=h[T];return _}return[]}function G(h,x){for(let T=1;T<arguments.length;T++){const F=arguments[T];var _=typeof F;if(_=_!="object"?_:F?Array.isArray(F)?"array":_:"null",_=="array"||_=="object"&&typeof F.length=="number"){_=h.length||0;const W=F.length||0;h.length=_+W;for(let de=0;de<W;de++)h[_+de]=F[de]}else h.push(F)}}class q{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function L(h){f.setTimeout(()=>{throw h},0)}function z(){var h=S;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class U{constructor(){this.h=this.g=null}add(x,_){const T=Q.get();T.set(x,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Q=new q(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,re=!1,S=new U,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(j)}};function j(){for(var h;h=z();){try{h.h.call(h.g)}catch(_){L(_)}var x=Q;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}re=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};f.addEventListener("test",_,x),f.removeEventListener("test",_,x)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function De(h,x){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}w(De,D),De.prototype.init=function(h,x){const _=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(_=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),K=0;function ce(h,x,_,T,F){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!T,this.ha=F,this.key=++K,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $e(h,x,_){for(const T in h)x.call(_,h[T],T,h)}function Be(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function M(h){const x={};for(const _ in h)x[_]=h[_];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,x){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)h[_]=T[_];for(let W=0;W<te.length;W++)_=te[W],Object.prototype.hasOwnProperty.call(T,_)&&(h[_]=T[_])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,x,_,T,F){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const de=Ce(h,x,T,F);return de>-1?(x=h[de],_||(x.fa=!1)):(x=new ce(x,this.src,W,!!T,F),x.fa=_,h.push(x)),x};function Ee(h,x){const _=x.type;if(_ in h.g){var T=h.g[_],F=Array.prototype.indexOf.call(T,x,void 0),W;(W=F>=0)&&Array.prototype.splice.call(T,F,1),W&&(we(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ce(h,x,_,T){for(let F=0;F<h.length;++F){const W=h[F];if(!W.da&&W.listener==x&&W.capture==!!_&&W.ha==T)return F}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),wt={};function et(h,x,_,T,F){if(Array.isArray(x)){for(let W=0;W<x.length;W++)et(h,x[W],_,T,F);return null}return _=jn(_),h&&h[Me]?h.J(x,_,p(T)?!!T.capture:!1,F):yn(h,x,_,!1,T,F)}function yn(h,x,_,T,F,W){if(!x)throw Error("Invalid event type");const de=p(F)?!!F.capture:!!F;let Ge=bn(h);if(Ge||(h[qe]=Ge=new pe(h)),_=Ge.add(x,_,T,de,W),_.proxy)return _;if(T=Xn(),_.proxy=T,T.src=h,T.listener=_,h.addEventListener)P||(F=de),F===void 0&&(F=!1),h.addEventListener(x.toString(),T,F);else if(h.attachEvent)h.attachEvent(Xt(x.toString()),T);else if(h.addListener&&h.removeListener)h.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xn(){function h(_){return x.call(h.src,h.listener,_)}const x=xn;return h}function It(h,x,_,T,F){if(Array.isArray(x))for(var W=0;W<x.length;W++)It(h,x[W],_,T,F);else T=p(T)?!!T.capture:!!T,_=jn(_),h&&h[Me]?(h=h.i,W=String(x).toString(),W in h.g&&(x=h.g[W],_=Ce(x,_,T,F),_>-1&&(we(x[_]),Array.prototype.splice.call(x,_,1),x.length==0&&(delete h.g[W],h.h--)))):h&&(h=bn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ce(x,_,T,F)),(_=h>-1?x[h]:null)&&Lt(_))}function Lt(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Me])Ee(x.i,h);else{var _=h.type,T=h.proxy;x.removeEventListener?x.removeEventListener(_,T,h.capture):x.detachEvent?x.detachEvent(Xt(_),T):x.addListener&&x.removeListener&&x.removeListener(T),(_=bn(x))?(Ee(_,h),_.h==0&&(_.src=null,x[qe]=null)):we(h)}}}function Xt(h){return h in wt?wt[h]:wt[h]="on"+h}function xn(h,x){if(h.da)h=!0;else{x=new De(x,this);const _=h.listener,T=h.ha||h.src;h.fa&&Lt(h),h=_.call(T,x)}return h}function bn(h){return h=h[qe],h instanceof pe?h:null}var Wn="__closure_events_fn_"+(Math.random()*1e9>>>0);function jn(h){return typeof h=="function"?h:(h[Wn]||(h[Wn]=function(x){return h.handleEvent(x)}),h[Wn])}function ft(){O.call(this),this.i=new pe(this),this.M=this,this.G=null}w(ft,O),ft.prototype[Me]=!0,ft.prototype.removeEventListener=function(h,x,_,T){It(this,h,x,_,T)};function ge(h,x){var _,T=h.G;if(T)for(_=[];T;T=T.G)_.push(T);if(h=h.M,T=x.type||x,typeof x=="string")x=new D(x,h);else if(x instanceof D)x.target=x.target||h;else{var F=x;x=new D(T,h),he(x,F)}F=!0;let W,de;if(_)for(de=_.length-1;de>=0;de--)W=x.g=_[de],F=Ae(W,T,!0,x)&&F;if(W=x.g=h,F=Ae(W,T,!0,x)&&F,F=Ae(W,T,!1,x)&&F,_)for(de=0;de<_.length;de++)W=x.g=_[de],F=Ae(W,T,!1,x)&&F}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const _=h.g[x];for(let T=0;T<_.length;T++)we(_[T]);delete h.g[x],h.h--}}this.G=null},ft.prototype.J=function(h,x,_,T){return this.i.add(String(h),x,!1,_,T)},ft.prototype.K=function(h,x,_,T){return this.i.add(String(h),x,!0,_,T)};function Ae(h,x,_,T){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let F=!0;for(let W=0;W<x.length;++W){const de=x[W];if(de&&!de.da&&de.capture==_){const Ge=de.listener,Gt=de.ha||de.src;de.fa&&Ee(h.i,de),F=Ge.call(Gt,T)!==!1&&F}}return F&&!T.defaultPrevented}function Le(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:f.setTimeout(h,x||0)}function yt(h){h.g=Le(()=>{h.g=null,h.i&&(h.i=!1,yt(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class lt extends O{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(h){O.call(this),this.h=h,this.g={}}w(ot,O);var B=[];function Z(h){$e(h.g,function(x,_){this.g.hasOwnProperty(_)&&Lt(x)},h),h.g={}}ot.prototype.N=function(){ot.Z.N.call(this),Z(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=f.JSON.stringify,ve=f.JSON.parse,Pe=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function le(){}function fe(){}var Ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}w(ke,D);function We(){D.call(this,"c")}w(We,D);var ye={},Ne=null;function Dt(){return Ne=Ne||new ft}ye.Ia="serverreachability";function dn(h){D.call(this,ye.Ia,h)}w(dn,D);function $t(h){const x=Dt();ge(x,new dn(x))}ye.STAT_EVENT="statevent";function Ln(h,x){D.call(this,ye.STAT_EVENT,h),this.stat=x}w(Ln,D);function Rt(h){const x=Dt();ge(x,new Ln(x,h))}ye.Ja="timingevent";function Rn(h,x){D.call(this,ye.Ja,h),this.size=x}w(Rn,D);function Pn(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},x)}function kt(){this.g=!0}kt.prototype.ua=function(){this.g=!1};function $r(h,x,_,T,F,W){h.info(function(){if(h.g)if(W){var de="",Ge=W.split("&");for(let mt=0;mt<Ge.length;mt++){var Gt=Ge[mt].split("=");if(Gt.length>1){const Pt=Gt[0];Gt=Gt[1];const gs=Pt.split("_");de=gs.length>=2&&gs[1]=="type"?de+(Pt+"="+Gt+"&"):de+(Pt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+x+`
`+_+`
`+de})}function Jn(h,x,_,T,F,W,de){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+x+`
`+_+`
`+W+" "+de})}function Zn(h,x,_,T){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+uo(h,_)+(T?" "+T:"")})}function va(h,x){h.info(function(){return"TIMEOUT: "+x})}kt.prototype.info=function(){};function uo(h,x){if(!h.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var _=W[h];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var F=T[0];if(F!="noop"&&F!="stop"&&F!="close")for(let de=1;de<T.length;de++)T[de]=""}}}}return me(W)}catch{return x}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function Zi(){}w(Zi,le),Zi.prototype.g=function(){return new XMLHttpRequest},ho=new Zi;function _a(h){return encodeURIComponent(String(h))}function eu(h){var x=1;h=h.split(":");const _=[];for(;x>0&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function Cs(h,x,_,T){this.j=h,this.i=x,this.l=_,this.S=T||1,this.V=new ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var Wt={},fn={};function Ys(h,x,_){h.M=1,h.A=er(Zt(x)),h.u=_,h.R=!0,Yr(h,null)}function Yr(h,x){h.F=Date.now(),Ks(h),h.B=Zt(h.A);var _=h.B,T=h.S;Array.isArray(T)||(T=[String(T)]),Wr(_.i,"t",T),h.C=0,_=h.j.L,h.h=new Is,h.g=pu(h.j,_?x:null,!h.u),h.P>0&&(h.O=new lt(y(h.Y,h,h.g),h.P)),x=h.V,_=h.g,T=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(B[0]=F.toString()),F=B);for(let W=0;W<F.length;W++){const de=et(_,F[W],T||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),$t(),$r(h.i,h.v,h.B,h.l,h.S,h.u)}Cs.prototype.ba=function(h){h=h.target;const x=this.O;x&&Ms(h)==3?x.j():this.Y(h)},Cs.prototype.Y=function(h){try{if(h==this.g)e:{const Ge=Ms(this.g),Gt=this.g.ya(),mt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Ge!=4||Gt==7||(Gt==8||mt<=0?$t(3):$t(2)),Qs(this);var x=this.g.ca();this.X=x;var _=Dd(this);if(this.o=x==200,Jn(this.i,this.v,this.B,this.l,this.S,Ge,x),this.o){if(this.U&&!this.L){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var W=T;break t}}W=null}if(h=W)Zn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xs(this,h);else{this.o=!1,this.m=3,Rt(12),es(this),fs(this);break e}}if(this.R){h=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=nu(this,_),Pt==fn){Ge==4&&(this.m=4,Rt(14),h=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Wt){this.m=4,Rt(15),Zn(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else Zn(this.i,this.l,Pt,null),Xs(this,Pt);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||_.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Zn(this.i,this.l,_,"[Invalid Chunked Response]"),es(this),fs(this);else if(_.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ao(de),de.P=!0,Rt(11))}}else Zn(this.i,this.l,_,null),Xs(this,_);Ge==4&&es(this),this.o&&!this.K&&(Ge==4?hu(this.j,this):(this.o=!1,Ks(this)))}else Ea(this.g),x==400&&_.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),es(this),fs(this)}}}catch{}};function Dd(h){if(!tu(h))return h.g.la();const x=vn(h.g);if(x==="")return"";let _="";const T=x.length,F=Ms(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return es(h),fs(h),"";h.h.i=new f.TextDecoder}for(let W=0;W<T;W++)h.h.h=!0,_+=h.h.i.decode(x[W],{stream:!(F&&W==T-1)});return x.length=0,h.h.g+=_,h.C=0,h.h.g}function tu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nu(h,x){var _=h.C,T=x.indexOf(`
`,_);return T==-1?fn:(_=Number(x.substring(_,T)),isNaN(_)?Wt:(T+=1,T+_>x.length?fn:(x=x.slice(T,T+_),h.C=T+_,x)))}Cs.prototype.cancel=function(){this.K=!0,es(this)};function Ks(h){h.T=Date.now()+h.H,Kr(h,h.H)}function Kr(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Pn(y(h.aa,h),x)}function Qs(h){h.D&&(f.clearTimeout(h.D),h.D=null)}Cs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(va(this.i,this.B),this.M!=2&&($t(),Rt(17)),es(this),this.m=2,fs(this)):Kr(this,this.T-h)};function fs(h){h.j.I==0||h.K||hu(h.j,h)}function es(h){Qs(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Z(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Xs(h,x){try{var _=h.j;if(_.I!=0&&(_.g==h||Js(_.h,h))){if(!h.L&&Js(_.h,h)&&_.I==3){try{var T=_.Ba.g.parse(x)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)nl(_),ii(_);else break e;lr(_),Rt(18)}}else _.xa=F[1],0<_.xa-_.K&&F[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Pn(y(_.Va,_),6e3));Ws(_.h)<=1&&_.ta&&(_.ta=void 0)}else aa(_,11)}else if((h.L||_.g==h)&&nl(_),!I(x))for(F=_.Ba.g.parse(x),x=0;x<F.length;x++){let mt=F[x];const Pt=mt[0];if(!(Pt<=_.K))if(_.K=Pt,mt=mt[1],_.I==2)if(mt[0]=="c"){_.M=mt[1],_.ba=mt[2];const gs=mt[3];gs!=null&&(_.ka=gs,_.j.info("VER="+_.ka));const ia=mt[4];ia!=null&&(_.za=ia,_.j.info("SVER="+_.za));const Os=mt[5];Os!=null&&typeof Os=="number"&&Os>0&&(T=1.5*Os,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Vs=h.g;if(Vs){const or=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var W=T.h;W.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(po(W,W.h),W.h=null))}if(T.G){const sl=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(T.wa=sl,xt(T.J,T.G,sl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var de=h;if(T.na=mu(T,T.L?T.ba:null,T.W),de.L){go(T.h,de);var Ge=de,Gt=T.O;Gt&&(Ge.H=Gt),Ge.D&&(Qs(Ge),Ks(Ge)),T.g=de}else cu(T);_.i.length>0&&sa(_)}else mt[0]!="stop"&&mt[0]!="close"||aa(_,7);else _.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?aa(_,7):So(_):mt[0]!="noop"&&_.l&&_.l.qa(mt),_.A=0)}}$t(4)}catch{}}var Jt=class{constructor(h,x){this.g=h,this.map=x}};function fo(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ws(h){return h.h?1:h.g?h.g.size:0}function Js(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function po(h,x){h.g?h.g.add(x):h.h=x}function go(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.G);return x}return R(h.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(h,x){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const T=h[_].indexOf("=");let F,W=null;T>=0?(F=h[_].substring(0,T),W=h[_].substring(T+1)):F=h[_],x(F,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ts(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof ts?(this.l=h.l,mn(this,h.j),this.o=h.o,this.g=h.g,Ja(this,h.u),this.h=h.h,xo(this,lu(h.i)),this.m=h.m):h&&(x=String(h).match(su))?(this.l=!1,mn(this,x[1]||"",!0),this.o=Zs(x[2]||""),this.g=Zs(x[3]||"",!0),Ja(this,x[4]),this.h=Zs(x[5]||"",!0),xo(this,x[6]||"",!0),this.m=Zs(x[7]||"")):(this.l=!1,this.i=new ei(null,this.l))}ts.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(tr(x,Xr,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(tr(x,Xr,!0),"@"),h.push(_a(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(tr(_,_.charAt(0)=="/"?bo:au,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",tr(_,iu)),h.join("")},ts.prototype.resolve=function(h){const x=Zt(this);let _=!!h.j;_?mn(x,h.j):_=!!h.o,_?x.o=h.o:_=!!h.g,_?x.g=h.g:_=h.u!=null;var T=h.h;if(_)Ja(x,h.u);else if(_=!!h.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var F=x.h.lastIndexOf("/");F!=-1&&(T=x.h.slice(0,F+1)+T)}if(F=T,F==".."||F==".")T="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){T=F.lastIndexOf("/",0)==0,F=F.split("/");const W=[];for(let de=0;de<F.length;){const Ge=F[de++];Ge=="."?T&&de==F.length&&W.push(""):Ge==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),T&&de==F.length&&W.push("")):(W.push(Ge),T=!0)}T=W.join("/")}else T=F}return _?x.h=T:_=h.i.toString()!=="",_?xo(x,lu(h.i)):_=!!h.m,_&&(x.m=h.m),x};function Zt(h){return new ts(h)}function mn(h,x,_){h.j=_?Zs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Ja(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function xo(h,x,_){x instanceof ei?(h.i=x,Jr(h.i,h.l)):(_||(x=tr(x,Za)),h.i=new ei(x,h.l))}function xt(h,x,_){h.i.set(x,_)}function er(h){return xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function tr(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,Un),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xr=/[#\/\?@]/g,au=/[#\?:]/g,bo=/[#\?]/g,Za=/[#\?@]/g,iu=/#/g;function ei(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qr(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}a=ei.prototype,a.add=function(h,x){zn(this),this.i=null,h=ti(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function ru(h,x){zn(h),x=ti(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function vo(h,x){return zn(h),x=ti(h,x),h.g.has(x)}a.forEach=function(h,x){zn(this),this.g.forEach(function(_,T){_.forEach(function(F){h.call(x,F,T,this)},this)},this)};function _o(h,x){zn(h);let _=[];if(typeof x=="string")vo(h,x)&&(_=_.concat(h.g.get(ti(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)_=_.concat(h[x]);return _}a.set=function(h,x){return zn(this),this.i=null,h=ti(this,h),vo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},a.get=function(h,x){return h?(h=_o(this,h),h.length>0?String(h[0]):x):x};function Wr(h,x,_){ru(h,x),_.length>0&&(h.i=null,h.g.set(ti(h,x),R(_)),h.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let T=0;T<x.length;T++){var _=x[T];const F=_a(_);_=_o(this,_);for(let W=0;W<_.length;W++){let de=F;_[W]!==""&&(de+="="+_a(_[W])),h.push(de)}}return this.i=h.join("&")};function lu(h){const x=new ei;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function ti(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Jr(h,x){x&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(_,T){const F=T.toLowerCase();T!=F&&(ru(this,T),Wr(this,F,_))},h)),h.j=x}function Ds(h,x){const _=new kt;if(f.Image){const T=new Image;T.onload=b(ms,_,"TestLoadImage: loaded",!0,x,T),T.onerror=b(ms,_,"TestLoadImage: error",!1,x,T),T.onabort=b(ms,_,"TestLoadImage: abort",!1,x,T),T.ontimeout=b(ms,_,"TestLoadImage: timeout",!1,x,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else x(!1)}function wo(h,x){const _=new kt,T=new AbortController,F=setTimeout(()=>{T.abort(),ms(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:T.signal}).then(W=>{clearTimeout(F),W.ok?ms(_,"TestPingServer: ok",!0,x):ms(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(F),ms(_,"TestPingServer: error",!1,x)})}function ms(h,x,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function ni(){this.g=new Pe}function ea(h){this.i=h.Sb||null,this.h=h.ab||!1}w(ea,le),ea.prototype.g=function(){return new nr(this.i,this.h)};function nr(h,x){ft.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(nr,ft),a=nr.prototype,a.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,ks(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||f).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?si(this):ks(this),this.readyState==3&&Zr(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,si(this))},a.Na=function(h){this.g&&(this.response=h,si(this))},a.ga=function(){this.g&&si(this)};function si(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ks(h)}a.setRequestHeader=function(h,x){this.A.append(h,x)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function ks(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ps(h){let x="";return $e(h,function(_,T){x+=T,x+=":",x+=_,x+=`\r
`}),x}function sr(h,x,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=ps(_),typeof h=="string"?_!=null&&_a(_):xt(h,x,_))}function Et(h){ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Et,ft);var ta=/^https?$/i,Eo=["POST","PUT"];a=Et.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,x,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){ar(this,W);return}if(h=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())_.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=f.FormData&&h instanceof f.FormData,!(Array.prototype.indexOf.call(Eo,x,void 0)>=0)||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of _)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){ar(this,W)}};function ar(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,To(h),wa(h)}function To(h){h.A||(h.A=!0,ge(h,"complete"),ge(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ge(this,"complete"),ge(this,"abort"),wa(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Et.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ir(this):this.Xa())},a.Xa=function(){ir(this)};function ir(h){if(h.h&&typeof u<"u"){if(h.v&&Ms(h)==4)setTimeout(h.Ca.bind(h),0);else if(ge(h,"readystatechange"),Ms(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var T;if(T=W===0){let de=String(h.D).match(su)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),T=!ta.test(de?de.toLowerCase():"")}_=T}if(_)ge(h,"complete"),ge(h,"success");else{h.o=6;try{var F=Ms(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",To(h)}}finally{wa(h)}}}}function wa(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,x||ge(h,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Ms(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Ms(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),ve(x)}};function vn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ea(h){const x={};h=(h.g&&Ms(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<h.length;T++){if(I(h[T]))continue;var _=eu(h[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=x[F]||[];x[F]=W,W.push(_)}Be(x,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function ai(h){this.za=0,this.i=[],this.j=new kt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,h),this.Za=na("retryDelaySeedMs",1e4,h),this.Ta=na("forwardChannelMaxRetries",2,h),this.va=na("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(h&&h.concurrentRequestLimit),this.Ba=new ni,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ai.prototype,a.ka=8,a.I=1,a.connect=function(h,x,_,T){Rt(0),this.W=h,this.H=x||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),sa(this)};function So(h){if(el(h),h.I==3){var x=h.V++,_=Zt(h.J);if(xt(_,"SID",h.M),xt(_,"RID",x),xt(_,"TYPE","terminate"),rr(h,_),x=new Cs(h,h.j,x),x.M=2,x.A=er(Zt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(x.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=x.A,_=!0),_||(x.g=pu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ks(x)}fu(h)}function ii(h){h.g&&(Ao(h),h.g.cancel(),h.g=null)}function el(h){ii(h),h.v&&(f.clearTimeout(h.v),h.v=null),nl(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&f.clearTimeout(h.m),h.m=null)}function sa(h){if(!mo(h.h)&&!h.m){h.m=!0;var x=h.Ea;oe||A(),re||(oe(),re=!0),S.add(x,h),h.D=0}}function tl(h,x){return Ws(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Pn(y(h.Ea,h,x),du(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Cs(this,this.j,h);let W=this.o;if(this.U&&(W?(W=M(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(F.J=W,W=null),this.S)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(x+=T,x>4096){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=ou(this,F,x),_=Zt(this.J),xt(_,"RID",h),xt(_,"CVER",22),this.G&&xt(_,"X-HTTP-Session-Id",this.G),rr(this,_),W&&(this.R?x="headers="+_a(ps(W))+"&"+x:this.u&&sr(_,this.u,W)),po(this.h,F),this.Ra&&xt(_,"TYPE","init"),this.S?(xt(_,"$req",x),xt(_,"SID","null"),F.U=!0,Ys(F,_,null)):Ys(F,_,x),this.I=2}}else this.I==3&&(h?No(this,h):this.i.length==0||mo(this.h)||No(this))};function No(h,x){var _;x?_=x.l:_=h.V++;const T=Zt(h.J);xt(T,"SID",h.M),xt(T,"RID",_),xt(T,"AID",h.K),rr(h,T),h.u&&h.o&&sr(T,h.u,h.o),_=new Cs(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),x&&(h.i=x.G.concat(h.i)),x=ou(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),po(h.h,_),Ys(_,T,x)}function rr(h,x){h.H&&$e(h.H,function(_,T){xt(x,T,_)}),h.l&&$e({},function(_,T){xt(x,T,_)})}function ou(h,x,_){_=Math.min(h.i.length,_);const T=h.l?y(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ge=-1;for(;;){const Gt=["count="+_];Ge==-1?_>0?(Ge=F[0].g,Gt.push("ofs="+Ge)):Ge=0:Gt.push("ofs="+Ge);let mt=!0;for(let Pt=0;Pt<_;Pt++){var W=F[Pt].g;const gs=F[Pt].map;if(W-=Ge,W<0)Ge=Math.max(0,F[Pt].g-100),mt=!1;else try{W="req"+W+"_"||"";try{var de=gs instanceof Map?gs:Object.entries(gs);for(const[ia,Os]of de){let Vs=Os;p(Os)&&(Vs=me(Os)),Gt.push(W+ia+"="+encodeURIComponent(Vs))}}catch(ia){throw Gt.push(W+"type="+encodeURIComponent("_badmap")),ia}}catch{T&&T(gs)}}if(mt){de=Gt.join("&");break e}}de=void 0}return h=h.i.splice(0,_),x.G=h,de}function cu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;oe||A(),re||(oe(),re=!0),S.add(x,h),h.A=0}}function lr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Pn(y(h.Da,h),du(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Pn(y(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ii(this),uu(this))};function Ao(h){h.B!=null&&(f.clearTimeout(h.B),h.B=null)}function uu(h){h.g=new Cs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Zt(h.na);xt(x,"RID","rpc"),xt(x,"SID",h.M),xt(x,"AID",h.K),xt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&xt(x,"TO",h.ia),xt(x,"TYPE","xmlhttp"),rr(h,x),h.u&&h.o&&sr(x,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=er(Zt(x)),_.u=null,_.R=!0,Yr(_,h)}a.Va=function(){this.C!=null&&(this.C=null,ii(this),lr(this),Rt(19))};function nl(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function hu(h,x){var _=null;if(h.g==x){nl(h),Ao(h),h.g=null;var T=2}else if(Js(h.h,x))_=x.G,go(h.h,x),T=1;else return;if(h.I!=0){if(x.o)if(T==1){_=x.u?x.u.length:0,x=Date.now()-x.F;var F=h.D;T=Dt(),ge(T,new Rn(T,_)),sa(h)}else cu(h);else if(F=x.m,F==3||F==0&&x.X>0||!(T==1&&tl(h,x)||T==2&&lr(h)))switch(_&&_.length>0&&(x=h.h,x.i=x.i.concat(_)),F){case 1:aa(h,5);break;case 4:aa(h,10);break;case 3:aa(h,6);break;default:aa(h,2)}}}function du(h,x){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*x}function aa(h,x){if(h.j.info("Error code "+x),x==2){var _=y(h.bb,h),T=h.Ua;const F=!T;T=new ts(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||mn(T,"https"),er(T),F?Ds(T.toString(),_):wo(T.toString(),_)}else Rt(2);h.I=0,h.l&&h.l.pa(x),fu(h),el(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function fu(h){if(h.I=0,h.ja=[],h.l){const x=yo(h.h);(x.length!=0||h.i.length!=0)&&(G(h.ja,x),G(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function mu(h,x,_){var T=_ instanceof ts?Zt(_):new ts(_);if(T.g!="")x&&(T.g=x+"."+T.g),Ja(T,T.u);else{var F=f.location;T=F.protocol,x=x?x+"."+F.hostname:F.hostname,F=+F.port;const W=new ts(null);T&&mn(W,T),x&&(W.g=x),F&&Ja(W,F),_&&(W.h=_),T=W}return _=h.G,x=h.wa,_&&x&&xt(T,_,x),xt(T,"VER",h.ka),rr(h,T),T}function pu(h,x,_){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Et(new ea({ab:_})):new Et(h.ma),x.Fa(h.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}a=gu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ri(){}ri.prototype.g=function(h,x){return new On(h,x)};function On(h,x){ft.call(this),this.g=new ai(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!I(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ta(this)}w(On,ft),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){So(this.g)},On.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=me(h),h=_);x.i.push(new Jt(x.Ya++,h)),x.I==3&&sa(x)},On.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,On.Z.N.call(this)};function yu(h){ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}w(yu,ke);function xu(){We.call(this),this.status=1}w(xu,We);function Ta(h){this.g=h}w(Ta,gu),Ta.prototype.ra=function(){ge(this.g,"a")},Ta.prototype.qa=function(h){ge(this.g,new yu(h))},Ta.prototype.pa=function(h){ge(this.g,new xu)},Ta.prototype.oa=function(){ge(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,Ew=function(){return new ri},ww=function(){return Dt()},_w=ye,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Vh=Gs,Gr.COMPLETE="complete",vw=Gr,fe.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",ft.prototype.listen=ft.prototype.J,gc=fe,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,bw=Et}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let ro="12.8.0";function NR(a){ro=a}const Mr=new Vp("@firebase/firestore");function kl(){return Mr.logLevel}function be(a,...e){if(Mr.logLevel<=st.DEBUG){const n=e.map(Yp);Mr.debug(`Firestore (${ro}): ${a}`,...n)}}function Qa(a,...e){if(Mr.logLevel<=st.ERROR){const n=e.map(Yp);Mr.error(`Firestore (${ro}): ${a}`,...n)}}function Gl(a,...e){if(Mr.logLevel<=st.WARN){const n=e.map(Yp);Mr.warn(`Firestore (${ro}): ${a}`,...n)}}function Yp(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function Ve(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Tw(a,i,n)}function Tw(a,e,n){let i=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qa(i),new Error(i)}function gt(a,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,a||Tw(e,l,i)}function Fe(a,e){return a}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Sw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zi,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string",31837,{l:i}),new Sw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class CR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class IR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const i=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const l=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $b(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $b(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=kR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function at(a,e){return a<e?-1:a>e?1:0}function cp(a,e){const n=Math.min(a.length,e.length);for(let i=0;i<n;i++){const l=a.charAt(i),u=e.charAt(i);if(l!==u)return Hm(l)===Hm(u)?at(l,u):Hm(l)?1:-1}return at(a.length,e.length)}const MR=55296,OR=57343;function Hm(a){const e=a.charCodeAt(0);return e>=MR&&e<=OR}function Yl(a,e,n){return a.length===e.length&&a.every(((i,l)=>n(i,e[l])))}const Gb="__name__";class ha{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=ha.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return at(e.length,n.length)}static compareSegments(e,n){const i=ha.isNumericId(e),l=ha.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?ha.extractNumericId(e).compare(ha.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class Ct extends ha{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends ha{construct(e,n,i){return new Nn(e,n,i)}static isValidIdentifier(e){return VR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new Nn([Gb])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new xe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new xe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(i+=p,l++):(u(),l++)}if(u(),f)throw new xe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Ct.fromString(e))}static fromName(e){return new Re(Ct.fromString(e).popFirst(5))}static empty(){return new Re(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Ct(e.slice()))}}function Nw(a,e,n){if(!n)throw new xe(ae.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function LR(a,e,n,i){if(e===!0&&i===!0)throw new xe(ae.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function Yb(a){if(!Re.isDocumentKey(a))throw new xe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Kb(a){if(Re.isDocumentKey(a))throw new xe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Aw(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function gd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ve(12329,{type:typeof a})}function pa(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new xe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(a);throw new xe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function ln(a,e){const n={typeString:a};return e&&(n.value=e),n}function Yc(a,e){if(!Aw(a))throw new xe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const f=a[i];if(l&&typeof f!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new xe(ae.INVALID_ARGUMENT,n);return!0}const Qb=-62135596800,Xb=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Xb);return new Vt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qb)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xb}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yc(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:ln("string",Vt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Vt(0,0))}static max(){return new ze(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ic=-1;function PR(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,l=ze.fromTimestamp(i===1e9?new Vt(n+1,0):new Vt(n,i));return new qi(l,Re.empty(),e)}function UR(a){return new qi(a.readTime,a.key,Ic)}class qi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qi(ze.min(),Re.empty(),Ic)}static max(){return new qi(ze.max(),Re.empty(),Ic)}}function zR(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(a.documentKey,e.documentKey),n!==0?n:at(a.largestBatchId,e.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lo(a){if(a.code!==ae.FAILED_PRECONDITION||a.message!==BR)throw a;be("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,i)=>{n(e)}))}static reject(e){return new ie(((n,i)=>{i(e)}))}static waitFor(e){return new ie(((n,i)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>i(g)))})),f=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next((l=>l?ie.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,u)=>{i.push(n.call(this,l,u))})),this.waitFor(i)}static mapArray(e,n){return new ie(((i,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++p,p===u&&i(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new ie(((i,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):i()};u()}))}}function HR(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(a){return a.name==="IndexedDbTransactionError"}class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;const Qp=-1;function xd(a){return a==null}function Wh(a){return a===0&&1/a==-1/0}function FR(a){return typeof a=="number"&&Number.isInteger(a)&&!Wh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const jw="";function $R(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=Wb(e)),e=GR(a.get(n),e);return Wb(e)}function GR(a,e){let n=e;const i=a.length;for(let l=0;l<i;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case jw:n+="";break;default:n+=u}}return n}function Wb(a){return a+jw+""}function Jb(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Wi(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function Rw(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class qt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??Sn.RED,this.left=l??Sn.EMPTY,this.right=u??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new Sn(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Sn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,i,l,u){return this}insert(e,n,i){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class us{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new us([])}unionWith(e){let n=new un(Nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Cw("Invalid base64 string: "+u):u}})(e);return new An(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(a){if(gt(!!a,39018),typeof a=="string"){let e=0;const n=YR.exec(a);if(gt(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qt(a.seconds),nanos:Qt(a.nanos)}}function Qt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Fi(a){return typeof a=="string"?An.fromBase64String(a):An.fromUint8Array(a)}const Iw="server_timestamp",Dw="__type__",kw="__previous_value__",Mw="__local_write_time__";function Xp(a){return(a?.mapValue?.fields||{})[Dw]?.stringValue===Iw}function bd(a){const e=a.mapValue.fields[kw];return Xp(e)?bd(e):e}function Dc(a){const e=Hi(a.mapValue.fields[Mw].timestampValue);return new Vt(e.seconds,e.nanos)}class KR{constructor(e,n,i,l,u,f,p,g,y,b,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const Jh="(default)";class kc{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}function QR(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new xe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(a.options.projectId,e)}const Ow="__type__",XR="__max__",Nh={mapValue:{}},Vw="__vector__",Zh="value";function $i(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Xp(a)?4:JR(a)?9007199254740991:WR(a)?10:11:Ve(28295,{value:a})}function ba(a,e){if(a===e)return!0;const n=$i(a);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Dc(a).isEqual(Dc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Hi(l.timestampValue),p=Hi(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return Fi(l.bytesValue).isEqual(Fi(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return Qt(l.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(l.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Qt(l.integerValue)===Qt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Qt(l.doubleValue),p=Qt(u.doubleValue);return f===p?Wh(f)===Wh(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return Yl(a.arrayValue.values||[],e.arrayValue.values||[],ba);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Jb(f)!==Jb(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ba(f[g],p[g])))return!1;return!0})(a,e);default:return Ve(52216,{left:a})}}function Mc(a,e){return(a.values||[]).find((n=>ba(n,e)))!==void 0}function Kl(a,e){if(a===e)return 0;const n=$i(a),i=$i(e);if(n!==i)return at(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=Qt(u.integerValue||u.doubleValue),g=Qt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return ev(a.timestampValue,e.timestampValue);case 4:return ev(Dc(a),Dc(e));case 5:return cp(a.stringValue,e.stringValue);case 6:return(function(u,f){const p=Fi(u),g=Fi(f);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=at(p[y],g[y]);if(b!==0)return b}return at(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=at(Qt(u.latitude),Qt(f.latitude));return p!==0?p:at(Qt(u.longitude),Qt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return tv(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[Zh]?.arrayValue,b=g[Zh]?.arrayValue,w=at(y?.values?.length||0,b?.values?.length||0);return w!==0?w:tv(y,b)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Nh.mapValue&&f===Nh.mapValue)return 0;if(u===Nh.mapValue)return 1;if(f===Nh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const N=cp(g[w],b[w]);if(N!==0)return N;const R=Kl(p[g[w]],y[b[w]]);if(R!==0)return R}return at(g.length,b.length)})(a.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function ev(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return at(a,e);const n=Hi(a),i=Hi(e),l=at(n.seconds,i.seconds);return l!==0?l:at(n.nanos,i.nanos)}function tv(a,e){const n=a.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=Kl(n[l],i[l]);if(u)return u}return at(n.length,i.length)}function Ql(a){return up(a)}function up(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const i=Hi(n);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Fi(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Re.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=up(u);return i+"]"})(a.arrayValue):"mapValue"in a?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${up(n.fields[f])}`;return l+"}"})(a.mapValue):Ve(61005,{value:a})}function Lh(a){switch($i(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(a);return e?16+Lh(e):16;case 5:return 2*a.stringValue.length;case 6:return Fi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,u)=>l+Lh(u)),0)})(a.arrayValue);case 10:case 11:return(function(i){let l=0;return Wi(i.fields,((u,f)=>{l+=u.length+Lh(f)})),l})(a.mapValue);default:throw Ve(13486,{value:a})}}function nv(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function hp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function sv(a){return!!a&&"nullValue"in a}function av(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ph(a){return!!a&&"mapValue"in a}function WR(a){return(a?.mapValue?.fields||{})[Ow]?.stringValue===Vw}function wc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Wi(a.mapValue.fields,((n,i)=>e.mapValue.fields[n]=wc(i))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(a.arrayValue.values[n]);return e}return{...a}}function JR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Nn.emptyPath(),i={},l=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=p.popLast()}f?i[p.lastSegment()]=wc(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];Ph(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){Wi(n,((l,u)=>e[l]=u));for(const l of i)delete e[l]}clone(){return new Yn(wc(this.value))}}function Lw(a){const e=[];return Wi(a.fields,((n,i)=>{const l=new Nn([n]);if(Ph(i)){const u=Lw(i.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new us(e)}class kn{constructor(e,n,i,l,u,f,p){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new kn(e,0,ze.min(),ze.min(),ze.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,l){return new kn(e,1,n,ze.min(),i,l,0)}static newNoDocument(e,n){return new kn(e,2,n,ze.min(),ze.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,ze.min(),ze.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function iv(a,e,n){let i=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?i=Re.comparator(Re.fromName(f.referenceValue),n.key):i=Kl(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function rv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ba(a.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Pw{}class rn extends Pw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new tC(e,n,i):n==="array-contains"?new aC(e,i):n==="in"?new iC(e,i):n==="not-in"?new rC(e,i):n==="array-contains-any"?new lC(e,i):new rn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new nC(e,i):new sC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends Pw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fs(e,n)}matches(e){return Uw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uw(a){return a.op==="and"}function zw(a){return eC(a)&&Uw(a)}function eC(a){for(const e of a.filters)if(e instanceof Fs)return!1;return!0}function dp(a){if(a instanceof rn)return a.field.canonicalString()+a.op.toString()+Ql(a.value);if(zw(a))return a.filters.map((e=>dp(e))).join(",");{const e=a.filters.map((n=>dp(n))).join(",");return`${a.op}(${e})`}}function Bw(a,e){return a instanceof rn?(function(i,l){return l instanceof rn&&i.op===l.op&&i.field.isEqual(l.field)&&ba(i.value,l.value)})(a,e):a instanceof Fs?(function(i,l){return l instanceof Fs&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((u,f,p)=>u&&Bw(f,l.filters[p])),!0):!1})(a,e):void Ve(19439)}function qw(a){return a instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`})(a):a instanceof Fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(qw).join(" ,")+"}"})(a):"Filter"}class tC extends rn{constructor(e,n,i){super(e,n,i),this.key=Re.fromName(i.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class nC extends rn{constructor(e,n){super(e,"in",n),this.keys=Hw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sC extends rn{constructor(e,n){super(e,"not-in",n),this.keys=Hw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Hw(a,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class aC extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&Mc(n.arrayValue,this.value)}}class iC extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class rC extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mc(this.value.arrayValue,n)}}class lC extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Mc(this.value.arrayValue,i)))}}class oC{constructor(e,n=null,i=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function lv(a,e=null,n=[],i=[],l=null,u=null,f=null){return new oC(a,e,n,i,l,u,f)}function Jp(a){const e=Fe(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>dp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ql(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ql(i))).join(",")),e.Te=n}return e.Te}function Zp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!ZR(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!Bw(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!rv(a.startAt,e.startAt)&&rv(a.endAt,e.endAt)}function fp(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Kc{constructor(e,n=null,i=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cC(a,e,n,i,l,u,f,p){return new Kc(a,e,n,i,l,u,f,p)}function eg(a){return new Kc(a)}function ov(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function uC(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Fw(a){return a.collectionGroup!==null}function Ec(a){const e=Fe(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new un(Nn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new td(u,i))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new td(Nn.keyField(),i))}return e.Ie}function ga(a){const e=Fe(a);return e.Ee||(e.Ee=hC(e,Ec(a))),e.Ee}function hC(a,e){if(a.limitType==="F")return lv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new td(l.field,u)}));const n=a.endAt?new ed(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new ed(a.startAt.position,a.startAt.inclusive):null;return lv(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function mp(a,e){const n=a.filters.concat([e]);return new Kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function pp(a,e,n){return new Kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function vd(a,e){return Zp(ga(a),ga(e))&&a.limitType===e.limitType}function $w(a){return`${Jp(ga(a))}|lt:${a.limitType}`}function Ml(a){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>qw(l))).join(", ")}]`),xd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>Ql(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>Ql(l))).join(",")),`Target(${i})`})(ga(a))}; limitType=${a.limitType})`}function _d(a,e){return e.isFoundDocument()&&(function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Re.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(a,e)&&(function(i,l){for(const u of Ec(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(i,l){return!(i.startAt&&!(function(f,p,g){const y=iv(f,p,g);return f.inclusive?y<=0:y<0})(i.startAt,Ec(i),l)||i.endAt&&!(function(f,p,g){const y=iv(f,p,g);return f.inclusive?y>=0:y>0})(i.endAt,Ec(i),l))})(a,e)}function dC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Gw(a){return(e,n)=>{let i=!1;for(const l of Ec(a)){const u=fC(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function fC(a,e,n){const i=a.field.isKeyField()?Re.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Kl(g,y):Ve(42886)})(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:a.dir})}}class Br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,i)=>{for(const[l,u]of i)e(l,u)}))}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}const mC=new qt(Re.comparator);function Xa(){return mC}const Yw=new qt(Re.comparator);function yc(...a){let e=Yw;for(const n of a)e=e.insert(n.key,n);return e}function Kw(a){let e=Yw;return a.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Nr(){return Tc()}function Qw(){return Tc()}function Tc(){return new Br((a=>a.toString()),((a,e)=>a.isEqual(e)))}const pC=new qt(Re.comparator),gC=new un(Re.comparator);function it(...a){let e=gC;for(const n of a)e=e.add(n);return e}const yC=new un(at);function xC(){return yC}function tg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function Xw(a){return{integerValue:""+a}}function bC(a,e){return FR(e)?Xw(e):tg(a,e)}class wd{constructor(){this._=void 0}}function vC(a,e,n){return a instanceof Oc?(function(l,u){const f={fields:{[Dw]:{stringValue:Iw},[Mw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Xp(u)&&(u=bd(u)),u&&(f.fields[kw]=u),{mapValue:f}})(n,e):a instanceof Vc?Jw(a,e):a instanceof Lc?Zw(a,e):(function(l,u){const f=Ww(l,u),p=cv(f)+cv(l.Ae);return hp(f)&&hp(l.Ae)?Xw(p):tg(l.serializer,p)})(a,e)}function _C(a,e,n){return a instanceof Vc?Jw(a,e):a instanceof Lc?Zw(a,e):n}function Ww(a,e){return a instanceof nd?(function(i){return hp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Oc extends wd{}class Vc extends wd{constructor(e){super(),this.elements=e}}function Jw(a,e){const n=e1(e);for(const i of a.elements)n.some((l=>ba(l,i)))||n.push(i);return{arrayValue:{values:n}}}class Lc extends wd{constructor(e){super(),this.elements=e}}function Zw(a,e){let n=e1(e);for(const i of a.elements)n=n.filter((l=>!ba(l,i)));return{arrayValue:{values:n}}}class nd extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cv(a){return Qt(a.integerValue||a.doubleValue)}function e1(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class wC{constructor(e,n){this.field=e,this.transform=n}}function EC(a,e){return a.field.isEqual(e.field)&&(function(i,l){return i instanceof Vc&&l instanceof Vc||i instanceof Lc&&l instanceof Lc?Yl(i.elements,l.elements,ba):i instanceof nd&&l instanceof nd?ba(i.Ae,l.Ae):i instanceof Oc&&l instanceof Oc})(a.transform,e.transform)}class TC{constructor(e,n){this.version=e,this.transformResults=n}}class Bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bs}static exists(e){return new Bs(void 0,e)}static updateTime(e){return new Bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ed{}function t1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ng(a.key,Bs.none()):new Qc(a.key,a.data,Bs.none());{const n=a.data,i=Yn.empty();let l=new un(Nn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),l=l.add(u)}return new Ji(a.key,i,new us(l.toArray()),Bs.none())}}function SC(a,e,n){a instanceof Qc?(function(l,u,f){const p=l.value.clone(),g=hv(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,n):a instanceof Ji?(function(l,u,f){if(!Uh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=hv(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(n1(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Sc(a,e,n,i){return a instanceof Qc?(function(u,f,p,g){if(!Uh(u.precondition,f))return p;const y=u.value.clone(),b=dv(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,n,i):a instanceof Ji?(function(u,f,p,g){if(!Uh(u.precondition,f))return p;const y=dv(u.fieldTransforms,g,f),b=f.data;return b.setAll(n1(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(a,e,n,i):(function(u,f,p){return Uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,n)}function NC(a,e){let n=null;for(const i of a.fieldTransforms){const l=e.data.field(i.field),u=Ww(i.transform,l||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,u))}return n||null}function uv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Yl(i,l,((u,f)=>EC(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Qc extends Ed{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ji extends Ed{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function n1(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}})),e}function hv(a,e,n){const i=new Map;gt(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,p=e.data.field(u.field);i.set(u.field,_C(f,p,n[l]))}return i}function dv(a,e,n){const i=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);i.set(l.field,vC(u,f,e))}return i}class ng extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jC{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&SC(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Qw();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=t1(f,p);g!==null&&i.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(ze.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((n,i)=>uv(n,i)))&&Yl(this.baseMutations,e.baseMutations,((n,i)=>uv(n,i)))}}class sg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){gt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return pC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,i[f].version);return new sg(e,n,i,l)}}class RC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CC{constructor(e,n){this.count=e,this.unchangedNames=n}}var an,ct;function IC(a){switch(a){case ae.OK:return Ve(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ve(15467,{code:a})}}function s1(a){if(a===void 0)return Qa("GRPC error has no .code"),ae.UNKNOWN;switch(a){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return Ve(39323,{code:a})}}(ct=an||(an={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function DC(){return new TextEncoder}const kC=new Ui([4294967295,4294967295],0);function fv(a){const e=DC().encode(a),n=new xw;return n.update(e),new Uint8Array(n.digest())}function mv(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ui([n,i],0),new Ui([l,u],0)]}class ag{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(i<0)throw new xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ui.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(Ui.fromNumber(i)));return l.compare(kC)===1&&(l=new Ui([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fv(e),[i,l]=mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,l,u);if(!this.we(f))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ag(u,l,n);return i.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=fv(e),[i,l]=mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,l,u);this.be(f)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Td{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Td(ze.min(),l,new qt(at),Xa(),it())}}class Xc{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xc(i,n,it(),it(),it())}}class zh{constructor(e,n,i,l){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=l}}class a1{constructor(e,n){this.targetId=e,this.Ce=n}}class i1{constructor(e,n,i=An.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=gv(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),i=it();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Ve(38017,{changeType:u})}})),new Xc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=gv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xa(),this.He=Ah(),this.Je=Ah(),this.Ze=new qt(at)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(fp(u))if(i===0){const f=new Re(u.path);this.et(n,f,kn.newNoDocument(f,ze.min()))}else gt(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=Fi(i).toUint8Array()}catch(g){if(g instanceof Cw)return Gl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ag(f,l,u)}catch(g){return Gl(g instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&fp(p.target)){const g=new Re(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,kn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let i=it();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Td(e,n,this.Ze,this.je,i);return this.je=Xa(),this.He=Ah(),this.Je=Ah(),this.Ze=new qt(at),l}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new pv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(at),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(at),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new qt(Re.comparator)}function gv(){return new qt(Re.comparator)}const OC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class PC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(a,e){return a.useProto3Json||xd(e)?e:{value:e}}function sd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function UC(a,e){return sd(a,e.toTimestamp())}function ya(a){return gt(!!a,49232),ze.fromTimestamp((function(n){const i=Hi(n);return new Vt(i.seconds,i.nanos)})(a))}function ig(a,e){return yp(a,e).canonicalString()}function yp(a,e){const n=(function(l){return new Ct(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?n:n.child(e)}function l1(a){const e=Ct.fromString(a);return gt(d1(e),10190,{key:e.toString()}),e}function xp(a,e){return ig(a.databaseId,e.path)}function Fm(a,e){const n=l1(e);if(n.get(1)!==a.databaseId.projectId)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Re(c1(n))}function o1(a,e){return ig(a.databaseId,e)}function zC(a){const e=l1(a);return e.length===4?Ct.emptyPath():c1(e)}function bp(a){return new Ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function c1(a){return gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function yv(a,e,n){return{name:xp(a,e),fields:n.value.mapValue.fields}}function BC(a,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(gt(b===void 0||typeof b=="string",58123),An.fromBase64String(b||"")):(gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),An.fromUint8Array(b||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const b=y.code===void 0?ae.UNKNOWN:s1(y.code);return new xe(b,y.message||"")})(f);n=new i1(i,l,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Fm(a,i.document.name),u=ya(i.document.updateTime),f=i.document.createTime?ya(i.document.createTime):ze.min(),p=new Yn({mapValue:{fields:i.document.fields}}),g=kn.newFoundDocument(l,u,f,p),y=i.targetIds||[],b=i.removedTargetIds||[];n=new zh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Fm(a,i.document),u=i.readTime?ya(i.readTime):ze.min(),f=kn.newNoDocument(l,u),p=i.removedTargetIds||[];n=new zh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Fm(a,i.document),u=i.removedTargetIds||[];n=new zh([],u,l,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,f=new CC(l,u),p=i.targetId;n=new a1(p,f)}}return n}function qC(a,e){let n;if(e instanceof Qc)n={update:yv(a,e.key,e.value)};else if(e instanceof ng)n={delete:xp(a,e.key)};else if(e instanceof Ji)n={update:yv(a,e.key,e.data),updateMask:WC(e.fieldMask)};else{if(!(e instanceof AC))return Ve(16599,{dt:e.type});n={verify:xp(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,f){const p=f.transform;if(p instanceof Oc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nd)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ve(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:UC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)})(a,e.precondition)),n}function HC(a,e){return a&&a.length>0?(gt(e!==void 0,14353),a.map((n=>(function(l,u){let f=l.updateTime?ya(l.updateTime):ya(u);return f.isEqual(ze.min())&&(f=ya(u)),new TC(f,l.transformResults||[])})(n,e)))):[]}function FC(a,e){return{documents:[o1(a,e.path)]}}function $C(a,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=o1(a,l);const u=(function(y){if(y.length!==0)return h1(Fs.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(N){return{field:Ol(N.field),direction:KC(N.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=gp(a,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function GC(a){let e=zC(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){gt(i===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const N=u1(w);return N instanceof Fs&&zw(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((N=>(function(G){return new td(Vl(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let N;return N=typeof w=="object"?w.value:w,xd(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(w){const N=!!w.before,R=w.values||[];return new ed(R,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const N=!w.before,R=w.values||[];return new ed(R,N)})(n.endAt)),cC(e,l,f,u,p,"F",g,y)}function YC(a,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u1(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Vl(n.unaryFilter.field);return rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=Vl(n.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vl(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vl(n.unaryFilter.field);return rn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(a):a.fieldFilter!==void 0?(function(n){return rn.create(Vl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Fs.create(n.compositeFilter.filters.map((i=>u1(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(a):Ve(30097,{filter:a})}function KC(a){return OC[a]}function QC(a){return VC[a]}function XC(a){return LC[a]}function Ol(a){return{fieldPath:a.canonicalString()}}function Vl(a){return Nn.fromServerFormat(a.fieldPath)}function h1(a){return a instanceof rn?(function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:QC(n.op),value:n.value}}})(a):a instanceof Fs?(function(n){const i=n.getFilters().map((l=>h1(l)));return i.length===1?i[0]:{compositeFilter:{op:XC(n.op),filters:i}}})(a):Ve(54877,{filter:a})}function WC(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function d1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function f1(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Oi{constructor(e,n,i,l,u=ze.min(),f=ze.min(),p=An.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JC{constructor(e){this.yt=e}}function ZC(a){const e=GC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?pp(e,e.limit,"L"):e}class e5{constructor(){this.Sn=new t5}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(qi.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class t5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new un(Ct.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new un(Ct.comparator)).toArray()}}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m1=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(m1,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class Xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xl(0)}static ar(){return new Xl(-1)}}const bv="LruGarbageCollector",n5=1048576;function vv([a,e],[n,i]){const l=at(a,n);return l===0?at(e,i):l}class s5{constructor(e){this.Pr=e,this.buffer=new un(vv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?be(bv,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Ar(3e5)}))}}class i5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(yd.ce);const i=new s5(n);return this.Vr.forEachTarget(e,(l=>i.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>i.Er(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(xv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,l,u,f,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(i=w,p=Date.now(),this.removeTargets(e,i,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),kl()<=st.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function r5(a,e){return new i5(a,e)}class l5{constructor(){this.changes=new Br((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class o5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class c5{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&Sc(i.mutation,l,us.empty(),Vt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,it()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=it()){const l=Nr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((u=>{let f=yc();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const i=Nr();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,it())))}populateOverlays(e,n,i){const l=[];return i.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,i,l){let u=Xa();const f=Tc(),p=(function(){return Tc()})();return n.forEach(((g,y)=>{const b=i.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Ji)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Sc(b.mutation,y,b.mutation.getFieldMask(),Vt.now())):f.set(y.key,us.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>p.set(y,new o5(b,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Tc();let l=new qt(((f,p)=>f-p)),u=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=i.get(g)||us.empty();b=p.applyToLocalView(y,b),i.set(g,b);const w=(l.get(p.batchId)||it()).add(g);l=l.insert(p.batchId,w)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,w=Qw();b.forEach((N=>{if(!u.has(N)){const R=t1(n.get(N),i.get(N));R!==null&&w.set(N,R),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ie.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return uC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):ie.resolve(Nr());let p=Ic,g=u;return f.next((y=>ie.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{g=g.insert(b,N)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,it()))).next((b=>({batchId:p,changes:Kw(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((i=>{let l=yc();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let f=yc();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(g=>{const y=(function(w,N){return new Kc(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next((b=>{b.forEach(((w,N)=>{f=f.insert(w,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,kn.newInvalidDocument(b)))}));let p=yc();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&Sc(b.mutation,y,us.empty(),Vt.now()),_d(n,y)&&(p=p.insert(g,y))})),p}))}}class u5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ya(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:ZC(l.bundledQuery),readTime:ya(l.readTime)}})(n)),ie.resolve()}}class h5{constructor(){this.overlays=new qt(Re.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Nr();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&i.set(l,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.Lr.get(i);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const l=Nr(),u=n.length+1,f=new Re(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new qt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let b=u.get(y.largestBatchId);b===null&&(b=Nr(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Nr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return ie.resolve(p)}bt(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(i.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new RC(n,i));let u=this.Lr.get(n);u===void 0&&(u=it(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class d5{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class rg{constructor(){this.kr=new un(gn.Kr),this.qr=new un(gn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new gn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new gn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Re(new Ct([])),i=new gn(n,e),l=new gn(n,e+1),u=[];return this.qr.forEachInRange([i,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Re(new Ct([])),i=new gn(n,e),l=new gn(n,e+1);let u=it();return this.qr.forEachInRange([i,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new gn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class gn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Re.comparator(e.key,n.key)||at(e.Hr,n.Hr)}static Ur(e,n){return at(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}class f5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(gn.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jC(u,n,i,l);this.mutationQueue.push(f);for(const p of l)this.Jr=this.Jr.add(new gn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.Xr(i),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Qp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new gn(n,0),l=new gn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,l],(f=>{const p=this.Zr(f.Hr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new un(at);return n.forEach((l=>{const u=new gn(l,0),f=new gn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{i=i.add(p.Hr)}))})),ie.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;Re.isDocumentKey(u)||(u=u.child(""));const f=new gn(new Re(u),0);let p=new un(at);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),f),ie.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const l=this.Zr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){gt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ie.forEach(n.mutations,(l=>{const u=new gn(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new gn(n,0),l=this.Jr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class m5{constructor(e){this.ti=e,this.docs=(function(){return new qt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let i=Xa();return n.forEach((l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():kn.newInvalidDocument(l))})),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=Xa();const f=n.path,p=new Re(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||zR(UR(b),i)<=0||(l.has(b.key)||_d(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Ve(9500)}ni(e,n){return ie.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new p5(this)}getSize(e){return ie.resolve(this.size)}}class p5 extends l5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(i)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class g5{constructor(e){this.persistence=e,this.ri=new Br((n=>Jp(n)),Zp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=Xl._r()}forEachTarget(e,n){return this.ri.forEach(((i,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class p1{constructor(e,n){this._i={},this.overlays={},this.ai=new yd(0),this.ui=!1,this.ui=!0,this.ci=new d5,this.referenceDelegate=e(this),this.li=new g5(this),this.indexManager=new e5,this.remoteDocumentCache=(function(l){return new m5(l)})((i=>this.referenceDelegate.hi(i))),this.serializer=new JC(n),this.Pi=new u5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new f5(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const l=new y5(this.ai.next());return this.referenceDelegate.Ti(),i(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class y5 extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(i=>{const l=Re.fromPath(i);return this.mi(e,l).next((u=>{u||n.removeEntry(l,ze.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.fi=new Br((i=>$R(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=r5(this,n)}static Vi(e,n){return new ad(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((i,l)=>this.wr(e,i,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(i++,u.removeEntry(f,ze.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lh(e.data.value)),n}wr(e,n,i){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return ie.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class og{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=l}static Es(e,n){let i=it(),l=it();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new og(e,n.fromCache,i,l)}}class x5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class b5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return G2()?8:HR(Mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,l,i).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new x5;return this.ys(e,n,f).next((p=>{if(u.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>u.result))}ws(e,n,i,l){return i.documentReadCount<this.Vs?(kl()<=st.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(kl()<=st.DEBUG&&be("QueryEngine","Query:",Ml(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ds*l?(kl()<=st.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ga(n))):ie.resolve())}gs(e,n){if(ov(n))return ie.resolve(null);let i=ga(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=pp(n,null,"F"),i=ga(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const f=it(...u);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,pp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,l){return ov(n)||l.isEqual(ze.min())?ie.resolve(null):this.fs.getDocuments(e,i).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,i,l)?ie.resolve(null):(kl()<=st.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(n)),this.Ds(e,f,n,PR(l,Ic)).next((p=>p)))}))}bs(e,n){let i=new un(Gw(e));return n.forEach(((l,u)=>{_d(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,i){return kl()<=st.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.fs.getDocumentsMatchingQuery(e,n,qi.min(),i)}Ds(e,n,i,l){return this.fs.getDocumentsMatchingQuery(e,i,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const cg="LocalStore",v5=3e8;class _5{constructor(e,n,i,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new qt(at),this.Fs=new Br((u=>Jp(u)),Zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function w5(a,e,n,i){return new _5(a,e,n,i)}async function g1(a,e){const n=Fe(a);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const f=[],p=[];let g=it();for(const y of l){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function E5(a,e){const n=Fe(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const w=y.batch,N=w.keys();let R=ie.resolve();return N.forEach((G=>{R=R.next((()=>b.getEntry(g,G))).next((q=>{const L=y.docVersions.get(G);gt(L!==null,48541),q.version.compareTo(L)<0&&(w.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),b.addEntry(q)))}))})),R.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=it();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function y1(a){const e=Fe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function T5(a,e){const n=Fe(a),i=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const N=l.get(w);if(!N)return;p.push(n.li.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,w))));let R=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(An.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),l=l.insert(w,R),(function(q,L,z){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=v5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(N,R,b)&&p.push(n.li.updateTargetData(u,R))}));let g=Xa(),y=it();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(S5(u,f,e.documentUpdates).next((b=>{g=b.Bs,y=b.Ls}))),!i.isEqual(ze.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(b)}return ie.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function S5(a,e,n){let i=it(),l=it();return n.forEach((u=>i=i.add(u))),e.getEntries(a,i).next((u=>{let f=Xa();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(ze.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):be(cg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function N5(a,e){const n=Fe(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function A5(a,e){const n=Fe(a);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.li.getTargetData(i,e).next((u=>u?(l=u,ie.resolve(l)):n.li.allocateTargetId(i).next((f=>(l=new Oi(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.vs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function vp(a,e,n){const i=Fe(a),l=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(f=>i.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!oo(f))throw f;be(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.vs=i.vs.remove(e),i.Fs.delete(l.target)}function _v(a,e,n){const i=Fe(a);let l=ze.min(),u=it();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const w=Fe(g),N=w.Fs.get(b);return N!==void 0?ie.resolve(w.vs.get(N)):w.li.getTargetData(y,b)})(i,f,ga(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(f,e,n?l:ze.min(),n?u:it()))).next((p=>(j5(i,dC(e),p),{documents:p,ks:u})))))}function j5(a,e,n){let i=a.Ms.get(e)||ze.min();n.forEach(((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),a.Ms.set(e,i)}class wv{constructor(){this.activeTargetIds=xC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R5{constructor(){this.vo=new wv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new wv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C5{Mo(e){}shutdown(){}}const Ev="ConnectivityMonitor";class Tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jh=null;function _p(){return jh===null?jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():jh++,"0x"+jh.toString(16)}const $m="RestConnection",I5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class D5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${l}`,this.$o=this.databaseId.database===Jh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Wo(e,n,i,l,u){const f=_p(),p=this.Qo(e,n.toUriEncodedString());be($m,`Sending RPC '${e}' ${f}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(p),b=so(y);return this.zo(e,p,g,i,b).then((w=>(be($m,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Gl($m,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",i),w}))}jo(e,n,i,l,u,f){return this.Wo(e,n,i,l,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),i&&i.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const i=I5[e];let l=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class k5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const In="WebChannelConnection",fc=(a,e,n)=>{a.listen(e,(i=>{try{n(i)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Hl extends D5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hl.c_){const e=ww();fc(e,_w.STAT_EVENT,(n=>{n.stat===op.PROXY?be(In,"STAT_EVENT: detected buffering proxy"):n.stat===op.NOPROXY&&be(In,"STAT_EVENT: detected no buffering proxy")})),Hl.c_=!0}}zo(e,n,i,l,u){const f=_p();return new Promise(((p,g)=>{const y=new bw;y.setWithCredentials(!0),y.listenOnce(vw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vh.NO_ERROR:const w=y.getResponseJson();be(In,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case Vh.TIMEOUT:be(In,`RPC '${e}' ${f} timed out`),g(new xe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const N=y.getStatus();if(be(In,`RPC '${e}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const G=R?.error;if(G&&G.status&&G.message){const q=(function(z){const U=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(U)>=0?U:ae.UNKNOWN})(G.status);g(new xe(q,G.message))}else g(new xe(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new xe(ae.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{be(In,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);be(In,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,i,15)}))}T_(e,n,i){const l=_p(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");be(In,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=f.createWebChannel(y,p);this.I_(b);let w=!1,N=!1;const R=new k5({Ho:G=>{N?be(In,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(w||(be(In,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),be(In,`RPC '${e}' stream ${l} sending:`,G),b.send(G))},Jo:()=>b.close()});return fc(b,gc.EventType.OPEN,(()=>{N||(be(In,`RPC '${e}' stream ${l} transport opened.`),R.i_())})),fc(b,gc.EventType.CLOSE,(()=>{N||(N=!0,be(In,`RPC '${e}' stream ${l} transport closed`),R.o_(),this.E_(b))})),fc(b,gc.EventType.ERROR,(G=>{N||(N=!0,Gl(In,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),R.o_(new xe(ae.UNAVAILABLE,"The operation could not be completed")))})),fc(b,gc.EventType.MESSAGE,(G=>{if(!N){const q=G.data[0];gt(!!q,16349);const L=q,z=L?.error||L[0]?.error;if(z){be(In,`RPC '${e}' stream ${l} received error:`,z);const U=z.status;let Q=(function(re){const S=an[re];if(S!==void 0)return s1(S)})(U),ue=z.message;Q===void 0&&(Q=ae.INTERNAL,ue="Unknown error status: "+U+" with message "+z.message),N=!0,R.o_(new xe(Q,ue)),b.close()}else be(In,`RPC '${e}' stream ${l} received:`,q),R.__(q)}})),Hl.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ew()}}function M5(a){return new Hl(a)}function Gm(){return typeof document<"u"?document:null}function Sd(a){return new PC(a,!0)}Hl.c_=!1;class x1{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Sv="PersistentStream";class b1{constructor(e,n,i,l,u,f,p,g){this.Ci=e,this.b_=i,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new xe(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(Sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(be(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O5 extends b1{constructor(e,n,i,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BC(this.serializer,e),i=(function(u){if(!("targetChange"in u))return ze.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ze.min():f.readTime?ya(f.readTime):ze.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=bp(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=fp(g)?{documents:FC(u,g)}:{query:$C(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=r1(u,f.resumeToken);const y=gp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(ze.min())>0){p.readTime=sd(u,f.snapshotVersion.toTimestamp());const y=gp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=YC(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=bp(this.serializer),n.removeTarget=e,this.K_(n)}}class V5 extends b1{constructor(e,n,i,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HC(e.writeResults,e.commitTime),i=ya(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=bp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>qC(this.serializer,i)))};this.K_(n)}}class L5{}class P5 extends L5{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,yp(n,i),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ae.UNKNOWN,u.toString())}))}jo(e,n,i,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,yp(n,i),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new xe(ae.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function U5(a,e,n,i){return new P5(a,e,n,i)}class z5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Or="RemoteStore";class B5{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{i.enqueueAndForget((async()=>{qr(this)&&(be(Or,"Restarting streams for network reachability change."),await(async function(g){const y=Fe(g);y.Ea.add(4),await Wc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Nd(y)})(this))}))})),this.Va=new z5(i,l)}}async function Nd(a){if(qr(a))for(const e of a.Ra)await e(!0)}async function Wc(a){for(const e of a.Ra)await e(!1)}function v1(a,e){const n=Fe(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fg(n)?dg(n):co(n).O_()&&hg(n,e))}function ug(a,e){const n=Fe(a),i=co(n);n.Ia.delete(e),i.O_()&&_1(n,e),n.Ia.size===0&&(i.O_()?i.L_():qr(n)&&n.Va.set("Unknown"))}function hg(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(a).Z_(e)}function _1(a,e){a.da.$e(e),co(a).X_(e)}function dg(a){a.da=new MC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),co(a).start(),a.Va.ua()}function fg(a){return qr(a)&&!co(a).x_()&&a.Ia.size>0}function qr(a){return Fe(a).Ea.size===0}function w1(a){a.da=void 0}async function q5(a){a.Va.set("Online")}async function H5(a){a.Ia.forEach(((e,n)=>{hg(a,e)}))}async function F5(a,e){w1(a),fg(a)?(a.Va.ha(e),dg(a)):a.Va.set("Unknown")}async function $5(a,e,n){if(a.Va.set("Online"),e instanceof i1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.da.removeTarget(p))})(a,e)}catch(i){be(Or,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await id(a,i)}else if(e instanceof zh?a.da.Xe(e):e instanceof a1?a.da.st(e):a.da.tt(e),!n.isEqual(ze.min()))try{const i=await y1(a.localStore);n.compareTo(i)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(An.EMPTY_BYTE_STRING,b.snapshotVersion)),_1(u,g);const w=new Oi(b.target,g,y,b.sequenceNumber);hg(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(a,n)}catch(i){be(Or,"Failed to raise snapshot:",i),await id(a,i)}}async function id(a,e,n){if(!oo(e))throw e;a.Ea.add(1),await Wc(a),a.Va.set("Offline"),n||(n=()=>y1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{be(Or,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Nd(a)}))}function E1(a,e){return e().catch((n=>id(a,n,e)))}async function Ad(a){const e=Fe(a),n=Gi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qp;for(;G5(e);)try{const l=await N5(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,Y5(e,l)}catch(l){await id(e,l)}T1(e)&&S1(e)}function G5(a){return qr(a)&&a.Ta.length<10}function Y5(a,e){a.Ta.push(e);const n=Gi(a);n.O_()&&n.Y_&&n.ea(e.mutations)}function T1(a){return qr(a)&&!Gi(a).x_()&&a.Ta.length>0}function S1(a){Gi(a).start()}async function K5(a){Gi(a).ra()}async function Q5(a){const e=Gi(a);for(const n of a.Ta)e.ea(n.mutations)}async function X5(a,e,n){const i=a.Ta.shift(),l=sg.from(i,e,n);await E1(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Ad(a)}async function W5(a,e){e&&Gi(a).Y_&&await(async function(i,l){if((function(f){return IC(f)&&f!==ae.ABORTED})(l.code)){const u=i.Ta.shift();Gi(i).B_(),await E1(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ad(i)}})(a,e),T1(a)&&S1(a)}async function Nv(a,e){const n=Fe(a);n.asyncQueue.verifyOperationInProgress(),be(Or,"RemoteStore received new credentials");const i=qr(n);n.Ea.add(3),await Wc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function J5(a,e){const n=Fe(a);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Wc(n),n.Va.set("Unknown"))}function co(a){return a.ma||(a.ma=(function(n,i,l){const u=Fe(n);return u.sa(),new O5(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Zo:q5.bind(null,a),Yo:H5.bind(null,a),t_:F5.bind(null,a),J_:$5.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),fg(a)?dg(a):a.Va.set("Unknown")):(await a.ma.stop(),w1(a))}))),a.ma}function Gi(a){return a.fa||(a.fa=(function(n,i,l){const u=Fe(n);return u.sa(),new V5(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K5.bind(null,a),t_:W5.bind(null,a),ta:Q5.bind(null,a),na:X5.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Ad(a)):(await a.fa.stop(),a.Ta.length>0&&(be(Or,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class mg{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const f=Date.now()+i,p=new mg(e,n,f,l,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(a,e){if(Qa("AsyncQueue",`${e}: ${a}`),oo(a))return new xe(ae.UNAVAILABLE,`${e}: ${a}`);throw a}class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Re.comparator(n.key,i.key):(n,i)=>Re.comparator(n.key,i.key),this.keyedMap=yc(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Av{constructor(){this.ga=new qt(Re.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Wl{constructor(e,n,i,l,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Wl(e,n,Fl.emptySet(n),f,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}class Z5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eI{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Fe(n),u=l.queries;l.queries=jv(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new xe(ae.ABORTED,"Firestore shutting down"))}}function jv(){return new Br((a=>$w(a)),vd)}async function N1(a,e){const n=Fe(a);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(i=2):(u=new Z5,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=pg(f,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gg(n)}async function A1(a,e){const n=Fe(a),i=e.query;let l=3;const u=n.queries.get(i);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tI(a,e){const n=Fe(a);let i=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(l)&&(i=!0);f.wa=l}}i&&gg(n)}function nI(a,e,n){const i=Fe(a),l=i.queries.get(e);if(l)for(const u of l.ba)u.onError(n);i.queries.delete(e)}function gg(a){a.Ca.forEach((e=>{e.next()}))}var wp,Rv;(Rv=wp||(wp={})).Ma="default",Rv.Cache="cache";class j1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}class R1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class sI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=Gw(e),this.tu=new Fl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new Av,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const N=l.get(b),R=_d(this.query,w)?w:null,G=!!N&&this.mutatedKeys.has(N.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;N&&R?N.data.isEqual(R.data)?G!==q&&(i.track({type:3,doc:R}),L=!0):this.su(N,R)||(i.track({type:2,doc:R}),L=!0,(g&&this.eu(R,g)>0||y&&this.eu(R,y)<0)&&(p=!0)):!N&&R?(i.track({type:0,doc:R}),L=!0):N&&!R&&(i.track({type:1,doc:N}),L=!0,(g||y)&&(p=!0)),L&&(R?(f=f.add(R),u=q?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),i.track({type:1,doc:b})}return{tu:f,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,w)=>(function(R,G){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:L})}};return q(R)-q(G)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(i),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Wl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Av,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new C1(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new R1(i))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yg="SyncEngine";class aI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class iI{constructor(e){this.key=e,this.hu=!1}}class rI{constructor(e,n,i,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Br((p=>$w(p)),vd),this.Iu=new Map,this.Eu=new Set,this.Ru=new qt(Re.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=Xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(a,e,n=!0){const i=V1(a);let l;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await I1(i,e,n,!0),l}async function oI(a,e){const n=V1(a);await I1(n,e,!0,!1)}async function I1(a,e,n,i){const l=await A5(a.localStore,ga(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await cI(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&v1(a.remoteStore,l),p}async function cI(a,e,n,i,l){a.pu=(w,N,R)=>(async function(q,L,z,U){let Q=L.view.ru(z);Q.Ss&&(Q=await _v(q.localStore,L.query,!1).then((({documents:S})=>L.view.ru(S,Q))));const ue=U&&U.targetChanges.get(L.targetId),oe=U&&U.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(Q,q.isPrimaryClient,ue,oe);return Iv(q,L.targetId,re.au),re.snapshot})(a,w,N,R);const u=await _v(a.localStore,e,!0),f=new sI(e,u.ks),p=f.ru(u.documents),g=Xc.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",l),y=f.applyChanges(p,a.isPrimaryClient,g);Iv(a,n,y.au);const b=new aI(e,n,f);return a.Tu.set(e,b),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function uI(a,e,n){const i=Fe(a),l=i.Tu.get(e),u=i.Iu.get(l.targetId);if(u.length>1)return i.Iu.set(l.targetId,u.filter((f=>!vd(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await vp(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&ug(i.remoteStore,l.targetId),Ep(i,l.targetId)})).catch(lo)):(Ep(i,l.targetId),await vp(i.localStore,l.targetId,!0))}async function hI(a,e){const n=Fe(a),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ug(n.remoteStore,i.targetId))}async function dI(a,e,n){const i=bI(a);try{const l=await(function(f,p){const g=Fe(f),y=Vt.now(),b=p.reduce(((R,G)=>R.add(G.key)),it());let w,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let G=Xa(),q=it();return g.xs.getEntries(R,b).next((L=>{G=L,G.forEach(((z,U)=>{U.isValidDocument()||(q=q.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,G))).next((L=>{w=L;const z=[];for(const U of p){const Q=NC(U,w.get(U.key).overlayedDocument);Q!=null&&z.push(new Ji(U.key,Q,Lw(Q.value.mapValue),Bs.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,z,p)})).next((L=>{N=L;const z=L.applyToLocalDocumentSet(w,q);return g.documentOverlayCache.saveOverlays(R,L.batchId,z)}))})).then((()=>({batchId:N.batchId,changes:Kw(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new qt(at)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(i,l.batchId,n),await Jc(i,l.changes),await Ad(i.remoteStore)}catch(l){const u=pg(l,"Failed to persist write");n.reject(u)}}async function D1(a,e){const n=Fe(a);try{const i=await T5(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?gt(f.hu,14607):l.removedDocuments.size>0&&(gt(f.hu,42227),f.hu=!1))})),await Jc(n,i,e)}catch(i){await lo(i)}}function Cv(a,e,n){const i=Fe(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Fe(f);g.onlineState=p;let y=!1;g.queries.forEach(((b,w)=>{for(const N of w.ba)N.va(p)&&(y=!0)})),y&&gg(g)})(i.eventManager,e),l.length&&i.Pu.J_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fI(a,e,n){const i=Fe(a);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),u=l&&l.key;if(u){let f=new qt(Re.comparator);f=f.insert(u,kn.newNoDocument(u,ze.min()));const p=it().add(u),g=new Td(ze.min(),new Map,new qt(at),f,p);await D1(i,g),i.Ru=i.Ru.remove(u),i.Au.delete(e),xg(i)}else await vp(i.localStore,e,!1).then((()=>Ep(i,e,n))).catch(lo)}async function mI(a,e){const n=Fe(a),i=e.batch.batchId;try{const l=await E5(n.localStore,e);M1(n,i,null),k1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Jc(n,l)}catch(l){await lo(l)}}async function pI(a,e,n){const i=Fe(a);try{const l=await(function(f,p){const g=Fe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(gt(w!==null,37113),b=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(i.localStore,e);M1(i,e,n),k1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Jc(i,l)}catch(l){await lo(l)}}function k1(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function M1(a,e,n){const i=Fe(a);let l=i.du[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.du[i.currentUser.toKey()]=l}}function Ep(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Iu.get(e))a.Tu.delete(i),n&&a.Pu.yu(i,n);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((i=>{a.Vu.containsKey(i)||O1(a,i)}))}function O1(a,e){a.Eu.delete(e.path.canonicalString());const n=a.Ru.get(e);n!==null&&(ug(a.remoteStore,n),a.Ru=a.Ru.remove(e),a.Au.delete(n),xg(a))}function Iv(a,e,n){for(const i of n)i instanceof R1?(a.Vu.addReference(i.key,e),gI(a,i)):i instanceof C1?(be(yg,"Document no longer in limbo: "+i.key),a.Vu.removeReference(i.key,e),a.Vu.containsKey(i.key)||O1(a,i.key)):Ve(19791,{wu:i})}function gI(a,e){const n=e.key,i=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(i)||(be(yg,"New document in limbo: "+n),a.Eu.add(i),xg(a))}function xg(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new Re(Ct.fromString(e)),i=a.fu.next();a.Au.set(i,new iI(n)),a.Ru=a.Ru.insert(n,i),v1(a.remoteStore,new Oi(ga(eg(n.path)),i,"TargetPurposeLimboResolution",yd.ce))}}async function Jc(a,e,n){const i=Fe(a),l=[],u=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{f.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=og.Es(g.targetId,y);u.push(b)}})))})),await Promise.all(f),i.Pu.J_(l),await(async function(g,y){const b=Fe(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(y,(N=>ie.forEach(N.Ts,(R=>b.persistence.referenceDelegate.addReference(w,N.targetId,R))).next((()=>ie.forEach(N.Is,(R=>b.persistence.referenceDelegate.removeReference(w,N.targetId,R)))))))))}catch(w){if(!oo(w))throw w;be(cg,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const R=b.vs.get(N),G=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(G);b.vs=b.vs.insert(N,q)}}})(i.localStore,u))}async function yI(a,e){const n=Fe(a);if(!n.currentUser.isEqual(e)){be(yg,"User change. New user:",e.toKey());const i=await g1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new xe(ae.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jc(n,i.Ns)}}function xI(a,e){const n=Fe(a),i=n.Au.get(e);if(i&&i.hu)return it().add(i.key);{let l=it();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function V1(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fI.bind(null,e),e.Pu.J_=tI.bind(null,e.eventManager),e.Pu.yu=nI.bind(null,e.eventManager),e}function bI(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w5(this.persistence,new b5,e.initialUser,this.serializer)}Cu(e){return new p1(lg.Vi,this.serializer)}Du(e){return new R5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class vI extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof ad,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a5(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new p1((i=>ad.Vi(i,n)),this.serializer)}}class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Cv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await J5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eI})()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),i=M5(e.databaseInfo);return U5(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,u,f,p){return new B5(i,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Cv(this.syncEngine,n,0)),(function(){return Tv.v()?new Tv:new C5})())}createSyncEngine(e,n){return(function(l,u,f,p,g,y,b){const w=new rI(l,u,f,p,g,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Fe(n);be(Or,"RemoteStore shutting down."),i.Ea.add(5),await Wc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Yi="FirestoreClient";class _I{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=l,this.user=Dn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async f=>{be(Yi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(be(Yi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=pg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ym(a,e){a.asyncQueue.verifyOperationInProgress(),be(Yi,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener((async l=>{i.isEqual(l)||(await g1(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function Dv(a,e){a.asyncQueue.verifyOperationInProgress();const n=await wI(a);be(Yi,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((i=>Nv(e.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,l)=>Nv(e.remoteStore,l))),a._onlineComponents=e}async function wI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){be(Yi,"Using user provided OfflineComponentProvider");try{await Ym(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await Ym(a,new rd)}}else be(Yi,"Using default OfflineComponentProvider"),await Ym(a,new vI(void 0));return a._offlineComponents}async function P1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(be(Yi,"Using user provided OnlineComponentProvider"),await Dv(a,a._uninitializedComponentsProvider._online)):(be(Yi,"Using default OnlineComponentProvider"),await Dv(a,new Tp))),a._onlineComponents}function EI(a){return P1(a).then((e=>e.syncEngine))}async function Sp(a){const e=await P1(a),n=e.eventManager;return n.onListen=lI.bind(null,e.syncEngine),n.onUnlisten=uI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hI.bind(null,e.syncEngine),n}function TI(a,e,n,i){const l=new L1(i),u=new j1(e,l,n);return a.asyncQueue.enqueueAndForget((async()=>N1(await Sp(a),u))),()=>{l.Nu(),a.asyncQueue.enqueueAndForget((async()=>A1(await Sp(a),u)))}}function SI(a,e,n={}){const i=new zi;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const b=new L1({next:N=>{b.Nu(),f.enqueueAndForget((()=>A1(u,w))),N.fromCache&&g.source==="server"?y.reject(new xe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new j1(p,b,{includeMetadataChanges:!0,Ka:!0});return N1(u,w)})(await Sp(a),a.asyncQueue,e,n,i))),i.promise}function NI(a,e){const n=new zi;return a.asyncQueue.enqueueAndForget((async()=>dI(await EI(a),e,n))),n.promise}function U1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const AI="ComponentProvider",kv=new Map;function jI(a,e,n,i,l){return new KR(a,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,U1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,i)}const z1="firestore.googleapis.com",Mv=!0;class Ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=Mv}else this.host=e.host,this.ssl=e.ssl??Mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n5)throw new xe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new AR;switch(i.type){case"firstParty":return new IR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=kv.get(n);i&&(be(AI,"Removing Datastore"),kv.delete(n),i.terminate())})(this),Promise.resolve()}}function RI(a,e,n,i={}){a=pa(a,jd);const l=so(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${n}`;l&&(R_(`https://${p}`),C_("Firestore",!0)),u.host!==z1&&u.host!==p&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:i};if(!Cr(g,f)&&(a._setSettings(g),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=Dn.MOCK_USER;else{y=L2(i.mockUserToken,a._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new xe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Dn(w)}a._authCredentials=new jR(new Sw(y,b))}}class Hr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class on{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Yc(n,on._jsonSchema))return new on(e,i||null,new Re(Ct.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:ln("string",on._jsonSchemaVersion),referencePath:ln("string")};class Bi extends Hr{constructor(e,n,i){super(e,n,eg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Re(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function ut(a,e,...n){if(a=hn(a),Nw("collection","path",e),a instanceof jd){const i=Ct.fromString(e,...n);return Kb(i),new Bi(a,null,i)}{if(!(a instanceof on||a instanceof Bi))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Ct.fromString(e,...n));return Kb(i),new Bi(a.firestore,null,i)}}function _t(a,e,...n){if(a=hn(a),arguments.length===1&&(e=Kp.newId()),Nw("doc","path",e),a instanceof jd){const i=Ct.fromString(e,...n);return Yb(i),new on(a,null,new Re(i))}{if(!(a instanceof on||a instanceof Bi))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Ct.fromString(e,...n));return Yb(i),new on(a.firestore,a instanceof Bi?a.converter:null,new Re(i))}}const Vv="AsyncQueue";class Lv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x1(this,"async_queue_retry"),this._c=()=>{const i=Gm();i&&be(Vv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!oo(e))throw e;be(Vv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",Pv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=mg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ve(47125,{Pc:Pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Vr extends jd{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function CI(a,e){const n=typeof a=="object"?a:M_(),i=typeof a=="string"?a:Jh,l=Pp(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=O2("firestore");u&&RI(l,...u)}return l}function bg(a){if(a._terminated)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||II(a),a._firestoreClient}function II(a){const e=a._freezeSettings(),n=jI(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new _I(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(a._componentsProvider))}class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(An.fromBase64String(e))}catch(n){throw new xe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ns(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yc(e,Ns._jsonSchema))return Ns.fromBase64String(e.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:ln("string",Ns._jsonSchemaVersion),bytes:ln("string")};class vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rd{constructor(e){this._methodName=e}}class xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xa._jsonSchemaVersion}}static fromJSON(e){if(Yc(e,xa._jsonSchema))return new xa(e.latitude,e.longitude)}}xa._jsonSchemaVersion="firestore/geoPoint/1.0",xa._jsonSchema={type:ln("string",xa._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yc(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new xe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:ln("string",qs._jsonSchemaVersion),vectorValues:ln("object")};const DI=/^__.*__$/;class kI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qc(e,this.data,n,this.fieldTransforms)}}class B1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:a})}}class _g{constructor(e,n,i,l,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ld(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q1(this.dataSource)&&DI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Sd(e)}createContext(e,n,i,l=!1){return new _g({dataSource:e,methodName:n,targetDoc:i,path:Nn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(a){const e=a._freezeSettings(),n=Sd(a._databaseId);return new MI(a._databaseId,!!e.ignoreUndefinedProperties,n)}function OI(a,e,n,i,l,u={}){const f=a.createContext(u.merge||u.mergeFields?2:0,e,n,l);Tg("Data must be an object, but it was:",f,i);const p=H1(i,f);let g,y;if(u.merge)g=new us(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const N=Jl(e,w,n);if(!f.contains(N))throw new xe(ae.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);G1(b,N)||b.push(N)}g=new us(b),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new kI(new Yn(p),g,y)}class Cd extends Rd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}class Eg extends Rd{_toFieldTransform(e){return new wC(e.path,new Oc)}isEqual(e){return e instanceof Eg}}function VI(a,e,n,i){const l=a.createContext(1,e,n);Tg("Data must be an object, but it was:",l,i);const u=[],f=Yn.empty();Wi(i,((g,y)=>{const b=$1(e,g,n);y=hn(y);const w=l.childContextForFieldPath(b);if(y instanceof Cd)u.push(b);else{const N=Zc(y,w);N!=null&&(u.push(b),f.set(b,N))}}));const p=new us(u);return new B1(f,p,l.fieldTransforms)}function LI(a,e,n,i,l,u){const f=a.createContext(1,e,n),p=[Jl(e,i,n)],g=[l];if(u.length%2!=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(Jl(e,u[N])),g.push(u[N+1]);const y=[],b=Yn.empty();for(let N=p.length-1;N>=0;--N)if(!G1(y,p[N])){const R=p[N];let G=g[N];G=hn(G);const q=f.childContextForFieldPath(R);if(G instanceof Cd)y.push(R);else{const L=Zc(G,q);L!=null&&(y.push(R),b.set(R,L))}}const w=new us(y);return new B1(b,w,f.fieldTransforms)}function PI(a,e,n,i=!1){return Zc(n,a.createContext(i?4:3,e))}function Zc(a,e){if(F1(a=hn(a)))return Tg("Unsupported field value:",e,a),H1(a,e);if(a instanceof Rd)return(function(i,l){if(!q1(l.dataSource))throw l.createError(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,l){const u=[];let f=0;for(const p of i){let g=Zc(p,l.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(i,l){if((i=hn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bC(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Vt.fromDate(i);return{timestampValue:sd(l.serializer,u)}}if(i instanceof Vt){const u=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sd(l.serializer,u)}}if(i instanceof xa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ns)return{bytesValue:r1(l.serializer,i._byteString)};if(i instanceof on){const u=l.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof qs)return(function(f,p){const g=f instanceof qs?f.toArray():f;return{mapValue:{fields:{[Ow]:{stringValue:Vw},[Zh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return tg(p.serializer,b)}))}}}}}})(i,l);if(f1(i))return i._toProto(l.serializer);throw l.createError(`Unsupported field value: ${gd(i)}`)})(a,e)}function H1(a,e){const n={};return Rw(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(a,((i,l)=>{const u=Zc(l,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function F1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Vt||a instanceof xa||a instanceof Ns||a instanceof on||a instanceof Rd||a instanceof qs||f1(a))}function Tg(a,e,n){if(!F1(n)||!Aw(n)){const i=gd(n);throw i==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+i)}}function Jl(a,e,n){if((e=hn(e))instanceof vg)return e._internalPath;if(typeof e=="string")return $1(a,e);throw ld("Field path arguments must be of type string or ",a,!1,void 0,n)}const UI=new RegExp("[~\\*/\\[\\]]");function $1(a,e,n){if(e.search(UI)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new vg(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function ld(a,e,n,i,l){const u=i&&!i.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${i}`),f&&(g+=` in document ${l}`),g+=")"),new xe(ae.INVALID_ARGUMENT,p+a+g)}function G1(a,e){return a.some((n=>n.isEqual(e)))}class zI{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wi(e,((l,u)=>{i[l]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((i=>Qt(i.doubleValue)));return new qs(n)}convertGeoPoint(e){return new xa(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);gt(d1(i),9688,{name:e});const l=new kc(i.get(1),i.get(3)),u=new Re(i.popFirst(5));return l.isEqual(n)||Qa(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Sg extends zI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Ng(){return new Eg("serverTimestamp")}const Uv="@firebase/firestore",zv="4.10.0";function Bv(a){return(function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class Y1{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Jl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BI extends Y1{data(){return super.data()}}function K1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new xe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class qI extends Ag{}function As(a,e,...n){let i=[];e instanceof Ag&&i.push(e),i=i.concat(n),(function(u){const f=u.filter((g=>g instanceof jg)).length,p=u.filter((g=>g instanceof Id)).length;if(f>1||f>0&&p>0)throw new xe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)a=l._apply(a);return a}class Id extends qI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Id(e,n,i)}_apply(e){const n=this._parse(e);return Q1(e._query,n),new Hr(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=wg(e.firestore);return(function(u,f,p,g,y,b,w){let N;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Hv(w,b);const G=[];for(const q of w)G.push(qv(g,u,q));N={arrayValue:{values:G}}}else N=qv(g,u,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Hv(w,b),N=PI(p,f,w,b==="in"||b==="not-in");return rn.create(y,b,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hs(a,e,n){const i=e,l=Jl("where",a);return Id._create(l,i,n)}class jg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)Q1(f,g),f=mp(f,g)})(e._query,n),new Hr(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(a,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new xe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(e)&&n.indexOf("/")!==-1)throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ct.fromString(n));if(!Re.isDocumentKey(i))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nv(a,new Re(i))}if(n instanceof on)return nv(a,n._key);throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function Hv(a,e){if(!Array.isArray(a)||a.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(a,e){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function HI(a,e,n){let i;return i=a?a.toFirestore(e):e,i}class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ar extends Y1{constructor(e,n,i,l,u,f){super(e,n,i,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Jl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ar._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ar._jsonSchema={type:ln("string",Ar._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Bh extends Ar{data(e={}){return super.data(e)}}class jr{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new bc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Bh(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new Bh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Bh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),b=f.indexOf(p.doc.key)),{type:FI(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:a})}}jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:ln("string",jr._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};function js(a){a=pa(a,Hr);const e=pa(a.firestore,Vr),n=bg(e),i=new Sg(e);return K1(a._query),SI(n,a._query).then((l=>new jr(e,i,a,l)))}function jt(a,e,n,...i){a=pa(a,on);const l=pa(a.firestore,Vr),u=wg(l);let f;return f=typeof(e=hn(e))=="string"||e instanceof vg?LI(u,"updateDoc",a._key,e,n,i):VI(u,"updateDoc",a._key,e),Rg(l,[f.toMutation(a._key,Bs.exists(!0))])}function $I(a){return Rg(pa(a.firestore,Vr),[new ng(a._key,Bs.none())])}function Lr(a,e){const n=pa(a.firestore,Vr),i=_t(a),l=HI(a.converter,e),u=wg(a.firestore);return Rg(n,[OI(u,"addDoc",i._key,l,a.converter!==null,{}).toMutation(i._key,Bs.exists(!1))]).then((()=>i))}function Kn(a,...e){a=hn(a);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Bv(e[i])||(n=e[i++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bv(e[i])){const y=e[i];e[i]=y.next?.bind(y),e[i+1]=y.error?.bind(y),e[i+2]=y.complete?.bind(y)}let u,f,p;if(a instanceof on)f=pa(a.firestore,Vr),p=eg(a._key.path),u={next:y=>{e[i]&&e[i](GI(f,a,y))},error:e[i+1],complete:e[i+2]};else{const y=pa(a,Hr);f=pa(y.firestore,Vr),p=y._query;const b=new Sg(f);u={next:w=>{e[i]&&e[i](new jr(f,b,y,w))},error:e[i+1],complete:e[i+2]},K1(a._query)}const g=bg(f);return TI(g,p,l,u)}function Rg(a,e){const n=bg(a);return NI(n,e)}function GI(a,e,n){const i=n.docs.get(e._key),l=new Sg(a);return new Ar(a,l,e._key,i,new bc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){NR(ao),$l(new Ir("firestore",((i,{instanceIdentifier:l,options:u})=>{const f=i.getProvider("app").getImmediate(),p=new Vr(new RR(i.getProvider("auth-internal")),new DR(f,i.getProvider("app-check-internal")),QR(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Pi(Uv,zv,e),Pi(Uv,zv,"esm2020")})();const YI={apiKey:"AIzaSyC1qZ9fK-6LFBxVWZsAD4dZq-KVg36A7f8",authDomain:"scheduler-65e51.firebaseapp.com",projectId:"scheduler-65e51",storageBucket:"scheduler-65e51.firebasestorage.app",messagingSenderId:"93993791456",appId:"1:93993791456:web:3a777a2da0dad4b8b74585"},X1=k_(YI),Se=CI(X1),Pr=wR(X1);const W1=(...a)=>a.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const KI=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QI=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const Fv=a=>{const e=QI(a);return e.charAt(0).toUpperCase()+e.slice(1)};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WI=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const JI=C.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:f,...p},g)=>C.createElement("svg",{ref:g,...XI,width:e,height:e,stroke:a,strokeWidth:i?Number(n)*24/Number(e):n,className:W1("lucide",l),...!u&&!WI(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,b])=>C.createElement(y,b)),...Array.isArray(u)?u:[u]]));const Qe=(a,e)=>{const n=C.forwardRef(({className:i,...l},u)=>C.createElement(JI,{ref:u,iconNode:e,className:W1(`lucide-${KI(Fv(a))}`,`lucide-${a}`,i),...l}));return n.displayName=Fv(a),n};const ZI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fa=Qe("arrow-left",ZI);const e4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nc=Qe("arrow-right",e4);const t4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pl=Qe("bell",t4);const n4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Km=Qe("calendar-check",n4);const s4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$v=Qe("calendar-days",s4);const a4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bt=Qe("calendar",a4);const i4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r4=Qe("chart-column",i4);const l4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cg=Qe("check",l4);const o4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],J1=Qe("chevron-left",o4);const c4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z1=Qe("chevron-right",c4);const u4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],da=Qe("circle-check-big",u4);const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ci=Qe("circle-x",h4);const d4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qn=Qe("clock",d4);const f4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],m4=Qe("coffee",f4);const p4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g4=Qe("eye",p4);const y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],x4=Qe("globe",y4);const b4=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Np=Qe("list-ordered",b4);const v4=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],od=Qe("list-plus",v4);const _4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eE=Qe("lock",_4);const w4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E4=Qe("log-out",w4);const T4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gv=Qe("mail",T4);const S4=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],tE=Qe("party-popper",S4);const N4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nE=Qe("pen-line",N4);const A4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yv=Qe("phone",A4);const j4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ig=Qe("plus",j4);const R4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sE=Qe("refresh-cw",R4);const C4=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Rr=Qe("repeat",C4);const I4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D4=Qe("save",I4);const k4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Fr=Qe("scissors",k4);const M4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O4=Qe("settings",M4);const V4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],L4=Qe("sparkles",V4);const P4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kv=Qe("star",P4);const U4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$a=Qe("tag",U4);const z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cd=Qe("trash-2",z4);const B4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],q4=Qe("trending-up",B4);const H4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ap=Qe("triangle-alert",H4);const F4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qv=Qe("user",F4);const $4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cs=Qe("users",$4);const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zl=Qe("x",G4);const Y4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K4=Qe("zap",Y4);function Xv({className:a=""}){return c.jsxs(Xe,{to:"/",className:`flex items-center gap-2.5 ${a}`,children:[c.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:c.jsx(Fr,{className:"w-[18px] h-[18px] text-white"})}),c.jsxs("span",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function Q4(){return c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-slate-100",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsx(Xv,{}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Xe,{to:"/login",className:"px-4 py-2.5 text-sm font-semibold text-slate-600 hover:text-slate-900 transition-colors",children:"Sign In"}),c.jsxs(Xe,{to:"/register",className:"hidden sm:inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all hover:shadow-lg hover:shadow-blue-600/25 hover:-translate-y-0.5",children:["Get Started Free",c.jsx(Nc,{className:"w-4 h-4"})]}),c.jsx(Xe,{to:"/register",className:"sm:hidden px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all",children:"Start Free"})]})]})}),c.jsxs("section",{className:"relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-50 rounded-full blur-3xl opacity-60 -translate-y-1/2 translate-x-1/3"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-violet-50 rounded-full blur-3xl opacity-50 translate-y-1/3 -translate-x-1/4"})]}),c.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 pt-16 sm:pt-24 pb-16 sm:pb-20",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-3.5 py-1.5 bg-blue-50 border border-blue-100 rounded-full text-sm font-medium text-blue-700 mb-6",children:[c.jsx(L4,{className:"w-3.5 h-3.5"}),"Free for beauty professionals"]}),c.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-[3.5rem] font-extrabold text-slate-900 leading-[1.1] mb-6 tracking-tight",children:["Online booking",c.jsx("br",{}),c.jsx("span",{className:"text-blue-600",children:"made effortless"})]}),c.jsx("p",{className:"text-lg sm:text-xl text-slate-600 leading-relaxed mb-8 max-w-lg",children:"Let clients book 24/7. Manage your team, services, and schedule from one beautiful dashboard. No more phone tag."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-10",children:[c.jsxs(Xe,{to:"/register",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-base shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-600/30 transition-all hover:-translate-y-0.5",children:["Start for Free",c.jsx(Nc,{className:"w-4 h-4"})]}),c.jsx("a",{href:"#how-it-works",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-base border border-slate-200 transition-all",children:"See How It Works"})]}),c.jsxs("div",{className:"flex items-center gap-5 text-sm text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(da,{className:"w-4 h-4 text-emerald-500"}),c.jsx("span",{children:"Free to use"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(da,{className:"w-4 h-4 text-emerald-500"}),c.jsx("span",{children:"No credit card"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(da,{className:"w-4 h-4 text-emerald-500"}),c.jsx("span",{children:"Setup in 2 min"})]})]})]}),c.jsxs("div",{className:"relative animate-fade-in-up",style:{animationDelay:"150ms"},children:[c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl shadow-slate-200/60 border border-slate-200/80 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-slate-50 border-b border-slate-100",children:[c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"})]}),c.jsx("div",{className:"flex-1 mx-4",children:c.jsx("div",{className:"bg-white border border-slate-200 rounded-lg px-3 py-1.5 text-xs text-slate-400 font-mono",children:"bookflow.app/shop/janes-salon"})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-sm font-bold",children:"J"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900",children:"Jane's Salon"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Book your next appointment"})]})]}),c.jsx("div",{className:"space-y-2.5",children:[{name:"Haircut & Style",price:"$45",time:"45 min",color:"bg-blue-500"},{name:"Color Treatment",price:"$120",time:"2 hours",color:"bg-violet-500"},{name:"Blowout",price:"$35",time:"30 min",color:"bg-emerald-500"}].map(a=>c.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-slate-50 rounded-xl border border-slate-100 group hover:border-blue-200 hover:bg-blue-50/50 transition-all cursor-default",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-2 h-8 ${a.color} rounded-full`}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-slate-800",children:a.name}),c.jsx("div",{className:"text-xs text-slate-500",children:a.time})]})]}),c.jsx("div",{className:"text-sm font-bold text-slate-900",children:a.price})]},a.name))})]})]}),c.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-white rounded-xl shadow-lg shadow-slate-200/60 border border-slate-100 px-4 py-3 flex items-center gap-3 animate-float",children:[c.jsx("div",{className:"w-9 h-9 bg-emerald-100 rounded-full flex items-center justify-center",children:c.jsx(da,{className:"w-5 h-5 text-emerald-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Booking confirmed"}),c.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Tomorrow at 2:00 PM"})]})]})]})]})})]}),c.jsx("section",{className:"border-y border-slate-100 bg-slate-50/50",children:c.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-8 sm:py-10",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8 sm:gap-16 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"500+"}),c.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Businesses trust BookFlow"})]}),c.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"10,000+"}),c.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Appointments booked"})]}),c.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl sm:text-3xl font-extrabold text-slate-900",children:["4.9 ",c.jsx(Kv,{className:"w-5 h-5 text-amber-400 fill-amber-400"})]}),c.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Average rating"})]})]})})}),c.jsx("section",{className:"py-20 sm:py-28",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Everything you need to run your bookings"}),c.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Built specifically for beauty professionals, salons, and service businesses. Simple, powerful, and free."})]}),c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children",children:[{icon:c.jsx(Bt,{className:"w-6 h-6"}),title:"Smart Scheduling",desc:"Set weekly hours with breaks. Slots auto-generate so your calendar is always up to date.",color:"bg-blue-100 text-blue-600"},{icon:c.jsx(cs,{className:"w-6 h-6"}),title:"Multi-Staff Support",desc:"Add your whole team. Each member gets their own schedule, hours, and bookings.",color:"bg-violet-100 text-violet-600"},{icon:c.jsx(K4,{className:"w-6 h-6"}),title:"Instant Booking",desc:"Clients pick a service, choose a stylist, and book  all in under a minute.",color:"bg-amber-100 text-amber-600"},{icon:c.jsx(x4,{className:"w-6 h-6"}),title:"Your Own Booking Page",desc:"Get a unique link to share anywhere. No app downloads needed for your clients.",color:"bg-emerald-100 text-emerald-600"}].map(a=>c.jsxs("div",{className:"group bg-white rounded-2xl p-7 border border-slate-200/80 hover:border-slate-300 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[c.jsx("div",{className:`w-12 h-12 ${a.color} rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:a.icon}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:a.title}),c.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:a.desc})]},a.title))})]})}),c.jsx("section",{id:"how-it-works",className:"py-20 sm:py-28 bg-slate-50 border-y border-slate-100",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Up and running in minutes"}),c.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Three simple steps to start accepting online bookings today."})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12 relative",children:[c.jsx("div",{className:"hidden md:block absolute top-14 left-[calc(16.67%+1rem)] right-[calc(16.67%+1rem)] h-px bg-gradient-to-r from-blue-200 via-violet-200 to-emerald-200"}),[{step:"1",title:"Create your account",desc:"Sign up free in 30 seconds. Name your shop and you're in.",color:"from-blue-500 to-blue-600",shadow:"shadow-blue-500/30"},{step:"2",title:"Set up your shop",desc:"Add your services, team, and weekly hours. BookFlow handles the rest.",color:"from-violet-500 to-violet-600",shadow:"shadow-violet-500/30"},{step:"3",title:"Share your link",desc:"Send your booking page to clients. They book, you get notified.",color:"from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/30"}].map(a=>c.jsxs("div",{className:"relative text-center",children:[c.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${a.color} rounded-2xl flex items-center justify-center mx-auto mb-6 text-white text-xl font-extrabold shadow-lg ${a.shadow} relative z-10`,children:a.step}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:a.title}),c.jsx("p",{className:"text-slate-600 leading-relaxed max-w-xs mx-auto",children:a.desc})]},a.step))]})]})}),c.jsx("section",{className:"py-20 sm:py-28",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Loved by professionals"}),c.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"See why salons and stylists are switching to BookFlow."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{quote:"BookFlow replaced our paper appointment book. Clients love being able to book online anytime.",name:"Maria Santos",role:"Salon Owner",initials:"MS",color:"bg-blue-100 text-blue-700"},{quote:"Setting up was incredibly easy. I had my booking page live and shared with clients in under 10 minutes.",name:"David Chen",role:"Barber",initials:"DC",color:"bg-violet-100 text-violet-700"},{quote:"The multi-staff feature is perfect. Each stylist manages their own schedule and clients can pick who they want.",name:"Lisa Park",role:"Studio Manager",initials:"LP",color:"bg-emerald-100 text-emerald-700"}].map(a=>c.jsxs("div",{className:"bg-white rounded-2xl p-7 border border-slate-200/80 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[c.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((e,n)=>c.jsx(Kv,{className:"w-4 h-4 text-amber-400 fill-amber-400"},n))}),c.jsxs("p",{className:"text-slate-700 leading-relaxed mb-6",children:['"',a.quote,'"']}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 ${a.color} rounded-full flex items-center justify-center text-sm font-bold`,children:a.initials}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900",children:a.name}),c.jsx("div",{className:"text-xs text-slate-500",children:a.role})]})]})]},a.name))})]})}),c.jsxs("section",{className:"py-20 sm:py-28 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 -z-0",children:[c.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"})]}),c.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto px-5 sm:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white mb-6 leading-tight",children:"Ready to streamline your bookings?"}),c.jsx("p",{className:"text-lg text-slate-400 mb-10 max-w-xl mx-auto",children:"Join hundreds of professionals who have ditched the old appointment book. Set up in minutes, free forever."}),c.jsxs(Xe,{to:"/register",className:"inline-flex items-center gap-2 px-8 py-4 bg-white hover:bg-slate-50 text-slate-900 rounded-xl font-bold text-lg transition-all hover:shadow-xl hover:shadow-white/10 hover:-translate-y-0.5",children:["Create Your Free Account",c.jsx(Nc,{className:"w-5 h-5"})]})]})]}),c.jsx("footer",{className:"bg-white border-t border-slate-100",children:c.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-10",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsx(Xv,{}),c.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-500",children:[c.jsx(Xe,{to:"/register",className:"hover:text-slate-900 transition-colors",children:"Sign Up"}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsx(Xe,{to:"/login",className:"hover:text-slate-900 transition-colors",children:"Sign In"}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsx("a",{href:"#how-it-works",className:"hover:text-slate-900 transition-colors",children:"How It Works"})]}),c.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," BookFlow. All rights reserved."]})]})})})]})}function X4(a){return a.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function W4(){const a=no(),[e,n]=C.useState(""),[i,l]=C.useState(""),[u,f]=C.useState(""),[p,g]=C.useState(""),[y,b]=C.useState(!1),w=X4(e),N=async R=>{if(R.preventDefault(),g(""),!w){g("Please enter a valid shop name");return}if(u.length<6){g("Password must be at least 6 characters");return}b(!0);try{const G=As(ut(Se,"shops"),hs("slug","==",w));if(!(await js(G)).empty){g("A shop with that name already exists. Please choose a different name."),b(!1);return}const z=(await lj(Pr,i,u)).user;await Lr(ut(Se,"shops"),{name:e.trim(),slug:w,ownerUid:z.uid,ownerEmail:i,createdAt:Ng()}),a(`/shop/${w}/dashboard`)}catch(G){switch(G.code){case"auth/email-already-in-use":g("An account with this email already exists");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/weak-password":g("Password must be at least 6 characters");break;default:g("Registration failed. Please try again.")}}finally{b(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2.5",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:c.jsx(Fr,{className:"w-5 h-5 text-white"})}),c.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Create your shop"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Set up your booking page in seconds  it's free"})]}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Shop Name"}),c.jsx("input",{type:"text",value:e,onChange:R=>{n(R.target.value),g("")},placeholder:"Jane's Salon",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"}),w&&c.jsxs("p",{className:"mt-1.5 text-xs text-slate-400",children:["Your page: ",c.jsxs("span",{className:"font-mono text-blue-600 font-medium",children:["bookflow.app/shop/",w]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),c.jsx("input",{type:"email",value:i,onChange:R=>{l(R.target.value),g("")},placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),c.jsx("input",{type:"password",value:u,onChange:R=>{f(R.target.value),g("")},placeholder:"At least 6 characters",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&c.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[c.jsx("span",{children:""})," ",p]})]}),c.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Creating your shop"]}):c.jsxs(c.Fragment,{children:["Create Shop",c.jsx(Nc,{className:"w-4 h-4"})]})})]}),c.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:c.jsxs("p",{className:"text-sm text-slate-500",children:["Already have an account?"," ",c.jsx(Xe,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Sign in"})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function J4({user:a}){const e=no(),[n,i]=C.useState(""),[l,u]=C.useState(""),[f,p]=C.useState(""),[g,y]=C.useState(!1);C.useState(()=>{if(!a)return;(async()=>{const N=As(ut(Se,"shops"),hs("ownerUid","==",a.uid)),R=await js(N);if(!R.empty){const G=R.docs[0].data();e(`/shop/${G.slug}/dashboard`,{replace:!0})}})()},[a,e]);const b=async w=>{w.preventDefault(),p(""),y(!0);try{const R=(await lw(Pr,n,l)).user,G=As(ut(Se,"shops"),hs("ownerUid","==",R.uid)),q=await js(G);if(q.empty){p("No shop found for this account. Need to create one?"),await Pr.signOut(),y(!1);return}const L=q.docs[0].data();e(`/shop/${L.slug}/dashboard`,{replace:!0})}catch(N){switch(N.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":p("Invalid email or password");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please try again.")}u("")}finally{y(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2.5",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:c.jsx(Fr,{className:"w-5 h-5 text-white"})}),c.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),c.jsx("input",{type:"email",value:n,onChange:w=>{i(w.target.value),p("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),c.jsx("input",{type:"password",value:l,onChange:w=>{u(w.target.value),p("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${f?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),f&&c.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[c.jsx("span",{children:""})," ",f]})]}),c.jsx("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:g?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):c.jsxs(c.Fragment,{children:["Sign In",c.jsx(Nc,{className:"w-4 h-4"})]})})]}),c.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:c.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",c.jsx(Xe,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function aE({availableDates:a,selectedDate:e,onSelectDate:n}){const[i,l]=C.useState(new Date),u=z=>{const U=z.getFullYear(),Q=z.getMonth(),ue=new Date(U,Q,1),re=new Date(U,Q+1,0).getDate(),S=ue.getDay();return{daysInMonth:re,startingDayOfWeek:S,year:U,month:Q}},{daysInMonth:f,startingDayOfWeek:p,year:g,month:y}=u(i),b=()=>{l(new Date(i.getFullYear(),i.getMonth()-1))},w=()=>{l(new Date(i.getFullYear(),i.getMonth()+1))},N=z=>{const U=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;return a.includes(U)},R=z=>`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`===e,G=z=>{if(N(z)){const U=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;n(U)}},q=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 sm:p-6 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-5",children:[c.jsx("button",{onClick:b,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(J1,{className:"w-5 h-5 text-slate-600"})}),c.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[q[y]," ",g]}),c.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(Z1,{className:"w-5 h-5 text-slate-600"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:L.map(z=>c.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:z},z))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:p}).map((z,U)=>c.jsx("div",{},`empty-${U}`)),Array.from({length:f}).map((z,U)=>{const Q=U+1,ue=N(Q),oe=R(Q),re=new Date,S=re.getDate()===Q&&re.getMonth()===y&&re.getFullYear()===g;return c.jsxs("button",{onClick:()=>G(Q),disabled:!ue,className:`
                relative p-2.5 sm:p-3 text-center rounded-lg text-sm font-semibold transition-all duration-200
                ${oe?"bg-blue-600 text-white shadow-md shadow-blue-600/30":ue?"bg-emerald-50 text-emerald-700 border border-emerald-200 hover:bg-emerald-100 hover:border-emerald-300 cursor-pointer":S?"text-slate-900 font-bold":"text-slate-300 cursor-not-allowed"}
              `,children:[Q,S&&!oe&&c.jsx("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]},Q)})]}),c.jsxs("div",{className:"mt-4 flex gap-5 text-xs text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 bg-emerald-50 border border-emerald-200 rounded"}),c.jsx("span",{children:"Available"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded"}),c.jsx("span",{children:"Selected"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),c.jsx("span",{children:"Today"})]})]})]})}const Z4=[{key:"monday",label:"Mon"},{key:"tuesday",label:"Tue"},{key:"wednesday",label:"Wed"},{key:"thursday",label:"Thu"},{key:"friday",label:"Fri"},{key:"saturday",label:"Sat"},{key:"sunday",label:"Sun"}],Wv=[{key:"morning",label:"Morning (9AM12PM)",start:"09:00",end:"12:00"},{key:"afternoon",label:"Afternoon (12PM5PM)",start:"12:00",end:"17:00"},{key:"evening",label:"Evening (5PM9PM)",start:"17:00",end:"21:00"},{key:"any",label:"Any time",start:"00:00",end:"23:59"}];function eD(){const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="WL";for(let n=0;n<4;n++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}function Jv({shopId:a,slug:e,selectedService:n,selectedStaff:i,staffMembers:l,preferredDate:u,onSuccess:f,onCancel:p}){const[g,y]=C.useState({name:"",email:"",phone:""}),[b,w]=C.useState([]),[N,R]=C.useState("any"),[G,q]=C.useState(!1),[L,z]=C.useState(!1),[U,Q]=C.useState(""),ue=re=>{w(S=>S.includes(re)?S.filter(A=>A!==re):[...S,re])},oe=async re=>{re.preventDefault(),q(!0);try{const S=eD(),A=Wv.find(P=>P.key===N),j=i&&i!=="any"?i.id:"any",O=i&&i!=="any"?i.name:"Any Available",D={clientName:g.name,clientEmail:g.email,clientPhone:g.phone,serviceId:n?.id||null,serviceName:n?.name||"Any Service",staffId:j,staffName:O,preferredDate:u||null,preferredDays:b.length>0?b:null,preferredTimeRange:A?{start:A.start,end:A.end}:null,status:"waiting",refCode:S,createdAt:new Date().toISOString(),notifiedAt:null,notifiedSlot:null};await Lr(ut(Se,"shops",a,"waitlist"),D),Q(S),z(!0),f&&f(S)}catch(S){console.error("Waitlist error:",S)}finally{q(!1)}};return L?c.jsxs("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-lg shadow-blue-100/50 p-8 text-center animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(da,{className:"w-8 h-8 text-blue-600"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"You're on the Waitlist!"}),c.jsxs("p",{className:"text-slate-600 mb-4",children:["We'll notify you when a slot opens up",n?` for ${n.name}`:"","."]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Your waitlist reference"}),c.jsx("p",{className:"text-2xl font-mono font-extrabold text-blue-600 tracking-wider",children:U})]}),c.jsxs("a",{href:`#/shop/${e}/waitlist/${U}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[c.jsx(Qn,{className:"w-4 h-4"}),"Check Waitlist Status"]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Save this link to check your position and get notified"})]}):c.jsxs("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-lg p-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:c.jsx(od,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Join the Waitlist"}),c.jsx("p",{className:"text-sm text-slate-500",children:"We'll notify you when a slot opens up"})]})]}),c.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Full Name"}),c.jsx("input",{type:"text",value:g.name,onChange:re=>y({...g,name:re.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),c.jsx("input",{type:"email",value:g.email,onChange:re=>y({...g,email:re.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Phone Number"}),c.jsx("input",{type:"tel",value:g.phone,onChange:re=>y({...g,phone:re.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Preferred Days ",c.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Z4.map(re=>c.jsx("button",{type:"button",onClick:()=>ue(re.key),className:`px-3.5 py-2 rounded-lg text-sm font-semibold transition-all border ${b.includes(re.key)?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300"}`,children:re.label},re.key))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Preferred Time"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Wv.map(re=>c.jsx("button",{type:"button",onClick:()=>R(re.key),className:`px-3.5 py-2.5 rounded-lg text-sm font-medium transition-all border text-left ${N===re.key?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300"}`,children:re.label},re.key))})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"submit",disabled:G,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:G?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Joining"]}):c.jsxs(c.Fragment,{children:[c.jsx(od,{className:"w-4 h-4"}),"Join Waitlist"]})}),p&&c.jsx("button",{type:"button",onClick:p,className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})}const tD=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Ul(a){const[e,n]=a.split(":").map(Number);return e*60+n}function Zv(a){const e=Math.floor(a/60),n=a%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function nD(a){const e=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${e}-${n}-${i}`}function sD(a,e,n,i,l,u){if(!a)return[];const p=new Date(e+"T12:00:00").getDay(),g=tD[p],y=a[g];if(!y||!y.enabled)return[];const b=Ul(y.start),w=Ul(y.end),N=y.break?Ul(y.break.start):null,R=y.break?Ul(y.break.end):null,G=n+i,q=[];let L=b;for(;L+n<=w;){const z=L+n;if(N!==null&&R!==null&&L<R&&z>N){L=R;continue}q.push({id:`wh-${l}-${e}-${Zv(L)}`,date:e,time:Zv(L),duration:n,available:!0,staffId:l,staffName:u,generated:!0}),L+=G}return q}function iE(a,e,n=0,i=4){const l=[],u=new Date;u.setHours(0,0,0,0);const f=new Date(u);f.setDate(f.getDate()+i*7);for(const p of a){if(!p.weeklyHours)continue;const g=new Date(u);for(;g<f;){const y=nD(g),b=sD(p.weeklyHours,y,e,n,p.id,p.name);l.push(...b),g.setDate(g.getDate()+1)}}return l}function rE(a,e,n=0){const i=e.filter(l=>!l.status||l.status==="pending"||l.status==="confirmed");return a.filter(l=>{const u=Ul(l.time),f=u+l.duration;return!i.some(g=>{if(l.staffId&&g.staffId&&g.staffId!==l.staffId||g.date!==l.date)return!1;const y=Ul(g.time),b=g.serviceDuration||g.duration||l.duration,w=y+b;return!(f+n<=y||w+n<=u)})})}function lE(a,e){const n=new Set(e.map(l=>`${l.staffId||""}-${l.date}-${l.time}`)),i=a.filter(l=>{const u=`${l.staffId||""}-${l.date}-${l.time}`;return!n.has(u)});return[...e,...i]}function Rh({name:a,className:e="w-12 h-12",bgClass:n="bg-blue-100 text-blue-700"}){const i=(a||"").split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2);return c.jsx("div",{className:`${e} ${n} rounded-full flex items-center justify-center font-bold text-sm select-none flex-shrink-0`,children:i||"?"})}function aD(){return c.jsxs(Xe,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:c.jsx(Fr,{className:"w-3.5 h-3.5 text-white"})}),c.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function iD(){const{slug:a}=Uc(),[e,n]=C.useState(null),[i,l]=C.useState(null),[u,f]=C.useState(!0),[p,g]=C.useState(!1),[y,b]=C.useState([]),[w,N]=C.useState([]),[R,G]=C.useState(null),[q,L]=C.useState(null),[z,U]=C.useState([]),[Q,ue]=C.useState([]),[oe,re]=C.useState(!1),[S,A]=C.useState(null),[j,O]=C.useState(null),[D,P]=C.useState(""),[I,De]=C.useState(!1),[Me,K]=C.useState({name:"",email:"",phone:""}),[ce,we]=C.useState(""),[$e,Be]=C.useState(!1),[M,te]=C.useState(!1),[he,pe]=C.useState("biweekly"),[Ee,Ce]=C.useState(null);C.useEffect(()=>{(async()=>{f(!0),g(!1);try{const fe=As(ut(Se,"shops"),hs("slug","==",a)),Ue=await js(fe);if(Ue.empty)g(!0);else{const ke=Ue.docs[0];n(ke.data()),l(ke.id)}}catch(fe){console.error("Error looking up shop:",fe),g(!0)}finally{f(!1)}})()},[a]),C.useEffect(()=>{if(!i)return;const le=Kn(ut(Se,"shops",i,"services"),We=>{const ye=We.docs.map(Ne=>({id:Ne.id,...Ne.data()})).filter(Ne=>Ne.active!==!1).sort((Ne,Dt)=>(Ne.name||"").localeCompare(Dt.name||""));b(ye)}),fe=Kn(ut(Se,"shops",i,"availability"),We=>{const ye=new Date,Ne=We.docs.map(Dt=>({id:Dt.id,...Dt.data()})).filter(Dt=>new Date(`${Dt.date}T${Dt.time}`)>ye);U(Ne)}),Ue=Kn(ut(Se,"shops",i,"bookings"),We=>{const ye=We.docs.map(Ne=>({id:Ne.id,...Ne.data()}));ue(ye)}),ke=Kn(ut(Se,"shops",i,"staff"),We=>{const ye=We.docs.map(Ne=>({id:Ne.id,...Ne.data()})).filter(Ne=>Ne.active!==!1).sort((Ne,Dt)=>(Ne.name||"").localeCompare(Dt.name||""));N(ye)});return()=>{le(),fe(),Ue(),ke()}},[i]),C.useEffect(()=>{w.length===1?L(w[0]):w.length===0&&L(null)},[w]);const qe=y.length>0;w.length>0;const wt=w.length>1,et=e?.bufferMinutes||0,yn=C.useMemo(()=>{const le=new Date;let fe=z.filter(ye=>ye.available);if(R&&(fe=fe.filter(ye=>ye.duration>=R.duration)),q&&q!=="any"&&(fe=fe.filter(ye=>ye.staffId===q.id||!ye.staffId)),!R)return fe;const Ue=q&&q!=="any"?w.filter(ye=>ye.id===q.id):w,ke=iE(Ue,R.duration,et,4).filter(ye=>new Date(`${ye.date}T${ye.time}`)>le),We=lE(ke,fe);return rE(We,Q,et)},[z,R,q,w,Q,et]),Xn=(le,fe,Ue=3)=>{const ke=[],We=new Date(le+"T12:00:00"),ye=new Date(We);ye.setMonth(ye.getMonth()+Ue);let Ne=new Date(We);for(fe==="weekly"?Ne.setDate(Ne.getDate()+7):fe==="biweekly"?Ne.setDate(Ne.getDate()+14):fe==="fourweekly"?Ne.setDate(Ne.getDate()+28):fe==="monthly"&&Ne.setMonth(Ne.getMonth()+1);Ne<=ye;){const Dt=Ne.getFullYear(),dn=String(Ne.getMonth()+1).padStart(2,"0"),$t=String(Ne.getDate()).padStart(2,"0");ke.push(`${Dt}-${dn}-${$t}`),fe==="weekly"?Ne.setDate(Ne.getDate()+7):fe==="biweekly"?Ne.setDate(Ne.getDate()+14):fe==="fourweekly"?Ne.setDate(Ne.getDate()+28):fe==="monthly"&&Ne.setMonth(Ne.getMonth()+1)}return ke},It=C.useMemo(()=>{if(!M||!S)return null;const le=Xn(S.date,he),fe=R?R.duration:S.duration||60,Ue=q&&q!=="any"?q.id:S.staffId,ke=S.time,We=Q.filter(kt=>!kt.status||kt.status==="pending"||kt.status==="confirmed"),ye=kt=>{const[$r,Jn]=kt.split(":").map(Number);return $r*60+Jn},Ne=ye(ke),Dt=Ne+fe;let dn=[],$t=[];const Ln=new Set;le.forEach(kt=>{We.some(Jn=>{if(Ue&&Jn.staffId&&Jn.staffId!==Ue||Jn.date!==kt)return!1;const Zn=ye(Jn.time),va=Jn.serviceDuration||Jn.duration||fe,uo=Zn+va,Gs=et||0;return!(Dt+Gs<=Zn||uo+Gs<=Ne)})||Ln.has(kt)?$t.push(kt):(dn.push(kt),Ln.add(kt))});const Rt=le.length>0?le[le.length-1]:S.date,Rn=new Date(Rt+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Pn={weekly:"week",biweekly:"2 weeks",fourweekly:"4 weeks",monthly:"month"};return{available:dn,conflicts:$t,total:dn.length+1,skipped:$t.length,endDate:Rn,intervalLabel:Pn[he]||he}},[M,he,S,R,q,Q,et]),Lt=le=>{G(le),w.length>1&&L(null),O(null),A(null),re(!1),P("")},Xt=le=>{L(le),O(null),A(null),re(!1),P("")},xn=()=>{G(null),w.length>1&&L(null),O(null),A(null),re(!1)},bn=()=>{O(null),A(null),re(!1),wt?L(null):qe&&G(null)},Wn=le=>{A(le),re(!0),P("")},jn=()=>{const le="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let fe="BK";for(let Ue=0;Ue<4;Ue++)fe+=le.charAt(Math.floor(Math.random()*le.length));return fe},ft=async le=>{le.preventDefault(),De(!0),Ce(null);try{const fe=jn(),Ue=e?.requireApproval?"pending":"confirmed",ke=M?`rg-${Date.now()}-${Math.random().toString(36).slice(2,8)}`:null,We=M&&It?It.endDate:null,ye={slotId:S.id,date:S.date,time:S.time,duration:R?R.duration:S.duration,clientName:Me.name,clientEmail:Me.email,clientPhone:Me.phone,bookedAt:new Date().toISOString(),status:Ue,refCode:fe};R&&(ye.serviceId=R.id,ye.serviceName=R.name,ye.servicePrice=R.price,ye.serviceDuration=R.duration),q&&q!=="any"?(ye.staffId=q.id,ye.staffName=q.name):S.staffId&&(ye.staffId=S.staffId,ye.staffName=S.staffName||""),M&&ke&&(ye.recurring=!0,ye.recurringInterval=he,ye.recurringGroupId=ke,ye.recurringUntil=We),await Lr(ut(Se,"shops",i,"bookings"),ye),S.generated||await jt(_t(Se,"shops",i,"availability",S.id),{available:!1});let Ne=1,Dt=0;if(M&&It){const dn=It.available;Dt=It.skipped;for(const $t of dn){const Ln=jn(),Rt={...ye,date:$t,slotId:`recurring-${ke}-${$t}`,refCode:Ln,bookedAt:new Date().toISOString()};await Lr(ut(Se,"shops",i,"bookings"),Rt),Ne++}Ce({created:Ne,skipped:Dt})}K({name:"",email:"",phone:""}),re(!1),A(null),G(null),O(null),L(w.length===1?w[0]:null),te(!1),we(fe),e?.requireApproval?P(" Your booking request has been submitted! The shop will review and confirm it shortly."):P(" Booking confirmed! You will receive a confirmation email shortly.")}catch(fe){console.error("Booking error:",fe),P(" Something went wrong. Please try again.")}finally{De(!1)}},ge=le=>new Date(le+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Ae=le=>{const[fe,Ue]=le.split(":"),ke=parseInt(fe),We=ke>=12?"PM":"AM";return`${ke%12||12}:${Ue} ${We}`},Le=le=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(le),yt=le=>{if(le<60)return`${le} min`;const fe=Math.floor(le/60),Ue=le%60;return Ue?`${fe}h ${Ue}m`:`${fe} hour${fe>1?"s":""}`};if(u)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading booking page"})]})});if(p)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(Bt,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),c.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,c.jsx("span",{className:"font-mono text-blue-600",children:a}),'".']}),c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[c.jsx(Fa,{className:"w-4 h-4"}),"Go Home"]})]})});const lt=[...new Set(yn.map(le=>le.date))].sort(),ot=j?yn.filter(le=>le.date===j):yn,Z=oe?"form":qe&&!R?"services":wt&&!q?"staff":"calendar",me=[];qe&&me.push({key:"services",label:"Service"}),wt&&me.push({key:"staff",label:"Stylist"}),me.push({key:"calendar",label:"Date & Time"}),me.push({key:"form",label:"Confirm"});const ve=me.findIndex(le=>le.key===Z),Pe=["border-l-blue-500","border-l-violet-500","border-l-emerald-500","border-l-amber-500","border-l-rose-500","border-l-cyan-500","border-l-indigo-500","border-l-pink-500","border-l-teal-500"];return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[c.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(e.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:e.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Book your appointment"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Xe,{to:`/shop/${a}/login`,className:"flex items-center gap-1.5 px-3.5 py-2 text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[c.jsx(eE,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"hidden sm:inline",children:"Owner"})]}),c.jsx(aD,{})]})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:[me.length>1&&c.jsx("div",{className:"flex items-center justify-center gap-0 mb-8 animate-fade-in",children:me.map((le,fe)=>{const Ue=le.key===Z,ke=fe<ve;return c.jsxs(C.Fragment,{children:[fe>0&&c.jsx("div",{className:`w-8 sm:w-14 h-0.5 transition-colors duration-300 ${fe<=ve?"bg-blue-500":"bg-slate-200"}`}),c.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[c.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${Ue?"bg-blue-600 text-white shadow-md shadow-blue-600/30 scale-110":ke?"bg-blue-600 text-white":"bg-slate-200 text-slate-500"}`,children:ke?c.jsx(da,{className:"w-5 h-5"}):fe+1}),c.jsx("span",{className:`text-xs font-medium hidden sm:block transition-colors ${Ue?"text-blue-700":ke?"text-blue-600":"text-slate-400"}`,children:le.label})]})]},le.key)})}),D&&c.jsx("div",{className:"mb-8 animate-scale-in",children:D.startsWith("")?c.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(tE,{className:"w-8 h-8 text-emerald-600"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),c.jsx("p",{className:"text-slate-600 mb-4",children:"You're all set. We'll send a confirmation to your email."}),Ee&&c.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 font-semibold text-sm mb-1",children:[c.jsx(Rr,{className:"w-4 h-4"}),"Recurring Series Created"]}),c.jsxs("p",{className:"text-sm text-slate-700",children:[Ee.created," appointment",Ee.created!==1?"s":""," booked"]}),Ee.skipped>0&&c.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[" ",Ee.skipped," date",Ee.skipped!==1?"s":""," skipped due to conflicts"]})]}),ce&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Your reference"}),c.jsx("p",{className:"text-2xl font-mono font-extrabold text-blue-600 tracking-wider",children:ce})]}),ce&&c.jsxs("div",{className:"mb-4",children:[c.jsxs(Xe,{to:`/shop/${a}/booking/${ce}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[c.jsx(Km,{className:"w-4 h-4"}),"Manage Your Booking"]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Save this link to reschedule or cancel your booking"})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg text-sm text-emerald-700 font-medium",children:[c.jsx(Km,{className:"w-4 h-4"}),"Add to your calendar to remember"]})]}):D.startsWith("")?c.jsxs("div",{className:"bg-white rounded-2xl border border-amber-200 shadow-lg shadow-amber-100/50 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Qn,{className:"w-8 h-8 text-amber-600"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Request Submitted!"}),c.jsx("p",{className:"text-slate-600 mb-4",children:"Your booking request has been submitted! The shop will review and confirm it shortly."}),Ee&&c.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 font-semibold text-sm mb-1",children:[c.jsx(Rr,{className:"w-4 h-4"}),"Recurring Series Created"]}),c.jsxs("p",{className:"text-sm text-slate-700",children:[Ee.created," appointment",Ee.created!==1?"s":""," submitted"]}),Ee.skipped>0&&c.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[" ",Ee.skipped," date",Ee.skipped!==1?"s":""," skipped due to conflicts"]})]}),ce&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Your reference"}),c.jsx("p",{className:"text-2xl font-mono font-extrabold text-blue-600 tracking-wider",children:ce})]}),ce&&c.jsxs("div",{className:"mb-4",children:[c.jsxs(Xe,{to:`/shop/${a}/booking/${ce}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[c.jsx(Km,{className:"w-4 h-4"}),"Manage Your Booking"]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Save this link to reschedule or cancel your booking"})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700 font-medium",children:[c.jsx(Qn,{className:"w-4 h-4"}),"You'll be notified once it's confirmed"]})]}):c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 flex items-center gap-3 text-red-800 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Something went wrong. Please try again."})]})}),Z==="services"&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose a Service"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select the service you'd like to book"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 stagger-children",children:y.map((le,fe)=>c.jsxs("button",{onClick:()=>Lt(le),className:`group text-left bg-white border-l-4 ${Pe[fe%Pe.length]} border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors pr-2",children:le.name}),c.jsx("span",{className:"text-xl font-extrabold text-blue-600 whitespace-nowrap",children:Le(le.price)})]}),le.description&&c.jsx("p",{className:"text-sm text-slate-500 mb-3 line-clamp-2 leading-relaxed",children:le.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-400",children:[c.jsx(Qn,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:yt(le.duration)})]}),c.jsx("span",{className:"text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]})]},le.id))})]}),Z==="staff"&&c.jsxs("div",{className:"animate-fade-in",children:[qe&&R&&c.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[c.jsxs("button",{onClick:xn,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back"]}),c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[c.jsx($a,{className:"w-3.5 h-3.5 text-blue-500"}),c.jsx("span",{className:"font-semibold text-slate-800",children:R.name}),c.jsx("span",{className:"text-blue-600 font-bold",children:Le(R.price)})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose Your Stylist"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select your preferred professional"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 stagger-children",children:[c.jsxs("button",{onClick:()=>Xt("any"),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[c.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(cs,{className:"w-5 h-5 text-slate-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Any Available"}),c.jsx("p",{className:"text-xs text-slate-500",children:"First available professional"})]})]}),c.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]}),w.map(le=>c.jsxs("button",{onClick:()=>Xt(le),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[c.jsx(Rh,{name:le.name}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:le.name}),le.role&&c.jsx("p",{className:"text-xs text-slate-500",children:le.role})]})]}),c.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]},le.id))]})]}),Z==="calendar"&&c.jsxs("div",{className:"animate-fade-in",children:[(qe||wt)&&c.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[c.jsxs("button",{onClick:bn,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back"]}),R&&c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[c.jsx($a,{className:"w-3.5 h-3.5 text-blue-500"}),c.jsx("span",{className:"font-semibold text-slate-800",children:R.name}),c.jsx("span",{className:"text-blue-600 font-bold",children:Le(R.price)}),c.jsxs("span",{className:"text-slate-400",children:[" ",yt(R.duration)]})]}),q&&q!=="any"&&c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-violet-50 border border-violet-200 rounded-lg text-sm",children:[c.jsx(Rh,{name:q.name,className:"w-5 h-5 text-[10px]",bgClass:"bg-violet-200 text-violet-700"}),c.jsx("span",{className:"font-semibold text-slate-800",children:q.name})]}),q==="any"&&c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[c.jsx(cs,{className:"w-3.5 h-3.5 text-slate-500"}),c.jsx("span",{className:"font-semibold text-slate-700",children:"Any Available"})]})]}),lt.length===0?c.jsx("div",{children:$e?c.jsx("div",{className:"max-w-lg mx-auto",children:c.jsx(Jv,{shopId:i,slug:a,selectedService:R,selectedStaff:q,staffMembers:w,preferredDate:null,onCancel:()=>Be(!1)})}):c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Bt,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No available slots"}),c.jsx("p",{className:"text-slate-600 max-w-md mx-auto mb-6",children:R?`No time slots available for ${R.name} (${yt(R.duration)}). Join the waitlist to be notified when a slot opens up!`:"Check back soon for new availability, or join the waitlist!"}),c.jsxs("button",{onClick:()=>Be(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 hover:-translate-y-0.5",children:[c.jsx(od,{className:"w-4 h-4"}),"Join Waitlist"]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Select a Date"}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Pick a day that works for you"})]}),c.jsx("div",{className:"mb-8",children:c.jsx(aE,{availableDates:lt,selectedDate:j,onSelectDate:O})}),j&&c.jsxs("div",{className:"animate-slide-down",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Times for ",ge(j)]}),c.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[ot.length," slot",ot.length!==1?"s":""]})]}),ot.length===0?c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:[c.jsx("p",{className:"text-slate-500 mb-4",children:"No times available for this date"}),$e?c.jsx("div",{className:"mt-4 text-left",children:c.jsx(Jv,{shopId:i,slug:a,selectedService:R,selectedStaff:q,staffMembers:w,preferredDate:j,onCancel:()=>Be(!1)})}):c.jsxs("button",{onClick:()=>Be(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[c.jsx(od,{className:"w-4 h-4"}),"Join the Waitlist"]})]}):c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 stagger-children",children:ot.sort((le,fe)=>le.time.localeCompare(fe.time)).map(le=>c.jsxs("button",{onClick:()=>Wn(le),className:"group bg-white border border-slate-200 hover:border-blue-400 rounded-xl p-4 transition-all duration-200 hover:shadow-md hover:shadow-blue-100/50 hover:-translate-y-0.5 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors mb-1",children:Ae(le.time)}),le.staffName&&q==="any"&&c.jsxs("div",{className:"text-xs text-violet-600 mb-0.5 flex items-center justify-center gap-1",children:[c.jsx(cs,{className:"w-3 h-3"}),le.staffName]}),c.jsx("div",{className:"text-xs text-slate-400",children:R?yt(R.duration):`${le.duration} min`})]},le.id))})]}),!j&&c.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Select a date above to see available times"})]})]}),Z==="form"&&c.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Complete Your Booking"}),c.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Review your details and confirm"}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 mb-6 space-y-3",children:[R&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx($a,{className:"w-4 h-4 text-blue-600"})}),c.jsx("span",{className:"font-semibold text-slate-800",children:R.name})]}),c.jsx("span",{className:"font-bold text-blue-600",children:Le(R.price)})]}),q&&q!=="any"&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx(Rh,{name:q.name,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold text-slate-800",children:q.name}),q.role&&c.jsxs("span",{className:"text-slate-400 text-sm ml-1.5",children:[" ",q.role]})]})]}),q==="any"&&S?.staffName&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx(Rh,{name:S.staffName,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),c.jsx("span",{className:"font-semibold text-slate-800",children:S.staffName})]}),c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Bt,{className:"w-4 h-4 text-slate-600"})}),c.jsxs("span",{className:"font-semibold text-slate-800",children:[ge(S.date)," at ",Ae(S.time)]})]}),c.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-slate-500",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Qn,{className:"w-4 h-4 text-slate-500"})}),c.jsx("span",{children:R?yt(R.duration):`${S.duration} min`})]})]}),c.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Full Name"}),c.jsx("input",{type:"text",value:Me.name,onChange:le=>K({...Me,name:le.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),c.jsx("input",{type:"email",value:Me.email,onChange:le=>K({...Me,email:le.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Phone Number"}),c.jsx("input",{type:"tel",value:Me.phone,onChange:le=>K({...Me,phone:le.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(Rr,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-800",children:"Make this recurring"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Book the same slot on a regular schedule"})]})]}),c.jsx("button",{type:"button",onClick:()=>te(!M),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${M?"bg-blue-500":"bg-slate-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${M?"translate-x-6":"translate-x-1"}`})})]}),M&&c.jsxs("div",{className:"space-y-3 pt-1 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Repeat every"}),c.jsxs("select",{value:he,onChange:le=>pe(le.target.value),className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[c.jsx("option",{value:"weekly",children:"Week"}),c.jsx("option",{value:"biweekly",children:"2 Weeks"}),c.jsx("option",{value:"fourweekly",children:"4 Weeks"}),c.jsx("option",{value:"monthly",children:"Month"})]})]}),It&&c.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[" Every ",It.intervalLabel," through ",It.endDate]}),c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[It.total," total appointment",It.total!==1?"s":""]}),It.skipped>0&&c.jsxs("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:[" ",It.skipped," date",It.skipped!==1?"s":""," will be skipped due to existing bookings"]})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"submit",disabled:I,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:I?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Booking"]}):c.jsxs(c.Fragment,{children:[c.jsx(da,{className:"w-4 h-4"}),"Confirm Booking"]})}),c.jsx("button",{type:"button",onClick:()=>{re(!1),A(null)},className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})]}),c.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",c.jsx(Xe,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function rD({slotsByDate:a,bookingsByDate:e,selectedDate:n,onSelectDate:i,recurringDayFlags:l={}}){const[u,f]=C.useState(new Date),p=ue=>{const oe=ue.getFullYear(),re=ue.getMonth(),S=new Date(oe,re,1),j=new Date(oe,re+1,0).getDate(),O=S.getDay();return{daysInMonth:j,startingDayOfWeek:O,year:oe,month:re}},{daysInMonth:g,startingDayOfWeek:y,year:b,month:w}=p(u),N=()=>{f(new Date(u.getFullYear(),u.getMonth()-1))},R=()=>{f(new Date(u.getFullYear(),u.getMonth()+1))},G=ue=>`${b}-${String(w+1).padStart(2,"0")}-${String(ue).padStart(2,"0")}`,q=ue=>{const oe=G(ue),re=a[oe]||[],S=e[oe]||[],A=re.filter(O=>O.available).length,j=S.length;return{availableCount:A,bookedCount:j,hasData:re.length>0||S.length>0}},L=ue=>{const oe=G(ue);i(oe===n?null:oe)},z=["January","February","March","April","May","June","July","August","September","October","November","December"],U=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=new Date;return Q.setHours(0,0,0,0),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-5",children:[c.jsx("button",{onClick:N,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(J1,{className:"w-5 h-5 text-slate-600"})}),c.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[z[w]," ",b]}),c.jsx("button",{onClick:R,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(Z1,{className:"w-5 h-5 text-slate-600"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:U.map(ue=>c.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:ue},ue))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:y}).map((ue,oe)=>c.jsx("div",{},`empty-${oe}`)),Array.from({length:g}).map((ue,oe)=>{const re=oe+1,S=G(re),{availableCount:A,bookedCount:j,hasData:O}=q(re),D=S===n,P=new Date,I=P.getDate()===re&&P.getMonth()===w&&P.getFullYear()===b,De=new Date(b,w,re),Me=De.getDay(),K=l[Me]&&De>=Q;return c.jsxs("button",{onClick:()=>L(re),className:`
                relative p-2 text-center rounded-lg text-sm font-semibold transition-all duration-200 min-h-[56px] flex flex-col items-center justify-start cursor-pointer
                ${D?"bg-blue-600 text-white shadow-md shadow-blue-600/30":O||K?"bg-slate-50 hover:bg-slate-100 text-slate-900 border border-slate-200 hover:border-slate-300":I?"text-slate-900 font-bold hover:bg-slate-50":"text-slate-400 hover:bg-slate-50"}
              `,children:[c.jsxs("span",{className:`text-sm ${I&&!D?"relative":""}`,children:[re,I&&!D&&c.jsx("span",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]}),(O||K)&&c.jsxs("div",{className:"flex gap-0.5 mt-1 flex-wrap justify-center",children:[K&&c.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${D?"bg-white/20 text-white":"bg-violet-100 text-violet-700"}`,children:"R"}),A>0&&c.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${D?"bg-white/20 text-white":"bg-emerald-100 text-emerald-700"}`,children:A}),j>0&&c.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${D?"bg-white/20 text-white":"bg-blue-100 text-blue-700"}`,children:j})]})]},re)})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-500",children:[Object.keys(l).length>0&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3.5 h-3.5 bg-violet-100 border border-violet-200 rounded flex items-center justify-center text-[7px] font-bold text-violet-700",children:"R"}),c.jsx("span",{children:"Recurring"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3.5 h-3.5 bg-emerald-100 border border-emerald-200 rounded"}),c.jsx("span",{children:"Available"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3.5 h-3.5 bg-blue-100 border border-blue-200 rounded"}),c.jsx("span",{children:"Booked"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3.5 h-3.5 bg-blue-600 rounded"}),c.jsx("span",{children:"Selected"})]})]})]})}const lD=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}];function oD({shopId:a}){const[e,n]=C.useState([]),[i,l]=C.useState(!1),[u,f]=C.useState(null),[p,g]=C.useState({name:"",description:"",duration:30,price:""}),[y,b]=C.useState(!1);C.useEffect(()=>{if(!a)return;const z=Kn(ut(Se,"shops",a,"services"),U=>{const Q=U.docs.map(ue=>({id:ue.id,...ue.data()})).filter(ue=>ue.active!==!1).sort((ue,oe)=>(ue.name||"").localeCompare(oe.name||""));n(Q)});return()=>z()},[a]);const w=()=>{g({name:"",description:"",duration:30,price:""}),l(!1),f(null)},N=async z=>{z.preventDefault(),b(!0);const U={name:p.name.trim(),description:p.description.trim(),duration:parseInt(p.duration),price:parseFloat(p.price),active:!0};try{u?await jt(_t(Se,"shops",a,"services",u),U):await Lr(ut(Se,"shops",a,"services"),{...U,createdAt:Ng()}),w()}catch(Q){console.error("Error saving service:",Q)}finally{b(!1)}},R=z=>{g({name:z.name,description:z.description||"",duration:z.duration,price:z.price.toString()}),f(z.id),l(!0)},G=async z=>{try{await jt(_t(Se,"shops",a,"services",z),{active:!1})}catch(U){console.error("Error deleting service:",U)}},q=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),L=z=>{if(z<60)return`${z} min`;const U=Math.floor(z/60),Q=z%60;return Q?`${U}h ${Q}m`:`${U}h`};return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services"}),c.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Define the services you offer  clients will pick one before booking"})]}),!i&&c.jsxs("button",{onClick:()=>{w(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[c.jsx(Ig,{className:"w-4 h-4"}),"Add Service"]})]}),i&&c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Service":"New Service"}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),c.jsx("input",{type:"text",value:p.name,onChange:z=>g({...p,name:z.target.value}),required:!0,placeholder:"e.g. Haircut",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (optional)"}),c.jsx("input",{type:"text",value:p.description,onChange:z=>g({...p,description:z.target.value}),placeholder:"e.g. Classic cut and style",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),c.jsx("select",{value:p.duration,onChange:z=>g({...p,duration:z.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:lD.map(z=>c.jsx("option",{value:z.value,children:z.label},z.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:"$"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p.price,onChange:z=>g({...p,price:z.target.value}),required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsxs("button",{type:"submit",disabled:y,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[c.jsx(Cg,{className:"w-4 h-4"}),y?"Saving":u?"Update Service":"Add Service"]}),c.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[c.jsx(Zl,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-5xl mb-3",children:""}),c.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No services yet"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Add your first service so clients can choose what to book"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(z=>c.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:z.name}),z.description&&c.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:z.description})]}),c.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap ml-3",children:q(z.price)})]}),c.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Qn,{className:"w-4 h-4"}),L(z.duration)]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>R(z),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[c.jsx(nE,{className:"w-3.5 h-3.5"}),"Edit"]}),c.jsx("button",{onClick:()=>G(z.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:c.jsx(cd,{className:"w-3.5 h-3.5"})})]})]},z.id))})]})}const Qm=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],cD={enabled:!1,start:"09:00",end:"17:00",break:null};function uD({shopId:a,staffId:e,staffName:n,weeklyHours:i,onClose:l}){const[u,f]=C.useState(()=>{const L={};for(const z of Qm){const U=i?.[z.key];U?L[z.key]={enabled:!!U.enabled,start:U.start||"09:00",end:U.end||"17:00",break:U.break?{start:U.break.start,end:U.break.end}:null}:L[z.key]={...cD}}return L}),[p,g]=C.useState(!1),[y,b]=C.useState(null),w=(L,z,U)=>{f(Q=>({...Q,[L]:{...Q[L],[z]:U}}))},N=L=>{f(z=>({...z,[L]:{...z[L],break:z[L].break?null:{start:"12:00",end:"13:00"}}}))},R=(L,z,U)=>{f(Q=>({...Q,[L]:{...Q[L],break:{...Q[L].break,[z]:U}}}))},G=L=>{const z=u[L];f(U=>{const Q={...U};for(const ue of Qm)ue.key!==L&&(Q[ue.key]={enabled:z.enabled,start:z.start,end:z.end,break:z.break?{...z.break}:null});return Q}),b(L),setTimeout(()=>b(null),1500)},q=async()=>{g(!0);try{await jt(_t(Se,"shops",a,"staff",e),{weeklyHours:u}),l()}catch(L){console.error("Error saving weekly hours:",L)}finally{g(!1)}};return c.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Weekly Hours"}),c.jsx("p",{className:"text-sm text-slate-500",children:n})]}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(Zl,{className:"w-5 h-5 text-slate-400"})})]}),c.jsx("div",{className:"space-y-3",children:Qm.map(({key:L,label:z})=>{const U=u[L];return c.jsx("div",{className:`rounded-xl p-4 transition-all ${U.enabled?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-[140px]",children:[c.jsx("button",{type:"button",onClick:()=>w(L,"enabled",!U.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${U.enabled?"bg-blue-500":"bg-slate-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${U.enabled?"translate-x-6":"translate-x-1"}`})}),c.jsx("span",{className:`font-semibold text-sm ${U.enabled?"text-slate-900":"text-slate-400"}`,children:z})]}),U.enabled?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qn,{className:"w-4 h-4 text-blue-500"}),c.jsx("input",{type:"time",value:U.start,onChange:Q=>w(L,"start",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("span",{className:"text-slate-400 text-sm",children:"to"}),c.jsx("input",{type:"time",value:U.end,onChange:Q=>w(L,"end",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>N(L),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${U.break?"bg-amber-100 text-amber-700 border border-amber-200":"bg-slate-100 text-slate-500 border border-slate-200 hover:bg-slate-200"}`,children:[c.jsx(m4,{className:"w-3.5 h-3.5"}),U.break?"Break":"+ Break"]}),U.break&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"time",value:U.break.start,onChange:Q=>R(L,"start",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"}),c.jsx("span",{className:"text-slate-400 text-xs",children:""}),c.jsx("input",{type:"time",value:U.break.end,onChange:Q=>R(L,"end",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"})]})]}),c.jsx("button",{type:"button",onClick:()=>G(L),className:"text-xs text-blue-500 hover:text-blue-700 font-medium transition-colors whitespace-nowrap",children:y===L?" Copied!":"Copy to all"})]}):c.jsx("span",{className:"text-sm text-slate-400 italic",children:"Day off"})]})},L)})}),c.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200",children:[c.jsxs("button",{onClick:q,disabled:p,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[c.jsx(D4,{className:"w-4 h-4"}),p?"Saving":"Save Hours"]}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[c.jsx(Zl,{className:"w-4 h-4"}),"Cancel"]})]})]})}const hD=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function e_(a){if(!a)return"";const[e,n]=a.split(":").map(Number),i=e>=12?"p":"a",l=e%12||12;return n===0?`${l}${i}`:`${l}:${n.toString().padStart(2,"0")}${i}`}function dD({shopId:a}){const[e,n]=C.useState([]),[i,l]=C.useState(!1),[u,f]=C.useState(null),[p,g]=C.useState(null),[y,b]=C.useState({name:"",role:""}),[w,N]=C.useState(!1);C.useEffect(()=>{if(!a)return;const U=Kn(ut(Se,"shops",a,"staff"),Q=>{const ue=Q.docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.active!==!1).sort((oe,re)=>(oe.name||"").localeCompare(re.name||""));n(ue)});return()=>U()},[a]);const R=()=>{b({name:"",role:""}),l(!1),f(null)},G=async U=>{U.preventDefault(),N(!0);const Q={name:y.name.trim(),role:y.role.trim(),active:!0};try{u?await jt(_t(Se,"shops",a,"staff",u),Q):await Lr(ut(Se,"shops",a,"staff"),{...Q,email:"",createdAt:Ng()}),R()}catch(ue){console.error("Error saving staff member:",ue)}finally{N(!1)}},q=U=>{b({name:U.name,role:U.role||""}),f(U.id),l(!0)},L=async U=>{try{await jt(_t(Se,"shops",a,"staff",U),{active:!1})}catch(Q){console.error("Error deleting staff member:",Q)}},z=U=>{if(!U)return null;const Q=hD.filter(ue=>U[ue.key]?.enabled);return Q.length===0?null:Q.map(ue=>{const oe=U[ue.key];return`${ue.short} ${e_(oe.start)}${e_(oe.end)}`})};return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Staff"}),c.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your team  assign availability and bookings per staff member"})]}),!i&&c.jsxs("button",{onClick:()=>{R(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[c.jsx(Ig,{className:"w-4 h-4"}),"Add Staff"]})]}),i&&c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Staff Member":"New Staff Member"}),c.jsxs("form",{onSubmit:G,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),c.jsx("input",{type:"text",value:y.name,onChange:U=>b({...y,name:U.target.value}),required:!0,placeholder:"e.g. Jane Smith",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role (optional)"}),c.jsx("input",{type:"text",value:y.role,onChange:U=>b({...y,role:U.target.value}),placeholder:"e.g. Senior Stylist",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsxs("button",{type:"submit",disabled:w,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[c.jsx(Cg,{className:"w-4 h-4"}),w?"Saving":u?"Update Staff":"Add Staff"]}),c.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[c.jsx(Zl,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-5xl mb-3",children:""}),c.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No staff members yet"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Add your team members to assign them availability and bookings"})]}):c.jsx("div",{className:"space-y-4",children:e.map(U=>{const Q=z(U.weeklyHours);return c.jsxs("div",{children:[c.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:U.name}),U.role&&c.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:U.role})]}),c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(cs,{className:"w-5 h-5 text-blue-600"})})]}),Q?c.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:Q.map((ue,oe)=>c.jsx("span",{className:"inline-block px-2 py-0.5 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium",children:ue},oe))}):c.jsx("p",{className:"text-xs text-slate-400 mb-3 italic",children:"No weekly hours set"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>g(p===U.id?null:U.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border ${p===U.id?"bg-blue-100 text-blue-700 border-blue-300":"bg-slate-100 hover:bg-slate-200 text-slate-700 border-slate-200"}`,children:[c.jsx(Qn,{className:"w-3.5 h-3.5"}),"Set Hours"]}),c.jsxs("button",{onClick:()=>q(U),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[c.jsx(nE,{className:"w-3.5 h-3.5"}),"Edit"]}),c.jsx("button",{onClick:()=>L(U.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:c.jsx(cd,{className:"w-3.5 h-3.5"})})]})]}),p===U.id&&c.jsx("div",{className:"mt-2",children:c.jsx(uD,{shopId:a,staffId:U.id,staffName:U.name,weeklyHours:U.weeklyHours,onClose:()=>g(null)})})]},U.id)})})]})}const fD=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Xm(a){const[e,n]=a.split(":").map(Number);return e*60+n}function mD(a,e){if(a.status!=="waiting"||a.serviceId&&e.serviceId&&a.serviceId!==e.serviceId||a.staffId&&a.staffId!=="any"&&e.staffId&&a.staffId!==e.staffId)return!1;if(e.date){if(a.preferredDate&&a.preferredDate!==e.date)return!1;if(a.preferredDays&&a.preferredDays.length>0){const n=new Date(e.date+"T12:00:00"),i=fD[n.getDay()];if(!a.preferredDays.includes(i))return!1}}if(e.time&&a.preferredTimeRange){const n=Xm(e.time),i=Xm(a.preferredTimeRange.start),l=Xm(a.preferredTimeRange.end);if(!(a.preferredTimeRange.start==="00:00"&&a.preferredTimeRange.end==="23:59")&&(n<i||n>l))return!1}return!0}function pD(a,e){return a.filter(n=>mD(n,e)).sort((n,i)=>(n.createdAt||"").localeCompare(i.createdAt||""))}const t_=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function Tr(a){if(!a)return"";const[e,n]=a.split(":").map(Number),i=e>=12?"PM":"AM",l=e%12||12;return n===0?`${l}${i}`:`${l}:${n.toString().padStart(2,"0")}${i}`}function gD({user:a}){const{slug:e}=Uc(),n=no(),[i,l]=C.useState(null),[u,f]=C.useState(null),[p,g]=C.useState(!0),[y,b]=C.useState(!1),[w,N]=C.useState([]),[R,G]=C.useState([]),[q,L]=C.useState([]),[z,U]=C.useState("schedule"),[Q,ue]=C.useState(null),[oe,re]=C.useState("all"),[S,A]=C.useState("all"),[j,O]=C.useState([]),[D,P]=C.useState(null),[I,De]=C.useState(null),[Me,K]=C.useState({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""});C.useEffect(()=>{if(!a){n(`/shop/${e}/login`,{replace:!0});return}(async()=>{g(!0);try{const Z=As(ut(Se,"shops"),hs("slug","==",e)),me=await js(Z);if(me.empty){b(!0),g(!1);return}const ve=me.docs[0],Pe=ve.data();if(Pe.ownerUid!==a.uid){b(!0),g(!1);return}l(Pe),f(ve.id)}catch(Z){console.error("Error checking ownership:",Z),b(!0)}finally{g(!1)}})()},[a,e,n]),C.useEffect(()=>{if(!u)return;const B=Kn(ut(Se,"shops",u,"availability"),Pe=>{const le=Pe.docs.map(fe=>({id:fe.id,...fe.data()}));N(le)}),Z=Kn(ut(Se,"shops",u,"bookings"),Pe=>{const le=Pe.docs.map(fe=>({id:fe.id,...fe.data()}));G(le)}),me=Kn(ut(Se,"shops",u,"staff"),Pe=>{const le=Pe.docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>fe.active!==!1).sort((fe,Ue)=>(fe.name||"").localeCompare(Ue.name||""));L(le)}),ve=Kn(ut(Se,"shops",u,"waitlist"),Pe=>{const le=Pe.docs.map(fe=>({id:fe.id,...fe.data()})).sort((fe,Ue)=>(fe.createdAt||"").localeCompare(Ue.createdAt||""));O(le)});return()=>{B(),Z(),me(),ve()}},[u]);const ce=async()=>{await hj(Pr),n(`/shop/${e}`,{replace:!0})},we=async B=>{B.preventDefault();const{date:Z,startTime:me,endTime:ve,slotDuration:Pe,staffId:le}=Me,fe=parseInt(Pe),[Ue,ke]=me.split(":").map(Number),[We,ye]=ve.split(":").map(Number),Ne=Ue*60+ke,Dt=We*60+ye;let dn=Ne;for(;dn+fe<=Dt;){const $t=Math.floor(dn/60),Ln=dn%60,Rt=`${$t.toString().padStart(2,"0")}:${Ln.toString().padStart(2,"0")}`,Rn={date:Z,time:Rt,duration:fe,available:!0};if(le){const Pn=q.find(kt=>kt.id===le);Rn.staffId=le,Rn.staffName=Pn?.name||""}await Lr(ut(Se,"shops",u,"availability"),Rn),dn+=fe}K({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""})},$e=async B=>{await $I(_t(Se,"shops",u,"availability",B))},Be=B=>{const Z={date:B.date,time:B.time,staffId:B.staffId||null,serviceId:B.serviceId||null},me=pD(j,Z);me.length>0&&P({matches:me,slot:Z})},M=async(B,Z)=>{for(const me of B)await jt(_t(Se,"shops",u,"waitlist",me.id),{status:"notified",notifiedAt:new Date().toISOString(),notifiedSlot:{date:Z.date,time:Z.time,staffId:Z.staffId||null,staffName:Z.staffName||null}});P(null)},te=async B=>{await jt(_t(Se,"shops",u,"waitlist",B),{status:"notified",notifiedAt:new Date().toISOString()})},he=async B=>{await jt(_t(Se,"shops",u,"waitlist",B),{status:"expired"})},pe=async B=>{const Z=R.find(me=>me.id===B);if(Z&&Z.recurringGroupId){De({bookingId:B,recurringGroupId:Z.recurringGroupId});return}if(await jt(_t(Se,"shops",u,"bookings",B),{status:"cancelled"}),Z&&Z.slotId&&!Z.slotId.startsWith("wh-")&&!Z.slotId.startsWith("recurring-"))try{await jt(_t(Se,"shops",u,"availability",Z.slotId),{available:!0})}catch(me){console.warn("Could not re-open slot:",me)}Z&&Be(Z)},Ee=async B=>{const Z=R.find(me=>me.id===B);if(await jt(_t(Se,"shops",u,"bookings",B),{status:"cancelled"}),Z&&Z.slotId&&!Z.slotId.startsWith("wh-")&&!Z.slotId.startsWith("recurring-"))try{await jt(_t(Se,"shops",u,"availability",Z.slotId),{available:!0})}catch(me){console.warn("Could not re-open slot:",me)}Z&&Be(Z),De(null)},Ce=async(B,Z)=>{const me=R.find(Pe=>Pe.id===B);if(!me)return;const ve=R.filter(Pe=>Pe.recurringGroupId===Z&&Pe.date>=me.date&&(Pe.status==="pending"||Pe.status==="confirmed"));for(const Pe of ve)if(await jt(_t(Se,"shops",u,"bookings",Pe.id),{status:"cancelled"}),Pe.slotId&&!Pe.slotId.startsWith("wh-")&&!Pe.slotId.startsWith("recurring-"))try{await jt(_t(Se,"shops",u,"availability",Pe.slotId),{available:!0})}catch(le){console.warn("Could not re-open slot:",le)}me&&Be(me),De(null)},qe=async B=>{await jt(_t(Se,"shops",u,"bookings",B),{status:"confirmed"})},wt=async B=>{const Z=R.find(me=>me.id===B);if(await jt(_t(Se,"shops",u,"bookings",B),{status:"rejected"}),Z&&Z.slotId&&!Z.slotId.startsWith("wh-"))try{await jt(_t(Se,"shops",u,"availability",Z.slotId),{available:!0})}catch(me){console.warn("Could not re-open slot:",me)}Z&&Be(Z)},et=async()=>{const B=!i?.requireApproval;try{await jt(_t(Se,"shops",u),{requireApproval:B}),l(Z=>({...Z,requireApproval:B}))}catch(Z){console.error("Error updating requireApproval:",Z)}},yn=async B=>{const Z=parseInt(B);try{await jt(_t(Se,"shops",u),{bufferMinutes:Z}),l(me=>({...me,bufferMinutes:Z}))}catch(me){console.error("Error updating buffer minutes:",me)}},Xn=(B,Z)=>new Date(`${B}T${Z}`).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),It=C.useMemo(()=>{const B={},Z=oe==="all"?q:q.filter(ve=>ve.id===oe),me=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(const ve of Z)ve.weeklyHours&&me.forEach((Pe,le)=>{ve.weeklyHours[Pe]?.enabled&&(B[le]=!0)});return B},[q,oe]),Lt=C.useMemo(()=>(oe==="all"?q:q.filter(Z=>Z.id===oe)).filter(Z=>Z.weeklyHours?t_.some(me=>Z.weeklyHours[me.key]?.enabled):!1),[q,oe]),Xt=C.useMemo(()=>{const B=new Date,Z=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}-${String(B.getDate()).padStart(2,"0")}`,me=B.getDay(),ve=me===0?-6:1-me,Pe=new Date(B);Pe.setDate(B.getDate()+ve),Pe.setHours(0,0,0,0);const le=new Date(Pe);le.setDate(Pe.getDate()+6),le.setHours(23,59,59,999);const fe=`${Pe.getFullYear()}-${String(Pe.getMonth()+1).padStart(2,"0")}-${String(Pe.getDate()).padStart(2,"0")}`,Ue=`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}-${String(le.getDate()).padStart(2,"0")}`,ke=R.filter(Ne=>Ne.date===Z).length,We=R.filter(Ne=>Ne.date>=fe&&Ne.date<=Ue).length,ye=new Set(R.map(Ne=>Ne.clientEmail?.toLowerCase()).filter(Boolean)).size;return{todayBookings:ke,weekBookings:We,uniqueClients:ye,totalBookings:R.length}},[R]),xn=C.useMemo(()=>R.filter(B=>B.status==="pending").length,[R]),bn=C.useMemo(()=>j.filter(B=>B.status==="waiting").length,[j]);if(p)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading dashboard"})]})});if(y)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(eE,{className:"w-8 h-8 text-red-500"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Unauthorized"}),c.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have access to this dashboard."}),c.jsx(Xe,{to:`/shop/${e}/login`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:"Login"})]})});const Wn=oe==="all"?w:w.filter(B=>B.staffId===oe),jn=oe==="all"?R:R.filter(B=>B.staffId===oe),ft=Wn.reduce((B,Z)=>(B[Z.date]||(B[Z.date]=[]),B[Z.date].push(Z),B),{}),ge=jn.reduce((B,Z)=>(B[Z.date]||(B[Z.date]=[]),B[Z.date].push(Z),B),{}),Ae=Q?Object.keys(ft).filter(B=>B===Q).sort():Object.keys(ft).sort(),Le=Q?jn.filter(B=>B.date===Q):jn,yt=S==="all"?Le:S==="pending"?Le.filter(B=>B.status==="pending"):S==="confirmed"?Le.filter(B=>!B.status||B.status==="confirmed"):Le.filter(B=>B.status==="cancelled"||B.status==="rejected"),lt={all:Le.length,pending:Le.filter(B=>B.status==="pending").length,confirmed:Le.filter(B=>!B.status||B.status==="confirmed").length,cancelled:Le.filter(B=>B.status==="cancelled"||B.status==="rejected").length},ot=[{key:"schedule",label:"Schedule",icon:Bt},{key:"waitlist",label:"Waitlist",icon:Np},{key:"staff",label:"Staff",icon:cs},{key:"services",label:"Services",icon:$a},{key:"settings",label:"Settings",icon:O4}];return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(i.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{className:"hidden sm:block",children:[c.jsx("h1",{className:"text-base font-bold text-slate-900 leading-tight",children:i.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Dashboard"})]})]}),c.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-xl",children:ot.map(B=>{const Z=B.icon;return c.jsxs("button",{onClick:()=>U(B.key),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${z===B.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[c.jsx(Z,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:B.label}),B.key==="schedule"&&xn>0&&c.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-amber-500 text-white text-[10px] font-bold rounded-full leading-none",children:xn}),B.key==="waitlist"&&bn>0&&c.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-500 text-white text-[10px] font-bold rounded-full leading-none",children:bn})]},B.key)})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Xe,{to:`/shop/${e}`,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[c.jsx(g4,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"View Page"})]}),c.jsxs("button",{onClick:ce,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all",children:[c.jsx(E4,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[z==="schedule"&&c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 animate-fade-in",children:[{label:"Today's Bookings",value:Xt.todayBookings,icon:$v,color:"bg-blue-100 text-blue-600"},{label:"This Week",value:Xt.weekBookings,icon:q4,color:"bg-violet-100 text-violet-600"},{label:"Total Bookings",value:Xt.totalBookings,icon:r4,color:"bg-emerald-100 text-emerald-600"},{label:"Unique Clients",value:Xt.uniqueClients,icon:cs,color:"bg-amber-100 text-amber-600"}].map(B=>{const Z=B.icon;return c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-all",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsx("div",{className:`w-10 h-10 ${B.color} rounded-xl flex items-center justify-center`,children:c.jsx(Z,{className:"w-5 h-5"})})}),c.jsx("div",{className:"text-2xl font-extrabold text-slate-900",children:B.value}),c.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:B.label})]},B.label)})}),z==="staff"&&c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:c.jsx(dD,{shopId:u})}),z==="services"&&c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:c.jsx(oD,{shopId:u})}),D&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:c.jsx(Pl,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Waitlist Match!"}),c.jsxs("p",{className:"text-sm text-slate-500",children:[D.matches.length," client",D.matches.length!==1?"s":""," on the waitlist match this freed slot"]})]})]}),c.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[c.jsx(Bt,{className:"w-4 h-4 text-blue-500"}),c.jsxs("span",{className:"font-medium",children:[new Date(D.slot.date+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," at ",(()=>{const[B,Z]=D.slot.time.split(":"),me=parseInt(B);return`${me%12||12}:${Z} ${me>=12?"PM":"AM"}`})()]})]})}),c.jsx("div",{className:"space-y-2 mb-5 max-h-48 overflow-y-auto",children:D.matches.map(B=>c.jsx("div",{className:"flex items-center justify-between px-3 py-2 bg-blue-50 border border-blue-100 rounded-lg",children:c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:B.clientName}),c.jsx("span",{className:"text-xs text-slate-500 ml-2",children:B.serviceName})]})},B.id))}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>M(D.matches,D.slot),className:"flex-1 flex items-center justify-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20",children:[c.jsx(Pl,{className:"w-4 h-4"}),"Notify All"]}),c.jsx("button",{onClick:()=>P(null),className:"px-5 py-3 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-sm transition-all border border-slate-200",children:"Dismiss"})]})]})}),I&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center",children:c.jsx(Rr,{className:"w-5 h-5 text-red-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Cancel Recurring Booking"}),c.jsx("p",{className:"text-sm text-slate-500",children:"This booking is part of a recurring series"})]})]}),c.jsxs("div",{className:"space-y-2 mb-5",children:[c.jsxs("button",{onClick:()=>Ee(I.bookingId),className:"w-full flex items-center gap-3 p-3 bg-slate-50 hover:bg-red-50 border border-slate-200 hover:border-red-300 rounded-xl text-left transition-all",children:[c.jsx(Ci,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Cancel this one only"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Other appointments stay active"})]})]}),c.jsxs("button",{onClick:()=>Ce(I.bookingId,I.recurringGroupId),className:"w-full flex items-center gap-3 p-3 bg-slate-50 hover:bg-red-50 border border-slate-200 hover:border-red-300 rounded-xl text-left transition-all",children:[c.jsx(Rr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Cancel all future in series"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Cancel this and all later appointments"})]})]})]}),c.jsx("button",{onClick:()=>De(null),className:"w-full px-5 py-3 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-sm transition-all border border-slate-200",children:"Never mind"})]})}),z==="waitlist"&&c.jsx("div",{className:"animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Waitlist"}),bn>0&&c.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 border border-blue-200 text-xs font-bold rounded-full",children:[bn," waiting"]})]}),c.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-lg",children:[j.length," total"]})]}),j.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx(Np,{className:"w-6 h-6 text-slate-400"})}),c.jsx("p",{className:"text-sm text-slate-500 font-medium mb-1",children:"No waitlist entries yet"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Clients can join the waitlist when no slots are available on your booking page."})]}):c.jsx("div",{children:(()=>{const B={};return j.forEach(Z=>{const me=Z.serviceName||"Other";B[me]||(B[me]=[]),B[me].push(Z)}),Object.entries(B).sort(([Z],[me])=>Z.localeCompare(me)).map(([Z,me])=>c.jsxs("div",{className:"mb-6 last:mb-0",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-700 mb-3 pb-2 border-b border-slate-100 flex items-center gap-2",children:[c.jsx($a,{className:"w-3.5 h-3.5 text-blue-500"}),Z,c.jsxs("span",{className:"text-xs font-medium text-slate-400",children:["(",me.filter(ve=>ve.status==="waiting").length," waiting)"]})]}),c.jsx("div",{className:"space-y-2.5",children:me.sort((ve,Pe)=>(ve.createdAt||"").localeCompare(Pe.createdAt||"")).map(ve=>{const Pe={waiting:"bg-blue-50 text-blue-700 border-blue-200",notified:"bg-emerald-50 text-emerald-700 border-emerald-200",booked:"bg-emerald-50 text-emerald-700 border-emerald-200",expired:"bg-slate-100 text-slate-500 border-slate-200"},le={waiting:"Waiting",notified:"Notified",booked:"Booked",expired:"Removed"},fe=ve.createdAt?(()=>{const ke=Date.now()-new Date(ve.createdAt).getTime(),We=Math.floor(ke/864e5),ye=Math.floor(ke/36e5);return We>0?`${We}d`:`${ye}h`})():"",Ue={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};return c.jsxs("div",{className:"group border border-slate-200 rounded-xl p-4 hover:border-slate-300 hover:shadow-sm transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Qv,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-slate-900 text-sm",children:ve.clientName}),c.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold rounded-md border ${Pe[ve.status]||Pe.waiting}`,children:le[ve.status]||"Waiting"})]}),c.jsxs("div",{className:"text-xs text-slate-500",children:["Joined ",fe," ago",ve.refCode&&c.jsx("span",{className:"font-mono text-slate-400 ml-2",children:ve.refCode})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[ve.status==="waiting"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>te(ve.id),className:"p-1.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all",title:"Notify client",children:c.jsx(Pl,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>he(ve.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Remove from waitlist",children:c.jsx(Zl,{className:"w-4 h-4"})})]}),ve.status==="notified"&&c.jsx("button",{onClick:()=>he(ve.id),className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Remove",children:c.jsx(Zl,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{className:"ml-[46px] space-y-0.5 text-xs text-slate-500",children:[ve.staffName&&ve.staffName!=="Any Available"&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(cs,{className:"w-3 h-3 text-violet-400"}),c.jsx("span",{className:"text-violet-600",children:ve.staffName})]}),ve.preferredDate&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Bt,{className:"w-3 h-3 text-slate-400"}),c.jsxs("span",{children:["Preferred: ",new Date(ve.preferredDate+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),ve.preferredDays&&ve.preferredDays.length>0&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Bt,{className:"w-3 h-3 text-slate-400"}),c.jsxs("span",{children:["Days: ",ve.preferredDays.map(ke=>Ue[ke]||ke).join(", ")]})]}),ve.preferredTimeRange&&!(ve.preferredTimeRange.start==="00:00"&&ve.preferredTimeRange.end==="23:59")&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Qn,{className:"w-3 h-3 text-slate-400"}),c.jsxs("span",{children:["Time: ",Tr(ve.preferredTimeRange.start),"",Tr(ve.preferredTimeRange.end)]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Gv,{className:"w-3 h-3"}),ve.clientEmail]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Yv,{className:"w-3 h-3"}),ve.clientPhone]})]}),ve.status==="notified"&&ve.notifiedSlot&&c.jsxs("div",{className:"mt-1.5 px-2.5 py-1.5 bg-emerald-50 border border-emerald-200 rounded-lg inline-flex items-center gap-1.5",children:[c.jsx(Pl,{className:"w-3 h-3 text-emerald-500"}),c.jsxs("span",{className:"text-emerald-700 font-medium",children:["Notified about ",new Date(ve.notifiedSlot.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})," at ",Tr(ve.notifiedSlot.time)]})]})]})]},ve.id)})})]},Z))})()})]})}),z==="settings"&&c.jsx("div",{className:"max-w-2xl animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-1",children:"Shop Settings"}),c.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Configure your booking preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"pr-4",children:[c.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Require Booking Approval"}),c.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Review and approve bookings before they're confirmed"})]}),c.jsx("button",{type:"button",onClick:et,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${i?.requireApproval?"bg-blue-500":"bg-slate-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${i?.requireApproval?"translate-x-6":"translate-x-1"}`})})]}),i?.requireApproval&&c.jsxs("div",{className:"p-3.5 bg-amber-50 border border-amber-200 rounded-xl text-xs text-amber-800 leading-relaxed",children:[c.jsx("strong",{children:" Approval mode is on."}),' New bookings will appear as "Pending" until you approve or reject them. Time slots are held while pending to prevent double-booking.']}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"pr-4",children:[c.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Buffer Time Between Bookings"}),c.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Add a gap between consecutive appointments"})]}),c.jsxs("select",{value:i?.bufferMinutes||0,onChange:B=>yn(B.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium flex-shrink-0",children:[c.jsx("option",{value:"0",children:"No buffer"}),c.jsx("option",{value:"5",children:"5 minutes"}),c.jsx("option",{value:"10",children:"10 minutes"}),c.jsx("option",{value:"15",children:"15 minutes"}),c.jsx("option",{value:"30",children:"30 minutes"})]})]})]})]})}),z==="schedule"&&c.jsxs("div",{className:"animate-fade-in",children:[q.length>0&&c.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5",children:"Filter by Staff"}),c.jsxs("select",{value:oe,onChange:B=>re(B.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[c.jsx("option",{value:"all",children:"All Staff"}),q.map(B=>c.jsxs("option",{value:B.id,children:[B.name,B.role?`  ${B.role}`:""]},B.id))]})]})}),Lt.length>0&&c.jsxs("div",{className:"mb-6 bg-violet-50 border border-violet-200 rounded-xl p-5",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(sE,{className:"w-4 h-4 text-violet-600"}),c.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Recurring Weekly Hours"})]}),c.jsx("div",{className:"space-y-2.5",children:Lt.map(B=>{const Z=t_.filter(me=>B.weeklyHours[me.key]?.enabled);return c.jsxs("div",{className:"flex items-start gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 bg-violet-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx(cs,{className:"w-3.5 h-3.5 text-violet-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:B.name}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Z.map(me=>{const ve=B.weeklyHours[me.key];return c.jsxs("span",{className:"inline-block px-2 py-0.5 bg-white text-violet-700 border border-violet-200 rounded text-xs font-medium",children:[me.short," ",Tr(ve.start),"",Tr(ve.end),ve.break&&c.jsxs("span",{className:"text-amber-600 ml-1",children:["(break ",Tr(ve.break.start),"",Tr(ve.break.end),")"]})]},me.key)})})]})]},B.id)})}),c.jsx("p",{className:"text-xs text-violet-500 mt-3",children:"Slots auto-generate on the booking page. Manage hours in the Staff tab."})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 mb-6",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Monthly Overview"}),c.jsx(rD,{slotsByDate:ft,bookingsByDate:ge,selectedDate:Q,onSelectDate:ue,recurringDayFlags:It}),Q&&c.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm text-slate-600",children:["Showing: ",c.jsx("strong",{className:"text-slate-900",children:new Date(Q+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),c.jsx("button",{onClick:()=>ue(null),className:"text-xs px-3 py-1 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all border border-slate-200",children:"Show All"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-1",children:Lt.length>0?"Add Custom Slots":"Create Time Slots"}),Lt.length>0&&c.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Use this for one-off availability outside regular hours."}),!Lt.length&&c.jsx("div",{className:"mb-4"}),c.jsxs("form",{onSubmit:we,className:"space-y-4",children:[q.length>0&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Staff Member"}),c.jsxs("select",{value:Me.staffId,onChange:B=>K({...Me,staffId:B.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[c.jsx("option",{value:"",children:"Select a staff member"}),q.map(B=>c.jsxs("option",{value:B.id,children:[B.name,B.role?`  ${B.role}`:""]},B.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Date"}),c.jsx("input",{type:"date",value:Me.date,onChange:B=>K({...Me,date:B.target.value}),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Start"}),c.jsx("input",{type:"time",value:Me.startTime,onChange:B=>K({...Me,startTime:B.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"End"}),c.jsx("input",{type:"time",value:Me.endTime,onChange:B=>K({...Me,endTime:B.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Slot Duration"}),c.jsxs("select",{value:Me.slotDuration,onChange:B=>K({...Me,slotDuration:B.target.value}),className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[c.jsx("option",{value:"15",children:"15 minutes"}),c.jsx("option",{value:"30",children:"30 minutes"}),c.jsx("option",{value:"45",children:"45 minutes"}),c.jsx("option",{value:"60",children:"1 hour"}),c.jsx("option",{value:"90",children:"1.5 hours"}),c.jsx("option",{value:"120",children:"2 hours"})]})]}),c.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[c.jsx(Ig,{className:"w-4 h-4"}),"Generate Slots"]})]}),c.jsxs("div",{className:"mt-4 p-3.5 bg-blue-50 border border-blue-100 rounded-xl text-xs text-slate-600 leading-relaxed",children:[c.jsx("strong",{className:"text-slate-700",children:" Tip:"})," ",Lt.length>0?"Weekly hours auto-generate slots. Use this for one-off slots outside regular hours.":q.length>0?"Select a staff member, pick a date, and set working hours to create slots.":"Set your hours and slot duration. We'll create all the time slots for that day."]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Bookings":"All Bookings"}),lt.pending>0&&c.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 border border-amber-200 text-xs font-bold rounded-full",children:[lt.pending," pending"]})]}),c.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-lg",children:yt.length})]}),c.jsx("div",{className:"flex items-center gap-1 mb-4 p-1 bg-slate-100 rounded-lg overflow-x-auto",children:[{key:"all",label:"All"},{key:"pending",label:"Pending"},{key:"confirmed",label:"Confirmed"},{key:"cancelled",label:"Cancelled"}].map(B=>c.jsxs("button",{onClick:()=>A(B.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-semibold transition-all whitespace-nowrap ${S===B.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[B.label,c.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] leading-none ${S===B.key?"bg-blue-100 text-blue-700":"bg-slate-200 text-slate-500"}`,children:lt[B.key]})]},B.key))}),yt.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx($v,{className:"w-6 h-6 text-slate-400"})}),c.jsx("p",{className:"text-sm text-slate-500 font-medium",children:S!=="all"?`No ${S} bookings`:Q?"No bookings for this date":"No bookings yet"})]}):c.jsx("div",{className:"space-y-2.5 max-h-[500px] overflow-y-auto pr-1",children:yt.sort((B,Z)=>`${B.date}${B.time}`.localeCompare(`${Z.date}${Z.time}`)).map(B=>{const Z=B.status||"confirmed",me={pending:"bg-amber-50 text-amber-700 border-amber-200",confirmed:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-red-50 text-red-700 border-red-200",cancelled:"bg-slate-100 text-slate-500 border-slate-200"},ve={pending:"Pending",confirmed:"Confirmed",rejected:"Rejected",cancelled:"Cancelled"};return c.jsxs("div",{className:"group border border-slate-200 rounded-xl p-4 hover:border-slate-300 hover:shadow-sm transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Qv,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-slate-900 text-sm",children:B.clientName}),c.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold rounded-md border ${me[Z]}`,children:ve[Z]})]}),c.jsx("div",{className:"text-xs text-slate-500",children:Xn(B.date,B.time)})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[Z==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>qe(B.id),className:"p-1.5 text-emerald-500 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-all",title:"Approve booking",children:c.jsx(Cg,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>wt(B.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Reject booking",children:c.jsx(Ci,{className:"w-4 h-4"})})]}),Z==="confirmed"&&c.jsx("button",{onClick:()=>pe(B.id),className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel booking",children:c.jsx(cd,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{className:"ml-[46px] space-y-0.5 text-xs text-slate-500",children:[B.serviceName&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx($a,{className:"w-3 h-3 text-blue-400"}),c.jsx("span",{className:"font-medium text-slate-700",children:B.serviceName}),B.servicePrice!=null&&c.jsxs("span",{className:"text-blue-600 font-semibold",children:["$",Number(B.servicePrice).toFixed(2)]})]}),B.staffName&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(cs,{className:"w-3 h-3 text-violet-400"}),c.jsx("span",{className:"text-violet-600",children:B.staffName})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Gv,{className:"w-3 h-3"}),B.clientEmail]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Yv,{className:"w-3 h-3"}),B.clientPhone]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[B.refCode&&c.jsxs("span",{className:"font-mono text-[10px] text-slate-400",children:["REF: ",B.refCode]}),B.recurring&&c.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-indigo-50 border border-indigo-200 rounded text-[10px] font-semibold text-indigo-600",children:" Recurring"})]})]})]},B.id)})})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Custom Time Slots":"All Custom Time Slots"}),c.jsx("span",{className:"text-xs font-semibold text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:Q?(ft[Q]||[]).length:Wn.length})]}),Lt.length>0&&c.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Recurring slots from weekly hours auto-generate  not shown here."}),!Lt.length&&c.jsx("div",{className:"mb-4"}),Ae.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx(Bt,{className:"w-6 h-6 text-slate-400"})}),c.jsx("p",{className:"text-sm text-slate-500 font-medium mb-1",children:Q?"No custom slots for this date":"No custom slots yet"}),c.jsx("p",{className:"text-xs text-slate-400",children:Lt.length>0?"Recurring hours handle most scheduling.":"Use the form above to generate availability."})]}):c.jsx("div",{className:"space-y-6",children:Ae.map(B=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-3 pb-2 border-b border-slate-100",children:new Date(B).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2.5",children:ft[B].sort((Z,me)=>Z.time.localeCompare(me.time)).map(Z=>c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3.5 text-center group hover:border-slate-300 transition-all",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 mb-0.5",children:Z.time}),c.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[Z.duration," min"]}),Z.staffName&&c.jsxs("div",{className:"text-xs text-violet-600 mb-1.5 flex items-center justify-center gap-1",children:[c.jsx(cs,{className:"w-3 h-3"}),Z.staffName]}),c.jsx("div",{className:"mb-2",children:Z.available?c.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md text-xs font-medium",children:"Available"}):c.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-50 text-red-700 border border-red-200 rounded-md text-xs font-medium",children:"Booked"})}),Z.available&&c.jsxs("button",{onClick:()=>$e(Z.id),className:"opacity-0 group-hover:opacity-100 flex items-center justify-center gap-1 w-full px-2 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-xs font-medium transition-all border border-red-200",children:[c.jsx(cd,{className:"w-3 h-3"}),"Remove"]})]},Z.id))})]},B))})]})]})]})]})}function yD({user:a}){const{slug:e}=Uc(),n=no(),[i,l]=C.useState(""),[u,f]=C.useState(""),[p,g]=C.useState(""),[y,b]=C.useState(!1);C.useEffect(()=>{if(!a)return;(async()=>{const R=As(ut(Se,"shops"),hs("slug","==",e)),G=await js(R);G.empty||G.docs[0].data().ownerUid===a.uid&&n(`/shop/${e}/dashboard`,{replace:!0})})()},[a,e,n]);const w=async N=>{N.preventDefault(),g(""),b(!0);try{const G=(await lw(Pr,i,u)).user,q=As(ut(Se,"shops"),hs("slug","==",e)),L=await js(q);if(L.empty){g("Shop not found"),b(!1);return}if(L.docs[0].data().ownerUid!==G.uid){g("You are not the owner of this shop"),await Pr.signOut(),b(!1);return}n(`/shop/${e}/dashboard`,{replace:!0})}catch(R){switch(R.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":g("Invalid email or password");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/too-many-requests":g("Too many failed attempts. Please try again later.");break;default:g("Login failed. Please try again.")}f("")}finally{b(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2.5",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:c.jsx(Fr,{className:"w-5 h-5 text-white"})}),c.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),c.jsx("input",{type:"email",value:i,onChange:N=>{l(N.target.value),g("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),c.jsx("input",{type:"password",value:u,onChange:N=>{f(N.target.value),g("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&c.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[c.jsx("span",{children:""})," ",p]})]}),c.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):"Sign In"})]}),c.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:c.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",c.jsx(Xe,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs(Xe,{to:`/shop/${e}`,className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back to booking page"]})})]})})}function n_({name:a,className:e="w-12 h-12",bgClass:n="bg-blue-100 text-blue-700"}){const i=(a||"").split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2);return c.jsx("div",{className:`${e} ${n} rounded-full flex items-center justify-center font-bold text-sm select-none flex-shrink-0`,children:i||"?"})}function s_(){return c.jsxs(Xe,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:c.jsx(Fr,{className:"w-3.5 h-3.5 text-white"})}),c.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function xD(){const{slug:a,refCode:e}=Uc(),[n,i]=C.useState(null),[l,u]=C.useState(null),[f,p]=C.useState(!0),[g,y]=C.useState(!1),[b,w]=C.useState(null),[N,R]=C.useState(null),[G,q]=C.useState(!1),[L,z]=C.useState([]),[U,Q]=C.useState([]),[ue,oe]=C.useState([]),[re,S]=C.useState([]),[A,j]=C.useState(!1),[O,D]=C.useState(!1),[P,I]=C.useState(null),[De,Me]=C.useState(null),[K,ce]=C.useState(null),[we,$e]=C.useState(!1),[Be,M]=C.useState("");C.useEffect(()=>{(async()=>{p(!0);try{const Ae=As(ut(Se,"shops"),hs("slug","==",a)),Le=await js(Ae);if(Le.empty)y(!0);else{const yt=Le.docs[0];i(yt.data()),u(yt.id)}}catch(Ae){console.error("Error looking up shop:",Ae),y(!0)}finally{p(!1)}})()},[a]),C.useEffect(()=>{if(!l)return;(async()=>{try{const Ae=As(ut(Se,"shops",l,"bookings"),hs("refCode","==",e.toUpperCase())),Le=await js(Ae);if(Le.empty)q(!0);else{const yt=Le.docs[0];w(yt.data()),R(yt.id)}}catch(Ae){console.error("Error looking up booking:",Ae),q(!0)}})()},[l,e]),C.useEffect(()=>{if(!l||!b)return;const ge=Kn(ut(Se,"shops",l,"bookings"),lt=>{z(lt.docs.map(ot=>({id:ot.id,...ot.data()})))}),Ae=Kn(ut(Se,"shops",l,"availability"),lt=>{const ot=new Date,B=lt.docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>new Date(`${Z.date}T${Z.time}`)>ot);Q(B)}),Le=Kn(ut(Se,"shops",l,"staff"),lt=>{oe(lt.docs.map(ot=>({id:ot.id,...ot.data()})).filter(ot=>ot.active!==!1).sort((ot,B)=>(ot.name||"").localeCompare(B.name||"")))}),yt=Kn(ut(Se,"shops",l,"services"),lt=>{S(lt.docs.map(ot=>({id:ot.id,...ot.data()})).filter(ot=>ot.active!==!1))});return()=>{ge(),Ae(),Le(),yt()}},[l,b]);const te=n?.bufferMinutes||0,he=C.useMemo(()=>{if(!b)return null;if(b.serviceId){const ge=re.find(Ae=>Ae.id===b.serviceId);if(ge)return ge}return b.serviceName?{id:b.serviceId,name:b.serviceName,price:b.servicePrice,duration:b.serviceDuration||b.duration}:null},[b,re]),pe=C.useMemo(()=>{if(!A||!b)return[];const ge=new Date,Ae=he?.duration||b.duration||60;let Le=U.filter(Z=>Z.available);Le=Le.filter(Z=>Z.duration>=Ae),b.staffId&&(Le=Le.filter(Z=>Z.staffId===b.staffId||!Z.staffId));const yt=b.staffId?ue.filter(Z=>Z.id===b.staffId):ue,lt=iE(yt,Ae,te,4).filter(Z=>new Date(`${Z.date}T${Z.time}`)>ge),ot=lE(lt,Le),B=L.filter(Z=>Z.id!==N);return rE(ot,B,te)},[A,b,N,U,ue,L,te,he]),Ee=C.useMemo(()=>[...new Set(pe.map(ge=>ge.date))].sort(),[pe]),Ce=C.useMemo(()=>De?pe.filter(ge=>ge.date===De):[],[De,pe]),qe=async(ge="single")=>{$e(!0);try{if(await jt(_t(Se,"shops",l,"bookings",N),{status:"cancelled"}),b.slotId&&!b.slotId.startsWith("wh-")&&!b.slotId.startsWith("recurring-"))try{await jt(_t(Se,"shops",l,"availability",b.slotId),{available:!0})}catch(Ae){console.warn("Could not re-open slot:",Ae)}if(ge==="future"&&b.recurringGroupId){const Ae=L.filter(Le=>Le.recurringGroupId===b.recurringGroupId&&Le.id!==N&&Le.date>=b.date&&(Le.status==="pending"||Le.status==="confirmed"));for(const Le of Ae)if(await jt(_t(Se,"shops",l,"bookings",Le.id),{status:"cancelled"}),Le.slotId&&!Le.slotId.startsWith("wh-")&&!Le.slotId.startsWith("recurring-"))try{await jt(_t(Se,"shops",l,"availability",Le.slotId),{available:!0})}catch(yt){console.warn("Could not re-open slot:",yt)}}w(Ae=>({...Ae,status:"cancelled"})),D(!1),I(null),M("cancelled")}catch(Ae){console.error("Cancel error:",Ae),M("error")}finally{$e(!1)}},wt=async()=>{if(K){$e(!0);try{const ge={date:K.date,time:K.time,slotId:K.id};if(K.staffId&&(ge.staffId=K.staffId,ge.staffName=K.staffName||""),n?.requireApproval&&(ge.status="pending"),b.slotId&&!b.slotId.startsWith("wh-"))try{await jt(_t(Se,"shops",l,"availability",b.slotId),{available:!0})}catch(Ae){console.warn("Could not re-open old slot:",Ae)}if(!K.generated&&K.id)try{await jt(_t(Se,"shops",l,"availability",K.id),{available:!1})}catch(Ae){console.warn("Could not block new slot:",Ae)}await jt(_t(Se,"shops",l,"bookings",N),ge),w(Ae=>({...Ae,...ge})),j(!1),Me(null),ce(null),M("rescheduled")}catch(ge){console.error("Reschedule error:",ge),M("error")}finally{$e(!1)}}},et=ge=>new Date(ge+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),yn=ge=>{const[Ae,Le]=ge.split(":"),yt=parseInt(Ae),lt=yt>=12?"PM":"AM";return`${yt%12||12}:${Le} ${lt}`},Xn=ge=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(ge),It=ge=>{if(!ge)return"";if(ge<60)return`${ge} min`;const Ae=Math.floor(ge/60),Le=ge%60;return Le?`${Ae}h ${Le}m`:`${Ae} hour${Ae>1?"s":""}`};if(f)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})});if(g)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(Bt,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),c.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,c.jsx("span",{className:"font-mono text-blue-600",children:a}),'".']}),c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[c.jsx(Fa,{className:"w-4 h-4"}),"Go Home"]})]})});if(G)return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[c.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Manage Booking"})]})]}),c.jsx(s_,{})]})}),c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-8",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md mx-auto animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(Ap,{className:"w-8 h-8 text-amber-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Not Found"}),c.jsx("p",{className:"text-slate-600 mb-2",children:"No booking found with reference code"}),c.jsx("p",{className:"font-mono text-lg font-bold text-blue-600 mb-6",children:e.toUpperCase()}),c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[c.jsx(Bt,{className:"w-4 h-4"}),"Book an Appointment"]})]})})]});if(!b)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading booking"})]})});const Lt=b.status||"confirmed",Xt=Lt==="pending"||Lt==="confirmed",xn=Lt==="cancelled",bn=Lt==="rejected",Wn={pending:{label:"Pending Approval",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Qn},confirmed:{label:"Confirmed",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:da},cancelled:{label:"Cancelled",color:"bg-slate-100 text-slate-500 border-slate-200",icon:Ci},rejected:{label:"Rejected",color:"bg-red-100 text-red-700 border-red-200",icon:Ci}},jn=Wn[Lt]||Wn.confirmed,ft=jn.icon;return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[c.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Manage Booking"})]})]}),c.jsx(s_,{})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:[Be==="rescheduled"&&c.jsx("div",{className:"mb-6 animate-scale-in",children:c.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(tE,{className:"w-8 h-8 text-emerald-600"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Rescheduled!"}),c.jsx("p",{className:"text-slate-600 mb-4",children:n?.requireApproval?"Your booking has been rescheduled and is pending approval.":"Your booking has been successfully rescheduled."}),c.jsx("button",{onClick:()=>M(""),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View updated details "})]})}),Be==="cancelled"&&c.jsx("div",{className:"mb-6 animate-scale-in",children:c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Ci,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Cancelled"}),c.jsx("p",{className:"text-slate-600 mb-4",children:"Your booking has been cancelled."}),c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[c.jsx(Bt,{className:"w-4 h-4"}),"Book a new appointment"]})]})}),Be==="error"&&c.jsx("div",{className:"mb-6 animate-scale-in",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 flex items-center gap-3 text-red-800 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Something went wrong. Please try again."})]})}),!A&&c.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Your Booking"}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Reference: ",c.jsx("span",{className:"font-mono font-bold text-blue-600",children:(b.refCode||e).toUpperCase()})]})]}),(xn||bn)&&c.jsxs("div",{className:`mb-4 p-4 rounded-xl border flex items-center gap-3 ${xn?"bg-slate-50 border-slate-200":"bg-red-50 border-red-200"}`,children:[c.jsx(ft,{className:`w-5 h-5 ${xn?"text-slate-400":"text-red-500"}`}),c.jsx("span",{className:`font-medium text-sm ${xn?"text-slate-600":"text-red-700"}`,children:xn?"This booking has been cancelled.":"This booking has been rejected by the shop."})]}),b.recurringGroupId&&c.jsxs("div",{className:"mb-4 p-3.5 bg-blue-50 border border-blue-200 rounded-xl flex items-center gap-2.5",children:[c.jsx(Rr,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"Part of a recurring series"}),b.recurringInterval&&c.jsxs("p",{className:"text-xs text-blue-600 mt-0.5",children:["Repeats every ",b.recurringInterval==="weekly"?"week":b.recurringInterval==="biweekly"?"2 weeks":b.recurringInterval==="fourweekly"?"4 weeks":b.recurringInterval==="monthly"?"month":b.recurringInterval]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 mb-6 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 text-xs font-bold rounded-lg border ${jn.color}`,children:[c.jsx(ft,{className:"w-3.5 h-3.5"}),jn.label]})]}),b.serviceName&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx($a,{className:"w-4 h-4 text-blue-600"})}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.serviceName})]}),b.servicePrice!=null&&c.jsx("span",{className:"font-bold text-blue-600",children:Xn(b.servicePrice)})]}),b.staffName&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx(n_,{name:b.staffName,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.staffName})]}),c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Bt,{className:"w-4 h-4 text-slate-600"})}),c.jsxs("span",{className:"font-semibold text-slate-800",children:[et(b.date)," at ",yn(b.time)]})]}),c.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-slate-500",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Qn,{className:"w-4 h-4 text-slate-500"})}),c.jsx("span",{children:It(b.serviceDuration||b.duration)})]})]}),Xt&&!Be&&c.jsx("div",{className:"space-y-3",children:O?c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 animate-scale-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Ap,{className:"w-5 h-5 text-red-500"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-900",children:"Are you sure?"}),c.jsx("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),b.recurringGroupId&&!P&&c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("button",{onClick:()=>I("single"),className:"w-full flex items-center gap-3 p-3 bg-white hover:bg-slate-50 border border-slate-200 hover:border-red-300 rounded-xl text-left transition-all",children:[c.jsx(Ci,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Cancel this appointment only"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Other appointments in the series remain active"})]})]}),c.jsxs("button",{onClick:()=>I("future"),className:"w-full flex items-center gap-3 p-3 bg-white hover:bg-slate-50 border border-slate-200 hover:border-red-300 rounded-xl text-left transition-all",children:[c.jsx(Rr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Cancel all future appointments"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Cancel this and all later appointments in the series"})]})]}),c.jsx("button",{onClick:()=>D(!1),className:"w-full px-5 py-2.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-sm transition-all border border-slate-200",children:"Go Back"})]}),(!b.recurringGroupId||P)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>qe(P||"single"),disabled:we,className:"flex-1 flex items-center justify-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold transition-all disabled:opacity-50",children:[we?c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}):c.jsx(Ci,{className:"w-4 h-4"}),we?"Cancelling":P==="future"?"Cancel All Future":"Yes, Cancel"]}),c.jsx("button",{onClick:()=>{P?I(null):D(!1)},disabled:we,className:"px-5 py-3 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Go Back"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{j(!0),M("")},className:"w-full flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[c.jsx(sE,{className:"w-4 h-4"}),"Reschedule Booking"]}),c.jsxs("button",{onClick:()=>{D(!0),I(null)},className:"w-full flex items-center justify-center gap-2 px-6 py-3.5 bg-white hover:bg-red-50 text-red-600 rounded-xl font-semibold border border-red-200 hover:border-red-300 transition-all",children:[c.jsx(Ci,{className:"w-4 h-4"}),"Cancel Booking"]})]})}),(xn||bn)&&c.jsx("div",{className:"text-center",children:c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[c.jsx(Bt,{className:"w-4 h-4"}),"Book Again"]})})]}),A&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[c.jsxs("button",{onClick:()=>{j(!1),Me(null),ce(null)},className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[c.jsx(Fa,{className:"w-3.5 h-3.5"}),"Back to Booking"]}),b.serviceName&&c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[c.jsx($a,{className:"w-3.5 h-3.5 text-blue-500"}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.serviceName}),b.servicePrice!=null&&c.jsx("span",{className:"text-blue-600 font-bold",children:Xn(b.servicePrice)})]}),b.staffName&&c.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-violet-50 border border-violet-200 rounded-lg text-sm",children:[c.jsx(n_,{name:b.staffName,className:"w-5 h-5 text-[10px]",bgClass:"bg-violet-200 text-violet-700"}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.staffName})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose a New Time"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Pick a new date and time for your appointment"})]}),Ee.length===0?c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Bt,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No available slots"}),c.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"No time slots are currently available. Check back soon!"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-8",children:c.jsx(aE,{availableDates:Ee,selectedDate:De,onSelectDate:ge=>{Me(ge),ce(null)}})}),De&&c.jsxs("div",{className:"animate-slide-down",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Times for ",et(De)]}),c.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[Ce.length," slot",Ce.length!==1?"s":""]})]}),Ce.length===0?c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:c.jsx("p",{className:"text-slate-500",children:"No slots available for this date"})}):c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 stagger-children",children:Ce.sort((ge,Ae)=>ge.time.localeCompare(Ae.time)).map(ge=>{const Ae=K?.id===ge.id;return c.jsxs("button",{onClick:()=>ce(ge),className:`group border rounded-xl p-4 transition-all duration-200 text-center ${Ae?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-600/30":"bg-white border-slate-200 hover:border-blue-400 hover:shadow-md hover:shadow-blue-100/50 hover:-translate-y-0.5"}`,children:[c.jsx("div",{className:`text-lg font-bold mb-1 ${Ae?"text-white":"text-slate-900 group-hover:text-blue-700"} transition-colors`,children:yn(ge.time)}),ge.staffName&&c.jsxs("div",{className:`text-xs mb-0.5 flex items-center justify-center gap-1 ${Ae?"text-blue-100":"text-violet-600"}`,children:[c.jsx(cs,{className:"w-3 h-3"}),ge.staffName]}),c.jsx("div",{className:`text-xs ${Ae?"text-blue-200":"text-slate-400"}`,children:It(b.serviceDuration||b.duration)})]},ge.id)})}),K&&c.jsxs("div",{className:"mt-6 animate-fade-in",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-blue-200 shadow-sm p-5 mb-4",children:[c.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"New Appointment Time"}),c.jsxs("div",{className:"flex items-center gap-2.5 text-sm",children:[c.jsx(Bt,{className:"w-4 h-4 text-blue-500"}),c.jsxs("span",{className:"font-semibold text-slate-800",children:[et(K.date)," at ",yn(K.time)]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:wt,disabled:we,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:we?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Rescheduling"]}):c.jsxs(c.Fragment,{children:[c.jsx(da,{className:"w-4 h-4"}),"Confirm Reschedule"]})}),c.jsx("button",{onClick:()=>ce(null),className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Cancel"})]})]})]}),!De&&c.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Select a date above to see available times"})]})]})]}),c.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",c.jsx(Xe,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function a_(){return c.jsxs(Xe,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:c.jsx(Fr,{className:"w-3.5 h-3.5 text-white"})}),c.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",c.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function bD(a){if(!a)return"Any time";const e=n=>{const[i,l]=n.split(":").map(Number),u=i>=12?"PM":"AM",f=i%12||12;return l===0?`${f}${u}`:`${f}:${l.toString().padStart(2,"0")}${u}`};return a.start==="00:00"&&a.end==="23:59"?"Any time":`${e(a.start)}  ${e(a.end)}`}function vD(a){if(!a||a.length===0)return"Any day";const e={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};return a.map(n=>e[n]||n).join(", ")}function _D(a){if(!a)return"";const e=new Date,n=new Date(a),i=e-n,l=Math.floor(i/6e4);if(l<60)return`${l}m ago`;const u=Math.floor(l/60);return u<24?`${u}h ago`:`${Math.floor(u/24)}d ago`}function wD(){const{slug:a,refCode:e}=Uc(),[n,i]=C.useState(null),[l,u]=C.useState(null),[f,p]=C.useState(!0),[g,y]=C.useState(!1),[b,w]=C.useState(null),[N,R]=C.useState(!1),[G,q]=C.useState(null);if(C.useEffect(()=>{(async()=>{p(!0);try{const re=As(ut(Se,"shops"),hs("slug","==",a)),S=await js(re);if(S.empty)y(!0);else{const A=S.docs[0];i(A.data()),u(A.id)}}catch(re){console.error("Error looking up shop:",re),y(!0)}finally{p(!1)}})()},[a]),C.useEffect(()=>{if(!l)return;(async()=>{try{const re=As(ut(Se,"shops",l,"waitlist"),hs("refCode","==",e.toUpperCase())),S=await js(re);if(S.empty){R(!0);return}const A=S.docs[0],j={id:A.id,...A.data()};w(j);const O=As(ut(Se,"shops",l,"waitlist"),hs("serviceId","==",j.serviceId),hs("status","==","waiting")),I=(await js(O)).docs.map(De=>({id:De.id,...De.data()})).sort((De,Me)=>(De.createdAt||"").localeCompare(Me.createdAt||"")).findIndex(De=>De.id===j.id);I>=0&&q(I+1)}catch(re){console.error("Error looking up waitlist entry:",re),R(!0)}})()},[l,e]),f)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})});if(g)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(Bt,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),c.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,c.jsx("span",{className:"font-mono text-blue-600",children:a}),'".']}),c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[c.jsx(Fa,{className:"w-4 h-4"}),"Go Home"]})]})});if(N)return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[c.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Waitlist Status"})]})]}),c.jsx(a_,{})]})}),c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-8",children:c.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md mx-auto animate-scale-in",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:c.jsx(Ap,{className:"w-8 h-8 text-amber-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Waitlist Entry Not Found"}),c.jsx("p",{className:"text-slate-600 mb-2",children:"No waitlist entry found with reference code"}),c.jsx("p",{className:"font-mono text-lg font-bold text-blue-600 mb-6",children:e.toUpperCase()}),c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[c.jsx(Bt,{className:"w-4 h-4"}),"Book an Appointment"]})]})})]});if(!b)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading waitlist"})]})});const L={waiting:{label:"Waiting",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Qn},notified:{label:"Slot Available!",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Pl},booked:{label:"Booked",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:da},expired:{label:"Expired",color:"bg-slate-100 text-slate-500 border-slate-200",icon:Qn}},z=L[b.status]||L.waiting,U=z.icon,Q=oe=>oe?new Date(oe+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"",ue=oe=>{if(!oe)return"";const[re,S]=oe.split(":"),A=parseInt(re),j=A>=12?"PM":"AM";return`${A%12||12}:${S} ${j}`};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[c.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),c.jsx("p",{className:"text-xs text-slate-500",children:"Waitlist Status"})]})]}),c.jsx(a_,{})]})}),c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:c.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[b.status==="notified"&&c.jsx("div",{className:"mb-6 animate-scale-in",children:c.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Pl,{className:"w-8 h-8 text-emerald-600"})}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"A Slot Is Available!"}),c.jsxs("p",{className:"text-slate-600 mb-4",children:["A slot has opened up for ",b.serviceName,". Book now before it's taken!"]}),b.notifiedSlot&&c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-xl text-sm text-emerald-700 font-medium mb-4",children:[c.jsx(Bt,{className:"w-4 h-4"}),Q(b.notifiedSlot.date)," at"," ",ue(b.notifiedSlot.time),b.notifiedSlot.staffName&&c.jsxs("span",{className:"text-emerald-600",children:[" ","with ",b.notifiedSlot.staffName]})]}),c.jsx("div",{children:c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-all shadow-md shadow-emerald-600/20 hover:shadow-lg",children:[c.jsx(Bt,{className:"w-4 h-4"}),"Book Now "]})})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Waitlist Status"}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Reference:"," ",c.jsx("span",{className:"font-mono font-bold text-blue-600",children:(b.refCode||e).toUpperCase()})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 text-xs font-bold rounded-lg border ${z.color}`,children:[c.jsx(U,{className:"w-3.5 h-3.5"}),z.label]})]}),b.status==="waiting"&&G!=null&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Position"}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Np,{className:"w-4 h-4 text-blue-500"}),c.jsxs("span",{className:"font-bold text-slate-900 text-lg",children:["#",G]}),c.jsx("span",{className:"text-sm text-slate-500",children:"in line"})]})]}),b.serviceName&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx($a,{className:"w-4 h-4 text-blue-600"})}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.serviceName})]}),b.staffName&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-lg flex items-center justify-center",children:c.jsx(cs,{className:"w-4 h-4 text-violet-600"})}),c.jsx("span",{className:"font-semibold text-slate-800",children:b.staffName})]}),b.preferredDate&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Bt,{className:"w-4 h-4 text-slate-600"})}),c.jsxs("span",{className:"text-sm text-slate-700",children:["Preferred: ",Q(b.preferredDate)]})]}),b.preferredDays&&b.preferredDays.length>0&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Bt,{className:"w-4 h-4 text-slate-600"})}),c.jsxs("span",{className:"text-sm text-slate-700",children:["Days: ",vD(b.preferredDays)]})]}),b.preferredTimeRange&&c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:c.jsx(Qn,{className:"w-4 h-4 text-slate-500"})}),c.jsxs("span",{className:"text-sm text-slate-700",children:["Time: ",bD(b.preferredTimeRange)]})]}),b.createdAt&&c.jsxs("div",{className:"pt-2 border-t border-slate-100 text-xs text-slate-400",children:["Joined ",_D(b.createdAt)]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs(Xe,{to:`/shop/${a}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[c.jsx(Bt,{className:"w-4 h-4"}),b.status==="notified"?"Book Now":"Check Available Slots"]})})]})}),c.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:c.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",c.jsx(Xe,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function ED(){const[a,e]=C.useState(null),[n,i]=C.useState(!0);return C.useEffect(()=>{const l=uj(Pr,u=>{e(u),i(!1)});return()=>l()},[]),n?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})}):c.jsx(y2,{children:c.jsxs(YS,{children:[c.jsx(ua,{path:"/",element:c.jsx(Q4,{})}),c.jsx(ua,{path:"/register",element:c.jsx(W4,{})}),c.jsx(ua,{path:"/login",element:c.jsx(J4,{user:a})}),c.jsx(ua,{path:"/shop/:slug",element:c.jsx(iD,{})}),c.jsx(ua,{path:"/shop/:slug/booking/:refCode",element:c.jsx(xD,{})}),c.jsx(ua,{path:"/shop/:slug/waitlist/:refCode",element:c.jsx(wD,{})}),c.jsx(ua,{path:"/shop/:slug/login",element:c.jsx(yD,{user:a})}),c.jsx(ua,{path:"/shop/:slug/dashboard",element:c.jsx(gD,{user:a})}),c.jsx(ua,{path:"*",element:c.jsx($S,{to:"/",replace:!0})})]})})}QT.createRoot(document.getElementById("root")).render(c.jsx(BT.StrictMode,{children:c.jsx(ED,{})}));
