(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Hb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Em={exports:{}},$o={};var Hv;function yw(){if(Hv)return $o;Hv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:u}}return $o.Fragment=e,$o.jsx=n,$o.jsxs=n,$o}var Fv;function vw(){return Fv||(Fv=1,Em.exports=yw()),Em.exports}var m=vw(),Tm={exports:{}},Ce={};var Gv;function _w(){if(Gv)return Ce;Gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function z(M,ee,ce){this.props=M,this.context=ee,this.refs=L,this.updater=ce||K}z.prototype.isReactComponent={},z.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=z.prototype;function Q(M,ee,ce){this.props=M,this.context=ee,this.refs=L,this.updater=ce||K}var le=Q.prototype=new P;le.constructor=Q,q(le,z.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function de(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,ee,ce){var fe=ce.ref;return{$$typeof:i,type:M,key:ee,ref:fe!==void 0?fe:null,props:ce}}function k(M,ee){return R(M.type,ee,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function U(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ce){return ee[ce]})}var C=/\/+/g;function Xe(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):ee.toString(36)}function Ke(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(de,de):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,ee,ce,fe,$){var re=typeof M;(re==="undefined"||re==="boolean")&&(M=null);var ge=!1;if(M===null)ge=!0;else switch(re){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(M.$$typeof){case i:case e:ge=!0;break;case x:return ge=M._init,X(ge(M._payload),ee,ce,fe,$)}}if(ge)return $=$(M),ge=fe===""?"."+Xe(M,0):fe,oe($)?(ce="",ge!=null&&(ce=ge.replace(C,"$&/")+"/"),X($,ee,ce,"",function(Ve){return Ve})):$!=null&&(j($)&&($=k($,ce+($.key==null||M&&M.key===$.key?"":(""+$.key).replace(C,"$&/")+"/")+ge)),ee.push($)),1;ge=0;var Ne=fe===""?".":fe+":";if(oe(M))for(var we=0;we<M.length;we++)fe=M[we],re=Ne+Xe(fe,we),ge+=X(fe,ee,ce,re,$);else if(we=I(M),typeof we=="function")for(M=we.call(M),we=0;!(fe=M.next()).done;)fe=fe.value,re=Ne+Xe(fe,we++),ge+=X(fe,ee,ce,re,$);else if(re==="object"){if(typeof M.then=="function")return X(Ke(M),ee,ce,fe,$);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ae(M,ee,ce){if(M==null)return M;var fe=[],$=0;return X(M,fe,"","",function(re){return ee.call(ce,re,$++)}),fe}function _e(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(ce){(M._status===0||M._status===-1)&&(M._status=1,M._result=ce)},function(ce){(M._status===0||M._status===-1)&&(M._status=2,M._result=ce)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Me={map:ae,forEach:function(M,ee,ce){ae(M,function(){ee.apply(this,arguments)},ce)},count:function(M){var ee=0;return ae(M,function(){ee++}),ee},toArray:function(M){return ae(M,function(ee){return ee})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=E,Ce.Children=Me,Ce.Component=z,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=Q,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,ee,ce){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=q({},M.props),$=M.key;if(ee!=null)for(re in ee.key!==void 0&&($=""+ee.key),ee)!A.call(ee,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ee.ref===void 0||(fe[re]=ee[re]);var re=arguments.length-2;if(re===1)fe.children=ce;else if(1<re){for(var ge=Array(re),Ne=0;Ne<re;Ne++)ge[Ne]=arguments[Ne+2];fe.children=ge}return R(M.type,$,fe)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,ee,ce){var fe,$={},re=null;if(ee!=null)for(fe in ee.key!==void 0&&(re=""+ee.key),ee)A.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&($[fe]=ee[fe]);var ge=arguments.length-2;if(ge===1)$.children=ce;else if(1<ge){for(var Ne=Array(ge),we=0;we<ge;we++)Ne[we]=arguments[we+2];$.children=Ne}if(M&&M.defaultProps)for(fe in ge=M.defaultProps,ge)$[fe]===void 0&&($[fe]=ge[fe]);return R(M,re,$)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:p,render:M}},Ce.isValidElement=j,Ce.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:_e}},Ce.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},Ce.startTransition=function(M){var ee=N.T,ce={};N.T=ce;try{var fe=M(),$=N.S;$!==null&&$(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,ke)}catch(re){ke(re)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),N.T=ee}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(M){return N.H.use(M)},Ce.useActionState=function(M,ee,ce){return N.H.useActionState(M,ee,ce)},Ce.useCallback=function(M,ee){return N.H.useCallback(M,ee)},Ce.useContext=function(M){return N.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ee){return N.H.useDeferredValue(M,ee)},Ce.useEffect=function(M,ee){return N.H.useEffect(M,ee)},Ce.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(M,ee,ce){return N.H.useImperativeHandle(M,ee,ce)},Ce.useInsertionEffect=function(M,ee){return N.H.useInsertionEffect(M,ee)},Ce.useLayoutEffect=function(M,ee){return N.H.useLayoutEffect(M,ee)},Ce.useMemo=function(M,ee){return N.H.useMemo(M,ee)},Ce.useOptimistic=function(M,ee){return N.H.useOptimistic(M,ee)},Ce.useReducer=function(M,ee,ce){return N.H.useReducer(M,ee,ce)},Ce.useRef=function(M){return N.H.useRef(M)},Ce.useState=function(M){return N.H.useState(M)},Ce.useSyncExternalStore=function(M,ee,ce){return N.H.useSyncExternalStore(M,ee,ce)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.4",Ce}var $v;function _p(){return $v||($v=1,Tm.exports=_w()),Tm.exports}var V=_p();const bw=Hb(V);var wm={exports:{}},Yo={},Sm={exports:{}},Am={};var Yv;function xw(){return Yv||(Yv=1,(function(i){function e(X,ae){var _e=X.length;X.push(ae);e:for(;0<_e;){var ke=_e-1>>>1,Me=X[ke];if(0<l(Me,ae))X[ke]=ae,X[_e]=Me,_e=ke;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],_e=X.pop();if(_e!==ae){X[0]=_e;e:for(var ke=0,Me=X.length,M=Me>>>1;ke<M;){var ee=2*(ke+1)-1,ce=X[ee],fe=ee+1,$=X[fe];if(0>l(ce,_e))fe<Me&&0>l($,ce)?(X[ke]=$,X[fe]=_e,ke=fe):(X[ke]=ce,X[ee]=_e,ke=ee);else if(fe<Me&&0>l($,_e))X[ke]=$,X[fe]=_e,ke=fe;else break e}}return ae}function l(X,ae){var _e=X.sortIndex-ae.sortIndex;return _e!==0?_e:X.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],x=1,E=null,S=3,I=!1,K=!1,q=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var ae=n(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=X)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function oe(X){if(q=!1,le(X),!K)if(n(g)!==null)K=!0,de||(de=!0,U());else{var ae=n(y);ae!==null&&Ke(oe,ae.startTime-X)}}var de=!1,N=-1,A=5,R=-1;function k(){return L?!0:!(i.unstable_now()-R<A)}function j(){if(L=!1,de){var X=i.unstable_now();R=X;var ae=!0;try{e:{K=!1,q&&(q=!1,P(N),N=-1),I=!0;var _e=S;try{t:{for(le(X),E=n(g);E!==null&&!(E.expirationTime>X&&k());){var ke=E.callback;if(typeof ke=="function"){E.callback=null,S=E.priorityLevel;var Me=ke(E.expirationTime<=X);if(X=i.unstable_now(),typeof Me=="function"){E.callback=Me,le(X),ae=!0;break t}E===n(g)&&r(g),le(X)}else r(g);E=n(g)}if(E!==null)ae=!0;else{var M=n(y);M!==null&&Ke(oe,M.startTime-X),ae=!1}}break e}finally{E=null,S=_e,I=!1}ae=void 0}}finally{ae?U():de=!1}}}var U;if(typeof Q=="function")U=function(){Q(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=j,U=function(){Xe.postMessage(null)}}else U=function(){z(j,0)};function Ke(X,ae){N=z(function(){X(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var _e=S;S=ae;try{return X()}finally{S=_e}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=S;S=X;try{return ae()}finally{S=_e}},i.unstable_scheduleCallback=function(X,ae,_e){var ke=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ke+_e:ke):_e=ke,X){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=_e+Me,X={id:x++,callback:ae,priorityLevel:X,startTime:_e,expirationTime:Me,sortIndex:-1},_e>ke?(X.sortIndex=_e,e(y,X),n(g)===null&&X===n(y)&&(q?(P(N),N=-1):q=!0,Ke(oe,_e-ke))):(X.sortIndex=Me,e(g,X),K||I||(K=!0,de||(de=!0,U()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var ae=S;return function(){var _e=S;S=ae;try{return X.apply(this,arguments)}finally{S=_e}}}})(Am)),Am}var Kv;function Ew(){return Kv||(Kv=1,Sm.exports=xw()),Sm.exports}var Nm={exports:{}},hn={};var Qv;function Tw(){if(Qv)return hn;Qv=1;var i=_p();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,x)},hn.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},hn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},hn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},hn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:I}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},hn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},hn.requestFormReset=function(g){r.d.r(g)},hn.unstable_batchedUpdates=function(g,y){return g(y)},hn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var Xv;function ww(){if(Xv)return Nm.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=Tw(),Nm.exports}var Jv;function Sw(){if(Jv)return Yo;Jv=1;var i=Ew(),e=_p(),n=ww();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),s;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case Q:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case le:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:Xe(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return Xe(t(s))}catch{}}return null}var Ke=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ke=[],Me=-1;function M(t){return{current:t}}function ee(t){0>Me||(t.current=ke[Me],ke[Me]=null,Me--)}function ce(t,s){Me++,ke[Me]=t.current,t.current=s}var fe=M(null),$=M(null),re=M(null),ge=M(null);function Ne(t,s){switch(ce(re,s),ce($,t),ce(fe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=dv(s),t=fv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(fe),ce(fe,t)}function we(){ee(fe),ee($),ee(re)}function Ve(t){t.memoizedState!==null&&ce(ge,t);var s=fe.current,a=fv(s,t.type);s!==a&&(ce($,t),ce(fe,a))}function Wt(t){$.current===t&&(ee(fe),ee($)),ge.current===t&&(ee(ge),qo._currentValue=_e)}var gn,ts;function wt(t){if(gn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gn=s&&s[1]||"",ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+t+ts}var Zt=!1;function Ht(t,s){if(!t||Zt)return"";Zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Y=W}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(W){Y=W}t.call(ne.prototype)}}else{try{throw Error()}catch(W){Y=W}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),G=T.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===G.length)for(o=D.length-1,h=G.length-1;1<=o&&0<=h&&D[o]!==G[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==G[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==G[h]){var Z=`
`+D[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=h);break}}}finally{Zt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wt(a):""}function xs(t,s){switch(t.tag){case 26:case 27:case 5:return wt(t.type);case 16:return wt("Lazy");case 13:return t.child!==s&&s!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Ht(t.type,!1);case 11:return Ht(t.type.render,!1);case 1:return Ht(t.type,!0);case 31:return wt("Activity");default:return""}}function he(t){try{var s="",a=null;do s+=xs(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Ue=i.unstable_scheduleCallback,yt=i.unstable_cancelCallback,Ft=i.unstable_shouldYield,ct=i.unstable_requestPaint,ze=i.unstable_now,en=i.unstable_getCurrentPriorityLevel,Sa=i.unstable_ImmediatePriority,Gl=i.unstable_UserBlockingPriority,Ri=i.unstable_NormalPriority,wd=i.unstable_LowPriority,Uu=i.unstable_IdlePriority,zu=i.log,Bu=i.unstable_setDisableYieldValue,ns=null,tn=null;function Un(t){if(typeof zu=="function"&&Bu(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ns,t)}catch{}}var St=Math.clz32?Math.clz32:Hu,qu=Math.log,Aa=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(qu(t)/Aa|0)|0}var Es=256,Dr=262144,Dt=4194304;function Ts(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ws(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Ts(o):(_&=T,_!==0?h=Ts(_):a||(a=T&~t,a!==0&&(h=Ts(a))))):(T=o&~f,T!==0?h=Ts(T):_!==0?h=Ts(_):a||(a=o&~t,a!==0&&(h=Ts(a)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:h}function ss(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Sd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function Ss(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function jr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ad(t,s,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-St(a),ne=1<<Z;T[Z]=0,D[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}a&=~ne}o!==0&&kr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~s))}function kr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-St(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function $l(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-St(a),h=1<<o;h&s|t[o]&s&&(t[o]|=s),a&=~h}}function Yl(t,s){var a=s&-s;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|s))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function is(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var rs=Math.random().toString(36).slice(2),jt="__reactFiber$"+rs,Kt="__reactProps$"+rs,As="__reactContainer$"+rs,Na="__reactEvents$"+rs,Nd="__reactListeners$"+rs,$u="__reactHandles$"+rs,Yu="__reactResources$"+rs,Ns="__reactMarker$"+rs;function Ra(t){delete t[jt],delete t[Kt],delete t[Na],delete t[Nd],delete t[$u]}function Rs(t){var s=t[jt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[As]||a[jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[jt])return a;t=bv(t)}return s}t=a,a=t.parentNode}return null}function zn(t){if(t=t[jt]||t[As]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Rn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Cs(t){var s=t[Yu];return s||(s=t[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(t){t[Ns]=!0}var Kl=new Set,Ql={};function Is(t,s){Ds(t,s),Ds(t+"Capture",s)}function Ds(t,s){for(Ql[t]=s,t=0;t<s.length;t++)Kl.add(s[t])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Wl={};function Ku(t){return ve.call(Wl,t)?!0:ve.call(Jl,t)?!1:Xl.test(t)?Wl[t]=!0:(Jl[t]=!0,!1)}function Ca(t,s,a){if(Ku(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Cn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ot(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ci(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function st(t){if(!t._valueTracker){var s=Ci(t)?"checked":"value";t._valueTracker=Zl(t,s,""+t[s])}}function Mr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Ci(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function _n(t){return t.replace(Vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ia(t,s,a,o,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Qt(s)):t.value!==""+Qt(s)&&(t.value=""+Qt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?eo(t,_,Qt(s)):a!=null?eo(t,_,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function Qu(t,s,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){st(t);return}a=a!=null?""+Qt(a):"",s=s!=null?""+Qt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function eo(t,s,a){s==="number"&&js(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,s,a,o){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Xu(t,s,a){if(s!=null&&(s=""+Qt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Qt(a):""}function Di(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ke(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Qt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),st(t)}function bn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Ju.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function no(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&a[h]!==o&&to(t,h,o)}else for(var f in s)s.hasOwnProperty(f)&&to(t,f,s[f])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function as(){}var so=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,ks=null;function Lr(t){var s=zn(t);if(s&&(t=s.stateNode)){var a=t[Kt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var h=o[Kt]||null;if(!h)throw Error(r(90));Ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Mr(o)}break e;case"textarea":Xu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ii(t,!!a.multiple,s,!1)}}}var ka=!1;function Oi(t,s,a){if(ka)return t(s,a);ka=!0;try{var o=t(s);return o}finally{if(ka=!1,(ki!==null||ks!==null)&&(Gc(),ki&&(s=ki,t=ks,ks=ki=null,Lr(s),t)))for(s=0;s<t.length;s++)Lr(t[s])}}function ls(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Kt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Pr=!1}var Os=null,io=null,Ur=null;function ro(){if(Ur)return Ur;var t,s=io,a=s.length,o,h="value"in Os?Os.value:Os.textContent,f=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===h[f-o];o++);return Ur=h.slice(t,1<o?1-o:void 0)}function zr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Zs(){return!0}function os(){return!1}function nn(t){function s(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zs:os,this.isPropagationStopped=os,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),s}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=nn(ei),Mi=E({},ei,{view:0,detail:0}),ao=nn(Mi),Vi,Oa,Vs,Ma=E({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(Vi=t.screenX-Vs.screenX,Oa=t.screenY-Vs.screenY):Oa=Vi=0,Vs=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),lo=nn(Ma),Br=E({},Ma,{dataTransfer:0}),Zu=nn(Br),ec=E({},Mi,{relatedTarget:0}),qr=nn(ec),oo=E({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=nn(oo),Va=E({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nc=nn(Va),sc=E({},ei,{data:0}),Ls=nn(sc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ac[t])?!!s[t]:!1}function Li(){return lc}var yn=E({},Mi,{key:function(t){if(t.key){var s=ic[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oc=nn(yn),uc=E({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=nn(uc),c=E({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),v=nn(c),b=E({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=nn(b),H=E({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J=nn(H),ue=E({},ei,{newState:0,oldState:0}),De=nn(ue),At=[9,13,27,32],Ze=qn&&"CompositionEvent"in window,vt=null;qn&&"documentMode"in document&&(vt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!vt,Ps=qn&&(!Ze||vt&&8<vt&&11>=vt),us=" ",cs=!1;function Hr(t,s){switch(t){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function B1(t,s){switch(t){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(cs=!0,us);case"textInput":return t=s.data,t===us&&cs?null:t;default:return null}}function q1(t,s){if(Pa)return t==="compositionend"||!Ze&&Hr(t,s)?(t=ro(),Ur=io=Os=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ps&&s.locale!=="ko"?null:s.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!H1[t.type]:s==="textarea"}function wg(t,s,a,o){ki?ks?ks.push(o):ks=[o]:ki=o,s=Wc(s,"onChange"),0<s.length&&(a=new Ms("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var uo=null,co=null;function F1(t){av(t,0)}function cc(t){var s=Rn(t);if(Mr(s))return t}function Sg(t,s){if(t==="change")return s}var Ag=!1;if(qn){var Rd;if(qn){var Cd="oninput"in document;if(!Cd){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Cd=typeof Ng.oninput=="function"}Rd=Cd}else Rd=!1;Ag=Rd&&(!document.documentMode||9<document.documentMode)}function Rg(){uo&&(uo.detachEvent("onpropertychange",Cg),co=uo=null)}function Cg(t){if(t.propertyName==="value"&&cc(co)){var s=[];wg(s,co,t,Bn(t)),Oi(F1,s)}}function G1(t,s,a){t==="focusin"?(Rg(),uo=s,co=a,uo.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function $1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(co)}function Y1(t,s){if(t==="click")return cc(s)}function K1(t,s){if(t==="input"||t==="change")return cc(s)}function Q1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var In=typeof Object.is=="function"?Object.is:Q1;function ho(t,s){if(In(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(s,h)||!In(t[h],s[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,s){var a=Ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function jg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?jg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=js(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=js(t.document)}return s}function Id(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var X1=qn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Dd=null,fo=null,jd=!1;function Og(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jd||Ua==null||Ua!==js(o)||(o=Ua,"selectionStart"in o&&Id(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&ho(fo,o)||(fo=o,o=Wc(Dd,"onSelect"),0<o.length&&(s=new Ms("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Ua)))}function Fr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var za={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},kd={},Mg={};qn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Gr(t){if(kd[t])return kd[t];if(!za[t])return t;var s=za[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Mg)return kd[t]=s[a];return t}var Vg=Gr("animationend"),Lg=Gr("animationiteration"),Pg=Gr("animationstart"),J1=Gr("transitionrun"),W1=Gr("transitionstart"),Z1=Gr("transitioncancel"),Ug=Gr("transitionend"),zg=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function hs(t,s){zg.set(t,s),Is(s,[t])}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Ba=0,Md=0;function dc(){for(var t=Ba,s=Md=Ba=0;s<t;){var a=Fn[s];Fn[s++]=null;var o=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var f=Fn[s];if(Fn[s++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Bg(a,h,f)}}function fc(t,s,a,o){Fn[Ba++]=t,Fn[Ba++]=s,Fn[Ba++]=a,Fn[Ba++]=o,Md|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Vd(t,s,a,o){return fc(t,s,a,o),mc(t)}function $r(t,s){return fc(t,null,null,s),mc(t)}function Bg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&s!==null&&(h=31-St(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[s]:o.push(s),s.lane=a|536870912),f):null}function mc(t){if(50<Mo)throw Mo=0,$f=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var qa={};function eT(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,s,a,o){return new eT(t,s,a,o)}function Ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ni(t,s){var a=t.alternate;return a===null?(a=Dn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function pc(t,s,a,o,h,f){var _=0;if(o=t,typeof t=="function")Ld(t)&&(_=1);else if(typeof t=="string")_=rw(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Dn(31,a,s,h),t.elementType=R,t.lanes=f,t;case q:return Yr(a.children,h,f,s);case L:_=8,h|=24;break;case z:return t=Dn(12,a,s,h|2),t.elementType=z,t.lanes=f,t;case oe:return t=Dn(13,a,s,h),t.elementType=oe,t.lanes=f,t;case de:return t=Dn(19,a,s,h),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:_=10;break e;case P:_=9;break e;case le:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Dn(_,a,s,h),s.elementType=t,s.type=o,s.lanes=f,s}function Yr(t,s,a,o){return t=Dn(7,t,o,s),t.lanes=a,t}function Pd(t,s,a){return t=Dn(6,t,null,s),t.lanes=a,t}function Hg(t){var s=Dn(18,null,null,0);return s.stateNode=t,s}function Ud(t,s,a){return s=Dn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Fg=new WeakMap;function Gn(t,s){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:he(s)},Fg.set(t,s),s)}return{value:t,source:s,stack:he(s)}}var Ha=[],Fa=0,gc=null,mo=0,$n=[],Yn=0,Pi=null,Us=1,zs="";function si(t,s){Ha[Fa++]=mo,Ha[Fa++]=gc,gc=t,mo=s}function Gg(t,s,a){$n[Yn++]=Us,$n[Yn++]=zs,$n[Yn++]=Pi,Pi=t;var o=Us;t=zs;var h=32-St(o)-1;o&=~(1<<h),a+=1;var f=32-St(s)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Us=1<<32-St(s)+h|a<<h|o,zs=f+t}else Us=1<<f|a<<h|o,zs=t}function zd(t){t.return!==null&&(si(t,1),Gg(t,1,0))}function Bd(t){for(;t===gc;)gc=Ha[--Fa],Ha[Fa]=null,mo=Ha[--Fa],Ha[Fa]=null;for(;t===Pi;)Pi=$n[--Yn],$n[Yn]=null,zs=$n[--Yn],$n[Yn]=null,Us=$n[--Yn],$n[Yn]=null}function $g(t,s){$n[Yn++]=Us,$n[Yn++]=zs,$n[Yn++]=Pi,Us=s.id,zs=s.overflow,Pi=t}var sn=null,ft=null,$e=!1,Ui=null,Kn=!1,qd=Error(r(519));function zi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Gn(s,t)),qd}function Yg(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[jt]=t,s[Kt]=o,a){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Pe(Lo[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Qu(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Di(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||cv(s.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),o.onScroll!=null&&Pe("scroll",s),o.onScrollEnd!=null&&Pe("scrollend",s),o.onClick!=null&&(s.onclick=as),s=!0):s=!1,s||zi(t,!0)}function Kg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:sn=sn.return}}function Ga(t){if(t!==sn)return!1;if(!$e)return Kg(t),$e=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lm(t.type,t.memoizedProps)),a=!a),a&&ft&&zi(t),Kg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=_v(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=_v(t)}else s===27?(s=ft,er(t.type)?(t=dm,dm=null,ft=t):ft=s):ft=sn?Xn(t.stateNode.nextSibling):null;return!0}function Kr(){ft=sn=null,$e=!1}function Hd(){var t=Ui;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Ui=null),t}function po(t){Ui===null?Ui=[t]:Ui.push(t)}var Fd=M(null),Qr=null,ii=null;function Bi(t,s,a){ce(Fd,s._currentValue),s._currentValue=a}function ri(t){t._currentValue=Fd.current,ee(Fd)}function Gd(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function $d(t,s,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var D=0;D<s.length;D++)if(T.context===s[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Gd(f.return,a,t),o||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Gd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function $a(t,s,a,o){t=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;In(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ge.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}h=h.return}t!==null&&$d(s,t,a,o),s.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Qr=t,ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Qg(Qr,t)}function vc(t,s){return Qr===null&&Xr(t),Qg(t,s)}function Qg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ii===null){if(t===null)throw Error(r(308));ii=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ii=ii.next=s;return a}var tT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},nT=i.unstable_scheduleCallback,sT=i.unstable_NormalPriority,Mt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new tT,data:new Map,refCount:0}}function go(t){t.refCount--,t.refCount===0&&nT(sT,function(){t.controller.abort()})}var yo=null,Kd=0,Ya=0,Ka=null;function iT(t,s){if(yo===null){var a=yo=[];Kd=0,Ya=Wf(),Ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kd++,s.then(Xg,Xg),s}function Xg(){if(--Kd===0&&yo!==null){Ka!==null&&(Ka.status="fulfilled");var t=yo;yo=null,Ya=0,Ka=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function rT(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Jg=X.S;X.S=function(t,s){O0=ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&iT(t,s),Jg!==null&&Jg(t,s)};var Jr=M(null);function Qd(){var t=Jr.current;return t!==null?t:ht.pooledCache}function _c(t,s){s===null?ce(Jr,Jr.current):ce(Jr,s.pool)}function Wg(){var t=Qd();return t===null?null:{parent:Mt._currentValue,pool:t}}var Qa=Error(r(460)),Xd=Error(r(474)),bc=Error(r(542)),xc={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(as,as),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ny(t),t;default:if(typeof s.status=="string")s.then(as,as);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ny(t),t}throw Zr=s,Qa}}function Wr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Qa):a}}var Zr=null;function ty(){if(Zr===null)throw Error(r(459));var t=Zr;return Zr=null,t}function ny(t){if(t===Qa||t===bc)throw Error(r(483))}var Xa=null,vo=0;function Ec(t){var s=vo;return vo+=1,Xa===null&&(Xa=[]),ey(Xa,t,s)}function _o(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Tc(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function sy(t){function s(B,O){if(t){var F=B.deletions;F===null?(B.deletions=[O],B.flags|=16):F.push(O)}}function a(B,O){if(!t)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function o(B){for(var O=new Map;B!==null;)B.key!==null?O.set(B.key,B):O.set(B.index,B),B=B.sibling;return O}function h(B,O){return B=ni(B,O),B.index=0,B.sibling=null,B}function f(B,O,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<O?(B.flags|=67108866,O):F):(B.flags|=67108866,O)):(B.flags|=1048576,O)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,O,F,te){return O===null||O.tag!==6?(O=Pd(F,B.mode,te),O.return=B,O):(O=h(O,F),O.return=B,O)}function D(B,O,F,te){var xe=F.type;return xe===q?Z(B,O,F.props.children,te,F.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&Wr(xe)===O.type)?(O=h(O,F.props),_o(O,F),O.return=B,O):(O=pc(F.type,F.key,F.props,null,B.mode,te),_o(O,F),O.return=B,O)}function G(B,O,F,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Ud(F,B.mode,te),O.return=B,O):(O=h(O,F.children||[]),O.return=B,O)}function Z(B,O,F,te,xe){return O===null||O.tag!==7?(O=Yr(F,B.mode,te,xe),O.return=B,O):(O=h(O,F),O.return=B,O)}function ne(B,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Pd(""+O,B.mode,F),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return F=pc(O.type,O.key,O.props,null,B.mode,F),_o(F,O),F.return=B,F;case K:return O=Ud(O,B.mode,F),O.return=B,O;case A:return O=Wr(O),ne(B,O,F)}if(Ke(O)||U(O))return O=Yr(O,B.mode,F,null),O.return=B,O;if(typeof O.then=="function")return ne(B,Ec(O),F);if(O.$$typeof===Q)return ne(B,vc(B,O),F);Tc(B,O)}return null}function Y(B,O,F,te){var xe=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return xe!==null?null:T(B,O,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return F.key===xe?D(B,O,F,te):null;case K:return F.key===xe?G(B,O,F,te):null;case A:return F=Wr(F),Y(B,O,F,te)}if(Ke(F)||U(F))return xe!==null?null:Z(B,O,F,te,null);if(typeof F.then=="function")return Y(B,O,Ec(F),te);if(F.$$typeof===Q)return Y(B,O,vc(B,F),te);Tc(B,F)}return null}function W(B,O,F,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(F)||null,T(O,B,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return B=B.get(te.key===null?F:te.key)||null,D(O,B,te,xe);case K:return B=B.get(te.key===null?F:te.key)||null,G(O,B,te,xe);case A:return te=Wr(te),W(B,O,F,te,xe)}if(Ke(te)||U(te))return B=B.get(F)||null,Z(O,B,te,xe,null);if(typeof te.then=="function")return W(B,O,F,Ec(te),xe);if(te.$$typeof===Q)return W(B,O,F,vc(O,te),xe);Tc(O,te)}return null}function ye(B,O,F,te){for(var xe=null,Je=null,be=O,Oe=O=0,qe=null;be!==null&&Oe<F.length;Oe++){be.index>Oe?(qe=be,be=null):qe=be.sibling;var We=Y(B,be,F[Oe],te);if(We===null){be===null&&(be=qe);break}t&&be&&We.alternate===null&&s(B,be),O=f(We,O,Oe),Je===null?xe=We:Je.sibling=We,Je=We,be=qe}if(Oe===F.length)return a(B,be),$e&&si(B,Oe),xe;if(be===null){for(;Oe<F.length;Oe++)be=ne(B,F[Oe],te),be!==null&&(O=f(be,O,Oe),Je===null?xe=be:Je.sibling=be,Je=be);return $e&&si(B,Oe),xe}for(be=o(be);Oe<F.length;Oe++)qe=W(be,B,Oe,F[Oe],te),qe!==null&&(t&&qe.alternate!==null&&be.delete(qe.key===null?Oe:qe.key),O=f(qe,O,Oe),Je===null?xe=qe:Je.sibling=qe,Je=qe);return t&&be.forEach(function(rr){return s(B,rr)}),$e&&si(B,Oe),xe}function Te(B,O,F,te){if(F==null)throw Error(r(151));for(var xe=null,Je=null,be=O,Oe=O=0,qe=null,We=F.next();be!==null&&!We.done;Oe++,We=F.next()){be.index>Oe?(qe=be,be=null):qe=be.sibling;var rr=Y(B,be,We.value,te);if(rr===null){be===null&&(be=qe);break}t&&be&&rr.alternate===null&&s(B,be),O=f(rr,O,Oe),Je===null?xe=rr:Je.sibling=rr,Je=rr,be=qe}if(We.done)return a(B,be),$e&&si(B,Oe),xe;if(be===null){for(;!We.done;Oe++,We=F.next())We=ne(B,We.value,te),We!==null&&(O=f(We,O,Oe),Je===null?xe=We:Je.sibling=We,Je=We);return $e&&si(B,Oe),xe}for(be=o(be);!We.done;Oe++,We=F.next())We=W(be,B,Oe,We.value,te),We!==null&&(t&&We.alternate!==null&&be.delete(We.key===null?Oe:We.key),O=f(We,O,Oe),Je===null?xe=We:Je.sibling=We,Je=We);return t&&be.forEach(function(gw){return s(B,gw)}),$e&&si(B,Oe),xe}function ut(B,O,F,te){if(typeof F=="object"&&F!==null&&F.type===q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case I:e:{for(var xe=F.key;O!==null;){if(O.key===xe){if(xe=F.type,xe===q){if(O.tag===7){a(B,O.sibling),te=h(O,F.props.children),te.return=B,B=te;break e}}else if(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&Wr(xe)===O.type){a(B,O.sibling),te=h(O,F.props),_o(te,F),te.return=B,B=te;break e}a(B,O);break}else s(B,O);O=O.sibling}F.type===q?(te=Yr(F.props.children,B.mode,te,F.key),te.return=B,B=te):(te=pc(F.type,F.key,F.props,null,B.mode,te),_o(te,F),te.return=B,B=te)}return _(B);case K:e:{for(xe=F.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(B,O.sibling),te=h(O,F.children||[]),te.return=B,B=te;break e}else{a(B,O);break}else s(B,O);O=O.sibling}te=Ud(F,B.mode,te),te.return=B,B=te}return _(B);case A:return F=Wr(F),ut(B,O,F,te)}if(Ke(F))return ye(B,O,F,te);if(U(F)){if(xe=U(F),typeof xe!="function")throw Error(r(150));return F=xe.call(F),Te(B,O,F,te)}if(typeof F.then=="function")return ut(B,O,Ec(F),te);if(F.$$typeof===Q)return ut(B,O,vc(B,F),te);Tc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(B,O.sibling),te=h(O,F),te.return=B,B=te):(a(B,O),te=Pd(F,B.mode,te),te.return=B,B=te),_(B)):a(B,O)}return function(B,O,F,te){try{vo=0;var xe=ut(B,O,F,te);return Xa=null,xe}catch(be){if(be===Qa||be===bc)throw be;var Je=Dn(29,be,null,B.mode);return Je.lanes=te,Je.return=B,Je}}}var ea=sy(!0),iy=sy(!1),qi=!1;function Jd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=mc(t),Bg(t,null,a),s}return fc(t,o,s,a),mc(t)}function bo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,$l(t,a)}}function Zd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=s:f=f.next=s}else h=f=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ef=!1;function xo(){if(ef){var t=Ka;if(t!==null)throw t}}function Eo(t,s,a,o){ef=!1;var h=t.updateQueue;qi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,G=D.next;D.next=null,_===null?f=G:_.next=G,_=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=G:T.next=G,Z.lastBaseUpdate=D))}if(f!==null){var ne=h.baseState;_=0,Z=G=D=null,T=f;do{var Y=T.lane&-536870913,W=Y!==T.lane;if(W?(Be&Y)===Y:(o&Y)===Y){Y!==0&&Y===Ya&&(ef=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Te=T;Y=s;var ut=a;switch(Te.tag){case 1:if(ye=Te.payload,typeof ye=="function"){ne=ye.call(ut,ne,Y);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Te.payload,Y=typeof ye=="function"?ye.call(ut,ne,Y):ye,Y==null)break e;ne=E({},ne,Y);break e;case 2:qi=!0}}Y=T.callback,Y!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(G=Z=W,D=ne):Z=Z.next=W,_|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(D=ne),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Qi|=_,t.lanes=_,t.memoizedState=ne}}function ry(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function ay(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],s)}var Ja=M(null),wc=M(0);function ly(t,s){t=mi,ce(wc,t),ce(Ja,s),mi=t|s.baseLanes}function tf(){ce(wc,mi),ce(Ja,Ja.current)}function nf(){mi=wc.current,ee(Ja),ee(wc)}var jn=M(null),Qn=null;function Gi(t){var s=t.alternate;ce(Nt,Nt.current&1),ce(jn,t),Qn===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Qn=t)}function sf(t){ce(Nt,Nt.current),ce(jn,t),Qn===null&&(Qn=t)}function oy(t){t.tag===22?(ce(Nt,Nt.current),ce(jn,t),Qn===null&&(Qn=t)):$i()}function $i(){ce(Nt,Nt.current),ce(jn,jn.current)}function kn(t){ee(jn),Qn===t&&(Qn=null),ee(Nt)}var Nt=M(0);function Sc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ai=0,je=null,lt=null,Vt=null,Ac=!1,Wa=!1,ta=!1,Nc=0,To=0,Za=null,aT=0;function Et(){throw Error(r(321))}function rf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!In(t[a],s[a]))return!1;return!0}function af(t,s,a,o,h,f){return ai=f,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=t===null||t.memoizedState===null?Gy:xf,ta=!1,f=a(o,h),ta=!1,Wa&&(f=cy(s,a,o,h)),uy(t),f}function uy(t){X.H=Ao;var s=lt!==null&&lt.next!==null;if(ai=0,Vt=lt=je=null,Ac=!1,To=0,Za=null,s)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&yc(t)&&(Lt=!0))}function cy(t,s,a,o){je=t;var h=0;do{if(Wa&&(Za=null),To=0,Wa=!1,25<=h)throw Error(r(301));if(h+=1,Vt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=$y,f=s(a,o)}while(Wa);return f}function lT(){var t=X.H,s=t.useState()[0];return s=typeof s.then=="function"?wo(s):s,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(je.flags|=1024),s}function lf(){var t=Nc!==0;return Nc=0,t}function of(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function uf(t){if(Ac){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ac=!1}ai=0,Vt=lt=je=null,Wa=!1,To=Nc=0,Za=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(lt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var s=Vt===null?je.memoizedState:Vt.next;if(s!==null)Vt=s,lt=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var s=To;return To+=1,Za===null&&(Za=[]),t=ey(Za,t,s),s=je,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Gy:xf),t}function Cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===Q)return rn(t)}throw Error(r(438,String(t)))}function cf(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Rc(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=k;return s.index++,a}function li(t,s){return typeof s=="function"?s(t):s}function Ic(t){var s=Rt();return hf(s,lt,t)}function hf(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}s.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{s=h.next;var T=_=null,D=null,G=s,Z=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Be&ne)===ne:(ai&ne)===ne){var Y=G.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Ya&&(Z=!0);else if((ai&Y)===Y){G=G.next,Y===Ya&&(Z=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=ne,_=f):D=D.next=ne,je.lanes|=Y,Qi|=Y;ne=G.action,ta&&a(f,ne),f=G.hasEagerState?G.eagerState:a(f,ne)}else Y={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=Y,_=f):D=D.next=Y,je.lanes|=ne,Qi|=ne;G=G.next}while(G!==null&&G!==s);if(D===null?_=f:D.next=T,!In(f,t.memoizedState)&&(Lt=!0,Z&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function df(t){var s=Rt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);In(f,s.memoizedState)||(Lt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,o]}function hy(t,s,a){var o=je,h=Rt(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!In((lt||h).memoizedState,a);if(_&&(h.memoizedState=a,Lt=!0),h=h.queue,pf(my.bind(null,o,h,t),[t]),h.getSnapshot!==s||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,el(9,{destroy:void 0},fy.bind(null,o,h,a,s),null),ht===null)throw Error(r(349));f||(ai&127)!==0||dy(o,s,a)}return a}function dy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=Rc(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function fy(t,s,a,o){s.value=a,s.getSnapshot=o,py(s)&&gy(t)}function my(t,s,a){return a(function(){py(s)&&gy(t)})}function py(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!In(t,a)}catch{return!0}}function gy(t){var s=$r(t,2);s!==null&&Sn(s,t,2)}function ff(t){var s=vn();if(typeof t=="function"){var a=t;if(t=a(),ta){Un(!0);try{a()}finally{Un(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},s}function yy(t,s,a,o){return t.baseState=a,hf(t,lt,typeof o=="function"?o:li)}function oT(t,s,a,o,h){if(kc(t))throw Error(r(485));if(t=s.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?a(!0):f.isTransition=!1,o(f),a=s.pending,a===null?(f.next=s.pending=f,vy(s,f)):(f.next=a.next,s.pending=a.next=f)}}function vy(t,s){var a=s.action,o=s.payload,h=t.state;if(s.isTransition){var f=X.T,_={};X.T=_;try{var T=a(h,o),D=X.S;D!==null&&D(_,T),_y(t,s,T)}catch(G){mf(t,s,G)}finally{f!==null&&_.types!==null&&(f.types=_.types),X.T=f}}else try{f=a(h,o),_y(t,s,f)}catch(G){mf(t,s,G)}}function _y(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){by(t,s,o)},function(o){return mf(t,s,o)}):by(t,s,a)}function by(t,s,a){s.status="fulfilled",s.value=a,xy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,vy(t,a)))}function mf(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,xy(s),s=s.next;while(s!==o)}t.action=null}function xy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ey(t,s){return s}function Ty(t,s){if($e){var a=ht.formState;if(a!==null){e:{var o=je;if($e){if(ft){t:{for(var h=ft,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Xn(h.nextSibling),o=h.data==="F!";break e}}zi(o)}o=!1}o&&(s=a[0])}}return a=vn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:s},a.queue=o,a=qy.bind(null,je,o),o.dispatch=a,o=ff(!1),f=bf.bind(null,je,!1,o.queue),o=vn(),h={state:s,dispatch:null,action:t,pending:null},o.queue=h,a=oT.bind(null,je,h,f,a),h.dispatch=a,o.memoizedState=t,[s,a,!1]}function wy(t){var s=Rt();return Sy(s,lt,t)}function Sy(t,s,a){if(s=hf(t,s,Ey)[0],t=Ic(li)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=wo(s)}catch(_){throw _===Qa?bc:_}else o=s;s=Rt();var h=s.queue,f=h.dispatch;return a!==s.memoizedState&&(je.flags|=2048,el(9,{destroy:void 0},uT.bind(null,h,a),null)),[o,f,t]}function uT(t,s){t.action=s}function Ay(t){var s=Rt(),a=lt;if(a!==null)return Sy(s,a,t);Rt(),s=s.memoizedState,a=Rt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function el(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=je.updateQueue,s===null&&(s=Rc(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Ny(){return Rt().memoizedState}function Dc(t,s,a,o){var h=vn();je.flags|=t,h.memoizedState=el(1|s,{destroy:void 0},a,o===void 0?null:o)}function jc(t,s,a,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&rf(o,lt.memoizedState.deps)?h.memoizedState=el(s,f,a,o):(je.flags|=t,h.memoizedState=el(1|s,f,a,o))}function Ry(t,s){Dc(8390656,8,t,s)}function pf(t,s){jc(2048,8,t,s)}function cT(t){je.flags|=4;var s=je.updateQueue;if(s===null)s=Rc(),je.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Cy(t){var s=Rt().memoizedState;return cT({ref:s,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Iy(t,s){return jc(4,2,t,s)}function Dy(t,s){return jc(4,4,t,s)}function jy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function ky(t,s,a){a=a!=null?a.concat([t]):null,jc(4,4,jy.bind(null,s,t),a)}function gf(){}function Oy(t,s){var a=Rt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&rf(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function My(t,s){var a=Rt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&rf(s,o[1]))return o[0];if(o=t(),ta){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,s],o}function yf(t,s,a){return a===void 0||(ai&1073741824)!==0&&(Be&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=V0(),je.lanes|=t,Qi|=t,a)}function Vy(t,s,a,o){return In(a,s)?a:Ja.current!==null?(t=yf(t,a,o),In(t,s)||(Lt=!0),t):(ai&42)===0||(ai&1073741824)!==0&&(Be&261930)===0?(Lt=!0,t.memoizedState=a):(t=V0(),je.lanes|=t,Qi|=t,s)}function Ly(t,s,a,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var _=X.T,T={};X.T=T,bf(t,!1,s,a);try{var D=h(),G=X.S;if(G!==null&&G(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=rT(D,o);So(t,s,Z,Vn(t))}else So(t,s,o,Vn(t))}catch(ne){So(t,s,{then:function(){},status:"rejected",reason:ne},Vn())}finally{ae.p=f,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function hT(){}function vf(t,s,a,o){if(t.tag!==5)throw Error(r(476));var h=Py(t).queue;Ly(t,h,s,_e,a===null?hT:function(){return Uy(t),a(o)})}function Py(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:_e},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Uy(t){var s=Py(t);s.next===null&&(s=t.alternate.memoizedState),So(t,s.next.queue,{},Vn())}function _f(){return rn(qo)}function zy(){return Rt().memoizedState}function By(){return Rt().memoizedState}function dT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();t=Hi(a);var o=Fi(s,t,a);o!==null&&(Sn(o,s,a),bo(o,s,a)),s={cache:Yd()},t.payload=s;return}s=s.return}}function fT(t,s,a){var o=Vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?Hy(s,a):(a=Vd(t,s,a,o),a!==null&&(Sn(a,t,o),Fy(a,s,o)))}function qy(t,s,a){var o=Vn();So(t,s,a,o)}function So(t,s,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Hy(s,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var _=s.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,_))return fc(t,s,h,0),ht===null&&dc(),!1}catch{}if(a=Vd(t,s,h,o),a!==null)return Sn(a,t,o),Fy(a,s,o),!0}return!1}function bf(t,s,a,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(s)throw Error(r(479))}else s=Vd(t,a,o,2),s!==null&&Sn(s,t,2)}function kc(t){var s=t.alternate;return t===je||s!==null&&s===je}function Hy(t,s){Wa=Ac=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Fy(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,$l(t,a)}}var Ao={readContext:rn,use:Cc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Ao.useEffectEvent=Et;var Gy={readContext:rn,use:Cc,useCallback:function(t,s){return vn().memoizedState=[t,s===void 0?null:s],t},useContext:rn,useEffect:Ry,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Dc(4194308,4,jy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Dc(4194308,4,t,s)},useInsertionEffect:function(t,s){Dc(4,2,t,s)},useMemo:function(t,s){var a=vn();s=s===void 0?null:s;var o=t();if(ta){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=vn();if(a!==void 0){var h=a(s);if(ta){Un(!0);try{a(s)}finally{Un(!1)}}}else h=s;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=fT.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var s=vn();return t={current:t},s.memoizedState=t},useState:function(t){t=ff(t);var s=t.queue,a=qy.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(t,s){var a=vn();return yf(a,t,s)},useTransition:function(){var t=ff(!1);return t=Ly.bind(null,je,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=je,h=vn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ht===null)throw Error(r(349));(Be&127)!==0||dy(o,s,a)}h.memoizedState=a;var f={value:a,getSnapshot:s};return h.queue=f,Ry(my.bind(null,o,f,t),[t]),o.flags|=2048,el(9,{destroy:void 0},fy.bind(null,o,f,a,s),null),a},useId:function(){var t=vn(),s=ht.identifierPrefix;if($e){var a=zs,o=Us;a=(o&~(1<<32-St(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Nc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=aT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:_f,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var s=vn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=bf.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:cf,useCacheRefresh:function(){return vn().memoizedState=dT.bind(null,je)},useEffectEvent:function(t){var s=vn(),a={impl:t};return s.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:rn,use:Cc,useCallback:Oy,useContext:rn,useEffect:pf,useImperativeHandle:ky,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:Ic,useRef:Ny,useState:function(){return Ic(li)},useDebugValue:gf,useDeferredValue:function(t,s){var a=Rt();return Vy(a,lt.memoizedState,t,s)},useTransition:function(){var t=Ic(li)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:wo(t),s]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:_f,useFormState:wy,useActionState:wy,useOptimistic:function(t,s){var a=Rt();return yy(a,lt,t,s)},useMemoCache:cf,useCacheRefresh:By};xf.useEffectEvent=Cy;var $y={readContext:rn,use:Cc,useCallback:Oy,useContext:rn,useEffect:pf,useImperativeHandle:ky,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:df,useRef:Ny,useState:function(){return df(li)},useDebugValue:gf,useDeferredValue:function(t,s){var a=Rt();return lt===null?yf(a,t,s):Vy(a,lt.memoizedState,t,s)},useTransition:function(){var t=df(li)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:wo(t),s]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:_f,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,s){var a=Rt();return lt!==null?yy(a,lt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:By};$y.useEffectEvent=Cy;function Ef(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Tf={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Vn(),h=Hi(o);h.payload=s,a!=null&&(h.callback=a),s=Fi(t,h,o),s!==null&&(Sn(s,t,o),bo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Vn(),h=Hi(o);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Fi(t,h,o),s!==null&&(Sn(s,t,o),bo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Vn(),o=Hi(a);o.tag=2,s!=null&&(o.callback=s),s=Fi(t,o,a),s!==null&&(Sn(s,t,a),bo(s,t,a))}};function Yy(t,s,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):s.prototype&&s.prototype.isPureReactComponent?!ho(a,o)||!ho(h,f):!0}function Ky(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Tf.enqueueReplaceState(s,s.state,null)}function na(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qy(t){hc(t)}function Xy(t){console.error(t)}function Jy(t){hc(t)}function Oc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Wy(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(t,s,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,s)},a}function Zy(t){return t=Hi(t),t.tag=3,t}function e0(t,s,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wy(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Wy(s,a,o),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function mT(t,s,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&$a(s,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?$c():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===xc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Qf(t,o,h)),!1;case 22:return a.flags|=65536,o===xc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Qf(t,o,h)),!1}throw Error(r(435,a.tag))}return Qf(t,o,h),$c(),!1}if($e)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==qd&&(t=Error(r(422),{cause:o}),po(Gn(t,a)))):(o!==qd&&(s=Error(r(423),{cause:o}),po(Gn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Gn(o,a),h=wf(t.stateNode,o,h),Zd(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:o});if(f=Gn(f,a),Oo===null?Oo=[f]:Oo.push(f),Tt!==4&&(Tt=2),s===null)return!0;o=Gn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=wf(a.stateNode,o,t),Zd(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),e0(h,t,a,o),Zd(a,h),!1}a=a.return}while(a!==null);return!1}var Sf=Error(r(461)),Lt=!1;function an(t,s,a,o){s.child=t===null?iy(s,null,a,o):ea(s,t.child,a,o)}function t0(t,s,a,o,h){a=a.render;var f=s.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Xr(s),o=af(t,s,a,_,f,h),T=lf(),t!==null&&!Lt?(of(t,s,h),oi(t,s,h)):($e&&T&&zd(s),s.flags|=1,an(t,s,o,h),s.child)}function n0(t,s,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ld(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,s0(t,s,f,o,h)):(t=pc(a.type,null,o,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!kf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:ho,a(_,o)&&t.ref===s.ref)return oi(t,s,h)}return s.flags|=1,t=ni(f,o),t.ref=s.ref,t.return=s,s.child=t}function s0(t,s,a,o,h){if(t!==null){var f=t.memoizedProps;if(ho(f,o)&&t.ref===s.ref)if(Lt=!1,s.pendingProps=o=f,kf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return s.lanes=t.lanes,oi(t,s,h)}return Af(t,s,a,o,h)}function i0(t,s,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=s.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,s.child=null;return r0(t,s,f,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(s,f!==null?f.cachePool:null),f!==null?ly(s,f):tf(),oy(s);else return o=s.lanes=536870912,r0(t,s,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(_c(s,f.cachePool),ly(s,f),$i(),s.memoizedState=null):(t!==null&&_c(s,null),tf(),$i());return an(t,s,h,a),s.child}function No(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function r0(t,s,a,o,h){var f=Qd();return f=f===null?null:{parent:Mt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&_c(s,null),tf(),oy(s),t!==null&&$a(t,s,o,!0),s.childLanes=h,null}function Mc(t,s){return s=Lc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function a0(t,s,a){return ea(s,t.child,null,a),t=Mc(s,s.pendingProps),t.flags|=2,kn(s),s.memoizedState=null,t}function pT(t,s,a){var o=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=Mc(s,o),s.lanes=536870912,No(null,t);if(sf(s),(t=ft)?(t=vv(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Us,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=s,s.child=a,sn=s,ft=null)):t=null,t===null)throw zi(s);return s.lanes=536870912,null}return Mc(s,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(sf(s),h)if(s.flags&256)s.flags&=-257,s=a0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||$a(t,s,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(o=ht,o!==null&&(_=Yl(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,$r(t,_),Sn(o,t,_),Sf;$c(),s=a0(t,s,a)}else t=f.treeContext,ft=Xn(_.nextSibling),sn=s,$e=!0,Ui=null,Kn=!1,t!==null&&$g(s,t),s=Mc(s,o),s.flags|=4096;return s}return t=ni(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Vc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Af(t,s,a,o,h){return Xr(s),a=af(t,s,a,o,void 0,h),o=lf(),t!==null&&!Lt?(of(t,s,h),oi(t,s,h)):($e&&o&&zd(s),s.flags|=1,an(t,s,a,h),s.child)}function l0(t,s,a,o,h,f){return Xr(s),s.updateQueue=null,a=cy(s,o,a,h),uy(t),o=lf(),t!==null&&!Lt?(of(t,s,f),oi(t,s,f)):($e&&o&&zd(s),s.flags|=1,an(t,s,a,f),s.child)}function o0(t,s,a,o,h){if(Xr(s),s.stateNode===null){var f=qa,_=a.contextType;typeof _=="object"&&_!==null&&(f=rn(_)),f=new a(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},Jd(s),_=a.contextType,f.context=typeof _=="object"&&_!==null?rn(_):qa,f.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ef(s,a,_,o),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Eo(s,o,f,h),xo(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){f=s.stateNode;var T=s.memoizedProps,D=na(a,T);f.props=D;var G=f.context,Z=a.contextType;_=qa,typeof Z=="object"&&Z!==null&&(_=rn(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||G!==_)&&Ky(s,f,o,_),qi=!1;var Y=s.memoizedState;f.state=Y,Eo(s,o,f,h),xo(),G=s.memoizedState,T||Y!==G||qi?(typeof ne=="function"&&(Ef(s,a,ne,o),G=s.memoizedState),(D=qi||Yy(s,a,D,o,Y,G,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=G),f.props=o,f.state=G,f.context=_,o=D):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,Wd(t,s),_=s.memoizedProps,Z=na(a,_),f.props=Z,ne=s.pendingProps,Y=f.context,G=a.contextType,D=qa,typeof G=="object"&&G!==null&&(D=rn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ne||Y!==D)&&Ky(s,f,o,D),qi=!1,Y=s.memoizedState,f.state=Y,Eo(s,o,f,h),xo();var W=s.memoizedState;_!==ne||Y!==W||qi||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof T=="function"&&(Ef(s,a,T,o),W=s.memoizedState),(Z=qi||Yy(s,a,Z,o,Y,W,D)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,W,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,W,D)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=W),f.props=o,f.state=W,f.context=D,o=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),o=!1)}return f=o,Vc(t,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&o?(s.child=ea(s,t.child,null,h),s.child=ea(s,null,a,h)):an(t,s,a,h),s.memoizedState=f.state,t=s.child):t=oi(t,s,h),t}function u0(t,s,a,o){return Kr(),s.flags|=256,an(t,s,a,o),s.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Wg()}}function Cf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Mn),t}function c0(t,s,a){var o=s.pendingProps,h=!1,f=(s.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if($e){if(h?Gi(s):$i(),(t=ft)?(t=vv(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:Us,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=s,s.child=a,sn=s,ft=null)):t=null,t===null)throw zi(s);return hm(t)?s.lanes=32:s.lanes=536870912,null}var T=o.children;return o=o.fallback,h?($i(),h=s.mode,T=Lc({mode:"hidden",children:T},h),o=Yr(o,h,a,null),T.return=s,o.return=s,T.sibling=o,s.child=T,o=s.child,o.memoizedState=Rf(a),o.childLanes=Cf(t,_,a),s.memoizedState=Nf,No(null,o)):(Gi(s),If(s,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)s.flags&256?(Gi(s),s.flags&=-257,s=Df(t,s,a)):s.memoizedState!==null?($i(),s.child=t.child,s.flags|=128,s=null):($i(),T=o.fallback,h=s.mode,o=Lc({mode:"visible",children:o.children},h),T=Yr(T,h,a,null),T.flags|=2,o.return=s,T.return=s,o.sibling=T,s.child=o,ea(s,t.child,null,a),o=s.child,o.memoizedState=Rf(a),o.childLanes=Cf(t,_,a),s.memoizedState=Nf,s=No(null,o));else if(Gi(s),hm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,o=Error(r(419)),o.stack="",o.digest=_,po({value:o,source:null,stack:null}),s=Df(t,s,a)}else if(Lt||$a(t,s,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=ht,_!==null&&(o=Yl(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,$r(t,o),Sn(_,t,o),Sf;cm(T)||$c(),s=Df(t,s,a)}else cm(T)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,ft=Xn(T.nextSibling),sn=s,$e=!0,Ui=null,Kn=!1,t!==null&&$g(s,t),s=If(s,o.children),s.flags|=4096);return s}return h?($i(),T=o.fallback,h=s.mode,D=t.child,G=D.sibling,o=ni(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,G!==null?T=ni(G,T):(T=Yr(T,h,a,null),T.flags|=2),T.return=s,o.return=s,o.sibling=T,s.child=o,No(null,o),o=s.child,T=t.child.memoizedState,T===null?T=Rf(a):(h=T.cachePool,h!==null?(D=Mt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Wg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Cf(t,_,a),s.memoizedState=Nf,No(t.child,o)):(Gi(s),a=t.child,t=a.sibling,a=ni(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function If(t,s){return s=Lc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Lc(t,s){return t=Dn(22,t,null,s),t.lanes=0,t}function Df(t,s,a){return ea(s,t.child,null,a),t=If(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function h0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Gd(t.return,s,a)}function jf(t,s,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function d0(t,s,a){var o=s.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Nt.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,ce(Nt,_),an(t,s,o,a),o=$e?mo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,a,s);else if(t.tag===19)h0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),jf(s,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jf(s,!0,a,null,f,o);break;case"together":jf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function oi(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Qi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if($a(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=ni(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ni(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function kf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function gT(t,s,a){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),Bi(s,Mt,t.memoizedState.cache),Kr();break;case 27:case 5:Ve(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:Bi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Gi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?c0(t,s,a):(Gi(s),t=oi(t,s,a),t!==null?t.sibling:null);Gi(s);break;case 19:var h=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||($a(t,s,a,!1),o=(a&s.childLanes)!==0),h){if(o)return d0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Nt,Nt.current),o)break;return null;case 22:return s.lanes=0,i0(t,s,a,s.pendingProps);case 24:Bi(s,Mt,t.memoizedState.cache)}return oi(t,s,a)}function f0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Lt=!0;else{if(!kf(t,a)&&(s.flags&128)===0)return Lt=!1,gT(t,s,a);Lt=(t.flags&131072)!==0}else Lt=!1,$e&&(s.flags&1048576)!==0&&Gg(s,mo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Wr(s.elementType),s.type=t,typeof t=="function")Ld(t)?(o=na(t,o),s.tag=1,s=o0(null,s,t,o,a)):(s.tag=0,s=Af(null,s,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===le){s.tag=11,s=t0(null,s,t,o,a);break e}else if(h===N){s.tag=14,s=n0(null,s,t,o,a);break e}}throw s=Xe(t)||t,Error(r(306,s,""))}}return s;case 0:return Af(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,h=na(o,s.pendingProps),o0(t,s,o,h,a);case 3:e:{if(Ne(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var f=s.memoizedState;h=f.element,Wd(t,s),Eo(s,o,null,a);var _=s.memoizedState;if(o=_.cache,Bi(s,Mt,o),o!==f.cache&&$d(s,[Mt],a,!0),xo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=u0(t,s,o,a);break e}else if(o!==h){h=Gn(Error(r(424)),s),po(h),s=u0(t,s,o,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Xn(t.firstChild),sn=s,$e=!0,Ui=null,Kn=!0,a=iy(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){s=oi(t,s,a);break e}an(t,s,o,a)}s=s.child}return s;case 26:return Vc(t,s),t===null?(a=wv(s.type,null,s.pendingProps,null))?s.memoizedState=a:$e||(a=s.type,t=s.pendingProps,o=Zc(re.current).createElement(a),o[jt]=s,o[Kt]=t,ln(o,a,t),kt(o),s.stateNode=o):s.memoizedState=wv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ve(s),t===null&&$e&&(o=s.stateNode=xv(s.type,s.pendingProps,re.current),sn=s,Kn=!0,h=ft,er(s.type)?(dm=h,ft=Xn(o.firstChild)):ft=h),an(t,s,s.pendingProps.children,a),Vc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&$e&&((h=o=ft)&&(o=$T(o,s.type,s.pendingProps,Kn),o!==null?(s.stateNode=o,sn=s,ft=Xn(o.firstChild),Kn=!1,h=!0):h=!1),h||zi(s)),Ve(s),h=s.type,f=s.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,lm(h,f)?o=null:_!==null&&lm(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=af(t,s,lT,null,null,a),qo._currentValue=h),Vc(t,s),an(t,s,o,a),s.child;case 6:return t===null&&$e&&((t=a=ft)&&(a=YT(a,s.pendingProps,Kn),a!==null?(s.stateNode=a,sn=s,ft=null,t=!0):t=!1),t||zi(s)),null;case 13:return c0(t,s,a);case 4:return Ne(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ea(s,null,o,a):an(t,s,o,a),s.child;case 11:return t0(t,s,s.type,s.pendingProps,a);case 7:return an(t,s,s.pendingProps,a),s.child;case 8:return an(t,s,s.pendingProps.children,a),s.child;case 12:return an(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Bi(s,s.type,o.value),an(t,s,o.children,a),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,Xr(s),h=rn(h),o=o(h),s.flags|=1,an(t,s,o,a),s.child;case 14:return n0(t,s,s.type,s.pendingProps,a);case 15:return s0(t,s,s.type,s.pendingProps,a);case 19:return d0(t,s,a);case 31:return pT(t,s,a);case 22:return i0(t,s,a,s.pendingProps);case 24:return Xr(s),o=rn(Mt),t===null?(h=Qd(),h===null&&(h=ht,f=Yd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),s.memoizedState={parent:o,cache:h},Jd(s),Bi(s,Mt,h)):((t.lanes&a)!==0&&(Wd(t,s),Eo(s,null,null,a),xo()),h=t.memoizedState,f=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Bi(s,Mt,o)):(o=f.cache,Bi(s,Mt,o),o!==h.cache&&$d(s,[Mt],a,!0))),an(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ui(t){t.flags|=4}function Of(t,s,a,o,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(z0())t.flags|=8192;else throw Zr=xc,Xd}else t.flags&=-16777217}function m0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(s))if(z0())t.flags|=8192;else throw Zr=xc,Xd}function Pc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Fu():536870912,t.lanes|=s,il|=s)}function Ro(t,s){if(!$e)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function yT(t,s,a){var o=s.pendingProps;switch(Bd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ri(Mt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(s)?ui(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hd())),mt(s),null;case 26:var h=s.type,f=s.memoizedState;return t===null?(ui(s),f!==null?(mt(s),m0(s,f)):(mt(s),Of(s,h,null,o,a))):f?f!==t.memoizedState?(ui(s),mt(s),m0(s,f)):(mt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ui(s),mt(s),Of(s,h,t,o,a)),null;case 27:if(Wt(s),a=re.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ui(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return mt(s),null}t=fe.current,Ga(s)?Yg(s):(t=xv(h,o,a),s.stateNode=t,ui(s))}return mt(s),null;case 5:if(Wt(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ui(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return mt(s),null}if(f=fe.current,Ga(s))Yg(s);else{var _=Zc(re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[jt]=s,f[Kt]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=f;e:switch(ln(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ui(s)}}return mt(s),Of(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ui(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=re.current,Ga(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[jt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||zi(s,!0)}else t=Zc(t).createTextNode(o),t[jt]=s,s.stateNode=t}return mt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ga(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),t=!1}else a=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(kn(s),s):(kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return mt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ga(s),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),h=!1}else h=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(kn(s),s):(kn(s),null)}return kn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Pc(s,s.updateQueue),mt(s),null);case 4:return we(),t===null&&nm(s.stateNode.containerInfo),mt(s),null;case 10:return ri(s.type),mt(s),null;case 19:if(ee(Nt),o=s.memoizedState,o===null)return mt(s),null;if(h=(s.flags&128)!==0,f=o.rendering,f===null)if(h)Ro(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=Sc(t),f!==null){for(s.flags|=128,Ro(o,!1),t=f.updateQueue,s.updateQueue=t,Pc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)qg(a,t),a=a.sibling;return ce(Nt,Nt.current&1|2),$e&&si(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&ze()>Hc&&(s.flags|=128,h=!0,Ro(o,!1),s.lanes=4194304)}else{if(!h)if(t=Sc(f),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,Pc(s,t),Ro(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return mt(s),null}else 2*ze()-o.renderingStartTime>Hc&&a!==536870912&&(s.flags|=128,h=!0,Ro(o,!1),s.lanes=4194304);o.isBackwards?(f.sibling=s.child,s.child=f):(t=o.last,t!==null?t.sibling=f:s.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,a=Nt.current,ce(Nt,h?a&1|2:a&1),$e&&si(s,o.treeForkCount),t):(mt(s),null);case 22:case 23:return kn(s),nf(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),a=s.updateQueue,a!==null&&Pc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&ee(Jr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ri(Mt),mt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function vT(t,s){switch(Bd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ri(Mt),we(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 31:if(s.memoizedState!==null){if(kn(s),s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(kn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ee(Nt),null;case 4:return we(),null;case 10:return ri(s.type),null;case 22:case 23:return kn(s),nf(),t!==null&&ee(Jr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ri(Mt),null;case 25:return null;default:return null}}function p0(t,s){switch(Bd(s),s.tag){case 3:ri(Mt),we();break;case 26:case 27:case 5:Wt(s);break;case 4:we();break;case 31:s.memoizedState!==null&&kn(s);break;case 13:kn(s);break;case 19:ee(Nt);break;case 10:ri(s.type);break;case 22:case 23:kn(s),nf(),t!==null&&ee(Jr);break;case 24:ri(Mt)}}function Co(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){rt(s,s.return,T)}}function Yi(t,s,a){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=s;var D=a,G=T;try{G()}catch(Z){rt(h,D,Z)}}}o=o.next}while(o!==f)}}catch(Z){rt(s,s.return,Z)}}function g0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ay(s,a)}catch(o){rt(t,t.return,o)}}}function y0(t,s,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,s,o)}}function Io(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,s,h)}}function Bs(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,s,h)}else a.current=null}function v0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function Mf(t,s,a){try{var o=t.stateNode;zT(o,t.type,a,s),o[Kt]=s}catch(h){rt(t,t.return,h)}}function _0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=as));else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Lf(t,s,a),t=t.sibling;t!==null;)Lf(t,s,a),t=t.sibling}function Uc(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,s,a),t=t.sibling;t!==null;)Uc(t,s,a),t=t.sibling}function b0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ln(s,o,a),s[jt]=t,s[Kt]=a}catch(f){rt(t,t.return,f)}}var ci=!1,Pt=!1,Pf=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function _T(t,s){if(t=t.containerInfo,rm=ah,t=kg(t),Id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,G=0,Z=0,ne=t,Y=null;t:for(;;){for(var W;ne!==a||h!==0&&ne.nodeType!==3||(T=_+h),ne!==f||o!==0&&ne.nodeType!==3||(D=_+o),ne.nodeType===3&&(_+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Y=ne,ne=W;for(;;){if(ne===t)break t;if(Y===a&&++G===h&&(T=_),Y===f&&++Z===o&&(D=_),(W=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=W}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},ah=!1,Xt=s;Xt!==null;)if(s=Xt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Xt=t;else for(;Xt!==null;){switch(s=Xt,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ye=na(a.type,h);t=o.getSnapshotBeforeUpdate(ye,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){rt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Xt=t;break}Xt=s.return}}function E0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:di(t,a),o&4&&Co(5,a);break;case 1:if(di(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){rt(a,a.return,_)}else{var h=na(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(a,a.return,_)}}o&64&&g0(a),o&512&&Io(a,a.return);break;case 3:if(di(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ay(t,s)}catch(_){rt(a,a.return,_)}}break;case 27:s===null&&o&4&&b0(a);case 26:case 5:di(t,a),s===null&&o&4&&v0(a),o&512&&Io(a,a.return);break;case 12:di(t,a);break;case 31:di(t,a),o&4&&S0(t,a);break;case 13:di(t,a),o&4&&A0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RT.bind(null,a),KT(t,a))));break;case 22:if(o=a.memoizedState!==null||ci,!o){s=s!==null&&s.memoizedState!==null||Pt,h=ci;var f=Pt;ci=o,(Pt=s)&&!f?fi(t,a,(a.subtreeFlags&8772)!==0):di(t,a),ci=h,Pt=f}break;case 30:break;default:di(t,a)}}function T0(t){var s=t.alternate;s!==null&&(t.alternate=null,T0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ra(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,xn=!1;function hi(t,s,a){for(a=a.child;a!==null;)w0(t,s,a),a=a.sibling}function w0(t,s,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 26:Pt||Bs(a,s),hi(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Bs(a,s);var o=_t,h=xn;er(a.type)&&(_t=a.stateNode,xn=!1),hi(t,s,a),Uo(a.stateNode),_t=o,xn=h;break;case 5:Pt||Bs(a,s);case 6:if(o=_t,h=xn,_t=null,hi(t,s,a),_t=o,xn=h,_t!==null)if(xn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){rt(a,s,f)}else try{_t.removeChild(a.stateNode)}catch(f){rt(a,s,f)}break;case 18:_t!==null&&(xn?(t=_t,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),dl(t)):gv(_t,a.stateNode));break;case 4:o=_t,h=xn,_t=a.stateNode.containerInfo,xn=!0,hi(t,s,a),_t=o,xn=h;break;case 0:case 11:case 14:case 15:Yi(2,a,s),Pt||Yi(4,a,s),hi(t,s,a);break;case 1:Pt||(Bs(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&y0(a,s,o)),hi(t,s,a);break;case 21:hi(t,s,a);break;case 22:Pt=(o=Pt)||a.memoizedState!==null,hi(t,s,a),Pt=o;break;default:hi(t,s,a)}}function S0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dl(t)}catch(a){rt(s,s.return,a)}}}function A0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(a){rt(s,s.return,a)}}function bT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new x0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new x0),s;default:throw Error(r(435,t.tag))}}function zc(t,s){var a=bT(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var h=CT.bind(null,t,o);o.then(h,h)}})}function En(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(er(T.type)){_t=T.stateNode,xn=!1;break e}break;case 5:_t=T.stateNode,xn=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(_t===null)throw Error(r(160));w0(f,_,h),_t=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)N0(s,t),s=s.sibling}var ds=null;function N0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(s,t),Tn(t),o&4&&(Yi(3,t,t.return),Co(3,t),Yi(5,t,t.return));break;case 1:En(s,t),Tn(t),o&512&&(Pt||a===null||Bs(a,a.return)),o&64&&ci&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ds;if(En(s,t),Tn(t),o&512&&(Pt||a===null||Bs(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ns]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,o,a),f[jt]=t,kt(f),o=f;break e;case"link":var _=Nv("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;case"meta":if(_=Nv("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[jt]=t,kt(f),o=f}t.stateNode=o}else Rv(h,t.type,t.stateNode);else t.stateNode=Av(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Rv(h,t.type,t.stateNode):Av(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(s,t),Tn(t),o&512&&(Pt||a===null||Bs(a,a.return)),a!==null&&o&4&&Mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(s,t),Tn(t),o&512&&(Pt||a===null||Bs(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ye){rt(t,t.return,ye)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Mf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(En(s,t),Tn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ye){rt(t,t.return,ye)}}break;case 3:if(nh=null,h=ds,ds=eh(s.containerInfo),En(s,t),ds=h,Tn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(s.containerInfo)}catch(ye){rt(t,t.return,ye)}Pf&&(Pf=!1,R0(t));break;case 4:o=ds,ds=eh(t.stateNode.containerInfo),En(s,t),Tn(t),ds=o;break;case 12:En(s,t),Tn(t);break;case 31:En(s,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zc(t,o)));break;case 13:En(s,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=ze()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zc(t,o)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=ci,Z=Pt;if(ci=G||h,Pt=Z||D,En(s,t),Pt=Z,ci=G,Tn(t),o&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||D||ci||Pt||sa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var ne=D.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){rt(D,D.return,ye)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ye){rt(D,D.return,ye)}}}else if(s.tag===18){if(a===null){D=s;try{var W=D.stateNode;h?yv(W,!0):yv(D.stateNode,!1)}catch(ye){rt(D,D.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zc(t,a))));break;case 19:En(s,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zc(t,o)));break;case 30:break;case 21:break;default:En(s,t),Tn(t)}}function Tn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(_0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Vf(t);Uc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(bn(_,""),a.flags&=-33);var T=Vf(t);Uc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=Vf(t);Lf(t,G,D);break;default:throw Error(r(161))}}catch(Z){rt(t,t.return,Z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function R0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;R0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function di(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E0(t,s.alternate,s),s=s.sibling}function sa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Yi(4,s,s.return),sa(s);break;case 1:Bs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&y0(s,s.return,a),sa(s);break;case 27:Uo(s.stateNode);case 26:case 5:Bs(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}t=t.sibling}}function fi(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=t,f=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:fi(h,f,a),Co(4,f);break;case 1:if(fi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){rt(o,o.return,G)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ry(D[h],T)}catch(G){rt(o,o.return,G)}}a&&_&64&&g0(f),Io(f,f.return);break;case 27:b0(f);case 26:case 5:fi(h,f,a),a&&o===null&&_&4&&v0(f),Io(f,f.return);break;case 12:fi(h,f,a);break;case 31:fi(h,f,a),a&&_&4&&S0(h,f);break;case 13:fi(h,f,a),a&&_&4&&A0(h,f);break;case 22:f.memoizedState===null&&fi(h,f,a),Io(f,f.return);break;case 30:break;default:fi(h,f,a)}s=s.sibling}}function Uf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&go(a))}function zf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&go(t))}function fs(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)C0(t,s,a,o),s=s.sibling}function C0(t,s,a,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s,a,o),h&2048&&Co(9,s);break;case 1:fs(t,s,a,o);break;case 3:fs(t,s,a,o),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&go(t)));break;case 12:if(h&2048){fs(t,s,a,o),t=s.stateNode;try{var f=s.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){rt(s,s.return,D)}}else fs(t,s,a,o);break;case 31:fs(t,s,a,o);break;case 13:fs(t,s,a,o);break;case 23:break;case 22:f=s.stateNode,_=s.alternate,s.memoizedState!==null?f._visibility&2?fs(t,s,a,o):Do(t,s):f._visibility&2?fs(t,s,a,o):(f._visibility|=2,tl(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(_,s);break;case 24:fs(t,s,a,o),h&2048&&zf(s.alternate,s);break;default:fs(t,s,a,o)}}function tl(t,s,a,o,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,_=s,T=a,D=o,G=_.flags;switch(_.tag){case 0:case 11:case 15:tl(f,_,T,D,h),Co(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?tl(f,_,T,D,h):Do(f,_):(Z._visibility|=2,tl(f,_,T,D,h)),h&&G&2048&&Uf(_.alternate,_);break;case 24:tl(f,_,T,D,h),h&&G&2048&&zf(_.alternate,_);break;default:tl(f,_,T,D,h)}s=s.sibling}}function Do(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,h=o.flags;switch(o.tag){case 22:Do(a,o),h&2048&&Uf(o.alternate,o);break;case 24:Do(a,o),h&2048&&zf(o.alternate,o);break;default:Do(a,o)}s=s.sibling}}var jo=8192;function nl(t,s,a){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)I0(t,s,a),t=t.sibling}function I0(t,s,a){switch(t.tag){case 26:nl(t,s,a),t.flags&jo&&t.memoizedState!==null&&aw(a,ds,t.memoizedState,t.memoizedProps);break;case 5:nl(t,s,a);break;case 3:case 4:var o=ds;ds=eh(t.stateNode.containerInfo),nl(t,s,a),ds=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=jo,jo=16777216,nl(t,s,a),jo=o):nl(t,s,a));break;default:nl(t,s,a)}}function D0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ko(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Xt=o,k0(o,t)}D0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j0(t),t=t.sibling}function j0(t){switch(t.tag){case 0:case 11:case 15:ko(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:ko(t);break;case 12:ko(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Bc(t)):ko(t);break;default:ko(t)}}function Bc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Xt=o,k0(o,t)}D0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Yi(8,s,s.return),Bc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(s));break;default:Bc(s)}t=t.sibling}}function k0(t,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Yi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xt=o;else e:for(a=t;Xt!==null;){o=Xt;var h=o.sibling,f=o.return;if(T0(o),o===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var xT={getCacheForType:function(t){var s=rn(Mt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return rn(Mt).controller.signal}},ET=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Le=null,Be=0,it=0,On=null,Ki=!1,sl=!1,Bf=!1,mi=0,Tt=0,Qi=0,ia=0,qf=0,Mn=0,il=0,Oo=null,wn=null,Hf=!1,qc=0,O0=0,Hc=1/0,Fc=null,Xi=null,Gt=0,Ji=null,rl=null,pi=0,Ff=0,Gf=null,M0=null,Mo=0,$f=null;function Vn(){return(et&2)!==0&&Be!==0?Be&-Be:X.T!==null?Wf():Gu()}function V0(){if(Mn===0)if((Be&536870912)===0||$e){var t=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),Mn=t}else Mn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Mn}function Sn(t,s,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(al(t,0),Wi(t,Be,Mn,!1)),jr(t,a),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&(ia|=a),Tt===4&&Wi(t,Be,Mn,!1)),qs(t))}function L0(t,s,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||ss(t,s),h=o?ST(t,s):Kf(t,s,!0),f=o;do{if(h===0){sl&&!o&&Wi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!TT(a)){h=Kf(t,s,!1),f=!1;continue}if(h===2){if(f=s,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=t;h=Oo;var D=T.current.memoizedState.isDehydrated;if(D&&(al(T,_).flags|=256),_=Kf(T,_,!1),_!==2){if(Bf&&!D){T.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){al(t,0),Wi(t,s,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wi(o,s,Mn,!Ki);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=qc+300-ze(),10<h)){if(Wi(o,s,Mn,!Ki),ws(o,0,!0)!==0)break e;pi=s,o.timeoutHandle=mv(P0.bind(null,o,a,wn,Fc,Hf,s,Mn,ia,il,Ki,f,"Throttled",-0,0),h);break e}P0(o,a,wn,Fc,Hf,s,Mn,ia,il,Ki,f,null,-0,0)}}break}while(!0);qs(t)}function P0(t,s,a,o,h,f,_,T,D,G,Z,ne,Y,W){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},I0(s,f,ne);var ye=(f&62914560)===f?qc-ze():(f&4194048)===f?O0-ze():0;if(ye=lw(ne,ye),ye!==null){pi=f,t.cancelPendingCommit=ye($0.bind(null,t,s,f,a,o,h,_,T,D,Z,ne,null,Y,W)),Wi(t,f,_,!G);return}}$0(t,s,f,a,o,h,_,T,D)}function TT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(t,s,a,o){s&=~qf,s&=~ia,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var h=s;0<h;){var f=31-St(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&kr(t,a,s)}function Gc(){return(et&6)===0?(Vo(0),!1):!0}function Yf(){if(Le!==null){if(it===0)var t=Le.return;else t=Le,ii=Qr=null,uf(t),Xa=null,vo=0,t=Le;for(;t!==null;)p0(t.alternate,t),t=t.return;Le=null}}function al(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pi=0,Yf(),ht=t,Le=a=ni(t.current,null),Be=s,it=0,On=null,Ki=!1,sl=ss(t,s),Bf=!1,il=Mn=qf=ia=Qi=Tt=0,wn=Oo=null,Hf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var h=31-St(o),f=1<<h;s|=t[h],o&=~f}return mi=s,dc(),a}function U0(t,s){je=null,X.H=Ao,s===Qa||s===bc?(s=ty(),it=3):s===Xd?(s=ty(),it=4):it=s===Sf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,On=s,Le===null&&(Tt=1,Oc(t,Gn(s,t.current)))}function z0(){var t=jn.current;return t===null?!0:(Be&4194048)===Be?Qn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Qn:!1}function B0(){var t=X.H;return X.H=Ao,t===null?Ao:t}function q0(){var t=X.A;return X.A=xT,t}function $c(){Tt=4,Ki||(Be&4194048)!==Be&&jn.current!==null||(sl=!0),(Qi&134217727)===0&&(ia&134217727)===0||ht===null||Wi(ht,Be,Mn,!1)}function Kf(t,s,a){var o=et;et|=2;var h=B0(),f=q0();(ht!==t||Be!==s)&&(Fc=null,al(t,s)),s=!1;var _=Tt;e:do try{if(it!==0&&Le!==null){var T=Le,D=On;switch(it){case 8:Yf(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var G=it;if(it=0,On=null,ll(t,T,D,G),a&&sl){_=0;break e}break;default:G=it,it=0,On=null,ll(t,T,D,G)}}wT(),_=Tt;break}catch(Z){U0(t,Z)}while(!0);return s&&t.shellSuspendCounter++,ii=Qr=null,et=o,X.H=h,X.A=f,Le===null&&(ht=null,Be=0,dc()),_}function wT(){for(;Le!==null;)H0(Le)}function ST(t,s){var a=et;et|=2;var o=B0(),h=q0();ht!==t||Be!==s?(Fc=null,Hc=ze()+500,al(t,s)):sl=ss(t,s);e:do try{if(it!==0&&Le!==null){s=Le;var f=On;t:switch(it){case 1:it=0,On=null,ll(t,s,f,1);break;case 2:case 9:if(Zg(f)){it=0,On=null,F0(s);break}s=function(){it!==2&&it!==9||ht!==t||(it=7),qs(t)},f.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Zg(f)?(it=0,On=null,F0(s)):(it=0,On=null,ll(t,s,f,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var T=Le;if(_?Cv(_):T.stateNode.complete){it=0,On=null;var D=T.sibling;if(D!==null)Le=D;else{var G=T.return;G!==null?(Le=G,Yc(G)):Le=null}break t}}it=0,On=null,ll(t,s,f,5);break;case 6:it=0,On=null,ll(t,s,f,6);break;case 8:Yf(),Tt=6;break e;default:throw Error(r(462))}}AT();break}catch(Z){U0(t,Z)}while(!0);return ii=Qr=null,X.H=o,X.A=h,et=a,Le!==null?0:(ht=null,Be=0,dc(),Tt)}function AT(){for(;Le!==null&&!Ft();)H0(Le)}function H0(t){var s=f0(t.alternate,t,mi);t.memoizedProps=t.pendingProps,s===null?Yc(t):Le=s}function F0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=l0(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=l0(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:uf(s);default:p0(a,s),s=Le=qg(s,mi),s=f0(a,s,mi)}t.memoizedProps=t.pendingProps,s===null?Yc(t):Le=s}function ll(t,s,a,o){ii=Qr=null,uf(s),Xa=null,vo=0;var h=s.return;try{if(mT(t,h,s,a,Be)){Tt=1,Oc(t,Gn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Tt=1,Oc(t,Gn(a,t.current)),Le=null;return}s.flags&32768?($e||o===1?t=!0:sl||(Be&536870912)!==0?t=!1:(Ki=t=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),G0(s,t)):Yc(s)}function Yc(t){var s=t;do{if((s.flags&32768)!==0){G0(s,Ki);return}t=s.return;var a=yT(s.alternate,s,mi);if(a!==null){Le=a;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=t}while(s!==null);Tt===0&&(Tt=5)}function G0(t,s){do{var a=vT(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Tt=6,Le=null}function $0(t,s,a,o,h,f,_,T,D){t.cancelPendingCommit=null;do Kc();while(Gt!==0);if((et&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=Md,Ad(t,a,f,_,T,D),t===ht&&(Le=ht=null,Be=0),rl=s,Ji=t,pi=a,Ff=f,Gf=h,M0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IT(Ri,function(){return J0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,h=ae.p,ae.p=2,_=et,et|=4;try{_T(t,s,a)}finally{et=_,ae.p=h,X.T=o}}Gt=1,Y0(),K0(),Q0()}}function Y0(){if(Gt===1){Gt=0;var t=Ji,s=rl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=ae.p;ae.p=2;var h=et;et|=4;try{N0(s,t);var f=am,_=kg(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(D!==null&&Id(T)){var G=D.start,Z=D.end;if(Z===void 0&&(Z=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ye=T.textContent.length,Te=Math.min(D.start,ye),ut=D.end===void 0?Te:Math.min(D.end,ye);!W.extend&&Te>ut&&(_=ut,ut=Te,Te=_);var B=Dg(T,Te),O=Dg(T,ut);if(B&&O&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==O.node||W.focusOffset!==O.offset)){var F=ne.createRange();F.setStart(B.node,B.offset),W.removeAllRanges(),Te>ut?(W.addRange(F),W.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),W.addRange(F))}}}}for(ne=[],W=T;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ah=!!rm,am=rm=null}finally{et=h,ae.p=o,X.T=a}}t.current=s,Gt=2}}function K0(){if(Gt===2){Gt=0;var t=Ji,s=rl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=ae.p;ae.p=2;var h=et;et|=4;try{E0(t,s.alternate,s)}finally{et=h,ae.p=o,X.T=a}}Gt=3}}function Q0(){if(Gt===4||Gt===3){Gt=0,ct();var t=Ji,s=rl,a=pi,o=M0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,rl=Ji=null,X0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xi=null),Ws(a),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ns,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{X.T=s,ae.p=h}}(pi&3)!==0&&Kc(),qs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===$f?Mo++:(Mo=0,$f=t):Mo=0,Vo(0)}}function X0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,go(s)))}function Kc(){return Y0(),K0(),Q0(),J0()}function J0(){if(Gt!==5)return!1;var t=Ji,s=Ff;Ff=0;var a=Ws(pi),o=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Gf,Gf=null;var f=Ji,_=pi;if(Gt=0,rl=Ji=null,pi=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,j0(f.current),C0(f,f.current,_,a),et=T,Vo(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ns,f)}catch{}return!0}finally{ae.p=h,X.T=o,X0(t,s)}}function W0(t,s,a){s=Gn(a,s),s=wf(t.stateNode,s,2),t=Fi(t,s,2),t!==null&&(jr(t,2),qs(t))}function rt(t,s,a){if(t.tag===3)W0(t,t,a);else for(;s!==null;){if(s.tag===3){W0(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xi===null||!Xi.has(o))){t=Gn(a,t),a=Zy(2),o=Fi(s,a,2),o!==null&&(e0(a,o,s,t),jr(o,2),qs(o));break}}s=s.return}}function Qf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ET;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(Bf=!0,h.add(a),t=NT.bind(null,t,s,a),s.then(t,t))}function NT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Be&a)===a&&(Tt===4||Tt===3&&(Be&62914560)===Be&&300>ze()-qc?(et&2)===0&&al(t,0):qf|=a,il===Be&&(il=0)),qs(t)}function Z0(t,s){s===0&&(s=Fu()),t=$r(t,s),t!==null&&(jr(t,s),qs(t))}function RT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Z0(t,a)}function CT(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),Z0(t,a)}function IT(t,s){return Ue(t,s)}var Qc=null,ol=null,Xf=!1,Xc=!1,Jf=!1,Zi=0;function qs(t){t!==ol&&t.next===null&&(ol===null?Qc=ol=t:ol=ol.next=t),Xc=!0,Xf||(Xf=!0,jT())}function Vo(t,s){if(!Jf&&Xc){Jf=!0;do for(var a=!1,o=Qc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,sv(o,f))}else f=Be,f=ws(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ss(o,f)||(a=!0,sv(o,f));o=o.next}while(a);Jf=!1}}function DT(){ev()}function ev(){Xc=Xf=!1;var t=0;Zi!==0&&qT()&&(t=Zi);for(var s=ze(),a=null,o=Qc;o!==null;){var h=o.next,f=tv(o,s);f===0?(o.next=null,a===null?Qc=h:a.next=h,h===null&&(ol=a)):(a=o,(t!==0||(f&3)!==0)&&(Xc=!0)),o=h}Gt!==0&&Gt!==5||Vo(t),Zi!==0&&(Zi=0)}function tv(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-St(f),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Sd(T,s)):D<=s&&(t.expiredLanes|=T),f&=~T}if(s=ht,a=Be,a=ws(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ss(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&yt(o),Ws(a)){case 2:case 8:a=Gl;break;case 32:a=Ri;break;case 268435456:a=Uu;break;default:a=Ri}return o=nv.bind(null,t),a=Ue(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&yt(o),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,s){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var o=Be;return o=ws(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(L0(t,o,s),tv(t,ze()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function sv(t,s){if(Kc())return null;L0(t,s,!0)}function jT(){FT(function(){(et&6)!==0?Ue(Sa,DT):ev()})}function Wf(){if(Zi===0){var t=Ya;t===0&&(t=Es,Es<<=1,(Es&261888)===0&&(Es=256)),Zi=t}return Zi}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function rv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function kT(t,s,a,o,h){if(s==="submit"&&a&&a.stateNode===h){var f=iv((h[Kt]||null).action),_=o.submitter;_&&(s=(s=_[Kt]||null)?iv(s.formAction):_.getAttribute("formAction"),s!==null&&(f=s,_=null));var T=new Ms("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zi!==0){var D=_?rv(h,_):new FormData(h);vf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?rv(h,_):new FormData(h),vf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Zf=0;Zf<Od.length;Zf++){var em=Od[Zf],OT=em.toLowerCase(),MT=em[0].toUpperCase()+em.slice(1);hs(OT,"on"+MT)}hs(Vg,"onAnimationEnd"),hs(Lg,"onAnimationIteration"),hs(Pg,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(J1,"onTransitionRun"),hs(W1,"onTransitionStart"),hs(Z1,"onTransitionCancel"),hs(Ug,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Is("onBeforeInput",["compositionend","keypress","textInput","paste"]),Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function av(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(s)for(var _=o.length-1;0<=_;_--){var T=o[_],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(Z){hc(Z)}h.currentTarget=null,f=D}else for(_=0;_<o.length;_++){if(T=o[_],D=T.instance,G=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(Z){hc(Z)}h.currentTarget=null,f=D}}}}function Pe(t,s){var a=s[Na];a===void 0&&(a=s[Na]=new Set);var o=t+"__bubble";a.has(o)||(lv(s,t,2,!1),a.add(o))}function tm(t,s,a){var o=0;s&&(o|=4),lv(a,t,o,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Jc]){t[Jc]=!0,Kl.forEach(function(a){a!=="selectionchange"&&(VT.has(a)||tm(a,!1,t),tm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,tm("selectionchange",!1,s))}}function lv(t,s,a,o){switch(Vv(s)){case 2:var h=cw;break;case 8:h=hw;break;default:h=ym}a=h.bind(null,s,a,t),h=void 0,!Pr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function sm(t,s,a,o,h){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Rs(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=f=_;continue e}T=T.parentNode}}o=o.return}Oi(function(){var G=f,Z=Bn(a),ne=[];e:{var Y=zg.get(t);if(Y!==void 0){var W=Ms,ye=t;switch(t){case"keypress":if(zr(a)===0)break e;case"keydown":case"keyup":W=oc;break;case"focusin":ye="focus",W=qr;break;case"focusout":ye="blur",W=qr;break;case"beforeblur":case"afterblur":W=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case Vg:case Lg:case Pg:W=tc;break;case Ug:W=w;break;case"scroll":case"scrollend":W=ao;break;case"wheel":W=J;break;case"copy":case"cut":case"paste":W=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ti;break;case"toggle":case"beforetoggle":W=De}var Te=(s&4)!==0,ut=!Te&&(t==="scroll"||t==="scrollend"),B=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var O=G,F;O!==null;){var te=O;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||B===null||(te=ls(O,B),te!=null&&Te.push(Po(O,te,F))),ut)break;O=O.return}0<Te.length&&(Y=new W(Y,ye,null,a,Z),ne.push({event:Y,listeners:Te}))}}if((s&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Y&&a!==so&&(ye=a.relatedTarget||a.fromElement)&&(Rs(ye)||ye[As]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ye=a.relatedTarget||a.toElement,W=G,ye=ye?Rs(ye):null,ye!==null&&(ut=u(ye),Te=ye.tag,ye!==ut||Te!==5&&Te!==27&&Te!==6)&&(ye=null)):(W=null,ye=G),W!==ye)){if(Te=lo,te="onMouseLeave",B="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ti,te="onPointerLeave",B="onPointerEnter",O="pointer"),ut=W==null?Y:Rn(W),F=ye==null?Y:Rn(ye),Y=new Te(te,O+"leave",W,a,Z),Y.target=ut,Y.relatedTarget=F,te=null,Rs(Z)===G&&(Te=new Te(B,O+"enter",ye,a,Z),Te.target=F,Te.relatedTarget=ut,te=Te),ut=te,W&&ye)t:{for(Te=LT,B=W,O=ye,F=0,te=B;te;te=Te(te))F++;te=0;for(var xe=O;xe;xe=Te(xe))te++;for(;0<F-te;)B=Te(B),F--;for(;0<te-F;)O=Te(O),te--;for(;F--;){if(B===O||O!==null&&B===O.alternate){Te=B;break t}B=Te(B),O=Te(O)}Te=null}else Te=null;W!==null&&ov(ne,Y,W,Te,!1),ye!==null&&ut!==null&&ov(ne,ut,ye,Te,!0)}}e:{if(Y=G?Rn(G):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Je=Sg;else if(Tg(Y))if(Ag)Je=K1;else{Je=$1;var be=G1}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Da(G.elementType)&&(Je=Sg):Je=Y1;if(Je&&(Je=Je(t,G))){wg(ne,Je,a,Z);break e}be&&be(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&eo(Y,"number",Y.value)}switch(be=G?Rn(G):window,t){case"focusin":(Tg(be)||be.contentEditable==="true")&&(Ua=be,Dd=G,fo=null);break;case"focusout":fo=Dd=Ua=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,Og(ne,a,Z);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":Og(ne,a,Z)}var Oe;if(Ze)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Pa?Hr(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Ps&&a.locale!=="ko"&&(Pa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Pa&&(Oe=ro()):(Os=Z,io="value"in Os?Os.value:Os.textContent,Pa=!0)),be=Wc(G,qe),0<be.length&&(qe=new Ls(qe,t,null,a,Z),ne.push({event:qe,listeners:be}),Oe?qe.data=Oe:(Oe=La(a),Oe!==null&&(qe.data=Oe)))),(Oe=Hn?B1(t,a):q1(t,a))&&(qe=Wc(G,"onBeforeInput"),0<qe.length&&(be=new Ls("onBeforeInput","beforeinput",null,a,Z),ne.push({event:be,listeners:qe}),be.data=Oe)),kT(ne,t,G,a,Z)}av(ne,s)})}function Po(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Wc(t,s){for(var a=s+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ls(t,a),h!=null&&o.unshift(Po(t,h,f)),h=ls(t,s),h!=null&&o.push(Po(t,h,f))),t.tag===3)return o;t=t.return}return[]}function LT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,s,a,o,h){for(var f=s._reactName,_=[];a!==null&&a!==o;){var T=a,D=T.alternate,G=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||G===null||(D=G,h?(G=ls(a,f),G!=null&&_.unshift(Po(a,G,D))):h||(G=ls(a,f),G!=null&&_.push(Po(a,G,D)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var PT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(PT,`
`).replace(UT,"")}function cv(t,s){return s=uv(s),uv(t)===s}function ot(t,s,a,o,h,f){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&bn(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,o);break;case"style":no(t,o,f);break;case"data":if(s!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&ot(t,s,"name",h.name,h,null),ot(t,s,"formEncType",h.formEncType,h,null),ot(t,s,"formMethod",h.formMethod,h,null),ot(t,s,"formTarget",h.formTarget,h,null)):(ot(t,s,"encType",h.encType,h,null),ot(t,s,"method",h.method,h,null),ot(t,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=as);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ca(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ca(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wu.get(a)||a,Ca(t,a,o))}}function im(t,s,a,o,h,f){switch(a){case"style":no(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),f=t[Kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ca(t,a,o)}}}function ln(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(t,s,f,_,a,null)}}h&&ot(t,s,"srcSet",a.srcSet,a,null),o&&ot(t,s,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=f=_=h=null,D=null,G=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":G=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ot(t,s,o,Z,a,null)}}Qu(t,f,T,D,G,_,h,!1);return;case"select":Pe("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:ot(t,s,h,T,a,null)}s=f,a=_,t.multiple=!!o,s!=null?Ii(t,!!o,s,!1):a!=null&&Ii(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ot(t,s,_,T,a,null)}Di(t,o,h,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null)&&(D==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,s,D,o,a,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Pe(Lo[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(t,s,G,o,a,null)}return;default:if(Da(s)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&im(t,s,Z,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ot(t,s,T,o,a,null))}function zT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,G=null,Z=null;for(W in a){var ne=a[W];if(a.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty(W)||ot(t,s,W,null,o,ne)}}for(var Y in o){var W=o[Y];if(ne=a[Y],o.hasOwnProperty(Y)&&(W!=null||ne!=null))switch(Y){case"type":f=W;break;case"name":h=W;break;case"checked":G=W;break;case"defaultChecked":Z=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==ne&&ot(t,s,Y,W,o,ne)}}Ia(t,_,T,D,G,Z,f,h);return;case"select":W=_=T=Y=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":W=D;default:o.hasOwnProperty(f)||ot(t,s,f,null,o,D)}for(h in o)if(f=o[h],D=a[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":Y=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&ot(t,s,h,f,o,D)}s=T,a=_,o=W,Y!=null?Ii(t,!!a,Y,!1):!!o!=!!a&&(s!=null?Ii(t,!!a,s,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":W=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(t,s,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":Y=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,s,_,h,o,f)}Xu(t,Y,W);return;case"option":for(var ye in a)Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!o.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ot(t,s,ye,null,o,Y));for(D in o)Y=o[D],W=a[D],o.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null)&&(D==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ot(t,s,D,Y,o,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!o.hasOwnProperty(Te)&&ot(t,s,Te,null,o,Y);for(G in o)if(Y=o[G],W=a[G],o.hasOwnProperty(G)&&Y!==W&&(Y!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ot(t,s,G,Y,o,W)}return;default:if(Da(s)){for(var ut in a)Y=a[ut],a.hasOwnProperty(ut)&&Y!==void 0&&!o.hasOwnProperty(ut)&&im(t,s,ut,void 0,o,Y);for(Z in o)Y=o[Z],W=a[Z],!o.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||im(t,s,Z,Y,o,W);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!o.hasOwnProperty(B)&&ot(t,s,B,null,o,Y);for(ne in o)Y=o[ne],W=a[ne],!o.hasOwnProperty(ne)||Y===W||Y==null&&W==null||ot(t,s,ne,Y,o,W)}function hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&hv(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],G=D.startTime;if(G>T)break;var Z=D.transferSize,ne=D.initiatorType;Z&&hv(ne)&&(D=D.responseEnd,_+=Z*(D<T?1:(T-G)/(D-G)))}if(--o,s+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rm=null,am=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function lm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var om=null;function qT(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(GT)}:mv;function GT(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function gv(t,s){var a=s,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),dl(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Uo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Uo(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[Ns]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Uo(t.ownerDocument.body);a=h}while(a);dl(s)}function yv(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function um(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $T(t,s,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ns])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function YT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function vv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var dm=null;function _v(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function xv(t,s,a){switch(s=Zc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Uo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ra(t)}var Jn=new Map,Ev=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=ae.d;ae.d={f:QT,r:XT,D:JT,C:WT,L:ZT,m:ew,X:nw,S:tw,M:sw};function QT(){var t=gi.f(),s=Gc();return t||s}function XT(t){var s=zn(t);s!==null&&s.tag===5&&s.type==="form"?Uy(s):gi.r(t)}var ul=typeof document>"u"?null:document;function Tv(t,s,a){var o=ul;if(o&&typeof s=="string"&&s){var h=_n(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),t={rel:t,crossOrigin:a,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),ln(s,"link",t),kt(s),o.head.appendChild(s)))}}function JT(t){gi.D(t),Tv("dns-prefetch",t,null)}function WT(t,s){gi.C(t,s),Tv("preconnect",t,s)}function ZT(t,s,a){gi.L(t,s,a);var o=ul;if(o&&t&&s){var h='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(s){case"style":f=cl(t);break;case"script":f=hl(t)}Jn.has(f)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Jn.set(f,t),o.querySelector(h)!==null||s==="style"&&o.querySelector(zo(f))||s==="script"&&o.querySelector(Bo(f))||(s=o.createElement("link"),ln(s,"link",t),kt(s),o.head.appendChild(s)))}}function ew(t,s){gi.m(t,s);var a=ul;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hl(t)}if(!Jn.has(f)&&(t=E({rel:"modulepreload",href:t},s),Jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bo(f)))return}o=a.createElement("link"),ln(o,"link",t),kt(o),a.head.appendChild(o)}}}function tw(t,s,a){gi.S(t,s,a);var o=ul;if(o&&t){var h=Cs(o).hoistableStyles,f=cl(t);s=s||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(zo(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Jn.get(f))&&fm(t,a);var D=_=o.createElement("link");kt(D),ln(D,"link",t),D._p=new Promise(function(G,Z){D.onload=G,D.onerror=Z}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,th(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function nw(t,s){gi.X(t,s);var a=ul;if(a&&t){var o=Cs(a).hoistableScripts,h=hl(t),f=o.get(h);f||(f=a.querySelector(Bo(h)),f||(t=E({src:t,async:!0},s),(s=Jn.get(h))&&mm(t,s),f=a.createElement("script"),kt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sw(t,s){gi.M(t,s);var a=ul;if(a&&t){var o=Cs(a).hoistableScripts,h=hl(t),f=o.get(h);f||(f=a.querySelector(Bo(h)),f||(t=E({src:t,async:!0,type:"module"},s),(s=Jn.get(h))&&mm(t,s),f=a.createElement("script"),kt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wv(t,s,a,o){var h=(h=re.current)?eh(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=cl(a.href),a=Cs(h).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=cl(a.href);var f=Cs(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(zo(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||iw(h,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(a),a=Cs(h).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function cl(t){return'href="'+_n(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function iw(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ln(s,"link",a),kt(s),t.head.appendChild(s))}function hl(t){return'[src="'+_n(t)+'"]'}function Bo(t){return"script[async]"+t}function Av(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return s.instance=o,kt(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),kt(o),ln(o,"style",h),th(o,a.precedence,t),s.instance=o;case"stylesheet":h=cl(a.href);var f=t.querySelector(zo(h));if(f)return s.state.loading|=4,s.instance=f,kt(f),f;o=Sv(a),(h=Jn.get(h))&&fm(o,h),f=(t.ownerDocument||t).createElement("link"),kt(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ln(f,"link",o),s.state.loading|=4,th(f,a.precedence,t),s.instance=f;case"script":return f=hl(a.src),(h=t.querySelector(Bo(f)))?(s.instance=h,kt(h),h):(o=a,(h=Jn.get(f))&&(o=E({},a),mm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),ln(h,"link",o),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,th(o,a.precedence,t));return s.instance}function th(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===s)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function fm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function mm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var nh=null;function Nv(t,s,a){if(nh===null){var o=new Map,h=nh=new Map;h.set(a,o)}else h=nh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ns]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(s)||"";_=t+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function Rv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function rw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aw(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=cl(o.href),f=s.querySelector(zo(h));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=sh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=s.ownerDocument||s,o=Sv(o),(h=Jn.get(h))&&fm(o,h),f=f.createElement("link"),kt(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ln(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var pm=0;function lw(t,s){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&pm===0&&(pm=62500*BT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>pm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function rh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,s.forEach(ow,t),ih=null,sh.call(t))}function ow(t,s){if(!(s.state.loading&4)){var a=ih.get(t);if(a)var o=a.get(null);else{a=new Map,ih.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=s.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=sh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var qo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function uw(t,s,a,o,h,f,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Iv(t,s,a,o,h,f,_,T,D,G,Z,ne){return t=new uw(t,s,a,_,D,G,Z,ne,T),s=1,f===!0&&(s|=24),f=Dn(3,null,null,s),t.current=f,f.stateNode=t,s=Yd(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:s},Jd(f),t}function Dv(t){return t?(t=qa,t):qa}function jv(t,s,a,o,h,f){h=Dv(h),o.context===null?o.context=h:o.pendingContext=h,o=Hi(s),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Fi(t,o,s),a!==null&&(Sn(a,t,s),bo(a,t,s))}function kv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function gm(t,s){kv(t,s),(t=t.alternate)&&kv(t,s)}function Ov(t){if(t.tag===13||t.tag===31){var s=$r(t,67108864);s!==null&&Sn(s,t,67108864),gm(t,67108864)}}function Mv(t){if(t.tag===13||t.tag===31){var s=Vn();s=Or(s);var a=$r(t,s);a!==null&&Sn(a,t,s),gm(t,s)}}var ah=!0;function cw(t,s,a,o){var h=X.T;X.T=null;var f=ae.p;try{ae.p=2,ym(t,s,a,o)}finally{ae.p=f,X.T=h}}function hw(t,s,a,o){var h=X.T;X.T=null;var f=ae.p;try{ae.p=8,ym(t,s,a,o)}finally{ae.p=f,X.T=h}}function ym(t,s,a,o){if(ah){var h=vm(o);if(h===null)sm(t,s,o,lh,a),Lv(t,o);else if(fw(h,t,s,a,o))o.stopPropagation();else if(Lv(t,o),s&4&&-1<dw.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ts(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-St(_);T.entanglements[1]|=D,_&=~D}qs(f),(et&6)===0&&(Hc=ze()+500,Vo(0))}}break;case 31:case 13:T=$r(f,2),T!==null&&Sn(T,f,2),Gc(),gm(f,2)}if(f=vm(o),f===null&&sm(t,s,o,lh,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else sm(t,s,o,null,a)}}function vm(t){return t=Bn(t),_m(t)}var lh=null;function _m(t){if(lh=null,t=Rs(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return lh=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Sa:return 2;case Gl:return 8;case Ri:case wd:return 32;case Uu:return 268435456;default:return 32}default:return 32}}var bm=!1,tr=null,nr=null,sr=null,Ho=new Map,Fo=new Map,ir=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,s){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Ho.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(s.pointerId)}}function Go(t,s,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},s!==null&&(s=zn(s),s!==null&&Ov(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function fw(t,s,a,o,h){switch(s){case"focusin":return tr=Go(tr,t,s,a,o,h),!0;case"dragenter":return nr=Go(nr,t,s,a,o,h),!0;case"mouseover":return sr=Go(sr,t,s,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ho.set(f,Go(Ho.get(f)||null,t,s,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Fo.set(f,Go(Fo.get(f)||null,t,s,a,o,h)),!0}return!1}function Pv(t){var s=Rs(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,is(t.priority,function(){Mv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,is(t.priority,function(){Mv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);so=o,a.target.dispatchEvent(o),so=null}else return s=zn(a),s!==null&&Ov(s),t.blockedOn=a,!1;s.shift()}return!0}function Uv(t,s,a){oh(t)&&a.delete(s)}function mw(){bm=!1,tr!==null&&oh(tr)&&(tr=null),nr!==null&&oh(nr)&&(nr=null),sr!==null&&oh(sr)&&(sr=null),Ho.forEach(Uv),Fo.forEach(Uv)}function uh(t,s){t.blockedOn===s&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mw)))}var ch=null;function zv(t){ch!==t&&(ch=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],h=t[s+2];if(typeof o!="function"){if(_m(o||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(s,3),s-=3,vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function dl(t){function s(D){return uh(D,t)}tr!==null&&uh(tr,t),nr!==null&&uh(nr,t),sr!==null&&uh(sr,t),Ho.forEach(s),Fo.forEach(s);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Pv(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Kt]||null;if(typeof f=="function")_||zv(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Kt]||null)T=_.formAction;else if(_m(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),zv(a)}}}function Bv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function xm(t){this._internalRoot=t}hh.prototype.render=xm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Vn();jv(a,o,t,s,null,null)},hh.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;jv(t.current,2,null,t,null,null),Gc(),s[As]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Gu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,t),a===0&&Pv(t)}};var qv=e.version;if(qv!=="19.2.4")throw Error(r(527,qv,"19.2.4"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var pw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{ns=dh.inject(pw),tn=dh}catch{}}return Yo.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",h=Qy,f=Xy,_=Jy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Iv(t,1,!1,null,null,a,o,null,h,f,_,Bv),t[As]=s.current,nm(t),new xm(s)},Yo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Qy,_=Xy,T=Jy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Iv(t,1,!0,s,a??null,o,h,D,f,_,T,Bv),s.context=Dv(null),a=s.current,o=Vn(),o=Or(o),h=Hi(o),h.callback=null,Fi(a,h,o),a=o,s.current.lanes=a,jr(s,a),qs(s),t[As]=s.current,nm(t),new hh(s)},Yo.version="19.2.4",Yo}var Wv;function Aw(){if(Wv)return wm.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=Sw(),wm.exports}var Nw=Aw();const Rw=Hb(Nw);var Zv="popstate";function Cw(i={}){function e(l,u){let{pathname:d="/",search:p="",hash:g=""}=ba(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Fm("",{pathname:d,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let d=l.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof u=="string"?u:cu(u))}function r(l,u){es(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Dw(e,n,r,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function es(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substring(2,10)}function e_(i,e){return{usr:i.state,key:i.key,idx:e}}function Fm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||r||Iw()}}function cu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ba(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function Dw(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,d=l.history,p="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){p="POP";let L=x(),z=L==null?null:L-y;y=L,g&&g({action:p,location:q.location,delta:z})}function S(L,z){p="PUSH";let P=Fm(q.location,L,z);n&&n(P,L),y=x()+1;let Q=e_(P,y),le=q.createHref(P);try{d.pushState(Q,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(le)}u&&g&&g({action:p,location:q.location,delta:1})}function I(L,z){p="REPLACE";let P=Fm(q.location,L,z);n&&n(P,L),y=x();let Q=e_(P,y),le=q.createHref(P);d.replaceState(Q,"",le),u&&g&&g({action:p,location:q.location,delta:0})}function K(L){return jw(L)}let q={get action(){return p},get location(){return i(l,d)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Zv,E),g=L,()=>{l.removeEventListener(Zv,E),g=null}},createHref(L){return e(l,L)},createURL:K,encodeLocation(L){let z=K(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:I,go(L){return d.go(L)}};return q}function jw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:cu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Fb(i,e,n="/"){return kw(i,e,n,!1)}function kw(i,e,n,r){let l=typeof e=="string"?ba(e):e,u=Ei(l.pathname||"/",n);if(u==null)return null;let d=Gb(i);Ow(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Gw(u);p=Hw(d[g],y,r)}return p}function Gb(i,e=[],n=[],r="",l=!1){let u=(d,p,g=l,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;bt(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=bi([r,x.relativePath]),S=n.concat(x);d.children&&d.children.length>0&&(bt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Gb(d.children,e,S,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:Bw(E,d.index),routesMeta:S})};return i.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of $b(d.path))u(d,p,!0,g)}),e}function $b(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let d=$b(r.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...d),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function Ow(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:qw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Mw=/^:[\w-]+$/,Vw=3,Lw=2,Pw=1,Uw=10,zw=-2,t_=i=>i==="*";function Bw(i,e){let n=i.split("/"),r=n.length;return n.some(t_)&&(r+=zw),e&&(r+=Lw),n.filter(l=>!t_(l)).reduce((l,u)=>l+(Mw.test(u)?Vw:u===""?Pw:Uw),r)}function qw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function Hw(i,e,n=!1){let{routesMeta:r}=i,l={},u="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=u==="/"?e:e.slice(u.length)||"/",E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:bi([u,E.pathname]),pathnameBase:Qw(bi([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=bi([u,E.pathnameBase]))}return d}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=Fw(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let K=p[S]||"";d=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const I=p[S];return E&&!I?y[x]=void 0:y[x]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:i}}function Fw(i,e=!1,n=!0){es(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Gw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return es(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ei(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yw(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?ba(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=n_(n.substring(1),"/"):u=n_(n,e)):u=e,{pathname:u,search:Xw(r),hash:Jw(l)}}function n_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Rm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bp(i){let e=Kw(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,r=!1){let l;typeof i=="string"?l=ba(i):(l={...i},bt(!l.pathname||!l.pathname.includes("?"),Rm("?","pathname","search",l)),bt(!l.pathname||!l.pathname.includes("#"),Rm("#","pathname","hash",l)),bt(!l.search||!l.search.includes("#"),Rm("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=Yw(l,p),y=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var bi=i=>i.join("/").replace(/\/\/+/g,"/"),Qw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Jw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Ww=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Zw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function eS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kb(i,e){let n=i;if(typeof n!="string"||!$w.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(Yb)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=Ei(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:l=!0}catch{es(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var tS=["GET",...Qb];new Set(tS);var Ml=V.createContext(null);Ml.displayName="DataRouter";var nd=V.createContext(null);nd.displayName="DataRouterState";var nS=V.createContext(!1),Xb=V.createContext({isTransitioning:!1});Xb.displayName="ViewTransition";var sS=V.createContext(new Map);sS.displayName="Fetchers";var iS=V.createContext(null);iS.displayName="Await";var Pn=V.createContext(null);Pn.displayName="Navigation";var Eu=V.createContext(null);Eu.displayName="Location";var bs=V.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var Ep=V.createContext(null);Ep.displayName="RouteError";var Jb="REACT_ROUTER_ERROR",rS="REDIRECT",aS="ROUTE_ERROR_RESPONSE";function lS(i){if(i.startsWith(`${Jb}:${rS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function oS(i){if(i.startsWith(`${Jb}:${aS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ww(e.status,e.statusText,e.data)}catch{}}function uS(i,{relative:e}={}){bt(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Pn),{hash:l,pathname:u,search:d}=Tu(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:bi([n,u])),r.createHref({pathname:p,search:d,hash:l})}function Vl(){return V.useContext(Eu)!=null}function Ar(){return bt(Vl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Eu).location}var Wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zb(i){V.useContext(Pn).static||V.useLayoutEffect(i)}function Ll(){let{isDataRoute:i}=V.useContext(bs);return i?ES():cS()}function cS(){bt(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(Ml),{basename:e,navigator:n}=V.useContext(Pn),{matches:r}=V.useContext(bs),{pathname:l}=Ar(),u=JSON.stringify(bp(r)),d=V.useRef(!1);return Zb(()=>{d.current=!0}),V.useCallback((g,y={})=>{if(es(d.current,Wb),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=xp(g,JSON.parse(u),l,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:bi([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,u,l,i])}V.createContext(null);function Tp(){let{matches:i}=V.useContext(bs),e=i[i.length-1];return e?e.params:{}}function Tu(i,{relative:e}={}){let{matches:n}=V.useContext(bs),{pathname:r}=Ar(),l=JSON.stringify(bp(n));return V.useMemo(()=>xp(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function hS(i,e){return ex(i,e)}function ex(i,e,n,r,l){bt(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Pn),{matches:d}=V.useContext(bs),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let P=E&&E.path||"";nx(y,!E||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let S=Ar(),I;if(e){let P=typeof e=="string"?ba(e):e;bt(x==="/"||P.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),I=P}else I=S;let K=I.pathname||"/",q=K;if(x!=="/"){let P=x.replace(/^\//,"").split("/");q="/"+K.replace(/^\//,"").split("/").slice(P.length).join("/")}let L=Fb(i,{pathname:q});es(E||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),es(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=gS(L&&L.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:bi([x,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:bi([x,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,n,r,l);return e&&z?V.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function dS(){let i=xS(),e=Zw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,d)}var fS=V.createElement(dS,null),tx=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=oS(i.digest);n&&(i=n)}let e=i!==void 0?V.createElement(bs.Provider,{value:this.props.routeContext},V.createElement(Ep.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?V.createElement(mS,{error:i},e):e}};tx.contextType=nS;var Cm=new WeakMap;function mS({children:i,error:e}){let{basename:n}=V.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=lS(e.digest);if(r){let l=Cm.get(e);if(l)throw l;let u=Kb(r.location,n);if(Yb&&!Cm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Cm.set(e,d),d}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function pS({routeContext:i,match:e,children:n}){let r=V.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(bs.Provider,{value:i},n)}function gS(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,d=n?.errors;if(d!=null){let x=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);bt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<u.length;x++){let E=u[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:I}=n,K=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||K){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:eS(n.matches),errorInfo:E})}:void 0;return u.reduceRight((x,E,S)=>{let I,K=!1,q=null,L=null;n&&(I=d&&E.route.id?d[E.route.id]:void 0,q=E.route.errorElement||fS,p&&(g<0&&S===0?(nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,L=null):g===S&&(K=!0,L=E.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,S+1)),P=()=>{let Q;return I?Q=q:K?Q=L:E.route.Component?Q=V.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=x,V.createElement(pS,{match:E,routeContext:{outlet:x,matches:z,isDataRoute:n!=null},children:Q})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?V.createElement(tx,{location:n.location,revalidation:n.revalidation,component:q,error:I,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:y}):P()},null)}function wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(i){let e=V.useContext(Ml);return bt(e,wp(i)),e}function vS(i){let e=V.useContext(nd);return bt(e,wp(i)),e}function _S(i){let e=V.useContext(bs);return bt(e,wp(i)),e}function Sp(i){let e=_S(i),n=e.matches[e.matches.length-1];return bt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function bS(){return Sp("useRouteId")}function xS(){let i=V.useContext(Ep),e=vS("useRouteError"),n=Sp("useRouteError");return i!==void 0?i:e.errors?.[n]}function ES(){let{router:i}=yS("useNavigate"),e=Sp("useNavigate"),n=V.useRef(!1);return Zb(()=>{n.current=!0}),V.useCallback(async(l,u={})=>{es(n.current,Wb),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var s_={};function nx(i,e,n){!e&&!s_[i]&&(s_[i]=!0,es(!1,n))}V.memo(TS);function TS({routes:i,future:e,state:n,onError:r}){return ex(i,void 0,n,r,e)}function wS({to:i,replace:e,state:n,relative:r}){bt(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=V.useContext(Pn);es(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(bs),{pathname:d}=Ar(),p=Ll(),g=xp(i,bp(u),d,r==="path"),y=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function lr(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SS({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){bt(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[p,l,u,d]);typeof n=="string"&&(n=ba(n));let{pathname:y="/",search:x="",hash:E="",state:S=null,key:I="default"}=n,K=V.useMemo(()=>{let q=Ei(y,p);return q==null?null:{location:{pathname:q,search:x,hash:E,state:S,key:I},navigationType:r}},[p,y,x,E,S,I,r]);return es(K!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:V.createElement(Pn.Provider,{value:g},V.createElement(Eu.Provider,{children:e,value:K}))}function AS({children:i,location:e}){return hS(Gm(i),e)}function Gm(i,e=[]){let n=[];return V.Children.forEach(i,(r,l)=>{if(!V.isValidElement(r))return;let u=[...e,l];if(r.type===V.Fragment){n.push.apply(n,Gm(r.props.children,u));return}bt(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Gm(r.props.children,u)),n.push(d)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function sd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function NS(i){return sd(i)&&i.tagName.toLowerCase()==="button"}function RS(i){return sd(i)&&i.tagName.toLowerCase()==="form"}function CS(i){return sd(i)&&i.tagName.toLowerCase()==="input"}function IS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function DS(i,e){return i.button===0&&(!e||e==="_self")&&!IS(i)}var fh=null;function jS(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var kS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(i){return i!=null&&!kS.has(i)?(es(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function OS(i,e){let n,r,l,u,d;if(RS(i)){let p=i.getAttribute("action");r=p?Ei(p,e):null,n=i.getAttribute("method")||Eh,l=Im(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(NS(i)||CS(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?Ei(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Eh,l=Im(i.getAttribute("formenctype"))||Im(p.getAttribute("enctype"))||Th,u=new FormData(p,i),!jS()){let{name:y,type:x,value:E}=i;if(x==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,E)}}else{if(sd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,r=null,l=Th,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function MS(i,e,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Ei(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function VS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function PS(i,e,n){let r=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await VS(u,n);return d.links?d.links():[]}return[]}));return qS(r.flat(1).filter(LS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function i_(i,e,n,r,l,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function US(i,e,{includeHydrateFallback:n}={}){return zS(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function zS(i){return[...new Set(i)]}function BS(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function qS(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let u=JSON.stringify(BS(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function sx(){let i=V.useContext(Ml);return Ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function HS(){let i=V.useContext(nd);return Ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Np=V.createContext(void 0);Np.displayName="FrameworkContext";function ix(){let i=V.useContext(Np);return Ap(i,"You must render this element inside a <HydratedRouter> element"),i}function FS(i,e){let n=V.useContext(Np),[r,l]=V.useState(!1),[u,d]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=V.useRef(null);V.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let q=z=>{z.forEach(P=>{d(P.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),V.useEffect(()=>{if(r){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[r]);let I=()=>{l(!0)},K=()=>{l(!1),d(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ko(p,I),onBlur:Ko(g,K),onMouseEnter:Ko(y,I),onMouseLeave:Ko(x,K),onTouchStart:Ko(E,I)}]:[!1,S,{}]}function Ko(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function GS({page:i,...e}){let{router:n}=sx(),r=V.useMemo(()=>Fb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?V.createElement(YS,{page:i,matches:r,...e}):null}function $S(i){let{manifest:e,routeModules:n}=ix(),[r,l]=V.useState([]);return V.useEffect(()=>{let u=!1;return PS(i,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[i,e,n]),r}function YS({page:i,matches:e,...n}){let r=Ar(),{future:l,manifest:u,routeModules:d}=ix(),{basename:p}=sx(),{loaderData:g,matches:y}=HS(),x=V.useMemo(()=>i_(i,e,y,u,r,"data"),[i,e,y,u,r]),E=V.useMemo(()=>i_(i,e,y,u,r,"assets"),[i,e,y,u,r]),S=V.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let q=new Set,L=!1;if(e.forEach(P=>{let Q=u.routes[P.route.id];!Q||!Q.hasLoader||(!x.some(le=>le.route.id===P.route.id)&&P.route.id in g&&d[P.route.id]?.shouldRevalidate||Q.hasClientLoader?L=!0:q.add(P.route.id))}),q.size===0)return[];let z=MS(i,p,l.unstable_trailingSlashAwareDataRequests,"data");return L&&q.size>0&&z.searchParams.set("_routes",e.filter(P=>q.has(P.route.id)).map(P=>P.route.id).join(",")),[z.pathname+z.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,r,u,x,e,i,d]),I=V.useMemo(()=>US(E,u),[E,u]),K=$S(E);return V.createElement(V.Fragment,null,S.map(q=>V.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),I.map(q=>V.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),K.map(({key:q,link:L})=>V.createElement("link",{key:q,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function KS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.13.0")}catch{}function XS({basename:i,children:e,unstable_useTransitions:n,window:r}){let l=V.useRef();l.current==null&&(l.current=Cw({window:r,v5Compat:!0}));let u=l.current,[d,p]=V.useState({action:u.action,location:u.location}),g=V.useCallback(y=>{n===!1?p(y):V.startTransition(()=>p(y))},[n]);return V.useLayoutEffect(()=>u.listen(g),[u,g]),V.createElement(SS,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},K){let{basename:q,unstable_useTransitions:L}=V.useContext(Pn),z=typeof y=="string"&&rx.test(y),P=Kb(y,q);y=P.to;let Q=uS(y,{relative:l}),[le,oe,de]=FS(r,I),N=e2(y,{replace:d,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function A(k){e&&e(k),k.defaultPrevented||N(k)}let R=V.createElement("a",{...I,...de,href:P.absoluteURL||Q,onClick:P.isExternal||u?e:A,ref:KS(K,oe),target:g,"data-discover":!z&&n==="render"?"true":void 0});return le&&!z?V.createElement(V.Fragment,null,R,V.createElement(GS,{page:Q})):R});pt.displayName="Link";var JS=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:d,viewTransition:p,children:g,...y},x){let E=Tu(d,{relative:y.relative}),S=Ar(),I=V.useContext(nd),{navigator:K,basename:q}=V.useContext(Pn),L=I!=null&&r2(E)&&p===!0,z=K.encodeLocation?K.encodeLocation(E).pathname:E.pathname,P=S.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(P=P.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&q&&(Q=Ei(Q,q)||Q);const le=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let oe=P===z||!l&&P.startsWith(z)&&P.charAt(le)==="/",de=Q!=null&&(Q===z||!l&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),N={isActive:oe,isPending:de,isTransitioning:L},A=oe?e:void 0,R;typeof r=="function"?R=r(N):R=[r,oe?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return V.createElement(pt,{...y,"aria-current":A,className:R,ref:x,style:k,to:d,viewTransition:p},typeof g=="function"?g(N):g)});JS.displayName="NavLink";var WS=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:d=Eh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},K)=>{let{unstable_useTransitions:q}=V.useContext(Pn),L=s2(),z=i2(p,{relative:y}),P=d.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&rx.test(p),le=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let de=oe.nativeEvent.submitter,N=de?.getAttribute("formmethod")||d,A=()=>L(de||oe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:l,state:u,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S});q&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:K,method:P,action:z,onSubmit:r?g:le,...I,"data-discover":!Q&&i==="render"?"true":void 0})});WS.displayName="Form";function ZS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(i){let e=V.useContext(Ml);return bt(e,ZS(i)),e}function e2(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Ll(),x=Ar(),E=Tu(i,{relative:u});return V.useCallback(S=>{if(DS(S,e)){S.preventDefault();let I=n!==void 0?n:cu(x)===cu(E),K=()=>y(i,{replace:I,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?V.startTransition(()=>K()):K()}},[x,y,E,n,r,e,i,l,u,d,p,g])}var t2=0,n2=()=>`__${String(++t2)}__`;function s2(){let{router:i}=ax("useSubmit"),{basename:e}=V.useContext(Pn),n=bS(),r=i.fetch,l=i.navigate;return V.useCallback(async(u,d={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=OS(u,e);if(d.navigate===!1){let S=d.fetcherKey||n2();await r(S,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function i2(i,{relative:e}={}){let{basename:n}=V.useContext(Pn),r=V.useContext(bs);bt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Tu(i||".",{relative:e})},d=Ar();if(i==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();u.search=x?`?${x}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:bi([n,u.pathname])),cu(u)}function r2(i,{relative:e}={}){let n=V.useContext(Xb);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ax("useViewTransitionState"),l=Tu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oh(l.pathname,d)!=null||Oh(l.pathname,u)!=null}const a2=()=>{};var r_={};const lx=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},l2=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],p=i[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],d=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,p=d?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,x=u>>2,E=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,I=y&63;g||(I=64,d||(S=64)),r.push(n[x],n[E],n[S],n[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(lx(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):l2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const y=l<i.length?n[i.charAt(l)]:64;++l;const E=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||p==null||y==null||E==null)throw new o2;const S=u<<2|p>>4;if(r.push(S),y!==64){const I=p<<4&240|y>>2;if(r.push(I),E!==64){const K=y<<6&192|E;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(i){const e=lx(i);return ox.encodeByteArray(e,!0)},Mh=function(i){return u2(i).replace(/\./g,"")},ux=function(i){try{return ox.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h2=()=>c2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof r_>"u")return;const i=r_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},f2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ux(i[1]);return e&&JSON.parse(e)},id=()=>{try{return a2()||h2()||d2()||f2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cx=i=>id()?.emulatorHosts?.[i],m2=i=>{const e=cx(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hx=()=>id()?.config,dx=i=>id()?.[`_${i}`];class p2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Pl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fx(i){return(await fetch(i,{credentials:"include"})).ok}function g2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(d)),""].join(".")}const nu={};function y2(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function v2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let a_=!1;function mx(i,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||nu[i]===e||nu[i]||a_)return;nu[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=y2().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{a_=!0,d()},S}function x(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=v2(r),I=n("text"),K=document.getElementById(I)||document.createElement("span"),q=n("learnmore"),L=document.getElementById(q)||document.createElement("a"),z=n("preprendIcon"),P=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;p(Q),x(L,q);const le=y();g(P,z),Q.append(P,K,L,le),document.body.appendChild(Q)}u?(K.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function b2(){const i=id()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w2(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function S2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function N2(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const R2="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R2,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?C2(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ni(l,p,r)}}function C2(i,e){return i.replace(I2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const I2=/\{\$([^}]+)}/g;function D2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=i[l],d=e[l];if(l_(u)&&l_(d)){if(!ua(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function l_(i){return i!==null&&typeof i=="object"}function Su(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Jo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function j2(i,e){const n=new k2(i,e);return n.subscribe.bind(n)}class k2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Dm),l.error===void 0&&(l.error=Dm),l.complete===void 0&&(l.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Dm(){}function Yt(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class M2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L2(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V2(i){return i===ra?void 0:i}function L2(i){return i.instantiationMode==="EAGER"}class P2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const U2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},z2=He.INFO,B2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},q2=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=B2[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const H2=(i,e)=>e.some(n=>i instanceof n);let o_,u_;function F2(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G2(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const px=new WeakMap,$m=new WeakMap,gx=new WeakMap,jm=new WeakMap,Cp=new WeakMap;function $2(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(fr(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&px.set(n,i)}).catch(()=>{}),Cp.set(e,i),e}function Y2(i){if($m.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});$m.set(i,e)}let Ym={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K2(i){Ym=i(Ym)}function Q2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(km(this),e,...n);return gx.set(r,e.sort?e.sort():[e]),fr(r)}:G2().includes(i)?function(...e){return i.apply(km(this),e),fr(px.get(this))}:function(...e){return fr(i.apply(km(this),e))}}function X2(i){return typeof i=="function"?Q2(i):(i instanceof IDBTransaction&&Y2(i),H2(i,F2())?new Proxy(i,Ym):i)}function fr(i){if(i instanceof IDBRequest)return $2(i);if(jm.has(i))return jm.get(i);const e=X2(i);return e!==i&&(jm.set(i,e),Cp.set(e,i)),e}const km=i=>Cp.get(i);function J2(i,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),p=fr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(fr(d.result),g.oldVersion,g.newVersion,fr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const W2=["get","getKey","getAll","getAllKeys","count"],Z2=["put","add","delete","clear"],Om=new Map;function c_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=Z2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||W2.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Om.set(e,u),u}K2(i=>({...i,get:(e,n,r)=>c_(e,n)||i.get(e,n,r),has:(e,n)=>!!c_(e,n)||i.has(e,n)}));class eA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tA(i){return i.getComponent()?.type==="VERSION"}const Km="@firebase/app",h_="0.14.7";const Ti=new Rp("@firebase/app"),nA="@firebase/app-compat",sA="@firebase/analytics-compat",iA="@firebase/analytics",rA="@firebase/app-check-compat",aA="@firebase/app-check",lA="@firebase/auth",oA="@firebase/auth-compat",uA="@firebase/database",cA="@firebase/data-connect",hA="@firebase/database-compat",dA="@firebase/functions",fA="@firebase/functions-compat",mA="@firebase/installations",pA="@firebase/installations-compat",gA="@firebase/messaging",yA="@firebase/messaging-compat",vA="@firebase/performance",_A="@firebase/performance-compat",bA="@firebase/remote-config",xA="@firebase/remote-config-compat",EA="@firebase/storage",TA="@firebase/storage-compat",wA="@firebase/firestore",SA="@firebase/ai",AA="@firebase/firestore-compat",NA="firebase",RA="12.8.0";const Qm="[DEFAULT]",CA={[Km]:"fire-core",[nA]:"fire-core-compat",[iA]:"fire-analytics",[sA]:"fire-analytics-compat",[aA]:"fire-app-check",[rA]:"fire-app-check-compat",[lA]:"fire-auth",[oA]:"fire-auth-compat",[uA]:"fire-rtdb",[cA]:"fire-data-connect",[hA]:"fire-rtdb-compat",[dA]:"fire-fn",[fA]:"fire-fn-compat",[mA]:"fire-iid",[pA]:"fire-iid-compat",[gA]:"fire-fcm",[yA]:"fire-fcm-compat",[vA]:"fire-perf",[_A]:"fire-perf-compat",[bA]:"fire-rc",[xA]:"fire-rc-compat",[EA]:"fire-gcs",[TA]:"fire-gcs-compat",[wA]:"fire-fst",[AA]:"fire-fst-compat",[SA]:"fire-vertex","fire-js":"fire-js",[NA]:"fire-js-all"};const Vh=new Map,IA=new Map,Xm=new Map;function d_(i,e){try{i.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Nl(i){const e=i.name;if(Xm.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,i);for(const n of Vh.values())d_(n,i);for(const n of IA.values())d_(n,i);return!0}function Ip(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}const DA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new wu("app","Firebase",DA);class jA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Ul=RA;function yx(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Qm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw mr.create("bad-app-name",{appName:String(l)});if(n||(n=hx()),!n)throw mr.create("no-options");const u=Vh.get(l);if(u){if(ua(n,u.options)&&ua(r,u.config))return u;throw mr.create("duplicate-app",{appName:l})}const d=new P2(l);for(const g of Xm.values())d.addComponent(g);const p=new jA(n,r,d);return Vh.set(l,p),p}function vx(i=Qm){const e=Vh.get(i);if(!e&&i===Qm&&hx())return yx();if(!e)throw mr.create("no-app",{appName:i});return e}function pr(i,e,n){let r=CA[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(d.join(" "));return}Nl(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kA="firebase-heartbeat-database",OA=1,hu="firebase-heartbeat-store";let Mm=null;function _x(){return Mm||(Mm=J2(kA,OA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(i=>{throw mr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function MA(i){try{const n=(await _x()).transaction(hu),r=await n.objectStore(hu).get(bx(i));return await n.done,r}catch(e){if(e instanceof Ni)Ti.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function f_(i,e){try{const r=(await _x()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,bx(i)),await r.done}catch(n){if(n instanceof Ni)Ti.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(r.message)}}}function bx(i){return`${i.name}!${i.options.appId}`}const VA=1024,LA=30;class PA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>LA){const l=BA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:n,unsentEntries:r}=UA(this._heartbeatsCache.heartbeats),l=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ti.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function UA(i,e=VA){const n=[];let r=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),p_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),p_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?N2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p_(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function BA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function qA(i){Nl(new ca("platform-logger",e=>new eA(e),"PRIVATE")),Nl(new ca("heartbeat",e=>new PA(e),"PRIVATE")),pr(Km,h_,i),pr(Km,h_,"esm2020"),pr("fire-js","")}qA("");function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=xx,Ex=new wu("auth","Firebase",xx());const Lh=new Rp("@firebase/auth");function FA(i,...e){Lh.logLevel<=He.WARN&&Lh.warn(`Auth (${Ul}): ${i}`,...e)}function wh(i,...e){Lh.logLevel<=He.ERROR&&Lh.error(`Auth (${Ul}): ${i}`,...e)}function vs(i,...e){throw Dp(i,...e)}function Gs(i,...e){return Dp(i,...e)}function Tx(i,e,n){const r={...HA(),[e]:n};return new wu("auth","Firebase",r).create(e,{appName:i.name})}function xi(i){return Tx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return Ex.create(i,...e)}function Se(i,e,...n){if(!i)throw Dp(e,...n)}function yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw wh(e),new Error(e)}function wi(i,e){i||yi(e)}function Jm(){return typeof self<"u"&&self.location?.href||""}function GA(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function $A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GA()||E2()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=_2()||T2()}get(){return $A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(i,e){wi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class wx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XA=new Au(3e4,6e4);function Nr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Rr(i,e,n,r,l={}){return Sx(i,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=Su({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return x2()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Pl(i.emulatorConfig.host)&&(y.credentials="include"),wx.fetch()(await Ax(i,i.config.apiHost,n,p),y)})}async function Sx(i,e,n){i._canInitEmulator=!1;const r={...KA,...e};try{const l=new WA(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw mh(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw mh(i,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Tx(i,x,y);vs(i,x)}}catch(l){if(l instanceof Ni)throw l;vs(i,"network-request-failed",{message:String(l)})}}async function Nu(i,e,n,r,l={}){const u=await Rr(i,e,n,r,l);return"mfaPendingCredential"in u&&vs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ax(i,e,n,r){const l=`${e}${n}?${r}`,u=i,d=u.config.emulator?jp(i.config,l):`${i.config.apiScheme}://${l}`;return QA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function JA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),XA.get())})}}function mh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Gs(i,e,r);return l.customData._tokenResponse=n,l}function y_(i){return i!==void 0&&i.enterprise!==void 0}class ZA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eN(i,e){return Rr(i,"GET","/v2/recaptchaConfig",Nr(i,e))}async function tN(i,e){return Rr(i,"POST","/v1/accounts:delete",e)}async function Ph(i,e){return Rr(i,"POST","/v1/accounts:lookup",e)}function su(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(i,e=!1){const n=Yt(i),r=await n.getIdToken(e),l=kp(r);Se(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:su(Vm(l.auth_time)),issuedAtTime:su(Vm(l.iat)),expirationTime:su(Vm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vm(i){return Number(i)*1e3}function kp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const l=ux(n);return l?JSON.parse(l):(wh("Failed to decode base64 JWT payload"),null)}catch(l){return wh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function v_(i){const e=kp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function du(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&sN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function sN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(i){const e=i.auth,n=await i.getIdToken(),r=await du(i,Ph(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const u=l.providerUserInfo?.length?Nx(l.providerUserInfo):[],d=aN(i.providerData,u),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!d?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function rN(i){const e=Yt(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Nx(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function lN(i,e){const n=await Sx(i,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,d=await Ax(i,l,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&Pl(i.emulatorConfig.host)&&(g.credentials="include"),wx.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oN(i,e){return Rr(i,"POST","/v2/accounts:revokeToken",Nr(i,e))}class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=v_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await lN(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new bl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return yi("not implemented")}}function ar(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await du(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:K,stsTokenManager:q}=n;Se(E&&q,e,"internal-error");const L=bl.fromJSON(this.name,q);Se(typeof E=="string",e,"internal-error"),ar(r,e.name),ar(l,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof I=="boolean",e,"internal-error"),ar(u,e.name),ar(d,e.name),ar(p,e.name),ar(g,e.name),ar(y,e.name),ar(x,e.name);const z=new ms({uid:E,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:I,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:x});return K&&Array.isArray(K)&&(z.providerData=K.map(P=>({...P}))),g&&(z._redirectEventId=g),z}static async _fromIdTokenResponse(e,n,r=!1){const l=new bl;l.updateFromServerResponse(n);const u=new ms({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Nx(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new bl;p.updateFromIdToken(r);const g=new ms({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Wm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const __=new Map;function vi(i){wi(i instanceof Function,"Expected a class definition");let e=__.get(i);return e?(wi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,__.set(i,e),e)}class Rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rx.type="NONE";const b_=Rx;function Sh(i,e,n){return`firebase:${i}:${e}:${n}`}class xl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,l.apiKey,u),this.fullPersistenceKey=Sh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xl(vi(b_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||vi(b_);const d=Sh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const S=await Ph(e,{idToken:x}).catch(()=>{});if(!S)break;E=await ms._fromGetAccountInfoResponse(e,S,x)}else E=ms._fromJSON(e,x);y!==u&&(p=E),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new xl(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new xl(u,e,r))}}function x_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ox(e))return"Blackberry";if(Mx(e))return"Webos";if(Ix(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function Cx(i=pn()){return/firefox\//i.test(i)}function Ix(i=pn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(i=pn()){return/crios\//i.test(i)}function jx(i=pn()){return/iemobile/i.test(i)}function kx(i=pn()){return/android/i.test(i)}function Ox(i=pn()){return/blackberry/i.test(i)}function Mx(i=pn()){return/webos/i.test(i)}function Op(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function uN(i=pn()){return Op(i)&&!!window.navigator?.standalone}function cN(){return w2()&&document.documentMode===10}function Vx(i=pn()){return Op(i)||kx(i)||Mx(i)||Ox(i)||/windows phone/i.test(i)||jx(i)}function Lx(i,e=[]){let n;switch(i){case"Browser":n=x_(pn());break;case"Worker":n=`${x_(pn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${r}`}class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dN(i,e={}){return Rr(i,"GET","/v2/passwordPolicy",Nr(i,e))}const fN=6;class mN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class pN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(xi(this));const n=e?Yt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xa(i){return Yt(i)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=j2(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(i){rd=i}function Px(i){return rd.loadJS(i)}function yN(){return rd.recaptchaEnterpriseScript}function vN(){return rd.gapiScript}function _N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class bN{constructor(){this.enterprise=new xN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EN="recaptcha-enterprise",Ux="NO_RECAPTCHA";class TN{constructor(e){this.type=EN,this.auth=xa(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{eN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new ZA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;y_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(Ux)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&y_(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yN();g.length!==0&&(g+=p),Px(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function T_(i,e,n,r=!1,l=!1){const u=new TN(i);let d;if(l)d=Ux;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zm(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await T_(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await T_(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(u)})}function wN(i,e){const n=Ip(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return l;vs(l,"already-initialized")}return n.initialize({options:e})}function SN(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function AN(i,e,n){const r=xa(i);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=zx(e),{host:d,port:p}=NN(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},x=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ua(y,r.config.emulator)&&ua(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Pl(d)?(fx(`${u}//${d}${g}`),mx("Auth",!0)):RN()}function zx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function NN(i){const e=zx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:w_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:w_(d)}}}function w_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function CN(i,e){return Rr(i,"POST","/v1/accounts:signUp",e)}async function IN(i,e){return Nu(i,"POST","/v1/accounts:signInWithPassword",Nr(i,e))}async function DN(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",Nr(i,e))}async function jN(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",Nr(i,e))}class fu extends Mp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",IN);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,r,"signUpPassword",CN);case"emailLink":return jN(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function El(i,e){return Nu(i,"POST","/v1/accounts:signInWithIdp",Nr(i,e))}const kN="http://localhost";class ha extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new ha(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,El(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}function ON(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MN(i){const e=Xo(Jo(i)).link,n=e?Xo(Jo(e)).deep_link_id:null,r=Xo(Jo(i)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||e||i}class Vp{constructor(e){const n=Xo(Jo(e)),r=n.apiKey??null,l=n.oobCode??null,u=ON(n.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MN(e);try{return new Vp(n)}catch{return null}}}class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vp.parseLink(n);return Se(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends Bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends Ru{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ur extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends Ru{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends Ru{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function VN(i,e){return Nu(i,"POST","/v1/accounts:signUp",Nr(i,e))}class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await ms._fromIdTokenResponse(e,r,l),d=S_(r);return new da({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=S_(r);return new da({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function S_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class zh extends Ni{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new zh(e,n,r,l)}}function qx(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,e,r):u})}async function LN(i,e,n=!1){const r=await du(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return da._forOperation(i,"link",r)}async function PN(i,e,n=!1){const{auth:r}=i;if(Wn(r.app))return Promise.reject(xi(r));const l="reauthenticate";try{const u=await du(i,qx(r,l,e,i),n);Se(u.idToken,r,"internal-error");const d=kp(u.idToken);Se(d,r,"internal-error");const{sub:p}=d;return Se(i.uid===p,r,"user-mismatch"),da._forOperation(i,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),u}}async function Hx(i,e,n=!1){if(Wn(i.app))return Promise.reject(xi(i));const r="signIn",l=await qx(i,r,e),u=await da._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(u.user),u}async function UN(i,e){return Hx(xa(i),e)}async function Fx(i){const e=xa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(i,e,n){if(Wn(i.app))return Promise.reject(xi(i));const r=xa(i),d=await Zm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Fx(i),g}),p=await da._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function Gx(i,e,n){return Wn(i.app)?Promise.reject(xi(i)):UN(Yt(i),zl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fx(i),r})}function BN(i,e,n,r){return Yt(i).onIdTokenChanged(e,n,r)}function qN(i,e,n){return Yt(i).beforeAuthStateChanged(e,n)}function HN(i,e,n,r){return Yt(i).onAuthStateChanged(e,n,r)}function FN(i){return Yt(i).signOut()}const Bh="__sak";class $x{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GN=1e3,$N=10;class Yx extends $x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);cN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$N):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yx.type="LOCAL";const YN=Yx;class Kx extends $x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kx.type="SESSION";const Qx=Kx;function KN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await KN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];function Lp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class QN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Lp("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(x),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function $s(){return window}function XN(i){$s().location.href=i}function Xx(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function JN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){return navigator?.serviceWorker?.controller||null}function ZN(){return Xx()?self:null}const Jx="firebaseLocalStorageDb",eR=1,qh="firebaseLocalStorage",Wx="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function tR(){const i=indexedDB.deleteDatabase(Jx);return new Cu(i).toPromise()}function ep(){const i=indexedDB.open(Jx,eR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(qh,{keyPath:Wx})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await tR(),e(await ep()))})})}async function A_(i,e,n){const r=ld(i,!0).put({[Wx]:e,value:n});return new Cu(r).toPromise()}async function nR(i,e){const n=ld(i,!1).get(e),r=await new Cu(n).toPromise();return r===void 0?null:r.value}function N_(i,e){const n=ld(i,!0).delete(e);return new Cu(n).toPromise()}const sR=800,iR=3;class Zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await A_(e,Bh,"1"),await N_(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ld(l,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zx.type="LOCAL";const rR=Zx;new Au(3e4,6e4);function aR(i,e){return e?vi(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lR(i){return Hx(i.auth,new Pp(i),i.bypassAuthState)}function oR(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),PN(n,new Pp(i),i.bypassAuthState)}async function uR(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),LN(n,new Pp(i),i.bypassAuthState)}class eE{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:vs(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cR=new Au(2e3,1e4);class yl extends eE{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cR.get())};e()}}yl.currentPopupAction=null;const hR="pendingRedirect",Ah=new Map;class dR extends eE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await fR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fR(i,e){const n=gR(e),r=pR(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function mR(i,e){Ah.set(i._key(),e)}function pR(i){return vi(i._redirectPersistence)}function gR(i){return Sh(hR,i.config.apiKey,i.name)}async function yR(i,e,n=!1){if(Wn(i.app))return Promise.reject(xi(i));const r=xa(i),l=aR(r,e),d=await new dR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const vR=600*1e3;class _R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function tE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function bR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tE(i);default:return!1}}async function xR(i,e={}){return Rr(i,"GET","/v1/projects",e)}const ER=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^https?/;async function wR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await xR(i);for(const n of e)try{if(SR(n))return}catch{}vs(i,"unauthorized-domain")}function SR(i){const e=Jm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!TR.test(n))return!1;if(ER.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const AR=new Au(3e4,6e4);function C_(){const i=$s().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function NR(i){return new Promise((e,n)=>{function r(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),n(Gs(i,"network-request-failed"))},timeout:AR.get()})}if($s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($s().gapi?.load)r();else{const l=_N("iframefcb");return $s()[l]=()=>{gapi.load?r():n(Gs(i,"network-request-failed"))},Px(`${vN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function RR(i){return Nh=Nh||NR(i),Nh}const CR=new Au(5e3,15e3),IR="__/auth/iframe",DR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jp(e,DR):`https://${i.config.authDomain}/${IR}`,r={apiKey:e.apiKey,appName:i.name,v:Ul},l=kR.get(i.config.apiHost);l&&(r.eid=l);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Su(r).slice(1)}`}async function MR(i){const e=await RR(i),n=$s().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:OR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Gs(i,"network-request-failed"),p=$s().setTimeout(()=>{u(d)},CR.get());function g(){$s().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LR=500,PR=600,UR="_blank",zR="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(i,e,n,r=LR,l=PR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...VR,width:r.toString(),height:l.toString(),top:u,left:d},y=pn().toLowerCase();n&&(p=Dx(y)?UR:n),Cx(y)&&(e=e||zR,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[I,K])=>`${S}${I}=${K},`,"");if(uN(y)&&p!=="_self")return qR(e||"",p),new I_(null);const E=window.open(e||"",p,x);Se(E,i,"popup-blocked");try{E.focus()}catch{}return new I_(E)}function qR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const HR="__/auth/handler",FR="emulator/auth/handler",GR=encodeURIComponent("fac");async function D_(i,e,n,r,l,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Ul,eventId:l};if(e instanceof Bx){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",D2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof Ru){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await i._getAppCheckToken(),y=g?`#${GR}=${encodeURIComponent(g)}`:"";return`${$R(i)}?${Su(p).slice(1)}${y}`}function $R({config:i}){return i.emulator?jp(i,FR):`https://${i.authDomain}/${HR}`}const Lm="webStorageSupport";class YR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=yR,this._overrideRedirectResult=mR}async _openPopup(e,n,r,l){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await D_(e,n,r,Jm(),l);return BR(e,u,Lp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await D_(e,n,r,Jm(),l);return XN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(wi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MR(e),r=new _R(e);return n.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},l=>{const u=l?.[0]?.[Lm];u!==void 0&&n(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vx()||Ix()||Op()}}const KR=YR;var j_="@firebase/auth",k_="1.12.0";class QR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(i){Nl(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(i)},y=new pN(r,l,u,g);return SN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nl(new ca("auth-internal",e=>{const n=xa(e.getProvider("auth").getImmediate());return(r=>new QR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(j_,k_,XR(i)),pr(j_,k_,"esm2020")}const WR=300,ZR=dx("authIdTokenMaxAge")||WR;let O_=null;const eC=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZR)return;const l=n?.token;O_!==l&&(O_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tC(i=vx()){const e=Ip(i,"auth");if(e.isInitialized())return e.getImmediate();const n=wN(i,{popupRedirectResolver:KR,persistence:[rR,YN,Qx]}),r=dx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=eC(u.toString());qN(n,d,()=>d(n.currentUser)),BN(n,p=>d(p))}}const l=cx("auth");return l&&AN(n,`http://${l}`),n}function nC(){return document.getElementsByTagName("head")?.[0]??document}gN({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const u=Gs("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",nC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var sC="firebase",iC="12.8.0";pr(sC,iC,"app");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,nE;(function(){var i;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(k,j,U){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return A.prototype[j].apply(k,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)k[j]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(j=0;j<16;++j)k[j]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],j=N.g[2];let U=N.g[3],C;C=A+(U^R&(j^U))+k[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(j^A&(R^j))+k[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=j+(R^U&(A^R))+k[2]+606105819&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(A^j&(U^A))+k[3]+3250441966&4294967295,R=j+(C<<22&4294967295|C>>>10),C=A+(U^R&(j^U))+k[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(j^A&(R^j))+k[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=j+(R^U&(A^R))+k[6]+2821735955&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(A^j&(U^A))+k[7]+4249261313&4294967295,R=j+(C<<22&4294967295|C>>>10),C=A+(U^R&(j^U))+k[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(j^A&(R^j))+k[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=j+(R^U&(A^R))+k[10]+4294925233&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(A^j&(U^A))+k[11]+2304563134&4294967295,R=j+(C<<22&4294967295|C>>>10),C=A+(U^R&(j^U))+k[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(j^A&(R^j))+k[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=j+(R^U&(A^R))+k[14]+2792965006&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(A^j&(U^A))+k[15]+1236535329&4294967295,R=j+(C<<22&4294967295|C>>>10),C=A+(j^U&(R^j))+k[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(A^R))+k[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=j+(A^R&(U^A))+k[11]+643717713&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(j^U))+k[0]+3921069994&4294967295,R=j+(C<<20&4294967295|C>>>12),C=A+(j^U&(R^j))+k[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(A^R))+k[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=j+(A^R&(U^A))+k[15]+3634488961&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(j^U))+k[4]+3889429448&4294967295,R=j+(C<<20&4294967295|C>>>12),C=A+(j^U&(R^j))+k[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(A^R))+k[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=j+(A^R&(U^A))+k[3]+4107603335&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(j^U))+k[8]+1163531501&4294967295,R=j+(C<<20&4294967295|C>>>12),C=A+(j^U&(R^j))+k[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(A^R))+k[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=j+(A^R&(U^A))+k[7]+1735328473&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(j^U))+k[12]+2368359562&4294967295,R=j+(C<<20&4294967295|C>>>12),C=A+(R^j^U)+k[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^j)+k[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=j+(U^A^R)+k[11]+1839030562&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^A)+k[14]+4259657740&4294967295,R=j+(C<<23&4294967295|C>>>9),C=A+(R^j^U)+k[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^j)+k[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=j+(U^A^R)+k[7]+4139469664&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^A)+k[10]+3200236656&4294967295,R=j+(C<<23&4294967295|C>>>9),C=A+(R^j^U)+k[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^j)+k[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=j+(U^A^R)+k[3]+3572445317&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^A)+k[6]+76029189&4294967295,R=j+(C<<23&4294967295|C>>>9),C=A+(R^j^U)+k[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^j)+k[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=j+(U^A^R)+k[15]+530742520&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^A)+k[2]+3299628645&4294967295,R=j+(C<<23&4294967295|C>>>9),C=A+(j^(R|~U))+k[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~j))+k[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=j+(A^(U|~R))+k[14]+2878612391&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~A))+k[5]+4237533241&4294967295,R=j+(C<<21&4294967295|C>>>11),C=A+(j^(R|~U))+k[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~j))+k[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=j+(A^(U|~R))+k[10]+4293915773&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~A))+k[1]+2240044497&4294967295,R=j+(C<<21&4294967295|C>>>11),C=A+(j^(R|~U))+k[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~j))+k[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=j+(A^(U|~R))+k[6]+2734768916&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~A))+k[13]+1309151649&4294967295,R=j+(C<<21&4294967295|C>>>11),C=A+(j^(R|~U))+k[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~j))+k[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=j+(A^(U|~R))+k[2]+718787259&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,k=this.C;let j=this.h,U=0;for(;U<A;){if(j==0)for(;U<=R;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(k[j++]=N.charCodeAt(U++),j==this.blockSize){l(this,k),j=0;break}}else for(;U<A;)if(k[j++]=N[U++],j==this.blockSize){l(this,k),j=0;break}}this.h=j,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)N[A++]=this.g[R]>>>k&255;return N};function u(N,A){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let k=!0;for(let j=N.length-1;j>=0;j--){const U=N[j]|0;k&&U==A||(R[j]=U,k=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return L(y(-N));const A=[];let R=1;for(let k=0;N>=R;k++)A[k]=N/R|0,R*=4294967296;return new d(A,0)}function x(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return L(x(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let k=E;for(let U=0;U<N.length;U+=8){var j=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+j),A);j<8?(j=y(Math.pow(A,j)),k=k.j(j).add(y(C))):(k=k.j(R),k=k.add(y(C)))}return k}var E=g(0),S=g(1),I=g(16777216);i=d.prototype,i.m=function(){if(q(this))return-L(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);N+=(k>=0?k:4294967296+k)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(q(this))return"-"+L(this).toString(N);const A=y(Math.pow(N,6));var R=this;let k="";for(;;){const j=le(R,A).g;R=z(R,j.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=j,K(R))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function q(N){return N.h==-1}i.l=function(N){return N=z(this,N),q(N)?-1:K(N)?0:1};function L(N){const A=N.g.length,R=[];for(let k=0;k<A;k++)R[k]=~N.g[k];return new d(R,~N.h).add(S)}i.abs=function(){return q(this)?L(this):this},i.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let k=0;for(let j=0;j<=A;j++){let U=k+(this.i(j)&65535)+(N.i(j)&65535),C=(U>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);k=C>>>16,U&=65535,C&=65535,R[j]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function z(N,A){return N.add(L(A))}i.j=function(N){if(K(this)||K(N))return E;if(q(this))return q(N)?L(this).j(L(N)):L(L(this).j(N));if(q(N))return L(this.j(L(N)));if(this.l(I)<0&&N.l(I)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<N.g.length;j++){const U=this.i(k)>>>16,C=this.i(k)&65535,Xe=N.i(j)>>>16,Ke=N.i(j)&65535;R[2*k+2*j]+=C*Ke,P(R,2*k+2*j),R[2*k+2*j+1]+=U*Ke,P(R,2*k+2*j+1),R[2*k+2*j+1]+=C*Xe,P(R,2*k+2*j+1),R[2*k+2*j+2]+=U*Xe,P(R,2*k+2*j+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function P(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Q(N,A){this.g=N,this.h=A}function le(N,A){if(K(A))throw Error("division by zero");if(K(N))return new Q(E,E);if(q(N))return A=le(L(N),A),new Q(L(A.g),L(A.h));if(q(A))return A=le(N,L(A)),new Q(L(A.g),A.h);if(N.g.length>30){if(q(N)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;k.l(N)<=0;)R=oe(R),k=oe(k);var j=de(R,1),U=de(k,1);for(k=de(k,2),R=de(R,2);!K(k);){var C=U.add(k);C.l(N)<=0&&(j=j.add(R),U=C),k=de(k,1),R=de(R,1)}return A=z(N,j.j(A)),new Q(j,A)}for(j=E;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(R),C=U.j(A);q(C)||C.l(N)>0;)R-=k,U=y(R),C=U.j(A);K(U)&&(U=S),j=j.add(U),N=z(N,C)}return new Q(j,N)}i.B=function(N){return le(this,N).h},i.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&N.i(k);return new d(R,this.h&N.h)},i.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|N.i(k);return new d(R,this.h|N.h)},i.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^N.i(k);return new d(R,this.h^N.h)};function oe(N){const A=N.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(R,N.h)}function de(N,A){const R=A>>5;A%=32;const k=N.g.length-R,j=[];for(let U=0;U<k;U++)j[U]=A>0?N.i(U+R)>>>A|N.i(U+R+1)<<32-A:N.i(U+R);return new d(j,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,gr=d}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Wo,iE,Rh,tp,rE,aE,lE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(c,v){if(v)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in b))break e;b=b[H]}c=c[c.length-1],w=b[c],v=v(w),v!=w&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var u=u||{},d=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function y(c,v,b){return y=g,y.apply(null,arguments)}function x(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function E(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,H,J){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return v.prototype[H].apply(w,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const v=c.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=c[w];return b}return[]}function K(c,v){for(let w=1;w<arguments.length;w++){const H=arguments[w];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=c.length||0;const J=H.length||0;c.length=b+J;for(let ue=0;ue<J;ue++)c[b+ue]=H[ue]}else c.push(H)}}class q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(c){d.setTimeout(()=>{throw c},0)}function z(){var c=N;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class P{constructor(){this.h=this.g=null}add(v,b){const w=Q.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var Q=new q(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,N=new P,A=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(R)}};function R(){for(var c;c=z();){try{c.h.call(c.g)}catch(b){L(b)}var v=Q;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}de=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,v){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}E(Xe,j),Xe.prototype.init=function(c,v){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,v,b,w,H){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=H,this.key=++X,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,v,b){for(const w in c)v.call(b,c[w],w,c)}function Me(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function M(c){const v={};for(const b in c)v[b]=c[b];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,v){let b,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(b in w)c[b]=w[b];for(let J=0;J<ee.length;J++)b=ee[J],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,v,b,w,H){const J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);const ue=re(c,v,w,H);return ue>-1?(v=c[ue],b||(v.fa=!1)):(v=new ae(v,this.src,J,!!w,H),v.fa=b,c.push(v)),v};function $(c,v){const b=v.type;if(b in c.g){var w=c.g[b],H=Array.prototype.indexOf.call(w,v,void 0),J;(J=H>=0)&&Array.prototype.splice.call(w,H,1),J&&(_e(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function re(c,v,b,w){for(let H=0;H<c.length;++H){const J=c[H];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==w)return H}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ne={};function we(c,v,b,w,H){if(Array.isArray(v)){for(let J=0;J<v.length;J++)we(c,v[J],b,w,H);return null}return b=he(b),c&&c[Ke]?c.J(v,b,p(w)?!!w.capture:!1,H):Ve(c,v,b,!1,w,H)}function Ve(c,v,b,w,H,J){if(!v)throw Error("Invalid event type");const ue=p(H)?!!H.capture:!!H;let De=Ht(c);if(De||(c[ge]=De=new fe(c)),b=De.add(v,b,w,ue,J),b.proxy)return b;if(w=Wt(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)U||(H=ue),H===void 0&&(H=!1),c.addEventListener(v.toString(),w,H);else if(c.attachEvent)c.attachEvent(wt(v.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Wt(){function c(b){return v.call(c.src,c.listener,b)}const v=Zt;return c}function gn(c,v,b,w,H){if(Array.isArray(v))for(var J=0;J<v.length;J++)gn(c,v[J],b,w,H);else w=p(w)?!!w.capture:!!w,b=he(b),c&&c[Ke]?(c=c.i,J=String(v).toString(),J in c.g&&(v=c.g[J],b=re(v,b,w,H),b>-1&&(_e(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[J],c.h--)))):c&&(c=Ht(c))&&(v=c.g[v.toString()],c=-1,v&&(c=re(v,b,w,H)),(b=c>-1?v[c]:null)&&ts(b))}function ts(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ke])$(v.i,c);else{var b=c.type,w=c.proxy;v.removeEventListener?v.removeEventListener(b,w,c.capture):v.detachEvent?v.detachEvent(wt(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Ht(v))?($(b,c),b.h==0&&(b.src=null,v[ge]=null)):_e(c)}}}function wt(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function Zt(c,v){if(c.da)c=!0;else{v=new Xe(v,this);const b=c.listener,w=c.ha||c.src;c.fa&&ts(c),c=b.call(w,v)}return c}function Ht(c){return c=c[ge],c instanceof fe?c:null}var xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(c){return typeof c=="function"?c:(c[xs]||(c[xs]=function(v){return c.handleEvent(v)}),c[xs])}function ve(){k.call(this),this.i=new fe(this),this.M=this,this.G=null}E(ve,k),ve.prototype[Ke]=!0,ve.prototype.removeEventListener=function(c,v,b,w){gn(this,c,v,b,w)};function Ue(c,v){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=v.type||v,typeof v=="string")v=new j(v,c);else if(v instanceof j)v.target=v.target||c;else{var H=v;v=new j(w,c),ce(v,H)}H=!0;let J,ue;if(b)for(ue=b.length-1;ue>=0;ue--)J=v.g=b[ue],H=yt(J,w,!0,v)&&H;if(J=v.g=c,H=yt(J,w,!0,v)&&H,H=yt(J,w,!1,v)&&H,b)for(ue=0;ue<b.length;ue++)J=v.g=b[ue],H=yt(J,w,!1,v)&&H}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let w=0;w<b.length;w++)_e(b[w]);delete c.g[v],c.h--}}this.G=null},ve.prototype.J=function(c,v,b,w){return this.i.add(String(c),v,!1,b,w)},ve.prototype.K=function(c,v,b,w){return this.i.add(String(c),v,!0,b,w)};function yt(c,v,b,w){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let J=0;J<v.length;++J){const ue=v[J];if(ue&&!ue.da&&ue.capture==b){const De=ue.listener,At=ue.ha||ue.src;ue.fa&&$(c.i,ue),H=De.call(At,w)!==!1&&H}}return H&&!w.defaultPrevented}function Ft(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(c,v||0)}function ct(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,ct(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class ze extends k{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(c){k.call(this),this.h=c,this.g={}}E(en,k);var Sa=[];function Gl(c){ke(c.g,function(v,b){this.g.hasOwnProperty(b)&&ts(v)},c),c.g={}}en.prototype.N=function(){en.Z.N.call(this),Gl(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=d.JSON.stringify,wd=d.JSON.parse,Uu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function zu(){}function Bu(){}var ns={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){j.call(this,"d")}E(tn,j);function Un(){j.call(this,"c")}E(Un,j);var St={},qu=null;function Aa(){return qu=qu||new ve}St.Ia="serverreachability";function Hu(c){j.call(this,St.Ia,c)}E(Hu,j);function Es(c){const v=Aa();Ue(v,new Hu(v))}St.STAT_EVENT="statevent";function Dr(c,v){j.call(this,St.STAT_EVENT,c),this.stat=v}E(Dr,j);function Dt(c){const v=Aa();Ue(v,new Dr(v,c))}St.Ja="timingevent";function Ts(c,v){j.call(this,St.Ja,c),this.size=v}E(Ts,j);function ws(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function ss(){this.g=!0}ss.prototype.ua=function(){this.g=!1};function Sd(c,v,b,w,H,J){c.info(function(){if(c.g)if(J){var ue="",De=J.split("&");for(let Ze=0;Ze<De.length;Ze++){var At=De[Ze].split("=");if(At.length>1){const vt=At[0];At=At[1];const Hn=vt.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(vt+"="+At+"&"):ue+(vt+"=redacted&")}}}else ue=null;else ue=J;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+v+`
`+b+`
`+ue})}function Fu(c,v,b,w,H,J,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+v+`
`+b+`
`+J+" "+ue})}function Ss(c,v,b,w){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ad(c,b)+(w?" "+w:"")})}function jr(c,v){c.info(function(){return"TIMEOUT: "+v})}ss.prototype.info=function(){};function Ad(c,v){if(!c.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(c=0;c<J.length;c++)if(Array.isArray(J[c])){var b=J[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var H=w[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return Ri(J)}catch{return v}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function Or(){}E(Or,zu),Or.prototype.g=function(){return new XMLHttpRequest},Yl=new Or;function Ws(c){return encodeURIComponent(String(c))}function Gu(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function is(c,v,b,w){this.j=c,this.i=v,this.l=b,this.S=w||1,this.V=new en(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}var jt={},Kt={};function As(c,v,b){c.M=1,c.A=Mr(Ot(v)),c.u=b,c.R=!0,Na(c,null)}function Na(c,v){c.F=Date.now(),Ns(c),c.B=Ot(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Da(b.i,"t",w),c.C=0,b=c.j.L,c.h=new rs,c.g=ac(c.j,b?v:null,!c.u),c.P>0&&(c.O=new ze(y(c.Y,c,c.g),c.P)),v=c.V,b=c.g,w=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Sa[0]=H.toString()),H=Sa);for(let J=0;J<H.length;J++){const ue=we(b,H[J],w||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Es(),Sd(c.i,c.v,c.B,c.l,c.S,c.u)}is.prototype.ba=function(c){c=c.target;const v=this.O;v&&os(c)==3?v.j():this.Y(c)},is.prototype.Y=function(c){try{if(c==this.g)e:{const De=os(this.g),At=this.g.ya(),Ze=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||De!=4||At==7||(At==8||Ze<=0?Es(3):Es(2)),Rs(this);var v=this.g.ca();this.X=v;var b=Nd(this);if(this.o=v==200,Fu(this.i,this.v,this.B,this.l,this.S,De,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,H=this.g;if((w=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var J=w;break t}}J=null}if(c=J)Ss(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cs(this,c);else{this.o=!1,this.m=3,Dt(12),Rn(this),zn(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=Yu(this,b),vt==Kt){De==4&&(this.m=4,Dt(14),c=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==jt){this.m=4,Dt(15),Ss(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else Ss(this.i,this.l,vt,null),Cs(this,vt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,Dt(16),c=!1),this.o=this.o&&c,!c)Ss(this.i,this.l,b,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),oo(ue),ue.P=!0,Dt(11))}}else Ss(this.i,this.l,b,null),Cs(this,b);De==4&&Rn(this),this.o&&!this.K&&(De==4?nc(this.j,this):(this.o=!1,Ns(this)))}else ei(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Rn(this),zn(this)}}}catch{}};function Nd(c){if(!$u(c))return c.g.la();const v=nn(c.g);if(v==="")return"";let b="";const w=v.length,H=os(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Rn(c),zn(c),"";c.h.i=new d.TextDecoder}for(let J=0;J<w;J++)c.h.h=!0,b+=c.h.i.decode(v[J],{stream:!(H&&J==w-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function $u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yu(c,v){var b=c.C,w=v.indexOf(`
`,b);return w==-1?Kt:(b=Number(v.substring(b,w)),isNaN(b)?jt:(w+=1,w+b>v.length?Kt:(v=v.slice(w,w+b),c.C=w+b,v)))}is.prototype.cancel=function(){this.K=!0,Rn(this)};function Ns(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ws(y(c.aa,c),v)}function Rs(c){c.D&&(d.clearTimeout(c.D),c.D=null)}is.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(jr(this.i,this.B),this.M!=2&&(Es(),Dt(17)),Rn(this),this.m=2,zn(this)):Ra(this,this.T-c)};function zn(c){c.j.I==0||c.K||nc(c.j,c)}function Rn(c){Rs(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Gl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Cs(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Ds(b.h,c))){if(!c.L&&Ds(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Va(b),Vi(b);else break e;qr(b),Dt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ws(y(b.Va,b),6e3));Is(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ls(b,11)}else if((c.L||b.g==c)&&Va(b),!C(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let Ze=H[v];const vt=Ze[0];if(!(vt<=b.K))if(b.K=vt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Hn=Ze[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Ps=Ze[4];Ps!=null&&(b.za=Ps,b.j.info("SVER="+b.za));const us=Ze[5];us!=null&&typeof us=="number"&&us>0&&(w=1.5*us,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const cs=c.g;if(cs){const Hr=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var J=w.h;J.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xl(J,J.h),J.h=null))}if(w.G){const La=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(w.wa=La,st(w.J,w.G,La))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ue=c;if(w.na=rc(w,w.L?w.ba:null,w.W),ue.L){Jl(w.h,ue);var De=ue,At=w.O;At&&(De.H=At),De.D&&(Rs(De),Ns(De)),w.g=ue}else ec(w);b.i.length>0&&Vs(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Ls(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ls(b,7):ao(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}Es(4)}catch{}}var kt=class{constructor(c,v){this.g=c,this.map=v}};function Kl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ql(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Is(c){return c.h?1:c.g?c.g.size:0}function Ds(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Xl(c,v){c.g?c.g.add(v):c.h=v}function Jl(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Kl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return I(c.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let H,J=null;w>=0?(H=c[b].substring(0,w),J=c[b].substring(w+1)):H=c[b],v(H,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Cn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,Ci(this,c.u),this.h=c.h,Zl(this,Wu(c.i)),this.m=c.m):c&&(v=String(c).match(Ku))?(this.l=!1,Qt(this,v[1]||"",!0),this.o=js(v[2]||""),this.g=js(v[3]||"",!0),Ci(this,v[4]),this.h=js(v[5]||"",!0),Zl(this,v[6]||"",!0),this.m=js(v[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}Cn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Vr(v,Ia,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Vr(v,Ia,!0),"@"),c.push(Ws(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Vr(b,b.charAt(0)=="/"?eo:Qu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Vr(b,Xu)),c.join("")},Cn.prototype.resolve=function(c){const v=Ot(this);let b=!!c.j;b?Qt(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var w=c.h;if(b)Ci(v,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var H=v.h.lastIndexOf("/");H!=-1&&(w=v.h.slice(0,H+1)+w)}if(H=w,H==".."||H==".")w="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){w=H.lastIndexOf("/",0)==0,H=H.split("/");const J=[];for(let ue=0;ue<H.length;){const De=H[ue++];De=="."?w&&ue==H.length&&J.push(""):De==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),w&&ue==H.length&&J.push("")):(J.push(De),w=!0)}w=J.join("/")}else w=H}return b?v.h=w:b=c.i.toString()!=="",b?Zl(v,Wu(c.i)):b=!!c.m,b&&(v.m=c.m),v};function Ot(c){return new Cn(c)}function Qt(c,v,b){c.j=b?js(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ci(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Zl(c,v,b){v instanceof Di?(c.i=v,ja(c.i,c.l)):(b||(v=Vr(v,Ii)),c.i=new Di(v,c.l))}function st(c,v,b){c.i.set(v,b)}function Mr(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function js(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vr(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,_n),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _n(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,Qu=/[#\?:]/g,eo=/[#\?]/g,Ii=/[#\?@]/g,Xu=/#/g;function Di(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ca(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Di.prototype,i.add=function(c,v){bn(this),this.i=null,c=ji(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function Ju(c,v){bn(c),v=ji(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function to(c,v){return bn(c),v=ji(c,v),c.g.has(v)}i.forEach=function(c,v){bn(this),this.g.forEach(function(b,w){b.forEach(function(H){c.call(v,H,w,this)},this)},this)};function no(c,v){bn(c);let b=[];if(typeof v=="string")to(c,v)&&(b=b.concat(c.g.get(ji(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}i.set=function(c,v){return bn(this),this.i=null,c=ji(this,c),to(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=no(this,c),c.length>0?String(c[0]):v):v};function Da(c,v,b){Ju(c,v),b.length>0&&(c.i=null,c.g.set(ji(c,v),I(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const H=Ws(b);b=no(this,b);for(let J=0;J<b.length;J++){let ue=H;b[J]!==""&&(ue+="="+Ws(b[J])),c.push(ue)}}return this.i=c.join("&")};function Wu(c){const v=new Di;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function ji(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ja(c,v){v&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(b,w){const H=w.toLowerCase();w!=H&&(Ju(this,w),Da(this,H,b))},c)),c.j=v}function as(c,v){const b=new ss;if(d.Image){const w=new Image;w.onload=x(Bn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Bn,b,"TestLoadImage: error",!1,v,w),w.onabort=x(Bn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Bn,b,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else v(!1)}function so(c,v){const b=new ss,w=new AbortController,H=setTimeout(()=>{w.abort(),Bn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:w.signal}).then(J=>{clearTimeout(H),J.ok?Bn(b,"TestPingServer: ok",!0,v):Bn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Bn(b,"TestPingServer: error",!1,v)})}function Bn(c,v,b,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(b)}catch{}}function ki(){this.g=new Uu}function ks(c){this.i=c.Sb||null,this.h=c.ab||!1}E(ks,zu),ks.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(c,v){ve.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Lr,ve),i=Lr.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ls(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Oi(this):ls(this),this.readyState==3&&ka(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Oi(this))},i.Na=function(c){this.g&&(this.response=c,Oi(this))},i.ga=function(){this.g&&Oi(this)};function Oi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ls(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function ls(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let v="";return ke(c,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Pr(c,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=qn(b),typeof c=="string"?b!=null&&Ws(b):st(c,v,b))}function at(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,ve);var Os=/^https?$/i,io=["POST","PUT"];i=at.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(J){Ur(this,J);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)b.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const J of w.keys())b.set(J,w.get(J));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(io,v,void 0)>=0)||w||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of b)this.g.setRequestHeader(J,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(J){Ur(this,J)}};function Ur(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,ro(c),Zs(c)}function ro(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ue(this,"complete"),Ue(this,"abort"),Zs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),at.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},i.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof u<"u"){if(c.v&&os(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ue(c,"readystatechange"),os(c)==4){c.h=!1;try{const J=c.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=J===0){let ue=String(c.D).match(Ku)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),w=!Os.test(ue?ue.toLowerCase():"")}b=w}if(b)Ue(c,"complete"),Ue(c,"success");else{c.o=6;try{var H=os(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",ro(c)}}finally{Zs(c)}}}}function Zs(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||Ue(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function os(c){return c.g?c.g.readyState:0}i.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),wd(v)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ei(c){const v={};c=(c.g&&os(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var b=Gu(c[w]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[H]||[];v[H]=J,J.push(b)}Me(v,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function Mi(c){this.za=0,this.i=[],this.j=new ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,c),this.Za=Ms("retryDelaySeedMs",1e4,c),this.Ta=Ms("forwardChannelMaxRetries",2,c),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mi.prototype,i.ka=8,i.I=1,i.connect=function(c,v,b,w){Dt(0),this.W=c,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=rc(this,null,this.W),Vs(this)};function ao(c){if(Oa(c),c.I==3){var v=c.V++,b=Ot(c.J);if(st(b,"SID",c.M),st(b,"RID",v),st(b,"TYPE","terminate"),Br(c,b),v=new is(c,c.j,v),v.M=2,v.A=Mr(Ot(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.A,b=!0),b||(v.g=ac(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ns(v)}ic(c)}function Vi(c){c.g&&(oo(c),c.g.cancel(),c.g=null)}function Oa(c){Vi(c),c.v&&(d.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Vs(c){if(!Ql(c.h)&&!c.m){c.m=!0;var v=c.Ea;oe||A(),de||(oe(),de=!0),N.add(v,c),c.D=0}}function Ma(c,v){return Is(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ws(y(c.Ea,c,v),sc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new is(this,this.j,c);let J=this.o;if(this.U&&(J?(J=M(J),ce(J,this.U)):J=this.U),this.u!==null||this.R||(H.J=J,J=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Zu(this,H,v),b=Ot(this.J),st(b,"RID",c),st(b,"CVER",22),this.G&&st(b,"X-HTTP-Session-Id",this.G),Br(this,b),J&&(this.R?v="headers="+Ws(qn(J))+"&"+v:this.u&&Pr(b,this.u,J)),Xl(this.h,H),this.Ra&&st(b,"TYPE","init"),this.S?(st(b,"$req",v),st(b,"SID","null"),H.U=!0,As(H,b,null)):As(H,b,v),this.I=2}}else this.I==3&&(c?lo(this,c):this.i.length==0||Ql(this.h)||lo(this))};function lo(c,v){var b;v?b=v.l:b=c.V++;const w=Ot(c.J);st(w,"SID",c.M),st(w,"RID",b),st(w,"AID",c.K),Br(c,w),c.u&&c.o&&Pr(w,c.u,c.o),b=new is(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Zu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xl(c.h,b),As(b,w,v)}function Br(c,v){c.H&&ke(c.H,function(b,w){st(v,w,b)}),c.l&&ke({},function(b,w){st(v,w,b)})}function Zu(c,v,b){b=Math.min(c.i.length,b);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var H=c.i;let De=-1;for(;;){const At=["count="+b];De==-1?b>0?(De=H[0].g,At.push("ofs="+De)):De=0:At.push("ofs="+De);let Ze=!0;for(let vt=0;vt<b;vt++){var J=H[vt].g;const Hn=H[vt].map;if(J-=De,J<0)De=Math.max(0,H[vt].g-100),Ze=!1;else try{J="req"+J+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Ps,us]of ue){let cs=us;p(us)&&(cs=Ri(us)),At.push(J+Ps+"="+encodeURIComponent(cs))}}catch(Ps){throw At.push(J+"type="+encodeURIComponent("_badmap")),Ps}}catch{w&&w(Hn)}}if(Ze){ue=At.join("&");break e}}ue=void 0}return c=c.i.splice(0,b),v.G=c,ue}function ec(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;oe||A(),de||(oe(),de=!0),N.add(v,c),c.A=0}}function qr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ws(y(c.Da,c),sc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ws(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Vi(this),tc(this))};function oo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function tc(c){c.g=new is(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Ot(c.na);st(v,"RID","rpc"),st(v,"SID",c.M),st(v,"AID",c.K),st(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(v,"TO",c.ia),st(v,"TYPE","xmlhttp"),Br(c,v),c.u&&c.o&&Pr(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Mr(Ot(v)),b.u=null,b.R=!0,Na(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Vi(this),qr(this),Dt(19))};function Va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function nc(c,v){var b=null;if(c.g==v){Va(c),oo(c),c.g=null;var w=2}else if(Ds(c.h,v))b=v.G,Jl(c.h,v),w=1;else return;if(c.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=c.D;w=Aa(),Ue(w,new Ts(w,b)),Vs(c)}else ec(c);else if(H=v.m,H==3||H==0&&v.X>0||!(w==1&&Ma(c,v)||w==2&&qr(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),H){case 1:Ls(c,5);break;case 4:Ls(c,10);break;case 3:Ls(c,6);break;default:Ls(c,2)}}}function sc(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Ls(c,v){if(c.j.info("Error code "+v),v==2){var b=y(c.bb,c),w=c.Ua;const H=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(w,"https"),Mr(w),H?as(w.toString(),b):so(w.toString(),b)}else Dt(2);c.I=0,c.l&&c.l.pa(v),ic(c),Oa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function ic(c){if(c.I=0,c.ja=[],c.l){const v=Wl(c.h);(v.length!=0||c.i.length!=0)&&(K(c.ja,v),K(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function rc(c,v,b){var w=b instanceof Cn?Ot(b):new Cn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Ci(w,w.u);else{var H=d.location;w=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const J=new Cn(null);w&&Qt(J,w),v&&(J.g=v),H&&Ci(J,H),b&&(J.h=b),w=J}return b=c.G,v=c.wa,b&&v&&st(w,b,v),st(w,"VER",c.ka),Br(c,w),w}function ac(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new at(new ks({ab:b})):new at(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}i=lc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Li(){}Li.prototype.g=function(c,v){return new yn(c,v)};function yn(c,v){ve.call(this),this.g=new Mi(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!C(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ti(this)}E(yn,ve),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ao(this.g)},yn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Ri(c),c=b);v.i.push(new kt(v.Ya++,c)),v.I==3&&Vs(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,ao(this.g),delete this.g,yn.Z.N.call(this)};function oc(c){tn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}E(oc,tn);function uc(){Un.call(this),this.status=1}E(uc,Un);function ti(c){this.g=c}E(ti,lc),ti.prototype.ra=function(){Ue(this.g,"a")},ti.prototype.qa=function(c){Ue(this.g,new oc(c))},ti.prototype.pa=function(c){Ue(this.g,new uc)},ti.prototype.oa=function(){Ue(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,lE=function(){return new Li},aE=function(){return Aa()},rE=St,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Rh=kr,$l.COMPLETE="complete",iE=$l,Bu.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Wo=Bu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,sE=at}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Bl="12.8.0";function rC(i){Bl=i}const fa=new Rp("@firebase/firestore");function fl(){return fa.logLevel}function pe(i,...e){if(fa.logLevel<=He.DEBUG){const n=e.map(Up);fa.debug(`Firestore (${Bl}): ${i}`,...n)}}function Si(i,...e){if(fa.logLevel<=He.ERROR){const n=e.map(Up);fa.error(`Firestore (${Bl}): ${i}`,...n)}}function Rl(i,...e){if(fa.logLevel<=He.WARN){const n=e.map(Up);fa.warn(`Firestore (${Bl}): ${i}`,...n)}}function Up(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oE(i,r,n)}function oE(i,e,n){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Si(r),new Error(r)}function nt(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||oE(e,l,r)}function Ie(i,e){return i}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oC{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class uC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=dC(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Fe(i,e){return i<e?-1:i>e?1:0}function np(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),u=e.charAt(r);if(l!==u)return Pm(l)===Pm(u)?Fe(l,u):Pm(l)?1:-1}return Fe(i.length,e.length)}const fC=55296,mC=57343;function Pm(i){const e=i.charCodeAt(0);return e>=fC&&e<=mC}function Cl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const L_="__name__";class Hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Hs.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Hs.isNumericId(e),l=Hs.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Hs.extractNumericId(e).compare(Hs.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class dt extends Hs{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const pC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Hs{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return pC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new un([L_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}function cE(i,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gC(i,e,n,r){if(e===!0&&r===!0)throw new me(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function P_(i){if(!Ee.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function U_(i){if(Ee.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function od(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Ys(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(i);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Iu(i,e){if(!hE(i))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(se.INVALID_ARGUMENT,n);return!0}const z_=-62135596800,B_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*B_);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z_)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Bt("string",gt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function yC(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new _r(l,Ee.empty(),e)}function vC(i){return new _r(i.readTime,i.key,mu)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(Re.min(),Ee.empty(),mu)}static max(){return new _r(Re.max(),Ee.empty(),mu)}}function _C(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Fe(i.largestBatchId,e.largestBatchId))}const bC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ql(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==bC)throw i;pe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>r(g)))})),d=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((l=>l?ie.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++p,p===u&&r(d)}),(x=>l(x)))}}))}static doWhile(e,n){return new ie(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function EC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(i){return i.name==="IndexedDbTransactionError"}class ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ud.ce=-1;const Bp=-1;function cd(i){return i==null}function Hh(i){return i===0&&1/i==-1/0}function TC(i){return typeof i=="number"&&Number.isInteger(i)&&!Hh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const dE="";function wC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=q_(e)),e=SC(i.get(n),e);return q_(e)}function SC(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case dE:n+="";break;default:n+=u}}return n}function q_(i){return i+dE+""}function H_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Cr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function fE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new on(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new $t(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mE("Invalid base64 string: "+u):u}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const AC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(i){if(nt(!!i,39018),typeof i=="string"){let e=0;const n=AC.exec(i);if(nt(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xr(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}const pE="server_timestamp",gE="__type__",yE="__previous_value__",vE="__local_write_time__";function qp(i){return(i?.mapValue?.fields||{})[gE]?.stringValue===pE}function hd(i){const e=i.mapValue.fields[yE];return qp(e)?hd(e):e}function pu(i){const e=br(i.mapValue.fields[vE].timestampValue);return new gt(e.seconds,e.nanos)}class NC{constructor(e,n,r,l,u,d,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Fh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function RC(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(i.options.projectId,e)}const _E="__type__",CC="__max__",yh={mapValue:{}},bE="__vector__",Gh="value";function Er(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qp(i)?4:DC(i)?9007199254740991:IC(i)?10:11:Ae(28295,{value:i})}function Js(i,e){if(i===e)return!0;const n=Er(i);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=br(l.timestampValue),p=br(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return xr(l.bytesValue).isEqual(xr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ct(l.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ct(l.integerValue)===Ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ct(l.doubleValue),p=Ct(u.doubleValue);return d===p?Hh(d)===Hh(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return Cl(i.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(H_(d)!==H_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Js(d[g],p[g])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function yu(i,e){return(i.values||[]).find((n=>Js(n,e)))!==void 0}function Il(i,e){if(i===e)return 0;const n=Er(i),r=Er(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Ct(u.integerValue||u.doubleValue),g=Ct(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return G_(i.timestampValue,e.timestampValue);case 4:return G_(pu(i),pu(e));case 5:return np(i.stringValue,e.stringValue);case 6:return(function(u,d){const p=xr(u),g=xr(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Fe(p[y],g[y]);if(x!==0)return x}return Fe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Fe(Ct(u.latitude),Ct(d.latitude));return p!==0?p:Fe(Ct(u.longitude),Ct(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return $_(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[Gh]?.arrayValue,x=g[Gh]?.arrayValue,E=Fe(y?.values?.length||0,x?.values?.length||0);return E!==0?E:$_(y,x)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===yh.mapValue&&d===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(d===yh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=np(g[E],x[E]);if(S!==0)return S;const I=Il(p[g[E]],y[x[E]]);if(I!==0)return I}return Fe(g.length,x.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function G_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const n=br(i),r=br(e),l=Fe(n.seconds,r.seconds);return l!==0?l:Fe(n.nanos,r.nanos)}function $_(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Il(n[l],r[l]);if(u)return u}return Fe(n.length,r.length)}function Dl(i){return sp(i)}function sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=br(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return xr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ee.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=sp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${sp(n.fields[d])}`;return l+"}"})(i.mapValue):Ae(61005,{value:i})}function Ch(i){switch(Er(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hd(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Cr(r.fields,((u,d)=>{l+=u.length+Ch(d)})),l})(i.mapValue);default:throw Ae(13486,{value:i})}}function Y_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ip(i){return!!i&&"integerValue"in i}function Hp(i){return!!i&&"arrayValue"in i}function K_(i){return!!i&&"nullValue"in i}function Q_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ih(i){return!!i&&"mapValue"in i}function IC(i){return(i?.mapValue?.fields||{})[_E]?.stringValue===bE}function iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=iu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(i.arrayValue.values[n]);return e}return{...i}}function DC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===CC}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=un.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=iu(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Cr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Nn(iu(this.value))}}function xE(i){const e=[];return Cr(i.fields,((n,r)=>{const l=new un([n]);if(Ih(r)){const u=xE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class mn{constructor(e,n,r,l,u,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,l){return new mn(e,1,n,Re.min(),r,l,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(e,n){this.position=e,this.inclusive=n}}function X_(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const u=e[l],d=i.position[l];if(u.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),n.key):r=Il(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Js(i.position[n],e.position[n]))return!1;return!0}class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class EE{}class zt extends EE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OC(e,n,r):n==="array-contains"?new LC(e,r):n==="in"?new PC(e,r):n==="not-in"?new UC(e,r):n==="array-contains-any"?new zC(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MC(e,r):new VC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends EE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _s(e,n)}matches(e){return TE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(i){return i.op==="and"}function wE(i){return kC(i)&&TE(i)}function kC(i){for(const e of i.filters)if(e instanceof _s)return!1;return!0}function rp(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+Dl(i.value);if(wE(i))return i.filters.map((e=>rp(e))).join(",");{const e=i.filters.map((n=>rp(n))).join(",");return`${i.op}(${e})`}}function SE(i,e){return i instanceof zt?(function(r,l){return l instanceof zt&&r.op===l.op&&r.field.isEqual(l.field)&&Js(r.value,l.value)})(i,e):i instanceof _s?(function(r,l){return l instanceof _s&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&SE(d,l.filters[p])),!0):!1})(i,e):void Ae(19439)}function AE(i){return i instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(i):i instanceof _s?(function(n){return n.op.toString()+" {"+n.getFilters().map(AE).join(" ,")+"}"})(i):"Filter"}class OC extends zt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class MC extends zt{constructor(e,n){super(e,"in",n),this.keys=NE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VC extends zt{constructor(e,n){super(e,"not-in",n),this.keys=NE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NE(i,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class LC extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&yu(n.arrayValue,this.value)}}class PC extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class UC extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class zC extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>yu(this.value.arrayValue,r)))}}class BC{constructor(e,n=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function W_(i,e=null,n=[],r=[],l=null,u=null,d=null){return new BC(i,e,n,r,l,u,d)}function Fp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>rp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dl(r))).join(",")),e.Te=n}return e.Te}function Gp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!SE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!J_(i.startAt,e.startAt)&&J_(i.endAt,e.endAt)}function ap(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Du{constructor(e,n=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function qC(i,e,n,r,l,u,d,p){return new Du(i,e,n,r,l,u,d,p)}function $p(i){return new Du(i)}function Z_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function HC(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function RE(i){return i.collectionGroup!==null}function ru(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $t(un.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yh(u,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Yh(un.keyField(),r))}return e.Ie}function Ks(i){const e=Ie(i);return e.Ee||(e.Ee=FC(e,ru(i))),e.Ee}function FC(i,e){if(i.limitType==="F")return W_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Yh(l.field,u)}));const n=i.endAt?new $h(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new $h(i.startAt.position,i.startAt.inclusive):null;return W_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function lp(i,e){const n=i.filters.concat([e]);return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function op(i,e,n){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function dd(i,e){return Gp(Ks(i),Ks(e))&&i.limitType===e.limitType}function CE(i){return`${Fp(Ks(i))}|lt:${i.limitType}`}function ml(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>AE(l))).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Dl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Dl(l))).join(",")),`Target(${r})`})(Ks(i))}; limitType=${i.limitType})`}function fd(i,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ee.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,l){for(const u of ru(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=X_(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,ru(r),l)||r.endAt&&!(function(d,p,g){const y=X_(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,ru(r),l))})(i,e)}function GC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function IE(i){return(e,n)=>{let r=!1;for(const l of ru(i)){const u=$C(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function $C(i,e,n){const r=i.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Il(g,y):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:i.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const YC=new xt(Ee.comparator);function Ai(){return YC}const DE=new xt(Ee.comparator);function Zo(...i){let e=DE;for(const n of i)e=e.insert(n.key,n);return e}function jE(i){let e=DE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function aa(){return au()}function kE(){return au()}function au(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const KC=new xt(Ee.comparator),QC=new $t(Ee.comparator);function Ge(...i){let e=QC;for(const n of i)e=e.add(n);return e}const XC=new $t(Fe);function JC(){return XC}function Yp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function OE(i){return{integerValue:""+i}}function WC(i,e){return TC(e)?OE(e):Yp(i,e)}class md{constructor(){this._=void 0}}function ZC(i,e,n){return i instanceof vu?(function(l,u){const d={fields:{[gE]:{stringValue:pE},[vE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&qp(u)&&(u=hd(u)),u&&(d.fields[yE]=u),{mapValue:d}})(n,e):i instanceof _u?VE(i,e):i instanceof bu?LE(i,e):(function(l,u){const d=ME(l,u),p=eb(d)+eb(l.Ae);return ip(d)&&ip(l.Ae)?OE(p):Yp(l.serializer,p)})(i,e)}function eI(i,e,n){return i instanceof _u?VE(i,e):i instanceof bu?LE(i,e):n}function ME(i,e){return i instanceof Kh?(function(r){return ip(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class vu extends md{}class _u extends md{constructor(e){super(),this.elements=e}}function VE(i,e){const n=PE(e);for(const r of i.elements)n.some((l=>Js(l,r)))||n.push(r);return{arrayValue:{values:n}}}class bu extends md{constructor(e){super(),this.elements=e}}function LE(i,e){let n=PE(e);for(const r of i.elements)n=n.filter((l=>!Js(l,r)));return{arrayValue:{values:n}}}class Kh extends md{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eb(i){return Ct(i.integerValue||i.doubleValue)}function PE(i){return Hp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class tI{constructor(e,n){this.field=e,this.transform=n}}function nI(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof _u&&l instanceof _u||r instanceof bu&&l instanceof bu?Cl(r.elements,l.elements,Js):r instanceof Kh&&l instanceof Kh?Js(r.Ae,l.Ae):r instanceof vu&&l instanceof vu})(i.transform,e.transform)}class sI{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pd{}function UE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Kp(i.key,gs.none()):new ju(i.key,i.data,gs.none());{const n=i.data,r=Nn.empty();let l=new $t(un.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Ir(i.key,r,new Ln(l.toArray()),gs.none())}}function iI(i,e,n){i instanceof ju?(function(l,u,d){const p=l.value.clone(),g=nb(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Ir?(function(l,u,d){if(!Dh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=nb(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(zE(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function lu(i,e,n,r){return i instanceof ju?(function(u,d,p,g){if(!Dh(u.precondition,d))return p;const y=u.value.clone(),x=sb(u.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Ir?(function(u,d,p,g){if(!Dh(u.precondition,d))return p;const y=sb(u.fieldTransforms,g,d),x=d.data;return x.setAll(zE(u)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(u,d,p){return Dh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,n)}function rI(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),u=ME(r.transform,l||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,u))}return n||null}function tb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Cl(r,l,((u,d)=>nI(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ju extends pd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends pd{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function nb(i,e,n){const r=new Map;nt(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let l=0;l<n.length;l++){const u=i[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,eI(d,p,n[l]))}return r}function sb(i,e,n){const r=new Map;for(const l of i){const u=l.transform,d=n.data.field(l.field);r.set(l.field,ZC(u,d,e))}return r}class Kp extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&iI(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=UE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,r)=>tb(n,r)))&&Cl(this.baseMutations,e.baseMutations,((n,r)=>tb(n,r)))}}class Qp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return KC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new Qp(e,n,r,l)}}class oI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ye;function cI(i){switch(i){case se.OK:return Ae(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function BE(i){if(i===void 0)return Si("GRPC error has no .code"),se.UNKNOWN;switch(i){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Ae(39323,{code:i})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const dI=new gr([4294967295,4294967295],0);function ib(i){const e=hI().encode(i),n=new nE;return n.update(e),new Uint8Array(n.digest())}function rb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gr([n,r],0),new gr([l,u],0)]}class Xp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(gr.fromNumber(r)));return l.compare(dI)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ib(e),[r,l]=rb(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Xp(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=ib(e),[r,l]=rb(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gd{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gd(Re.min(),l,new xt(Fe),Ai(),Ge())}}class ku{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,Ge(),Ge(),Ge())}}class jh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class qE{constructor(e,n){this.targetId=e,this.Ce=n}}class HE{constructor(e,n,r=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class ab{constructor(){this.ve=0,this.Fe=lb(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new ku(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=lb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.He=vh(),this.Je=vh(),this.Ze=new xt(Fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(ap(u))if(r===0){const d=new Ee(u.path);this.et(n,d,mn.newNoDocument(d,Re.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=xr(r).toUint8Array()}catch(g){if(g instanceof mE)return Rl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Xp(d,l,u)}catch(g){return Rl(g instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&ap(p.target)){const g=new Ee(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,mn.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=Ge();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new gd(e,n,this.Ze,this.je,r);return this.je=Ai(),this.He=vh(),this.Je=vh(),this.Ze=new xt(Fe),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ab,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $t(Fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $t(Fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ab),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new xt(Ee.comparator)}function lb(){return new xt(Ee.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gI={and:"AND",or:"OR"};class yI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(i,e){return i.useProto3Json||cd(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function vI(i,e){return Qh(i,e.toTimestamp())}function Qs(i){return nt(!!i,49232),Re.fromTimestamp((function(n){const r=br(n);return new gt(r.seconds,r.nanos)})(i))}function Jp(i,e){return cp(i,e).canonicalString()}function cp(i,e){const n=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function GE(i){const e=dt.fromString(i);return nt(XE(e),10190,{key:e.toString()}),e}function hp(i,e){return Jp(i.databaseId,e.path)}function Um(i,e){const n=GE(e);if(n.get(1)!==i.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(YE(n))}function $E(i,e){return Jp(i.databaseId,e)}function _I(i){const e=GE(i);return e.length===4?dt.emptyPath():YE(e)}function dp(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function YE(i){return nt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ob(i,e,n){return{name:hp(i,e),fields:n.value.mapValue.fields}}function bI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(nt(x===void 0||typeof x=="string",58123),cn.fromBase64String(x||"")):(nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),cn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const x=y.code===void 0?se.UNKNOWN:BE(y.code);return new me(x,y.message||"")})(d);n=new HE(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Um(i,r.document.name),u=Qs(r.document.updateTime),d=r.document.createTime?Qs(r.document.createTime):Re.min(),p=new Nn({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(l,u,d,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new jh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Um(i,r.document),u=r.readTime?Qs(r.readTime):Re.min(),d=mn.newNoDocument(l,u),p=r.removedTargetIds||[];n=new jh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Um(i,r.document),u=r.removedTargetIds||[];n=new jh([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new uI(l,u),p=r.targetId;n=new qE(p,d)}}return n}function xI(i,e){let n;if(e instanceof ju)n={update:ob(i,e.key,e.value)};else if(e instanceof Kp)n={delete:hp(i,e.key)};else if(e instanceof Ir)n={update:ob(i,e.key,e.data),updateMask:II(e.fieldMask)};else{if(!(e instanceof aI))return Ae(16599,{dt:e.type});n={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof vu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _u)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:vI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(i,e.precondition)),n}function EI(i,e){return i&&i.length>0?(nt(e!==void 0,14353),i.map((n=>(function(l,u){let d=l.updateTime?Qs(l.updateTime):Qs(u);return d.isEqual(Re.min())&&(d=Qs(u)),new sI(d,l.transformResults||[])})(n,e)))):[]}function TI(i,e){return{documents:[$E(i,e.path)]}}function wI(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(i,l);const u=(function(y){if(y.length!==0)return QE(_s.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:pl(S.field),direction:NI(S.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=up(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function SI(i){let e=_I(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){nt(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(E){const S=KE(E);return S instanceof _s&&wE(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((S=>(function(K){return new Yh(gl(K.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,cd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,I=E.values||[];return new $h(I,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,I=E.values||[];return new $h(I,S)})(n.endAt)),qC(e,l,d,u,p,"F",g,y)}function AI(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=gl(n.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=gl(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(n.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return zt.create(gl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return _s.create(n.compositeFilter.filters.map((r=>KE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function NI(i){return mI[i]}function RI(i){return pI[i]}function CI(i){return gI[i]}function pl(i){return{fieldPath:i.canonicalString()}}function gl(i){return un.fromServerFormat(i.fieldPath)}function QE(i){return i instanceof zt?(function(n){if(n.op==="=="){if(Q_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(K_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(K_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:RI(n.op),value:n.value}}})(i):i instanceof _s?(function(n){const r=n.getFilters().map((l=>QE(l)));return r.length===1?r[0]:{compositeFilter:{op:CI(n.op),filters:r}}})(i):Ae(54877,{filter:i})}function II(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function JE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class dr{constructor(e,n,r,l,u=Re.min(),d=Re.min(),p=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DI{constructor(e){this.yt=e}}function jI(i){const e=SI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?op(e,e.limit,"L"):e}class kI{constructor(){this.Sn=new OI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(_r.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class OI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new $t(dt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new $t(dt.comparator)).toArray()}}const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(WE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class jl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jl(0)}static ar(){return new jl(-1)}}const cb="LruGarbageCollector",MI=1048576;function hb([i,e],[n,r]){const l=Fe(i,n);return l===0?Fe(e,r):l}class VI{constructor(e){this.Pr=e,this.buffer=new $t(hb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?pe(cb,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Ar(3e5)}))}}class PI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(ud.ce);const r=new VI(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(ub)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,d,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),fl()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function UI(i,e){return new PI(i,e)}class zI{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&lu(r.mutation,l,Ln.empty(),gt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const l=aa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Zo();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let u=Ai();const d=au(),p=(function(){return au()})();return n.forEach(((g,y)=>{const x=r.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof Ir)?u=u.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),lu(x.mutation,y,x.mutation.getFieldMask(),gt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>p.set(y,new BI(x,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=au();let l=new xt(((d,p)=>d-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Ln.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(l.get(p.batchId)||Ge()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=kE();x.forEach((S=>{if(!u.has(S)){const I=UE(n.get(S),r.get(S));I!==null&&E.set(S,I),u=u.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return HC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):ie.resolve(aa());let p=mu,g=u;return d.next((y=>ie.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ge()))).next((x=>({batchId:p,changes:jE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let l=Zo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Zo();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(g=>{const y=(function(E,S){return new Du(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((x=>{x.forEach(((E,S)=>{d=d.insert(E,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,mn.newInvalidDocument(x)))}));let p=Zo();return d.forEach(((g,y)=>{const x=u.get(g);x!==void 0&&lu(x.mutation,y,Ln.empty(),gt.now()),fd(n,y)&&(p=p.insert(g,y))})),p}))}}class HI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Qs(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:jI(l.bundledQuery),readTime:Qs(l.readTime)}})(n)),ie.resolve()}}class FI{constructor(){this.overlays=new xt(Ee.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const l=aa(),u=n.length+1,d=new Ee(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new xt(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=u.get(y.largestBatchId);x===null&&(x=aa(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return ie.resolve(p)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new oI(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ge(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class GI{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Wp{constructor(){this.kr=new $t(Jt.Kr),this.qr=new $t(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ee(new dt([])),r=new Jt(n,e),l=new Jt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ee(new dt([])),r=new Jt(n,e),l=new Jt(n,e+1);let u=Ge();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ee.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}class $I{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Jt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lI(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Bp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),l=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Fe);return n.forEach((l=>{const u=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{r=r.add(p.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;Ee.isDocumentKey(u)||(u=u.child(""));const d=new Jt(new Ee(u),0);let p=new $t(Fe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),d),ie.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(n.mutations,(l=>{const u=new Jt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Jt(n,0),l=this.Jr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YI{constructor(e){this.ti=e,this.docs=(function(){return new xt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():mn.newInvalidDocument(l))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Ai();const d=n.path,p=new Ee(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||_C(vC(x),r)<=0||(l.has(x.key)||fd(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,r,l){Ae(9500)}ni(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new KI(this)}getSize(e){return ie.resolve(this.size)}}class KI extends zI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class QI{constructor(e){this.persistence=e,this.ri=new Ea((n=>Fp(n)),Gp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new Wp,this.targetCount=0,this.oi=jl._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class ZE{constructor(e,n){this._i={},this.overlays={},this.ai=new ud(0),this.ui=!1,this.ui=!0,this.ci=new GI,this.referenceDelegate=e(this),this.li=new QI(this),this.indexManager=new kI,this.remoteDocumentCache=(function(l){return new YI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DI(n),this.Pi=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new $I(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const l=new XI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class XI extends xC{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Ai=null}static Vi(e){return new Zp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const l=Ee.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.fi=new Ea((r=>wC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=UI(this,n)}static Vi(e,n){return new Xh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(r++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}wr(e,n,r){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return ie.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Ge(),l=Ge();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new eg(e,n.fromCache,r,l)}}class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return S2()?8:EC(pn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new JI;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(fl()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(fl()<=He.DEBUG&&pe("QueryEngine","Query:",ml(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(fl()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):ie.resolve())}gs(e,n){if(Z_(n))return ie.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=op(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ge(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,op(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,l){return Z_(n)||l.isEqual(Re.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?ie.resolve(null):(fl()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ml(n)),this.Ds(e,d,n,yC(l,mu)).next((p=>p)))}))}bs(e,n){let r=new $t(IE(e));return n.forEach(((l,u)=>{fd(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return fl()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ml(n)),this.fs.getDocumentsMatchingQuery(e,n,_r.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const tg="LocalStore",ZI=3e8;class eD{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new xt(Fe),this.Fs=new Ea((u=>Fp(u)),Gp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function tD(i,e,n,r){return new eD(i,e,n,r)}async function e1(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Ge();for(const y of l){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function nD(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let I=ie.resolve();return S.forEach((K=>{I=I.next((()=>x.getEntry(g,K))).next((q=>{const L=y.docVersions.get(K);nt(L!==null,48541),q.version.compareTo(L)<0&&(E.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),x.addEntry(q)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ge();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function t1(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function sD(i,e){const n=Ie(i),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.li.removeMatchingKeys(u,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,x.addedDocuments,E))));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,r)),l=l.insert(E,I),(function(q,L,z){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=ZI?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,I,x)&&p.push(n.li.updateTargetData(u,I))}));let g=Ai(),y=Ge();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(iD(u,d,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Re.min())){const x=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return ie.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function iD(i,e,n){let r=Ge(),l=Ge();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let d=Ai();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):pe(tg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function rD(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aD(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,ie.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new dr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function fp(i,e,n){const r=Ie(i),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Hl(d))throw d;pe(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function db(i,e,n){const r=Ie(i);let l=Re.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=Ie(g),S=E.Fs.get(x);return S!==void 0?ie.resolve(E.vs.get(S)):E.li.getTargetData(y,x)})(r,d,Ks(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:Re.min(),n?u:Ge()))).next((p=>(lD(r,GC(e),p),{documents:p,ks:u})))))}function lD(i,e,n){let r=i.Ms.get(e)||Re.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(e,r)}class fb{constructor(){this.activeTargetIds=JC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oD{constructor(){this.vo=new fb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uD{Mo(e){}shutdown(){}}const mb="ConnectivityMonitor";class pb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(mb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function mp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const zm="RestConnection",cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const d=mp(),p=this.Qo(e,n.toUriEncodedString());pe(zm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(p),x=Pl(y);return this.zo(e,p,g,r,x).then((E=>(pe(zm,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Rl(zm,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",r),E}))}jo(e,n,r,l,u,d){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=cD[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class dD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",Qo=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Tl extends hD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tl.c_){const e=aE();Qo(e,rE.STAT_EVENT,(n=>{n.stat===tp.PROXY?pe(dn,"STAT_EVENT: detected buffering proxy"):n.stat===tp.NOPROXY&&pe(dn,"STAT_EVENT: detected no buffering proxy")})),Tl.c_=!0}}zo(e,n,r,l,u){const d=mp();return new Promise(((p,g)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(iE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rh.NO_ERROR:const E=y.getResponseJson();pe(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case Rh.TIMEOUT:pe(dn,`RPC '${e}' ${d} timed out`),g(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const S=y.getStatus();if(pe(dn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const K=I?.error;if(K&&K.status&&K.message){const q=(function(z){const P=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(P)>=0?P:se.UNKNOWN})(K.status);g(new me(q,K.message))}else g(new me(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(dn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(l);pe(dn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=mp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");pe(dn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const x=d.createWebChannel(y,p);this.I_(x);let E=!1,S=!1;const I=new dD({Ho:K=>{S?pe(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(E||(pe(dn,`Opening RPC '${e}' stream ${l} transport.`),x.open(),E=!0),pe(dn,`RPC '${e}' stream ${l} sending:`,K),x.send(K))},Jo:()=>x.close()});return Qo(x,Wo.EventType.OPEN,(()=>{S||(pe(dn,`RPC '${e}' stream ${l} transport opened.`),I.i_())})),Qo(x,Wo.EventType.CLOSE,(()=>{S||(S=!0,pe(dn,`RPC '${e}' stream ${l} transport closed`),I.o_(),this.E_(x))})),Qo(x,Wo.EventType.ERROR,(K=>{S||(S=!0,Rl(dn,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),I.o_(new me(se.UNAVAILABLE,"The operation could not be completed")))})),Qo(x,Wo.EventType.MESSAGE,(K=>{if(!S){const q=K.data[0];nt(!!q,16349);const L=q,z=L?.error||L[0]?.error;if(z){pe(dn,`RPC '${e}' stream ${l} received error:`,z);const P=z.status;let Q=(function(de){const N=Ut[de];if(N!==void 0)return BE(N)})(P),le=z.message;Q===void 0&&(Q=se.INTERNAL,le="Unknown error status: "+P+" with message "+z.message),S=!0,I.o_(new me(Q,le)),x.close()}else pe(dn,`RPC '${e}' stream ${l} received:`,q),I.__(q)}})),Tl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lE()}}function fD(i){return new Tl(i)}function Bm(){return typeof document<"u"?document:null}function yd(i){return new yI(i,!0)}Tl.c_=!1;class n1{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&pe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gb="PersistentStream";class s1{constructor(e,n,r,l,u,d,p,g){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new me(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mD extends s1{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Qs(d.readTime):Re.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=dp(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=ap(g)?{documents:TI(u,g)}:{query:wI(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FE(u,d.resumeToken);const y=up(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=Qh(u,d.snapshotVersion.toTimestamp());const y=up(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=AI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.K_(n)}}class pD extends s1{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EI(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xI(this.serializer,r)))};this.K_(n)}}class gD{}class yD extends gD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,cp(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(se.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,cp(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(se.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vD(i,e,n,r){return new yD(i,e,n,r)}class _D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class bD{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ta(this)&&(pe(ma,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await Ou(y),y.Va.set("Unknown"),y.Ea.delete(4),await vd(y)})(this))}))})),this.Va=new _D(r,l)}}async function vd(i){if(Ta(i))for(const e of i.Ra)await e(!0)}async function Ou(i){for(const e of i.Ra)await e(!1)}function i1(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):Fl(n).O_()&&sg(n,e))}function ng(i,e){const n=Ie(i),r=Fl(n);n.Ia.delete(e),r.O_()&&r1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Va.set("Unknown"))}function sg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(i).Z_(e)}function r1(i,e){i.da.$e(e),Fl(i).X_(e)}function ig(i){i.da=new fI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fl(i).start(),i.Va.ua()}function rg(i){return Ta(i)&&!Fl(i).x_()&&i.Ia.size>0}function Ta(i){return Ie(i).Ea.size===0}function a1(i){i.da=void 0}async function xD(i){i.Va.set("Online")}async function ED(i){i.Ia.forEach(((e,n)=>{sg(i,e)}))}async function TD(i,e){a1(i),rg(i)?(i.Va.ha(e),ig(i)):i.Va.set("Unknown")}async function wD(i,e,n){if(i.Va.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(i,e)}catch(r){pe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(i,r)}else if(e instanceof jh?i.da.Xe(e):e instanceof qE?i.da.st(e):i.da.tt(e),!n.isEqual(Re.min()))try{const r=await t1(i.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(cn.EMPTY_BYTE_STRING,x.snapshotVersion)),r1(u,g);const E=new dr(x.target,g,y,x.sequenceNumber);sg(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){pe(ma,"Failed to raise snapshot:",r),await Jh(i,r)}}async function Jh(i,e,n){if(!Hl(e))throw e;i.Ea.add(1),await Ou(i),i.Va.set("Offline"),n||(n=()=>t1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await vd(i)}))}function l1(i,e){return e().catch((n=>Jh(i,n,e)))}async function _d(i){const e=Ie(i),n=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;SD(e);)try{const l=await rD(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,AD(e,l)}catch(l){await Jh(e,l)}o1(e)&&u1(e)}function SD(i){return Ta(i)&&i.Ta.length<10}function AD(i,e){i.Ta.push(e);const n=Tr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function o1(i){return Ta(i)&&!Tr(i).x_()&&i.Ta.length>0}function u1(i){Tr(i).start()}async function ND(i){Tr(i).ra()}async function RD(i){const e=Tr(i);for(const n of i.Ta)e.ea(n.mutations)}async function CD(i,e,n){const r=i.Ta.shift(),l=Qp.from(r,e,n);await l1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await _d(i)}async function ID(i,e){e&&Tr(i).Y_&&await(async function(r,l){if((function(d){return cI(d)&&d!==se.ABORTED})(l.code)){const u=r.Ta.shift();Tr(r).B_(),await l1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await _d(r)}})(i,e),o1(i)&&u1(i)}async function yb(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),pe(ma,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await Ou(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vd(n)}async function DD(i,e){const n=Ie(i);e?(n.Ea.delete(2),await vd(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function Fl(i){return i.ma||(i.ma=(function(n,r,l){const u=Ie(n);return u.sa(),new mD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:xD.bind(null,i),Yo:ED.bind(null,i),t_:TD.bind(null,i),J_:wD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),rg(i)?ig(i):i.Va.set("Unknown")):(await i.ma.stop(),a1(i))}))),i.ma}function Tr(i){return i.fa||(i.fa=(function(n,r,l){const u=Ie(n);return u.sa(),new pD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ND.bind(null,i),t_:ID.bind(null,i),ta:RD.bind(null,i),na:CD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await _d(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ag{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,p=new ag(e,n,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(i,e){if(Si("AsyncQueue",`${e}: ${i}`),Hl(i))return new me(se.UNAVAILABLE,`${e}: ${i}`);throw i}class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vb{constructor(){this.ga=new xt(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kl{constructor(e,n,r,l,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new kl(e,n,wl.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class jD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kD{constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ie(n),u=l.queries;l.queries=_b(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new me(se.ABORTED,"Firestore shutting down"))}}function _b(){return new Ea((i=>CE(i)),dd)}async function c1(i,e){const n=Ie(i);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new jD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=lg(d,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&og(n)}async function h1(i,e){const n=Ie(i),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OD(i,e){const n=Ie(i);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&og(n)}function MD(i,e,n){const r=Ie(i),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function og(i){i.Ca.forEach((e=>{e.next()}))}var pp,bb;(bb=pp||(pp={})).Ma="default",bb.Cache="cache";class d1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}class f1{constructor(e){this.key=e}}class m1{constructor(e){this.key=e}}class VD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=IE(e),this.tu=new wl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new vb,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),I=fd(this.query,E)?E:null,K=!!S&&this.mutatedKeys.has(S.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;S&&I?S.data.isEqual(I.data)?K!==q&&(r.track({type:3,doc:I}),L=!0):this.su(S,I)||(r.track({type:2,doc:I}),L=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!S&&I?(r.track({type:0,doc:I}),L=!0):S&&!I&&(r.track({type:1,doc:S}),L=!0,(g||y)&&(p=!0)),L&&(I?(d=d.add(I),u=q?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(I,K){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:L})}};return q(I)-q(K)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new kl(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new m1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new f1(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ug="SyncEngine";class LD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PD{constructor(e){this.key=e,this.hu=!1}}class UD{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ea((p=>CE(p)),dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(Ee.comparator),this.Au=new Map,this.Vu=new Wp,this.du={},this.mu=new Map,this.fu=jl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(i,e,n=!0){const r=b1(i);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await p1(r,e,n,!0),l}async function BD(i,e){const n=b1(i);await p1(n,e,!0,!1)}async function p1(i,e,n,r){const l=await aD(i.localStore,Ks(e)),u=l.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await qD(i,e,u,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&i1(i.remoteStore,l),p}async function qD(i,e,n,r,l){i.pu=(E,S,I)=>(async function(q,L,z,P){let Q=L.view.ru(z);Q.Ss&&(Q=await db(q.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,Q))));const le=P&&P.targetChanges.get(L.targetId),oe=P&&P.targetMismatches.get(L.targetId)!=null,de=L.view.applyChanges(Q,q.isPrimaryClient,le,oe);return Eb(q,L.targetId,de.au),de.snapshot})(i,E,S,I);const u=await db(i.localStore,e,!0),d=new VD(e,u.ks),p=d.ru(u.documents),g=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),y=d.applyChanges(p,i.isPrimaryClient,g);Eb(i,n,y.au);const x=new LD(e,n,d);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function HD(i,e,n){const r=Ie(i),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!dd(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await fp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&ng(r.remoteStore,l.targetId),gp(r,l.targetId)})).catch(ql)):(gp(r,l.targetId),await fp(r.localStore,l.targetId,!0))}async function FD(i,e){const n=Ie(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ng(n.remoteStore,r.targetId))}async function GD(i,e,n){const r=WD(i);try{const l=await(function(d,p){const g=Ie(d),y=gt.now(),x=p.reduce(((I,K)=>I.add(K.key)),Ge());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let K=Ai(),q=Ge();return g.xs.getEntries(I,x).next((L=>{K=L,K.forEach(((z,P)=>{P.isValidDocument()||(q=q.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,K))).next((L=>{E=L;const z=[];for(const P of p){const Q=rI(P,E.get(P.key).overlayedDocument);Q!=null&&z.push(new Ir(P.key,Q,xE(Q.value.mapValue),gs.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,z,p)})).next((L=>{S=L;const z=L.applyToLocalDocumentSet(E,q);return g.documentOverlayCache.saveOverlays(I,L.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:jE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new xt(Fe)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(r,l.batchId,n),await Mu(r,l.changes),await _d(r.remoteStore)}catch(l){const u=lg(l,"Failed to persist write");n.reject(u)}}async function g1(i,e){const n=Ie(i);try{const r=await sD(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await Mu(n,r,e)}catch(r){await ql(r)}}function xb(i,e,n){const r=Ie(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ie(d);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.ba)S.va(p)&&(y=!0)})),y&&og(g)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $D(i,e,n){const r=Ie(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new xt(Ee.comparator);d=d.insert(u,mn.newNoDocument(u,Re.min()));const p=Ge().add(u),g=new gd(Re.min(),new Map,new xt(Fe),d,p);await g1(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),cg(r)}else await fp(r.localStore,e,!1).then((()=>gp(r,e,n))).catch(ql)}async function YD(i,e){const n=Ie(i),r=e.batch.batchId;try{const l=await nD(n.localStore,e);v1(n,r,null),y1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,l)}catch(l){await ql(l)}}async function KD(i,e,n){const r=Ie(i);try{const l=await(function(d,p){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(nt(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);v1(r,e,n),y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,l)}catch(l){await ql(l)}}function y1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function v1(i,e,n){const r=Ie(i);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function gp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||_1(i,r)}))}function _1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(ng(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),cg(i))}function Eb(i,e,n){for(const r of n)r instanceof f1?(i.Vu.addReference(r.key,e),QD(i,r)):r instanceof m1?(pe(ug,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||_1(i,r.key)):Ae(19791,{wu:r})}function QD(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(pe(ug,"New document in limbo: "+n),i.Eu.add(r),cg(i))}function cg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ee(dt.fromString(e)),r=i.fu.next();i.Au.set(r,new PD(n)),i.Ru=i.Ru.insert(n,r),i1(i.remoteStore,new dr(Ks($p(n.path)),r,"TargetPurposeLimboResolution",ud.ce))}}async function Mu(i,e,n){const r=Ie(i),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=eg.Es(g.targetId,y);u.push(x)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(g,y){const x=Ie(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(S=>ie.forEach(S.Ts,(I=>x.persistence.referenceDelegate.addReference(E,S.targetId,I))).next((()=>ie.forEach(S.Is,(I=>x.persistence.referenceDelegate.removeReference(E,S.targetId,I)))))))))}catch(E){if(!Hl(E))throw E;pe(tg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const I=x.vs.get(S),K=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(K);x.vs=x.vs.insert(S,q)}}})(r.localStore,u))}async function XD(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){pe(ug,"User change. New user:",e.toKey());const r=await e1(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(se.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Ns)}}function JD(i,e){const n=Ie(i),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let l=Ge();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function b1(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=g1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.Pu.J_=OD.bind(null,e.eventManager),e.Pu.yu=MD.bind(null,e.eventManager),e}function WD(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tD(this.persistence,new WI,e.initialUser,this.serializer)}Cu(e){return new ZE(Zp.Vi,this.serializer)}Du(e){return new oD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class ZD extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ZE((r=>Xh.Vi(r,n)),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XD.bind(null,this.syncEngine),await DD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kD})()}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=fD(e.databaseInfo);return vD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,p){return new bD(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>xb(this.syncEngine,n,0)),(function(){return pb.v()?new pb:new uD})())}createSyncEngine(e,n){return(function(l,u,d,p,g,y,x){const E=new UD(l,u,d,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);pe(ma,"RemoteStore shutting down."),r.Ea.add(5),await Ou(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};class x1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wr="FirestoreClient";class e5{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{pe(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(pe(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await e1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Tb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await t5(i);pe(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>yb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>yb(e.remoteStore,l))),i._onlineComponents=e}async function t5(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(wr,"Using user provided OfflineComponentProvider");try{await qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Rl("Error using user provided cache. Falling back to memory cache: "+n),await qm(i,new Wh)}}else pe(wr,"Using default OfflineComponentProvider"),await qm(i,new ZD(void 0));return i._offlineComponents}async function E1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(wr,"Using user provided OnlineComponentProvider"),await Tb(i,i._uninitializedComponentsProvider._online)):(pe(wr,"Using default OnlineComponentProvider"),await Tb(i,new yp))),i._onlineComponents}function n5(i){return E1(i).then((e=>e.syncEngine))}async function vp(i){const e=await E1(i),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=HD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function s5(i,e,n,r){const l=new x1(r),u=new d1(e,l,n);return i.asyncQueue.enqueueAndForget((async()=>c1(await vp(i),u))),()=>{l.Nu(),i.asyncQueue.enqueueAndForget((async()=>h1(await vp(i),u)))}}function i5(i,e,n={}){const r=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const x=new x1({next:S=>{x.Nu(),d.enqueueAndForget((()=>h1(u,E))),S.fromCache&&g.source==="server"?y.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new d1(p,x,{includeMetadataChanges:!0,Ka:!0});return c1(u,E)})(await vp(i),i.asyncQueue,e,n,r))),r.promise}function r5(i,e){const n=new yr;return i.asyncQueue.enqueueAndForget((async()=>GD(await n5(i),e,n))),n.promise}function T1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const a5="ComponentProvider",wb=new Map;function l5(i,e,n,r,l){return new NC(i,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,T1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const w1="firestore.googleapis.com",Sb=!0;class Ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MI)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aC;switch(r.type){case"firstParty":return new cC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wb.get(n);r&&(pe(a5,"Removing Datastore"),wb.delete(n),r.terminate())})(this),Promise.resolve()}}function o5(i,e,n,r={}){i=Ys(i,bd);const l=Pl(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;l&&(fx(`https://${p}`),mx("Firestore",!0)),u.host!==w1&&u.host!==p&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!ua(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=fn.MOCK_USER;else{y=g2(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new fn(E)}i._authCredentials=new lC(new uE(y,x))}}class wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iu(n,qt._jsonSchema))return new qt(e,r||null,new Ee(dt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class vr extends wa{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ee(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function It(i,e,...n){if(i=Yt(i),cE("collection","path",e),i instanceof bd){const r=dt.fromString(e,...n);return U_(r),new vr(i,null,r)}{if(!(i instanceof qt||i instanceof vr))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(dt.fromString(e,...n));return U_(r),new vr(i.firestore,null,r)}}function ps(i,e,...n){if(i=Yt(i),arguments.length===1&&(e=zp.newId()),cE("doc","path",e),i instanceof bd){const r=dt.fromString(e,...n);return P_(r),new qt(i,null,new Ee(r))}{if(!(i instanceof qt||i instanceof vr))throw new me(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(dt.fromString(e,...n));return P_(r),new qt(i.firestore,i instanceof vr?i.converter:null,new Ee(r))}}const Nb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=Bm();r&&pe(Nb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;pe(Nb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",Cb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=ag.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Cb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class pa extends bd{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Rb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function u5(i,e){const n=typeof i=="object"?i:vx(),r=typeof i=="string"?i:Fh,l=Ip(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=m2("firestore");u&&o5(l,...u)}return l}function hg(i){if(i._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||c5(i),i._firestoreClient}function c5(i){const e=i._freezeSettings(),n=l5(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new e5(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(cn.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Bt("string",Zn._jsonSchemaVersion),bytes:Bt("string")};class dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xd{constructor(e){this._methodName=e}}class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:Bt("string",Xs._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class ys{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ys(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ys._jsonSchemaVersion="firestore/vectorValue/1.0",ys._jsonSchema={type:Bt("string",ys._jsonSchemaVersion),vectorValues:Bt("object")};const h5=/^__.*__$/;class d5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class S1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:i})}}class fg{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(A1(this.dataSource)&&h5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class f5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}createContext(e,n,r,l=!1){return new fg({dataSource:e,methodName:n,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(i){const e=i._freezeSettings(),n=yd(i._databaseId);return new f5(i._databaseId,!!e.ignoreUndefinedProperties,n)}function m5(i,e,n,r,l,u={}){const d=i.createContext(u.merge||u.mergeFields?2:0,e,n,l);gg("Data must be an object, but it was:",d,r);const p=N1(r,d);let g,y;if(u.merge)g=new Ln(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const E of u.mergeFields){const S=Ol(e,E,n);if(!d.contains(S))throw new me(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);I1(x,S)||x.push(S)}g=new Ln(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new d5(new Nn(p),g,y)}class Ed extends xd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}class pg extends xd{_toFieldTransform(e){return new tI(e.path,new vu)}isEqual(e){return e instanceof pg}}function p5(i,e,n,r){const l=i.createContext(1,e,n);gg("Data must be an object, but it was:",l,r);const u=[],d=Nn.empty();Cr(r,((g,y)=>{const x=C1(e,g,n);y=Yt(y);const E=l.childContextForFieldPath(x);if(y instanceof Ed)u.push(x);else{const S=Vu(y,E);S!=null&&(u.push(x),d.set(x,S))}}));const p=new Ln(u);return new S1(d,p,l.fieldTransforms)}function g5(i,e,n,r,l,u){const d=i.createContext(1,e,n),p=[Ol(e,r,n)],g=[l];if(u.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Ol(e,u[S])),g.push(u[S+1]);const y=[],x=Nn.empty();for(let S=p.length-1;S>=0;--S)if(!I1(y,p[S])){const I=p[S];let K=g[S];K=Yt(K);const q=d.childContextForFieldPath(I);if(K instanceof Ed)y.push(I);else{const L=Vu(K,q);L!=null&&(y.push(I),x.set(I,L))}}const E=new Ln(y);return new S1(x,E,d.fieldTransforms)}function y5(i,e,n,r=!1){return Vu(n,i.createContext(r?4:3,e))}function Vu(i,e){if(R1(i=Yt(i)))return gg("Unsupported field value:",e,i),N1(i,e);if(i instanceof xd)return(function(r,l){if(!A1(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=Vu(p,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(i,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:Qh(l.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(l.serializer,u)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:FE(l.serializer,r._byteString)};if(r instanceof qt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ys)return(function(d,p){const g=d instanceof ys?d.toArray():d;return{mapValue:{fields:{[_E]:{stringValue:bE},[Gh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return Yp(p.serializer,x)}))}}}}}})(r,l);if(JE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${od(r)}`)})(i,e)}function N1(i,e){const n={};return fE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(i,((r,l)=>{const u=Vu(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function R1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof gt||i instanceof Xs||i instanceof Zn||i instanceof qt||i instanceof xd||i instanceof ys||JE(i))}function gg(i,e,n){if(!R1(n)||!hE(n)){const r=od(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Ol(i,e,n){if((e=Yt(e))instanceof dg)return e._internalPath;if(typeof e=="string")return C1(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const v5=new RegExp("[~\\*/\\[\\]]");function C1(i,e,n){if(e.search(v5)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new dg(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new me(se.INVALID_ARGUMENT,p+i+g)}function I1(i,e){return i.some((n=>n.isEqual(e)))}class _5{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new ys(n)}convertGeoPoint(e){return new Xs(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=br(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);nt(XE(r),9688,{name:e});const l=new gu(r.get(1),r.get(3)),u=new Ee(r.popFirst(5));return l.isEqual(n)||Si(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class yg extends _5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function vg(){return new pg("serverTimestamp")}const Ib="@firebase/firestore",Db="4.10.0";function jb(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class D1{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ol("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b5 extends D1{data(){return super.data()}}function j1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class x5 extends _g{}function ga(i,e,...n){let r=[];e instanceof _g&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((g=>g instanceof bg)).length,p=u.filter((g=>g instanceof Td)).length;if(d>1||d>0&&p>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class Td extends x5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Td(e,n,r)}_apply(e){const n=this._parse(e);return k1(e._query,n),new wa(e.firestore,e.converter,lp(e._query,n))}_parse(e){const n=mg(e.firestore);return(function(u,d,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ob(E,x);const K=[];for(const q of E)K.push(kb(g,u,q));S={arrayValue:{values:K}}}else S=kb(g,u,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ob(E,x),S=y5(p,d,E,x==="in"||x==="not-in");return zt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ya(i,e,n){const r=e,l=Ol("where",i);return Td._create(l,r,n)}class bg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_s.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)k1(d,g),d=lp(d,g)})(e._query,n),new wa(e.firestore,e.converter,lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kb(i,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!Ee.isDocumentKey(r))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y_(i,new Ee(r))}if(n instanceof qt)return Y_(i,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function Ob(i,e){if(!Array.isArray(i)||i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k1(i,e){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function E5(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends D1{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ol("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Bt("string",la._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class kh extends la{data(e={}){return super.data(e)}}class oa{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new tu(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new kh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new tu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new kh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new tu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:T5(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Bt("string",oa._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function va(i){i=Ys(i,wa);const e=Ys(i.firestore,pa),n=hg(e),r=new yg(e);return j1(i._query),i5(n,i._query).then((l=>new oa(e,r,i,l)))}function Sr(i,e,n,...r){i=Ys(i,qt);const l=Ys(i.firestore,pa),u=mg(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof dg?g5(u,"updateDoc",i._key,e,n,r):p5(u,"updateDoc",i._key,e),xg(l,[d.toMutation(i._key,gs.exists(!0))])}function Mb(i){return xg(Ys(i.firestore,pa),[new Kp(i._key,gs.none())])}function Lu(i,e){const n=Ys(i.firestore,pa),r=ps(i),l=E5(i.converter,e),u=mg(i.firestore);return xg(n,[m5(u,"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then((()=>r))}function _i(i,...e){i=Yt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jb(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,d,p;if(i instanceof qt)d=Ys(i.firestore,pa),p=$p(i._key.path),u={next:y=>{e[r]&&e[r](w5(d,i,y))},error:e[r+1],complete:e[r+2]};else{const y=Ys(i,wa);d=Ys(y.firestore,pa),p=y._query;const x=new yg(d);u={next:E=>{e[r]&&e[r](new oa(d,x,y,E))},error:e[r+1],complete:e[r+2]},j1(i._query)}const g=hg(d);return s5(g,p,l,u)}function xg(i,e){const n=hg(i);return r5(n,e)}function w5(i,e,n){const r=n.docs.get(e._key),l=new yg(i);return new la(i,l,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){rC(Ul),Nl(new ca("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new pa(new oC(r.getProvider("auth-internal")),new hC(d,r.getProvider("app-check-internal")),RC(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),pr(Ib,Db,e),pr(Ib,Db,"esm2020")})();const S5={apiKey:"AIzaSyC1qZ9fK-6LFBxVWZsAD4dZq-KVg36A7f8",authDomain:"scheduler-65e51.firebaseapp.com",projectId:"scheduler-65e51",storageBucket:"scheduler-65e51.firebasestorage.app",messagingSenderId:"93993791456",appId:"1:93993791456:web:3a777a2da0dad4b8b74585"},O1=yx(S5),tt=u5(O1),_a=tC(O1);const M1=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const A5=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const N5=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Vb=i=>{const e=N5(i);return e.charAt(0).toUpperCase()+e.slice(1)};var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const C5=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const I5=V.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>V.createElement("svg",{ref:g,...R5,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:M1("lucide",l),...!u&&!C5(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,x])=>V.createElement(y,x)),...Array.isArray(u)?u:[u]]));const Qe=(i,e)=>{const n=V.forwardRef(({className:r,...l},u)=>V.createElement(I5,{ref:u,iconNode:e,className:M1(`lucide-${A5(Vb(i))}`,`lucide-${i}`,r),...l}));return n.displayName=Vb(i),n};const D5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sl=Qe("arrow-left",D5);const j5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ou=Qe("arrow-right",j5);const k5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],O5=Qe("calendar-check",k5);const M5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Lb=Qe("calendar-days",M5);const V5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Al=Qe("calendar",V5);const L5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],P5=Qe("chart-column",L5);const U5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V1=Qe("check",U5);const z5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L1=Qe("chevron-left",z5);const B5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P1=Qe("chevron-right",B5);const q5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vl=Qe("circle-check-big",q5);const H5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xu=Qe("clock",H5);const F5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],G5=Qe("coffee",F5);const $5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y5=Qe("eye",$5);const K5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Q5=Qe("globe",K5);const X5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U1=Qe("lock",X5);const J5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W5=Qe("log-out",J5);const Z5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],e4=Qe("mail",Z5);const t4=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],n4=Qe("party-popper",t4);const s4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],z1=Qe("pen-line",s4);const i4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],r4=Qe("phone",i4);const a4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Eg=Qe("plus",a4);const l4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],o4=Qe("refresh-cw",l4);const u4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c4=Qe("save",u4);const h4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Pu=Qe("scissors",h4);const d4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],f4=Qe("sparkles",d4);const m4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pb=Qe("star",m4);const p4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],uu=Qe("tag",p4);const g4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ed=Qe("trash-2",g4);const y4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],v4=Qe("trending-up",y4);const _4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],b4=Qe("user",_4);const x4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fs=Qe("users",x4);const E4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],td=Qe("x",E4);const T4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w4=Qe("zap",T4);function Ub({className:i=""}){return m.jsxs(pt,{to:"/",className:`flex items-center gap-2.5 ${i}`,children:[m.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:m.jsx(Pu,{className:"w-[18px] h-[18px] text-white"})}),m.jsxs("span",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:["Book",m.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function S4(){return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-slate-100",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[m.jsx(Ub,{}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(pt,{to:"/login",className:"px-4 py-2.5 text-sm font-semibold text-slate-600 hover:text-slate-900 transition-colors",children:"Sign In"}),m.jsxs(pt,{to:"/register",className:"hidden sm:inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all hover:shadow-lg hover:shadow-blue-600/25 hover:-translate-y-0.5",children:["Get Started Free",m.jsx(ou,{className:"w-4 h-4"})]}),m.jsx(pt,{to:"/register",className:"sm:hidden px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all",children:"Start Free"})]})]})}),m.jsxs("section",{className:"relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 -z-10",children:[m.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-50 rounded-full blur-3xl opacity-60 -translate-y-1/2 translate-x-1/3"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-violet-50 rounded-full blur-3xl opacity-50 translate-y-1/3 -translate-x-1/4"})]}),m.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 pt-16 sm:pt-24 pb-16 sm:pb-20",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[m.jsxs("div",{className:"animate-fade-in-up",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-3.5 py-1.5 bg-blue-50 border border-blue-100 rounded-full text-sm font-medium text-blue-700 mb-6",children:[m.jsx(f4,{className:"w-3.5 h-3.5"}),"Free for beauty professionals"]}),m.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-[3.5rem] font-extrabold text-slate-900 leading-[1.1] mb-6 tracking-tight",children:["Online booking",m.jsx("br",{}),m.jsx("span",{className:"text-blue-600",children:"made effortless"})]}),m.jsx("p",{className:"text-lg sm:text-xl text-slate-600 leading-relaxed mb-8 max-w-lg",children:"Let clients book 24/7. Manage your team, services, and schedule from one beautiful dashboard. No more phone tag."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-10",children:[m.jsxs(pt,{to:"/register",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-base shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-600/30 transition-all hover:-translate-y-0.5",children:["Start for Free",m.jsx(ou,{className:"w-4 h-4"})]}),m.jsx("a",{href:"#how-it-works",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-base border border-slate-200 transition-all",children:"See How It Works"})]}),m.jsxs("div",{className:"flex items-center gap-5 text-sm text-slate-500",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(vl,{className:"w-4 h-4 text-emerald-500"}),m.jsx("span",{children:"Free to use"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(vl,{className:"w-4 h-4 text-emerald-500"}),m.jsx("span",{children:"No credit card"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(vl,{className:"w-4 h-4 text-emerald-500"}),m.jsx("span",{children:"Setup in 2 min"})]})]})]}),m.jsxs("div",{className:"relative animate-fade-in-up",style:{animationDelay:"150ms"},children:[m.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl shadow-slate-200/60 border border-slate-200/80 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-slate-50 border-b border-slate-100",children:[m.jsxs("div",{className:"flex gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"})]}),m.jsx("div",{className:"flex-1 mx-4",children:m.jsx("div",{className:"bg-white border border-slate-200 rounded-lg px-3 py-1.5 text-xs text-slate-400 font-mono",children:"bookflow.app/shop/janes-salon"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-sm font-bold",children:"J"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-slate-900",children:"Jane's Salon"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Book your next appointment"})]})]}),m.jsx("div",{className:"space-y-2.5",children:[{name:"Haircut & Style",price:"$45",time:"45 min",color:"bg-blue-500"},{name:"Color Treatment",price:"$120",time:"2 hours",color:"bg-violet-500"},{name:"Blowout",price:"$35",time:"30 min",color:"bg-emerald-500"}].map(i=>m.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-slate-50 rounded-xl border border-slate-100 group hover:border-blue-200 hover:bg-blue-50/50 transition-all cursor-default",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-2 h-8 ${i.color} rounded-full`}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-semibold text-slate-800",children:i.name}),m.jsx("div",{className:"text-xs text-slate-500",children:i.time})]})]}),m.jsx("div",{className:"text-sm font-bold text-slate-900",children:i.price})]},i.name))})]})]}),m.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-white rounded-xl shadow-lg shadow-slate-200/60 border border-slate-100 px-4 py-3 flex items-center gap-3 animate-float",children:[m.jsx("div",{className:"w-9 h-9 bg-emerald-100 rounded-full flex items-center justify-center",children:m.jsx(vl,{className:"w-5 h-5 text-emerald-600"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-slate-500",children:"Booking confirmed"}),m.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Tomorrow at 2:00 PM"})]})]})]})]})})]}),m.jsx("section",{className:"border-y border-slate-100 bg-slate-50/50",children:m.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-8 sm:py-10",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8 sm:gap-16 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"500+"}),m.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Businesses trust BookFlow"})]}),m.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"10,000+"}),m.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Appointments booked"})]}),m.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl sm:text-3xl font-extrabold text-slate-900",children:["4.9 ",m.jsx(Pb,{className:"w-5 h-5 text-amber-400 fill-amber-400"})]}),m.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Average rating"})]})]})})}),m.jsx("section",{className:"py-20 sm:py-28",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[m.jsxs("div",{className:"text-center mb-14",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Everything you need to run your bookings"}),m.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Built specifically for beauty professionals, salons, and service businesses. Simple, powerful, and free."})]}),m.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children",children:[{icon:m.jsx(Al,{className:"w-6 h-6"}),title:"Smart Scheduling",desc:"Set weekly hours with breaks. Slots auto-generate so your calendar is always up to date.",color:"bg-blue-100 text-blue-600"},{icon:m.jsx(Fs,{className:"w-6 h-6"}),title:"Multi-Staff Support",desc:"Add your whole team. Each member gets their own schedule, hours, and bookings.",color:"bg-violet-100 text-violet-600"},{icon:m.jsx(w4,{className:"w-6 h-6"}),title:"Instant Booking",desc:"Clients pick a service, choose a stylist, and book  all in under a minute.",color:"bg-amber-100 text-amber-600"},{icon:m.jsx(Q5,{className:"w-6 h-6"}),title:"Your Own Booking Page",desc:"Get a unique link to share anywhere. No app downloads needed for your clients.",color:"bg-emerald-100 text-emerald-600"}].map(i=>m.jsxs("div",{className:"group bg-white rounded-2xl p-7 border border-slate-200/80 hover:border-slate-300 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[m.jsx("div",{className:`w-12 h-12 ${i.color} rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:i.icon}),m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:i.title}),m.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:i.desc})]},i.title))})]})}),m.jsx("section",{id:"how-it-works",className:"py-20 sm:py-28 bg-slate-50 border-y border-slate-100",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[m.jsxs("div",{className:"text-center mb-14",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Up and running in minutes"}),m.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Three simple steps to start accepting online bookings today."})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12 relative",children:[m.jsx("div",{className:"hidden md:block absolute top-14 left-[calc(16.67%+1rem)] right-[calc(16.67%+1rem)] h-px bg-gradient-to-r from-blue-200 via-violet-200 to-emerald-200"}),[{step:"1",title:"Create your account",desc:"Sign up free in 30 seconds. Name your shop and you're in.",color:"from-blue-500 to-blue-600",shadow:"shadow-blue-500/30"},{step:"2",title:"Set up your shop",desc:"Add your services, team, and weekly hours. BookFlow handles the rest.",color:"from-violet-500 to-violet-600",shadow:"shadow-violet-500/30"},{step:"3",title:"Share your link",desc:"Send your booking page to clients. They book, you get notified.",color:"from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/30"}].map(i=>m.jsxs("div",{className:"relative text-center",children:[m.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${i.color} rounded-2xl flex items-center justify-center mx-auto mb-6 text-white text-xl font-extrabold shadow-lg ${i.shadow} relative z-10`,children:i.step}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:i.title}),m.jsx("p",{className:"text-slate-600 leading-relaxed max-w-xs mx-auto",children:i.desc})]},i.step))]})]})}),m.jsx("section",{className:"py-20 sm:py-28",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[m.jsxs("div",{className:"text-center mb-14",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Loved by professionals"}),m.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"See why salons and stylists are switching to BookFlow."})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{quote:"BookFlow replaced our paper appointment book. Clients love being able to book online anytime.",name:"Maria Santos",role:"Salon Owner",initials:"MS",color:"bg-blue-100 text-blue-700"},{quote:"Setting up was incredibly easy. I had my booking page live and shared with clients in under 10 minutes.",name:"David Chen",role:"Barber",initials:"DC",color:"bg-violet-100 text-violet-700"},{quote:"The multi-staff feature is perfect. Each stylist manages their own schedule and clients can pick who they want.",name:"Lisa Park",role:"Studio Manager",initials:"LP",color:"bg-emerald-100 text-emerald-700"}].map(i=>m.jsxs("div",{className:"bg-white rounded-2xl p-7 border border-slate-200/80 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[m.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((e,n)=>m.jsx(Pb,{className:"w-4 h-4 text-amber-400 fill-amber-400"},n))}),m.jsxs("p",{className:"text-slate-700 leading-relaxed mb-6",children:['"',i.quote,'"']}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 ${i.color} rounded-full flex items-center justify-center text-sm font-bold`,children:i.initials}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-semibold text-slate-900",children:i.name}),m.jsx("div",{className:"text-xs text-slate-500",children:i.role})]})]})]},i.name))})]})}),m.jsxs("section",{className:"py-20 sm:py-28 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 -z-0",children:[m.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"})]}),m.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto px-5 sm:px-8 text-center",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white mb-6 leading-tight",children:"Ready to streamline your bookings?"}),m.jsx("p",{className:"text-lg text-slate-400 mb-10 max-w-xl mx-auto",children:"Join hundreds of professionals who have ditched the old appointment book. Set up in minutes, free forever."}),m.jsxs(pt,{to:"/register",className:"inline-flex items-center gap-2 px-8 py-4 bg-white hover:bg-slate-50 text-slate-900 rounded-xl font-bold text-lg transition-all hover:shadow-xl hover:shadow-white/10 hover:-translate-y-0.5",children:["Create Your Free Account",m.jsx(ou,{className:"w-5 h-5"})]})]})]}),m.jsx("footer",{className:"bg-white border-t border-slate-100",children:m.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-10",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[m.jsx(Ub,{}),m.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-500",children:[m.jsx(pt,{to:"/register",className:"hover:text-slate-900 transition-colors",children:"Sign Up"}),m.jsx("span",{className:"text-slate-200",children:""}),m.jsx(pt,{to:"/login",className:"hover:text-slate-900 transition-colors",children:"Sign In"}),m.jsx("span",{className:"text-slate-200",children:""}),m.jsx("a",{href:"#how-it-works",className:"hover:text-slate-900 transition-colors",children:"How It Works"})]}),m.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," BookFlow. All rights reserved."]})]})})})]})}function A4(i){return i.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function N4(){const i=Ll(),[e,n]=V.useState(""),[r,l]=V.useState(""),[u,d]=V.useState(""),[p,g]=V.useState(""),[y,x]=V.useState(!1),E=A4(e),S=async I=>{if(I.preventDefault(),g(""),!E){g("Please enter a valid shop name");return}if(u.length<6){g("Password must be at least 6 characters");return}x(!0);try{const K=ga(It(tt,"shops"),ya("slug","==",E));if(!(await va(K)).empty){g("A shop with that name already exists. Please choose a different name."),x(!1);return}const z=(await zN(_a,r,u)).user;await Lu(It(tt,"shops"),{name:e.trim(),slug:E,ownerUid:z.uid,ownerEmail:r,createdAt:vg()}),i(`/shop/${E}/dashboard`)}catch(K){switch(K.code){case"auth/email-already-in-use":g("An account with this email already exists");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/weak-password":g("Password must be at least 6 characters");break;default:g("Registration failed. Please try again.")}}finally{x(!1)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:m.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[m.jsx("div",{className:"text-center mb-8",children:m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-2.5",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:m.jsx(Pu,{className:"w-5 h-5 text-white"})}),m.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",m.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),m.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Create your shop"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Set up your booking page in seconds  it's free"})]}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Shop Name"}),m.jsx("input",{type:"text",value:e,onChange:I=>{n(I.target.value),g("")},placeholder:"Jane's Salon",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"}),E&&m.jsxs("p",{className:"mt-1.5 text-xs text-slate-400",children:["Your page: ",m.jsxs("span",{className:"font-mono text-blue-600 font-medium",children:["bookflow.app/shop/",E]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),m.jsx("input",{type:"email",value:r,onChange:I=>{l(I.target.value),g("")},placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),m.jsx("input",{type:"password",value:u,onChange:I=>{d(I.target.value),g("")},placeholder:"At least 6 characters",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&m.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[m.jsx("span",{children:""})," ",p]})]}),m.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Creating your shop"]}):m.jsxs(m.Fragment,{children:["Create Shop",m.jsx(ou,{className:"w-4 h-4"})]})})]}),m.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:m.jsxs("p",{className:"text-sm text-slate-500",children:["Already have an account?"," ",m.jsx(pt,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Sign in"})]})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[m.jsx(Sl,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function R4({user:i}){const e=Ll(),[n,r]=V.useState(""),[l,u]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(!1);V.useState(()=>{if(!i)return;(async()=>{const S=ga(It(tt,"shops"),ya("ownerUid","==",i.uid)),I=await va(S);if(!I.empty){const K=I.docs[0].data();e(`/shop/${K.slug}/dashboard`,{replace:!0})}})()},[i,e]);const x=async E=>{E.preventDefault(),p(""),y(!0);try{const I=(await Gx(_a,n,l)).user,K=ga(It(tt,"shops"),ya("ownerUid","==",I.uid)),q=await va(K);if(q.empty){p("No shop found for this account. Need to create one?"),await _a.signOut(),y(!1);return}const L=q.docs[0].data();e(`/shop/${L.slug}/dashboard`,{replace:!0})}catch(S){switch(S.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":p("Invalid email or password");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please try again.")}u("")}finally{y(!1)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:m.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[m.jsx("div",{className:"text-center mb-8",children:m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-2.5",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:m.jsx(Pu,{className:"w-5 h-5 text-white"})}),m.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",m.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),m.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),m.jsx("input",{type:"email",value:n,onChange:E=>{r(E.target.value),p("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),m.jsx("input",{type:"password",value:l,onChange:E=>{u(E.target.value),p("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${d?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),d&&m.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[m.jsx("span",{children:""})," ",d]})]}),m.jsx("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:g?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):m.jsxs(m.Fragment,{children:["Sign In",m.jsx(ou,{className:"w-4 h-4"})]})})]}),m.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:m.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",m.jsx(pt,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[m.jsx(Sl,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function C4({availableDates:i,selectedDate:e,onSelectDate:n}){const[r,l]=V.useState(new Date),u=z=>{const P=z.getFullYear(),Q=z.getMonth(),le=new Date(P,Q,1),de=new Date(P,Q+1,0).getDate(),N=le.getDay();return{daysInMonth:de,startingDayOfWeek:N,year:P,month:Q}},{daysInMonth:d,startingDayOfWeek:p,year:g,month:y}=u(r),x=()=>{l(new Date(r.getFullYear(),r.getMonth()-1))},E=()=>{l(new Date(r.getFullYear(),r.getMonth()+1))},S=z=>{const P=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;return i.includes(P)},I=z=>`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`===e,K=z=>{if(S(z)){const P=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;n(P)}},q=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return m.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 sm:p-6 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(L1,{className:"w-5 h-5 text-slate-600"})}),m.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[q[y]," ",g]}),m.jsx("button",{onClick:E,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(P1,{className:"w-5 h-5 text-slate-600"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:L.map(z=>m.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:z},z))}),m.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:p}).map((z,P)=>m.jsx("div",{},`empty-${P}`)),Array.from({length:d}).map((z,P)=>{const Q=P+1,le=S(Q),oe=I(Q),de=new Date,N=de.getDate()===Q&&de.getMonth()===y&&de.getFullYear()===g;return m.jsxs("button",{onClick:()=>K(Q),disabled:!le,className:`
                relative p-2.5 sm:p-3 text-center rounded-lg text-sm font-semibold transition-all duration-200
                ${oe?"bg-blue-600 text-white shadow-md shadow-blue-600/30":le?"bg-emerald-50 text-emerald-700 border border-emerald-200 hover:bg-emerald-100 hover:border-emerald-300 cursor-pointer":N?"text-slate-900 font-bold":"text-slate-300 cursor-not-allowed"}
              `,children:[Q,N&&!oe&&m.jsx("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]},Q)})]}),m.jsxs("div",{className:"mt-4 flex gap-5 text-xs text-slate-500",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 bg-emerald-50 border border-emerald-200 rounded"}),m.jsx("span",{children:"Available"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded"}),m.jsx("span",{children:"Selected"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),m.jsx("span",{children:"Today"})]})]})]})}const I4=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function _l(i){const[e,n]=i.split(":").map(Number);return e*60+n}function zb(i){const e=Math.floor(i/60),n=i%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function D4(i){const e=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),r=String(i.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function j4(i,e,n,r,l,u){if(!i)return[];const p=new Date(e+"T12:00:00").getDay(),g=I4[p],y=i[g];if(!y||!y.enabled)return[];const x=_l(y.start),E=_l(y.end),S=y.break?_l(y.break.start):null,I=y.break?_l(y.break.end):null,K=n+r,q=[];let L=x;for(;L+n<=E;){const z=L+n;if(S!==null&&I!==null&&L<I&&z>S){L=I;continue}q.push({id:`wh-${l}-${e}-${zb(L)}`,date:e,time:zb(L),duration:n,available:!0,staffId:l,staffName:u,generated:!0}),L+=K}return q}function k4(i,e,n=0,r=4){const l=[],u=new Date;u.setHours(0,0,0,0);const d=new Date(u);d.setDate(d.getDate()+r*7);for(const p of i){if(!p.weeklyHours)continue;const g=new Date(u);for(;g<d;){const y=D4(g),x=j4(p.weeklyHours,y,e,n,p.id,p.name);l.push(...x),g.setDate(g.getDate()+1)}}return l}function O4(i,e,n=0){return i.filter(r=>{const l=_l(r.time),u=l+r.duration;return!e.some(p=>{if(r.staffId&&p.staffId&&p.staffId!==r.staffId||p.date!==r.date)return!1;const g=_l(p.time),y=p.serviceDuration||p.duration||r.duration,x=g+y;return!(u+n<=g||x+n<=l)})})}function M4(i,e){const n=new Set(e.map(l=>`${l.staffId||""}-${l.date}-${l.time}`)),r=i.filter(l=>{const u=`${l.staffId||""}-${l.date}-${l.time}`;return!n.has(u)});return[...e,...r]}function bh({name:i,className:e="w-12 h-12",bgClass:n="bg-blue-100 text-blue-700"}){const r=(i||"").split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2);return m.jsx("div",{className:`${e} ${n} rounded-full flex items-center justify-center font-bold text-sm select-none flex-shrink-0`,children:r||"?"})}function V4(){return m.jsxs(pt,{to:"/",className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:m.jsx(Pu,{className:"w-3.5 h-3.5 text-white"})}),m.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",m.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function L4(){const{slug:i}=Tp(),[e,n]=V.useState(null),[r,l]=V.useState(null),[u,d]=V.useState(!0),[p,g]=V.useState(!1),[y,x]=V.useState([]),[E,S]=V.useState([]),[I,K]=V.useState(null),[q,L]=V.useState(null),[z,P]=V.useState([]),[Q,le]=V.useState([]),[oe,de]=V.useState(!1),[N,A]=V.useState(null),[R,k]=V.useState(null),[j,U]=V.useState(""),[C,Xe]=V.useState(!1),[Ke,X]=V.useState({name:"",email:"",phone:""});V.useEffect(()=>{(async()=>{d(!0),g(!1);try{const ve=ga(It(tt,"shops"),ya("slug","==",i)),Ue=await va(ve);if(Ue.empty)g(!0);else{const yt=Ue.docs[0];n(yt.data()),l(yt.id)}}catch(ve){console.error("Error looking up shop:",ve),g(!0)}finally{d(!1)}})()},[i]),V.useEffect(()=>{if(!r)return;const he=_i(It(tt,"shops",r,"services"),Ft=>{const ct=Ft.docs.map(ze=>({id:ze.id,...ze.data()})).filter(ze=>ze.active!==!1).sort((ze,en)=>(ze.name||"").localeCompare(en.name||""));x(ct)}),ve=_i(It(tt,"shops",r,"availability"),Ft=>{const ct=new Date,ze=Ft.docs.map(en=>({id:en.id,...en.data()})).filter(en=>new Date(`${en.date}T${en.time}`)>ct);P(ze)}),Ue=_i(It(tt,"shops",r,"bookings"),Ft=>{const ct=Ft.docs.map(ze=>({id:ze.id,...ze.data()}));le(ct)}),yt=_i(It(tt,"shops",r,"staff"),Ft=>{const ct=Ft.docs.map(ze=>({id:ze.id,...ze.data()})).filter(ze=>ze.active!==!1).sort((ze,en)=>(ze.name||"").localeCompare(en.name||""));S(ct)});return()=>{he(),ve(),Ue(),yt()}},[r]),V.useEffect(()=>{E.length===1?L(E[0]):E.length===0&&L(null)},[E]);const ae=y.length>0;E.length>0;const _e=E.length>1,ke=e?.bufferMinutes||0,Me=V.useMemo(()=>{const he=new Date;let ve=z.filter(ct=>ct.available);if(I&&(ve=ve.filter(ct=>ct.duration>=I.duration)),q&&q!=="any"&&(ve=ve.filter(ct=>ct.staffId===q.id||!ct.staffId)),!I)return ve;const Ue=q&&q!=="any"?E.filter(ct=>ct.id===q.id):E,yt=k4(Ue,I.duration,ke,4).filter(ct=>new Date(`${ct.date}T${ct.time}`)>he),Ft=M4(yt,ve);return O4(Ft,Q,ke)},[z,I,q,E,Q,ke]),M=he=>{K(he),E.length>1&&L(null),k(null),A(null),de(!1),U("")},ee=he=>{L(he),k(null),A(null),de(!1),U("")},ce=()=>{K(null),E.length>1&&L(null),k(null),A(null),de(!1)},fe=()=>{k(null),A(null),de(!1),_e?L(null):ae&&K(null)},$=he=>{A(he),de(!0),U("")},re=async he=>{he.preventDefault(),Xe(!0);try{const ve={slotId:N.id,date:N.date,time:N.time,duration:I?I.duration:N.duration,clientName:Ke.name,clientEmail:Ke.email,clientPhone:Ke.phone,bookedAt:new Date().toISOString()};I&&(ve.serviceId=I.id,ve.serviceName=I.name,ve.servicePrice=I.price,ve.serviceDuration=I.duration),q&&q!=="any"?(ve.staffId=q.id,ve.staffName=q.name):N.staffId&&(ve.staffId=N.staffId,ve.staffName=N.staffName||""),await Lu(It(tt,"shops",r,"bookings"),ve),N.generated||await Sr(ps(tt,"shops",r,"availability",N.id),{available:!1}),X({name:"",email:"",phone:""}),de(!1),A(null),K(null),k(null),L(E.length===1?E[0]:null),U(" Booking confirmed! You will receive a confirmation email shortly.")}catch(ve){console.error("Booking error:",ve),U(" Something went wrong. Please try again.")}finally{Xe(!1)}},ge=he=>new Date(he+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Ne=he=>{const[ve,Ue]=he.split(":"),yt=parseInt(ve),Ft=yt>=12?"PM":"AM";return`${yt%12||12}:${Ue} ${Ft}`},we=he=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(he),Ve=he=>{if(he<60)return`${he} min`;const ve=Math.floor(he/60),Ue=he%60;return Ue?`${ve}h ${Ue}m`:`${ve} hour${ve>1?"s":""}`};if(u)return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[m.jsx("div",{className:"spinner"}),m.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading booking page"})]})});if(p)return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:m.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:m.jsx(Al,{className:"w-8 h-8 text-slate-400"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),m.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,m.jsx("span",{className:"font-mono text-blue-600",children:i}),'".']}),m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[m.jsx(Sl,{className:"w-4 h-4"}),"Go Home"]})]})});const Wt=[...new Set(Me.map(he=>he.date))].sort(),gn=R?Me.filter(he=>he.date===R):Me,wt=oe?"form":ae&&!I?"services":_e&&!q?"staff":"calendar",Zt=[];ae&&Zt.push({key:"services",label:"Service"}),_e&&Zt.push({key:"staff",label:"Stylist"}),Zt.push({key:"calendar",label:"Date & Time"}),Zt.push({key:"form",label:"Confirm"});const Ht=Zt.findIndex(he=>he.key===wt),xs=["border-l-blue-500","border-l-violet-500","border-l-emerald-500","border-l-amber-500","border-l-rose-500","border-l-cyan-500","border-l-indigo-500","border-l-pink-500","border-l-teal-500"];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[m.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(e.name||"")[0]?.toUpperCase()||"S"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:e.name}),m.jsx("p",{className:"text-xs text-slate-500",children:"Book your appointment"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(pt,{to:`/shop/${i}/login`,className:"flex items-center gap-1.5 px-3.5 py-2 text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[m.jsx(U1,{className:"w-3.5 h-3.5"}),m.jsx("span",{className:"hidden sm:inline",children:"Owner"})]}),m.jsx(V4,{})]})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:[Zt.length>1&&m.jsx("div",{className:"flex items-center justify-center gap-0 mb-8 animate-fade-in",children:Zt.map((he,ve)=>{const Ue=he.key===wt,yt=ve<Ht;return m.jsxs(V.Fragment,{children:[ve>0&&m.jsx("div",{className:`w-8 sm:w-14 h-0.5 transition-colors duration-300 ${ve<=Ht?"bg-blue-500":"bg-slate-200"}`}),m.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[m.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${Ue?"bg-blue-600 text-white shadow-md shadow-blue-600/30 scale-110":yt?"bg-blue-600 text-white":"bg-slate-200 text-slate-500"}`,children:yt?m.jsx(vl,{className:"w-5 h-5"}):ve+1}),m.jsx("span",{className:`text-xs font-medium hidden sm:block transition-colors ${Ue?"text-blue-700":yt?"text-blue-600":"text-slate-400"}`,children:he.label})]})]},he.key)})}),j&&m.jsx("div",{className:`mb-8 animate-scale-in ${j.startsWith(""),""}`,children:j.startsWith("")?m.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(n4,{className:"w-8 h-8 text-emerald-600"})}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),m.jsx("p",{className:"text-slate-600 mb-6",children:"You're all set. We'll send a confirmation to your email."}),m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg text-sm text-emerald-700 font-medium",children:[m.jsx(O5,{className:"w-4 h-4"}),"Add to your calendar to remember"]})]}):m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 flex items-center gap-3 text-red-800 font-medium",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Something went wrong. Please try again."})]})}),wt==="services"&&m.jsxs("div",{className:"animate-fade-in",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose a Service"}),m.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select the service you'd like to book"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 stagger-children",children:y.map((he,ve)=>m.jsxs("button",{onClick:()=>M(he),className:`group text-left bg-white border-l-4 ${xs[ve%xs.length]} border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors pr-2",children:he.name}),m.jsx("span",{className:"text-xl font-extrabold text-blue-600 whitespace-nowrap",children:we(he.price)})]}),he.description&&m.jsx("p",{className:"text-sm text-slate-500 mb-3 line-clamp-2 leading-relaxed",children:he.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-400",children:[m.jsx(xu,{className:"w-3.5 h-3.5"}),m.jsx("span",{children:Ve(he.duration)})]}),m.jsx("span",{className:"text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]})]},he.id))})]}),wt==="staff"&&m.jsxs("div",{className:"animate-fade-in",children:[ae&&I&&m.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[m.jsxs("button",{onClick:ce,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[m.jsx(Sl,{className:"w-3.5 h-3.5"}),"Back"]}),m.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[m.jsx(uu,{className:"w-3.5 h-3.5 text-blue-500"}),m.jsx("span",{className:"font-semibold text-slate-800",children:I.name}),m.jsx("span",{className:"text-blue-600 font-bold",children:we(I.price)})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose Your Stylist"}),m.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select your preferred professional"})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 stagger-children",children:[m.jsxs("button",{onClick:()=>ee("any"),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[m.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center flex-shrink-0",children:m.jsx(Fs,{className:"w-5 h-5 text-slate-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Any Available"}),m.jsx("p",{className:"text-xs text-slate-500",children:"First available professional"})]})]}),m.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]}),E.map(he=>m.jsxs("button",{onClick:()=>ee(he),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[m.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[m.jsx(bh,{name:he.name}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:he.name}),he.role&&m.jsx("p",{className:"text-xs text-slate-500",children:he.role})]})]}),m.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]},he.id))]})]}),wt==="calendar"&&m.jsxs("div",{className:"animate-fade-in",children:[(ae||_e)&&m.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[m.jsxs("button",{onClick:fe,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[m.jsx(Sl,{className:"w-3.5 h-3.5"}),"Back"]}),I&&m.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[m.jsx(uu,{className:"w-3.5 h-3.5 text-blue-500"}),m.jsx("span",{className:"font-semibold text-slate-800",children:I.name}),m.jsx("span",{className:"text-blue-600 font-bold",children:we(I.price)}),m.jsxs("span",{className:"text-slate-400",children:[" ",Ve(I.duration)]})]}),q&&q!=="any"&&m.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-violet-50 border border-violet-200 rounded-lg text-sm",children:[m.jsx(bh,{name:q.name,className:"w-5 h-5 text-[10px]",bgClass:"bg-violet-200 text-violet-700"}),m.jsx("span",{className:"font-semibold text-slate-800",children:q.name})]}),q==="any"&&m.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[m.jsx(Fs,{className:"w-3.5 h-3.5 text-slate-500"}),m.jsx("span",{className:"font-semibold text-slate-700",children:"Any Available"})]})]}),Wt.length===0?m.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Al,{className:"w-8 h-8 text-slate-400"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No available slots"}),m.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:I?`No time slots available for ${I.name} (${Ve(I.duration)}). Check back soon!`:"Check back soon for new availability!"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Select a Date"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"Pick a day that works for you"})]}),m.jsx("div",{className:"mb-8",children:m.jsx(C4,{availableDates:Wt,selectedDate:R,onSelectDate:k})}),R&&m.jsxs("div",{className:"animate-slide-down",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Times for ",ge(R)]}),m.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[gn.length," slot",gn.length!==1?"s":""]})]}),gn.length===0?m.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:m.jsx("p",{className:"text-slate-500",children:"No slots available for this date"})}):m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 stagger-children",children:gn.sort((he,ve)=>he.time.localeCompare(ve.time)).map(he=>m.jsxs("button",{onClick:()=>$(he),className:"group bg-white border border-slate-200 hover:border-blue-400 rounded-xl p-4 transition-all duration-200 hover:shadow-md hover:shadow-blue-100/50 hover:-translate-y-0.5 text-center",children:[m.jsx("div",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors mb-1",children:Ne(he.time)}),he.staffName&&q==="any"&&m.jsxs("div",{className:"text-xs text-violet-600 mb-0.5 flex items-center justify-center gap-1",children:[m.jsx(Fs,{className:"w-3 h-3"}),he.staffName]}),m.jsx("div",{className:"text-xs text-slate-400",children:I?Ve(I.duration):`${he.duration} min`})]},he.id))})]}),!R&&m.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Select a date above to see available times"})]})]}),wt==="form"&&m.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Complete Your Booking"}),m.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Review your details and confirm"}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 mb-6 space-y-3",children:[I&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:m.jsx(uu,{className:"w-4 h-4 text-blue-600"})}),m.jsx("span",{className:"font-semibold text-slate-800",children:I.name})]}),m.jsx("span",{className:"font-bold text-blue-600",children:we(I.price)})]}),q&&q!=="any"&&m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx(bh,{name:q.name,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-slate-800",children:q.name}),q.role&&m.jsxs("span",{className:"text-slate-400 text-sm ml-1.5",children:[" ",q.role]})]})]}),q==="any"&&N?.staffName&&m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx(bh,{name:N.staffName,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),m.jsx("span",{className:"font-semibold text-slate-800",children:N.staffName})]}),m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:m.jsx(Al,{className:"w-4 h-4 text-slate-600"})}),m.jsxs("span",{className:"font-semibold text-slate-800",children:[ge(N.date)," at ",Ne(N.time)]})]}),m.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-slate-500",children:[m.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:m.jsx(xu,{className:"w-4 h-4 text-slate-500"})}),m.jsx("span",{children:I?Ve(I.duration):`${N.duration} min`})]})]}),m.jsxs("form",{onSubmit:re,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Full Name"}),m.jsx("input",{type:"text",value:Ke.name,onChange:he=>X({...Ke,name:he.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),m.jsx("input",{type:"email",value:Ke.email,onChange:he=>X({...Ke,email:he.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Phone Number"}),m.jsx("input",{type:"tel",value:Ke.phone,onChange:he=>X({...Ke,phone:he.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{type:"submit",disabled:C,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:C?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Booking"]}):m.jsxs(m.Fragment,{children:[m.jsx(vl,{className:"w-4 h-4"}),"Confirm Booking"]})}),m.jsx("button",{type:"button",onClick:()=>{de(!1),A(null)},className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})]}),m.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:m.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:m.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",m.jsx(pt,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function P4({slotsByDate:i,bookingsByDate:e,selectedDate:n,onSelectDate:r,recurringDayFlags:l={}}){const[u,d]=V.useState(new Date),p=le=>{const oe=le.getFullYear(),de=le.getMonth(),N=new Date(oe,de,1),R=new Date(oe,de+1,0).getDate(),k=N.getDay();return{daysInMonth:R,startingDayOfWeek:k,year:oe,month:de}},{daysInMonth:g,startingDayOfWeek:y,year:x,month:E}=p(u),S=()=>{d(new Date(u.getFullYear(),u.getMonth()-1))},I=()=>{d(new Date(u.getFullYear(),u.getMonth()+1))},K=le=>`${x}-${String(E+1).padStart(2,"0")}-${String(le).padStart(2,"0")}`,q=le=>{const oe=K(le),de=i[oe]||[],N=e[oe]||[],A=de.filter(k=>k.available).length,R=N.length;return{availableCount:A,bookedCount:R,hasData:de.length>0||N.length>0}},L=le=>{const oe=K(le);r(oe===n?null:oe)},z=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=new Date;return Q.setHours(0,0,0,0),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(L1,{className:"w-5 h-5 text-slate-600"})}),m.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[z[E]," ",x]}),m.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(P1,{className:"w-5 h-5 text-slate-600"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:P.map(le=>m.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:le},le))}),m.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:y}).map((le,oe)=>m.jsx("div",{},`empty-${oe}`)),Array.from({length:g}).map((le,oe)=>{const de=oe+1,N=K(de),{availableCount:A,bookedCount:R,hasData:k}=q(de),j=N===n,U=new Date,C=U.getDate()===de&&U.getMonth()===E&&U.getFullYear()===x,Xe=new Date(x,E,de),Ke=Xe.getDay(),X=l[Ke]&&Xe>=Q;return m.jsxs("button",{onClick:()=>L(de),className:`
                relative p-2 text-center rounded-lg text-sm font-semibold transition-all duration-200 min-h-[56px] flex flex-col items-center justify-start cursor-pointer
                ${j?"bg-blue-600 text-white shadow-md shadow-blue-600/30":k||X?"bg-slate-50 hover:bg-slate-100 text-slate-900 border border-slate-200 hover:border-slate-300":C?"text-slate-900 font-bold hover:bg-slate-50":"text-slate-400 hover:bg-slate-50"}
              `,children:[m.jsxs("span",{className:`text-sm ${C&&!j?"relative":""}`,children:[de,C&&!j&&m.jsx("span",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]}),(k||X)&&m.jsxs("div",{className:"flex gap-0.5 mt-1 flex-wrap justify-center",children:[X&&m.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${j?"bg-white/20 text-white":"bg-violet-100 text-violet-700"}`,children:"R"}),A>0&&m.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${j?"bg-white/20 text-white":"bg-emerald-100 text-emerald-700"}`,children:A}),R>0&&m.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${j?"bg-white/20 text-white":"bg-blue-100 text-blue-700"}`,children:R})]})]},de)})]}),m.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-500",children:[Object.keys(l).length>0&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3.5 h-3.5 bg-violet-100 border border-violet-200 rounded flex items-center justify-center text-[7px] font-bold text-violet-700",children:"R"}),m.jsx("span",{children:"Recurring"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3.5 h-3.5 bg-emerald-100 border border-emerald-200 rounded"}),m.jsx("span",{children:"Available"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3.5 h-3.5 bg-blue-100 border border-blue-200 rounded"}),m.jsx("span",{children:"Booked"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3.5 h-3.5 bg-blue-600 rounded"}),m.jsx("span",{children:"Selected"})]})]})]})}const U4=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}];function z4({shopId:i}){const[e,n]=V.useState([]),[r,l]=V.useState(!1),[u,d]=V.useState(null),[p,g]=V.useState({name:"",description:"",duration:30,price:""}),[y,x]=V.useState(!1);V.useEffect(()=>{if(!i)return;const z=_i(It(tt,"shops",i,"services"),P=>{const Q=P.docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.active!==!1).sort((le,oe)=>(le.name||"").localeCompare(oe.name||""));n(Q)});return()=>z()},[i]);const E=()=>{g({name:"",description:"",duration:30,price:""}),l(!1),d(null)},S=async z=>{z.preventDefault(),x(!0);const P={name:p.name.trim(),description:p.description.trim(),duration:parseInt(p.duration),price:parseFloat(p.price),active:!0};try{u?await Sr(ps(tt,"shops",i,"services",u),P):await Lu(It(tt,"shops",i,"services"),{...P,createdAt:vg()}),E()}catch(Q){console.error("Error saving service:",Q)}finally{x(!1)}},I=z=>{g({name:z.name,description:z.description||"",duration:z.duration,price:z.price.toString()}),d(z.id),l(!0)},K=async z=>{try{await Sr(ps(tt,"shops",i,"services",z),{active:!1})}catch(P){console.error("Error deleting service:",P)}},q=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),L=z=>{if(z<60)return`${z} min`;const P=Math.floor(z/60),Q=z%60;return Q?`${P}h ${Q}m`:`${P}h`};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services"}),m.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Define the services you offer  clients will pick one before booking"})]}),!r&&m.jsxs("button",{onClick:()=>{E(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[m.jsx(Eg,{className:"w-4 h-4"}),"Add Service"]})]}),r&&m.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Service":"New Service"}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),m.jsx("input",{type:"text",value:p.name,onChange:z=>g({...p,name:z.target.value}),required:!0,placeholder:"e.g. Haircut",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (optional)"}),m.jsx("input",{type:"text",value:p.description,onChange:z=>g({...p,description:z.target.value}),placeholder:"e.g. Classic cut and style",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),m.jsx("select",{value:p.duration,onChange:z=>g({...p,duration:z.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:U4.map(z=>m.jsx("option",{value:z.value,children:z.label},z.value))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:"$"}),m.jsx("input",{type:"number",step:"0.01",min:"0",value:p.price,onChange:z=>g({...p,price:z.target.value}),required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsxs("button",{type:"submit",disabled:y,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[m.jsx(V1,{className:"w-4 h-4"}),y?"Saving":u?"Update Service":"Add Service"]}),m.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[m.jsx(td,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"text-5xl mb-3",children:""}),m.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No services yet"}),m.jsx("p",{className:"text-sm text-slate-600",children:"Add your first service so clients can choose what to book"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(z=>m.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:z.name}),z.description&&m.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:z.description})]}),m.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap ml-3",children:q(z.price)})]}),m.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:m.jsxs("span",{className:"flex items-center gap-1.5",children:[m.jsx(xu,{className:"w-4 h-4"}),L(z.duration)]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>I(z),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[m.jsx(z1,{className:"w-3.5 h-3.5"}),"Edit"]}),m.jsx("button",{onClick:()=>K(z.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:m.jsx(ed,{className:"w-3.5 h-3.5"})})]})]},z.id))})]})}const Hm=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],B4={enabled:!1,start:"09:00",end:"17:00",break:null};function q4({shopId:i,staffId:e,staffName:n,weeklyHours:r,onClose:l}){const[u,d]=V.useState(()=>{const L={};for(const z of Hm){const P=r?.[z.key];P?L[z.key]={enabled:!!P.enabled,start:P.start||"09:00",end:P.end||"17:00",break:P.break?{start:P.break.start,end:P.break.end}:null}:L[z.key]={...B4}}return L}),[p,g]=V.useState(!1),[y,x]=V.useState(null),E=(L,z,P)=>{d(Q=>({...Q,[L]:{...Q[L],[z]:P}}))},S=L=>{d(z=>({...z,[L]:{...z[L],break:z[L].break?null:{start:"12:00",end:"13:00"}}}))},I=(L,z,P)=>{d(Q=>({...Q,[L]:{...Q[L],break:{...Q[L].break,[z]:P}}}))},K=L=>{const z=u[L];d(P=>{const Q={...P};for(const le of Hm)le.key!==L&&(Q[le.key]={enabled:z.enabled,start:z.start,end:z.end,break:z.break?{...z.break}:null});return Q}),x(L),setTimeout(()=>x(null),1500)},q=async()=>{g(!0);try{await Sr(ps(tt,"shops",i,"staff",e),{weeklyHours:u}),l()}catch(L){console.error("Error saving weekly hours:",L)}finally{g(!1)}};return m.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6 shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Weekly Hours"}),m.jsx("p",{className:"text-sm text-slate-500",children:n})]}),m.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(td,{className:"w-5 h-5 text-slate-400"})})]}),m.jsx("div",{className:"space-y-3",children:Hm.map(({key:L,label:z})=>{const P=u[L];return m.jsx("div",{className:`rounded-xl p-4 transition-all ${P.enabled?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-3 min-w-[140px]",children:[m.jsx("button",{type:"button",onClick:()=>E(L,"enabled",!P.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.enabled?"bg-blue-500":"bg-slate-300"}`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${P.enabled?"translate-x-6":"translate-x-1"}`})}),m.jsx("span",{className:`font-semibold text-sm ${P.enabled?"text-slate-900":"text-slate-400"}`,children:z})]}),P.enabled?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xu,{className:"w-4 h-4 text-blue-500"}),m.jsx("input",{type:"time",value:P.start,onChange:Q=>E(L,"start",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.jsx("span",{className:"text-slate-400 text-sm",children:"to"}),m.jsx("input",{type:"time",value:P.end,onChange:Q=>E(L,"end",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{type:"button",onClick:()=>S(L),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${P.break?"bg-amber-100 text-amber-700 border border-amber-200":"bg-slate-100 text-slate-500 border border-slate-200 hover:bg-slate-200"}`,children:[m.jsx(G5,{className:"w-3.5 h-3.5"}),P.break?"Break":"+ Break"]}),P.break&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("input",{type:"time",value:P.break.start,onChange:Q=>I(L,"start",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"}),m.jsx("span",{className:"text-slate-400 text-xs",children:""}),m.jsx("input",{type:"time",value:P.break.end,onChange:Q=>I(L,"end",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"})]})]}),m.jsx("button",{type:"button",onClick:()=>K(L),className:"text-xs text-blue-500 hover:text-blue-700 font-medium transition-colors whitespace-nowrap",children:y===L?" Copied!":"Copy to all"})]}):m.jsx("span",{className:"text-sm text-slate-400 italic",children:"Day off"})]})},L)})}),m.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200",children:[m.jsxs("button",{onClick:q,disabled:p,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[m.jsx(c4,{className:"w-4 h-4"}),p?"Saving":"Save Hours"]}),m.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[m.jsx(td,{className:"w-4 h-4"}),"Cancel"]})]})]})}const H4=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function Bb(i){if(!i)return"";const[e,n]=i.split(":").map(Number),r=e>=12?"p":"a",l=e%12||12;return n===0?`${l}${r}`:`${l}:${n.toString().padStart(2,"0")}${r}`}function F4({shopId:i}){const[e,n]=V.useState([]),[r,l]=V.useState(!1),[u,d]=V.useState(null),[p,g]=V.useState(null),[y,x]=V.useState({name:"",role:""}),[E,S]=V.useState(!1);V.useEffect(()=>{if(!i)return;const P=_i(It(tt,"shops",i,"staff"),Q=>{const le=Q.docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.active!==!1).sort((oe,de)=>(oe.name||"").localeCompare(de.name||""));n(le)});return()=>P()},[i]);const I=()=>{x({name:"",role:""}),l(!1),d(null)},K=async P=>{P.preventDefault(),S(!0);const Q={name:y.name.trim(),role:y.role.trim(),active:!0};try{u?await Sr(ps(tt,"shops",i,"staff",u),Q):await Lu(It(tt,"shops",i,"staff"),{...Q,email:"",createdAt:vg()}),I()}catch(le){console.error("Error saving staff member:",le)}finally{S(!1)}},q=P=>{x({name:P.name,role:P.role||""}),d(P.id),l(!0)},L=async P=>{try{await Sr(ps(tt,"shops",i,"staff",P),{active:!1})}catch(Q){console.error("Error deleting staff member:",Q)}},z=P=>{if(!P)return null;const Q=H4.filter(le=>P[le.key]?.enabled);return Q.length===0?null:Q.map(le=>{const oe=P[le.key];return`${le.short} ${Bb(oe.start)}${Bb(oe.end)}`})};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Staff"}),m.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your team  assign availability and bookings per staff member"})]}),!r&&m.jsxs("button",{onClick:()=>{I(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[m.jsx(Eg,{className:"w-4 h-4"}),"Add Staff"]})]}),r&&m.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Staff Member":"New Staff Member"}),m.jsxs("form",{onSubmit:K,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),m.jsx("input",{type:"text",value:y.name,onChange:P=>x({...y,name:P.target.value}),required:!0,placeholder:"e.g. Jane Smith",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role (optional)"}),m.jsx("input",{type:"text",value:y.role,onChange:P=>x({...y,role:P.target.value}),placeholder:"e.g. Senior Stylist",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsxs("button",{type:"submit",disabled:E,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[m.jsx(V1,{className:"w-4 h-4"}),E?"Saving":u?"Update Staff":"Add Staff"]}),m.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[m.jsx(td,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"text-5xl mb-3",children:""}),m.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No staff members yet"}),m.jsx("p",{className:"text-sm text-slate-600",children:"Add your team members to assign them availability and bookings"})]}):m.jsx("div",{className:"space-y-4",children:e.map(P=>{const Q=z(P.weeklyHours);return m.jsxs("div",{children:[m.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:P.name}),P.role&&m.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:P.role})]}),m.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:m.jsx(Fs,{className:"w-5 h-5 text-blue-600"})})]}),Q?m.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:Q.map((le,oe)=>m.jsx("span",{className:"inline-block px-2 py-0.5 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium",children:le},oe))}):m.jsx("p",{className:"text-xs text-slate-400 mb-3 italic",children:"No weekly hours set"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>g(p===P.id?null:P.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border ${p===P.id?"bg-blue-100 text-blue-700 border-blue-300":"bg-slate-100 hover:bg-slate-200 text-slate-700 border-slate-200"}`,children:[m.jsx(xu,{className:"w-3.5 h-3.5"}),"Set Hours"]}),m.jsxs("button",{onClick:()=>q(P),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[m.jsx(z1,{className:"w-3.5 h-3.5"}),"Edit"]}),m.jsx("button",{onClick:()=>L(P.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:m.jsx(ed,{className:"w-3.5 h-3.5"})})]})]}),p===P.id&&m.jsx("div",{className:"mt-2",children:m.jsx(q4,{shopId:i,staffId:P.id,staffName:P.name,weeklyHours:P.weeklyHours,onClose:()=>g(null)})})]},P.id)})})]})}const qb=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function xh(i){if(!i)return"";const[e,n]=i.split(":").map(Number),r=e>=12?"PM":"AM",l=e%12||12;return n===0?`${l}${r}`:`${l}:${n.toString().padStart(2,"0")}${r}`}function G4({user:i}){const{slug:e}=Tp(),n=Ll(),[r,l]=V.useState(null),[u,d]=V.useState(null),[p,g]=V.useState(!0),[y,x]=V.useState(!1),[E,S]=V.useState([]),[I,K]=V.useState([]),[q,L]=V.useState([]),[z,P]=V.useState("schedule"),[Q,le]=V.useState(null),[oe,de]=V.useState("all"),[N,A]=V.useState({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""});V.useEffect(()=>{if(!i){n(`/shop/${e}/login`,{replace:!0});return}(async()=>{g(!0);try{const re=ga(It(tt,"shops"),ya("slug","==",e)),ge=await va(re);if(ge.empty){x(!0),g(!1);return}const Ne=ge.docs[0],we=Ne.data();if(we.ownerUid!==i.uid){x(!0),g(!1);return}l(we),d(Ne.id)}catch(re){console.error("Error checking ownership:",re),x(!0)}finally{g(!1)}})()},[i,e,n]),V.useEffect(()=>{if(!u)return;const $=_i(It(tt,"shops",u,"availability"),Ne=>{const we=Ne.docs.map(Ve=>({id:Ve.id,...Ve.data()}));S(we)}),re=_i(It(tt,"shops",u,"bookings"),Ne=>{const we=Ne.docs.map(Ve=>({id:Ve.id,...Ve.data()}));K(we)}),ge=_i(It(tt,"shops",u,"staff"),Ne=>{const we=Ne.docs.map(Ve=>({id:Ve.id,...Ve.data()})).filter(Ve=>Ve.active!==!1).sort((Ve,Wt)=>(Ve.name||"").localeCompare(Wt.name||""));L(we)});return()=>{$(),re(),ge()}},[u]);const R=async()=>{await FN(_a),n(`/shop/${e}`,{replace:!0})},k=async $=>{$.preventDefault();const{date:re,startTime:ge,endTime:Ne,slotDuration:we,staffId:Ve}=N,Wt=parseInt(we),[gn,ts]=ge.split(":").map(Number),[wt,Zt]=Ne.split(":").map(Number),Ht=gn*60+ts,xs=wt*60+Zt;let he=Ht;for(;he+Wt<=xs;){const ve=Math.floor(he/60),Ue=he%60,yt=`${ve.toString().padStart(2,"0")}:${Ue.toString().padStart(2,"0")}`,Ft={date:re,time:yt,duration:Wt,available:!0};if(Ve){const ct=q.find(ze=>ze.id===Ve);Ft.staffId=Ve,Ft.staffName=ct?.name||""}await Lu(It(tt,"shops",u,"availability"),Ft),he+=Wt}A({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""})},j=async $=>{await Mb(ps(tt,"shops",u,"availability",$))},U=async $=>{const re=I.find(ge=>ge.id===$);if(await Mb(ps(tt,"shops",u,"bookings",$)),re)try{await Sr(ps(tt,"shops",u,"availability",re.slotId),{available:!0})}catch(ge){console.warn("Could not re-open slot:",ge)}},C=async $=>{const re=parseInt($);try{await Sr(ps(tt,"shops",u),{bufferMinutes:re}),l(ge=>({...ge,bufferMinutes:re}))}catch(ge){console.error("Error updating buffer minutes:",ge)}},Xe=($,re)=>new Date(`${$}T${re}`).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),Ke=V.useMemo(()=>{const $={},re=oe==="all"?q:q.filter(Ne=>Ne.id===oe),ge=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(const Ne of re)Ne.weeklyHours&&ge.forEach((we,Ve)=>{Ne.weeklyHours[we]?.enabled&&($[Ve]=!0)});return $},[q,oe]),X=V.useMemo(()=>(oe==="all"?q:q.filter(re=>re.id===oe)).filter(re=>re.weeklyHours?qb.some(ge=>re.weeklyHours[ge.key]?.enabled):!1),[q,oe]),ae=V.useMemo(()=>{const $=new Date,re=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`,ge=$.getDay(),Ne=ge===0?-6:1-ge,we=new Date($);we.setDate($.getDate()+Ne),we.setHours(0,0,0,0);const Ve=new Date(we);Ve.setDate(we.getDate()+6),Ve.setHours(23,59,59,999);const Wt=`${we.getFullYear()}-${String(we.getMonth()+1).padStart(2,"0")}-${String(we.getDate()).padStart(2,"0")}`,gn=`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}-${String(Ve.getDate()).padStart(2,"0")}`,ts=I.filter(Ht=>Ht.date===re).length,wt=I.filter(Ht=>Ht.date>=Wt&&Ht.date<=gn).length,Zt=new Set(I.map(Ht=>Ht.clientEmail?.toLowerCase()).filter(Boolean)).size;return{todayBookings:ts,weekBookings:wt,uniqueClients:Zt,totalBookings:I.length}},[I]);if(p)return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[m.jsx("div",{className:"spinner"}),m.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading dashboard"})]})});if(y)return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:m.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:m.jsx(U1,{className:"w-8 h-8 text-red-500"})}),m.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Unauthorized"}),m.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have access to this dashboard."}),m.jsx(pt,{to:`/shop/${e}/login`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:"Login"})]})});const _e=oe==="all"?E:E.filter($=>$.staffId===oe),ke=oe==="all"?I:I.filter($=>$.staffId===oe),Me=_e.reduce(($,re)=>($[re.date]||($[re.date]=[]),$[re.date].push(re),$),{}),M=ke.reduce(($,re)=>($[re.date]||($[re.date]=[]),$[re.date].push(re),$),{}),ee=Q?Object.keys(Me).filter($=>$===Q).sort():Object.keys(Me).sort(),ce=Q?ke.filter($=>$.date===Q):ke,fe=[{key:"schedule",label:"Schedule",icon:Al},{key:"staff",label:"Staff",icon:Fs},{key:"services",label:"Services",icon:uu}];return m.jsxs("div",{className:"min-h-screen bg-slate-50",children:[m.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"h-16 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(r.name||"")[0]?.toUpperCase()||"S"}),m.jsxs("div",{className:"hidden sm:block",children:[m.jsx("h1",{className:"text-base font-bold text-slate-900 leading-tight",children:r.name}),m.jsx("p",{className:"text-xs text-slate-500",children:"Dashboard"})]})]}),m.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-xl",children:fe.map($=>{const re=$.icon;return m.jsxs("button",{onClick:()=>P($.key),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${z===$.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[m.jsx(re,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:$.label})]},$.key)})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(pt,{to:`/shop/${e}`,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[m.jsx(Y5,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:"View Page"})]}),m.jsxs("button",{onClick:R,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all",children:[m.jsx(W5,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[z==="schedule"&&m.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 animate-fade-in",children:[{label:"Today's Bookings",value:ae.todayBookings,icon:Lb,color:"bg-blue-100 text-blue-600"},{label:"This Week",value:ae.weekBookings,icon:v4,color:"bg-violet-100 text-violet-600"},{label:"Total Bookings",value:ae.totalBookings,icon:P5,color:"bg-emerald-100 text-emerald-600"},{label:"Unique Clients",value:ae.uniqueClients,icon:Fs,color:"bg-amber-100 text-amber-600"}].map($=>{const re=$.icon;return m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-all",children:[m.jsx("div",{className:"flex items-center justify-between mb-3",children:m.jsx("div",{className:`w-10 h-10 ${$.color} rounded-xl flex items-center justify-center`,children:m.jsx(re,{className:"w-5 h-5"})})}),m.jsx("div",{className:"text-2xl font-extrabold text-slate-900",children:$.value}),m.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:$.label})]},$.label)})}),z==="staff"&&m.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:m.jsx(F4,{shopId:u})}),z==="services"&&m.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:m.jsx(z4,{shopId:u})}),z==="schedule"&&m.jsxs("div",{className:"animate-fade-in",children:[m.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[q.length>0&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5",children:"Filter by Staff"}),m.jsxs("select",{value:oe,onChange:$=>de($.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[m.jsx("option",{value:"all",children:"All Staff"}),q.map($=>m.jsxs("option",{value:$.id,children:[$.name,$.role?`  ${$.role}`:""]},$.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5",children:"Buffer Time"}),m.jsxs("select",{value:r?.bufferMinutes||0,onChange:$=>C($.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[m.jsx("option",{value:"0",children:"No buffer"}),m.jsx("option",{value:"5",children:"5 minutes"}),m.jsx("option",{value:"10",children:"10 minutes"}),m.jsx("option",{value:"15",children:"15 minutes"}),m.jsx("option",{value:"30",children:"30 minutes"})]})]})]}),X.length>0&&m.jsxs("div",{className:"mb-6 bg-violet-50 border border-violet-200 rounded-xl p-5",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(o4,{className:"w-4 h-4 text-violet-600"}),m.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Recurring Weekly Hours"})]}),m.jsx("div",{className:"space-y-2.5",children:X.map($=>{const re=qb.filter(ge=>$.weeklyHours[ge.key]?.enabled);return m.jsxs("div",{className:"flex items-start gap-2.5",children:[m.jsx("div",{className:"w-7 h-7 bg-violet-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx(Fs,{className:"w-3.5 h-3.5 text-violet-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:$.name}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:re.map(ge=>{const Ne=$.weeklyHours[ge.key];return m.jsxs("span",{className:"inline-block px-2 py-0.5 bg-white text-violet-700 border border-violet-200 rounded text-xs font-medium",children:[ge.short," ",xh(Ne.start),"",xh(Ne.end),Ne.break&&m.jsxs("span",{className:"text-amber-600 ml-1",children:["(break ",xh(Ne.break.start),"",xh(Ne.break.end),")"]})]},ge.key)})})]})]},$.id)})}),m.jsx("p",{className:"text-xs text-violet-500 mt-3",children:"Slots auto-generate on the booking page. Manage hours in the Staff tab."})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 mb-6",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Monthly Overview"}),m.jsx(P4,{slotsByDate:Me,bookingsByDate:M,selectedDate:Q,onSelectDate:le,recurringDayFlags:Ke}),Q&&m.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[m.jsxs("span",{className:"text-sm text-slate-600",children:["Showing: ",m.jsx("strong",{className:"text-slate-900",children:new Date(Q+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),m.jsx("button",{onClick:()=>le(null),className:"text-xs px-3 py-1 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all border border-slate-200",children:"Show All"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-1",children:X.length>0?"Add Custom Slots":"Create Time Slots"}),X.length>0&&m.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Use this for one-off availability outside regular hours."}),!X.length&&m.jsx("div",{className:"mb-4"}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[q.length>0&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Staff Member"}),m.jsxs("select",{value:N.staffId,onChange:$=>A({...N,staffId:$.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[m.jsx("option",{value:"",children:"Select a staff member"}),q.map($=>m.jsxs("option",{value:$.id,children:[$.name,$.role?`  ${$.role}`:""]},$.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Date"}),m.jsx("input",{type:"date",value:N.date,onChange:$=>A({...N,date:$.target.value}),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Start"}),m.jsx("input",{type:"time",value:N.startTime,onChange:$=>A({...N,startTime:$.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"End"}),m.jsx("input",{type:"time",value:N.endTime,onChange:$=>A({...N,endTime:$.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Slot Duration"}),m.jsxs("select",{value:N.slotDuration,onChange:$=>A({...N,slotDuration:$.target.value}),className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[m.jsx("option",{value:"15",children:"15 minutes"}),m.jsx("option",{value:"30",children:"30 minutes"}),m.jsx("option",{value:"45",children:"45 minutes"}),m.jsx("option",{value:"60",children:"1 hour"}),m.jsx("option",{value:"90",children:"1.5 hours"}),m.jsx("option",{value:"120",children:"2 hours"})]})]}),m.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[m.jsx(Eg,{className:"w-4 h-4"}),"Generate Slots"]})]}),m.jsxs("div",{className:"mt-4 p-3.5 bg-blue-50 border border-blue-100 rounded-xl text-xs text-slate-600 leading-relaxed",children:[m.jsx("strong",{className:"text-slate-700",children:" Tip:"})," ",X.length>0?"Weekly hours auto-generate slots. Use this for one-off slots outside regular hours.":q.length>0?"Select a staff member, pick a date, and set working hours to create slots.":"Set your hours and slot duration. We'll create all the time slots for that day."]})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Bookings":"All Bookings"}),m.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-lg",children:ce.length})]}),ce.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:m.jsx(Lb,{className:"w-6 h-6 text-slate-400"})}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:Q?"No bookings for this date":"No bookings yet"})]}):m.jsx("div",{className:"space-y-2.5 max-h-[500px] overflow-y-auto pr-1",children:ce.sort(($,re)=>`${$.date}${$.time}`.localeCompare(`${re.date}${re.time}`)).map($=>m.jsxs("div",{className:"group border border-slate-200 rounded-xl p-4 hover:border-slate-300 hover:shadow-sm transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:m.jsx(b4,{className:"w-4 h-4 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:$.clientName}),m.jsx("div",{className:"text-xs text-slate-500",children:Xe($.date,$.time)})]})]}),m.jsx("button",{onClick:()=>U($.id),className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel booking",children:m.jsx(ed,{className:"w-3.5 h-3.5"})})]}),m.jsxs("div",{className:"ml-[46px] space-y-0.5 text-xs text-slate-500",children:[$.serviceName&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(uu,{className:"w-3 h-3 text-blue-400"}),m.jsx("span",{className:"font-medium text-slate-700",children:$.serviceName}),$.servicePrice!=null&&m.jsxs("span",{className:"text-blue-600 font-semibold",children:["$",Number($.servicePrice).toFixed(2)]})]}),$.staffName&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Fs,{className:"w-3 h-3 text-violet-400"}),m.jsx("span",{className:"text-violet-600",children:$.staffName})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(e4,{className:"w-3 h-3"}),$.clientEmail]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(r4,{className:"w-3 h-3"}),$.clientPhone]})]})]})]},$.id))})]})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Custom Time Slots":"All Custom Time Slots"}),m.jsx("span",{className:"text-xs font-semibold text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:Q?(Me[Q]||[]).length:_e.length})]}),X.length>0&&m.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Recurring slots from weekly hours auto-generate  not shown here."}),!X.length&&m.jsx("div",{className:"mb-4"}),ee.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:m.jsx(Al,{className:"w-6 h-6 text-slate-400"})}),m.jsx("p",{className:"text-sm text-slate-500 font-medium mb-1",children:Q?"No custom slots for this date":"No custom slots yet"}),m.jsx("p",{className:"text-xs text-slate-400",children:X.length>0?"Recurring hours handle most scheduling.":"Use the form above to generate availability."})]}):m.jsx("div",{className:"space-y-6",children:ee.map($=>m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-3 pb-2 border-b border-slate-100",children:new Date($).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2.5",children:Me[$].sort((re,ge)=>re.time.localeCompare(ge.time)).map(re=>m.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3.5 text-center group hover:border-slate-300 transition-all",children:[m.jsx("div",{className:"text-sm font-bold text-slate-900 mb-0.5",children:re.time}),m.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[re.duration," min"]}),re.staffName&&m.jsxs("div",{className:"text-xs text-violet-600 mb-1.5 flex items-center justify-center gap-1",children:[m.jsx(Fs,{className:"w-3 h-3"}),re.staffName]}),m.jsx("div",{className:"mb-2",children:re.available?m.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md text-xs font-medium",children:"Available"}):m.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-50 text-red-700 border border-red-200 rounded-md text-xs font-medium",children:"Booked"})}),re.available&&m.jsxs("button",{onClick:()=>j(re.id),className:"opacity-0 group-hover:opacity-100 flex items-center justify-center gap-1 w-full px-2 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-xs font-medium transition-all border border-red-200",children:[m.jsx(ed,{className:"w-3 h-3"}),"Remove"]})]},re.id))})]},$))})]})]})]})]})}function $4({user:i}){const{slug:e}=Tp(),n=Ll(),[r,l]=V.useState(""),[u,d]=V.useState(""),[p,g]=V.useState(""),[y,x]=V.useState(!1);V.useEffect(()=>{if(!i)return;(async()=>{const I=ga(It(tt,"shops"),ya("slug","==",e)),K=await va(I);K.empty||K.docs[0].data().ownerUid===i.uid&&n(`/shop/${e}/dashboard`,{replace:!0})})()},[i,e,n]);const E=async S=>{S.preventDefault(),g(""),x(!0);try{const K=(await Gx(_a,r,u)).user,q=ga(It(tt,"shops"),ya("slug","==",e)),L=await va(q);if(L.empty){g("Shop not found"),x(!1);return}if(L.docs[0].data().ownerUid!==K.uid){g("You are not the owner of this shop"),await _a.signOut(),x(!1);return}n(`/shop/${e}/dashboard`,{replace:!0})}catch(I){switch(I.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":g("Invalid email or password");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/too-many-requests":g("Too many failed attempts. Please try again later.");break;default:g("Login failed. Please try again.")}d("")}finally{x(!1)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:m.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[m.jsx("div",{className:"text-center mb-8",children:m.jsxs(pt,{to:"/",className:"inline-flex items-center gap-2.5",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:m.jsx(Pu,{className:"w-5 h-5 text-white"})}),m.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",m.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),m.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),m.jsx("input",{type:"email",value:r,onChange:S=>{l(S.target.value),g("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),m.jsx("input",{type:"password",value:u,onChange:S=>{d(S.target.value),g("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&m.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[m.jsx("span",{children:""})," ",p]})]}),m.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):"Sign In"})]}),m.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:m.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",m.jsx(pt,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(pt,{to:`/shop/${e}`,className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[m.jsx(Sl,{className:"w-3.5 h-3.5"}),"Back to booking page"]})})]})})}function Y4(){const[i,e]=V.useState(null),[n,r]=V.useState(!0);return V.useEffect(()=>{const l=HN(_a,u=>{e(u),r(!1)});return()=>l()},[]),n?m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:m.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[m.jsx("div",{className:"spinner"}),m.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})}):m.jsx(XS,{children:m.jsxs(AS,{children:[m.jsx(lr,{path:"/",element:m.jsx(S4,{})}),m.jsx(lr,{path:"/register",element:m.jsx(N4,{})}),m.jsx(lr,{path:"/login",element:m.jsx(R4,{user:i})}),m.jsx(lr,{path:"/shop/:slug",element:m.jsx(L4,{})}),m.jsx(lr,{path:"/shop/:slug/login",element:m.jsx($4,{user:i})}),m.jsx(lr,{path:"/shop/:slug/dashboard",element:m.jsx(G4,{user:i})}),m.jsx(lr,{path:"*",element:m.jsx(wS,{to:"/",replace:!0})})]})})}Rw.createRoot(document.getElementById("root")).render(m.jsx(bw.StrictMode,{children:m.jsx(Y4,{})}));
