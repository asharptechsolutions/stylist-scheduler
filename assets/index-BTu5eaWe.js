(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Kx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tm={exports:{}},ec={};var $v;function AT(){if($v)return ec;$v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:a,key:f,ref:l!==void 0?l:null,props:c}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var Yv;function RT(){return Yv||(Yv=1,Tm.exports=AT()),Tm.exports}var h=RT(),Sm={exports:{}},Le={};var Kv;function CT(){if(Kv)return Le;Kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,L={};function z(M,Z,he){this.props=M,this.context=Z,this.refs=L,this.updater=he||Y}z.prototype.isReactComponent={},z.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=z.prototype;function Q(M,Z,he){this.props=M,this.context=Z,this.refs=L,this.updater=he||Y}var le=Q.prototype=new U;le.constructor=Q,B(le,z.prototype),le.isPureReactComponent=!0;var ue=Array.isArray;function me(){}var A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(M,Z,he){var fe=he.ref;return{$$typeof:i,type:M,key:Z,ref:fe!==void 0?fe:null,props:he}}function O(M,Z){return R(M.type,Z,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function P(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return Z[he]})}var C=/\/+/g;function De(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Z.toString(36)}function Ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(me,me):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function W(M,Z,he,fe,Se){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ne){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case i:case e:Ue=!0;break;case x:return Ue=M._init,W(Ue(M._payload),Z,he,fe,Se)}}if(Ue)return Se=Se(M),Ue=fe===""?"."+De(M,0):fe,ue(Se)?(he="",Ue!=null&&(he=Ue.replace(C,"$&/")+"/"),W(Se,Z,he,"",function(on){return on})):Se!=null&&(k(Se)&&(Se=O(Se,he+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+Ue)),Z.push(Se)),1;Ue=0;var pt=fe===""?".":fe+":";if(ue(M))for(var $e=0;$e<M.length;$e++)fe=M[$e],Ne=pt+De(fe,$e),Ue+=W(fe,Z,he,Ne,Se);else if($e=I(M),typeof $e=="function")for(M=$e.call(M),$e=0;!(fe=M.next()).done;)fe=fe.value,Ne=pt+De(fe,$e++),Ue+=W(fe,Z,he,Ne,Se);else if(Ne==="object"){if(typeof M.then=="function")return W(Ge(M),Z,he,fe,Se);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(M,Z,he){if(M==null)return M;var fe=[],Se=0;return W(M,fe,"","",function(Ne){return Z.call(he,Ne,Se++)}),fe}function be(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Fe={map:ae,forEach:function(M,Z,he){ae(M,function(){Z.apply(this,arguments)},he)},count:function(M){var Z=0;return ae(M,function(){Z++}),Z},toArray:function(M){return ae(M,function(Z){return Z})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Le.Activity=E,Le.Children=Fe,Le.Component=z,Le.Fragment=n,Le.Profiler=l,Le.PureComponent=Q,Le.StrictMode=a,Le.Suspense=g,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(M,Z,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=B({},M.props),Se=M.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Se=""+Z.key),Z)!N.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(fe[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=he;else if(1<Ne){for(var Ue=Array(Ne),pt=0;pt<Ne;pt++)Ue[pt]=arguments[pt+2];fe.children=Ue}return R(M.type,Se,fe)},Le.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Le.createElement=function(M,Z,he){var fe,Se={},Ne=null;if(Z!=null)for(fe in Z.key!==void 0&&(Ne=""+Z.key),Z)N.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=Z[fe]);var Ue=arguments.length-2;if(Ue===1)Se.children=he;else if(1<Ue){for(var pt=Array(Ue),$e=0;$e<Ue;$e++)pt[$e]=arguments[$e+2];Se.children=pt}if(M&&M.defaultProps)for(fe in Ue=M.defaultProps,Ue)Se[fe]===void 0&&(Se[fe]=Ue[fe]);return R(M,Ne,Se)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:p,render:M}},Le.isValidElement=k,Le.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:be}},Le.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},Le.startTransition=function(M){var Z=A.T,he={};A.T=he;try{var fe=M(),Se=A.S;Se!==null&&Se(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(me,je)}catch(Ne){je(Ne)}finally{Z!==null&&he.types!==null&&(Z.types=he.types),A.T=Z}},Le.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Le.use=function(M){return A.H.use(M)},Le.useActionState=function(M,Z,he){return A.H.useActionState(M,Z,he)},Le.useCallback=function(M,Z){return A.H.useCallback(M,Z)},Le.useContext=function(M){return A.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,Z){return A.H.useDeferredValue(M,Z)},Le.useEffect=function(M,Z){return A.H.useEffect(M,Z)},Le.useEffectEvent=function(M){return A.H.useEffectEvent(M)},Le.useId=function(){return A.H.useId()},Le.useImperativeHandle=function(M,Z,he){return A.H.useImperativeHandle(M,Z,he)},Le.useInsertionEffect=function(M,Z){return A.H.useInsertionEffect(M,Z)},Le.useLayoutEffect=function(M,Z){return A.H.useLayoutEffect(M,Z)},Le.useMemo=function(M,Z){return A.H.useMemo(M,Z)},Le.useOptimistic=function(M,Z){return A.H.useOptimistic(M,Z)},Le.useReducer=function(M,Z,he){return A.H.useReducer(M,Z,he)},Le.useRef=function(M){return A.H.useRef(M)},Le.useState=function(M){return A.H.useState(M)},Le.useSyncExternalStore=function(M,Z,he){return A.H.useSyncExternalStore(M,Z,he)},Le.useTransition=function(){return A.H.useTransition()},Le.version="19.2.4",Le}var Qv;function Ep(){return Qv||(Qv=1,Sm.exports=CT()),Sm.exports}var D=Ep();const IT=Kx(D);var Nm={exports:{}},tc={},Am={exports:{}},Rm={};var Xv;function jT(){return Xv||(Xv=1,(function(i){function e(W,ae){var be=W.length;W.push(ae);e:for(;0<be;){var je=be-1>>>1,Fe=W[je];if(0<l(Fe,ae))W[je]=ae,W[be]=Fe,be=je;else break e}}function n(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ae=W[0],be=W.pop();if(be!==ae){W[0]=be;e:for(var je=0,Fe=W.length,M=Fe>>>1;je<M;){var Z=2*(je+1)-1,he=W[Z],fe=Z+1,Se=W[fe];if(0>l(he,be))fe<Fe&&0>l(Se,he)?(W[je]=Se,W[fe]=be,je=fe):(W[je]=he,W[Z]=be,je=Z);else if(fe<Fe&&0>l(Se,be))W[je]=Se,W[fe]=be,je=fe;else break e}}return ae}function l(W,ae){var be=W.sortIndex-ae.sortIndex;return be!==0?be:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var g=[],y=[],x=1,E=null,S=3,I=!1,Y=!1,B=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var ae=n(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=W)a(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ue(W){if(B=!1,le(W),!Y)if(n(g)!==null)Y=!0,me||(me=!0,P());else{var ae=n(y);ae!==null&&Ge(ue,ae.startTime-W)}}var me=!1,A=-1,N=5,R=-1;function O(){return L?!0:!(i.unstable_now()-R<N)}function k(){if(L=!1,me){var W=i.unstable_now();R=W;var ae=!0;try{e:{Y=!1,B&&(B=!1,U(A),A=-1),I=!0;var be=S;try{t:{for(le(W),E=n(g);E!==null&&!(E.expirationTime>W&&O());){var je=E.callback;if(typeof je=="function"){E.callback=null,S=E.priorityLevel;var Fe=je(E.expirationTime<=W);if(W=i.unstable_now(),typeof Fe=="function"){E.callback=Fe,le(W),ae=!0;break t}E===n(g)&&a(g),le(W)}else a(g);E=n(g)}if(E!==null)ae=!0;else{var M=n(y);M!==null&&Ge(ue,M.startTime-W),ae=!1}}break e}finally{E=null,S=be,I=!1}ae=void 0}}finally{ae?P():me=!1}}}var P;if(typeof Q=="function")P=function(){Q(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,De=C.port2;C.port1.onmessage=k,P=function(){De.postMessage(null)}}else P=function(){z(k,0)};function Ge(W,ae){A=z(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var be=S;S=ae;try{return W()}finally{S=be}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var be=S;S=W;try{return ae()}finally{S=be}},i.unstable_scheduleCallback=function(W,ae,be){var je=i.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?je+be:je):be=je,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=be+Fe,W={id:x++,callback:ae,priorityLevel:W,startTime:be,expirationTime:Fe,sortIndex:-1},be>je?(W.sortIndex=be,e(y,W),n(g)===null&&W===n(y)&&(B?(U(A),A=-1):B=!0,Ge(ue,be-je))):(W.sortIndex=Fe,e(g,W),Y||I||(Y=!0,me||(me=!0,P()))),W},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(W){var ae=S;return function(){var be=S;S=ae;try{return W.apply(this,arguments)}finally{S=be}}}})(Rm)),Rm}var Wv;function DT(){return Wv||(Wv=1,Am.exports=jT()),Am.exports}var Cm={exports:{}},vn={};var Jv;function kT(){if(Jv)return vn;Jv=1;var i=Ep();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},vn.flushSync=function(g){var y=f.T,x=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=x,a.d.f()}},vn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},vn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},vn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:I}):x==="script"&&a.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},vn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);a.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},vn.requestFormReset=function(g){a.d.r(g)},vn.unstable_batchedUpdates=function(g,y){return g(y)},vn.useFormState=function(g,y,x){return f.H.useFormState(g,y,x)},vn.useFormStatus=function(){return f.H.useHostTransitionStatus()},vn.version="19.2.4",vn}var Zv;function MT(){if(Zv)return Cm.exports;Zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cm.exports=kT(),Cm.exports}var eb;function OT(){if(eb)return tc;eb=1;var i=DT(),e=Ep(),n=MT();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(a(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return g(d),t;if(m===o)return g(d),s;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=d,o=m;else{for(var b=!1,w=d.child;w;){if(w===r){b=!0,r=d,o=m;break}if(w===o){b=!0,o=d,r=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===r){b=!0,r=m,o=d;break}if(w===o){b=!0,o=m,r=d;break}w=w.sibling}if(!b)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case ue:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case Q:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case le:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return s=t.displayName||null,s!==null?s:De(t.type)||"Memo";case N:s=t._payload,t=t._init;try{return De(t(s))}catch{}}return null}var Ge=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},je=[],Fe=-1;function M(t){return{current:t}}function Z(t){0>Fe||(t.current=je[Fe],je[Fe]=null,Fe--)}function he(t,s){Fe++,je[Fe]=t.current,t.current=s}var fe=M(null),Se=M(null),Ne=M(null),Ue=M(null);function pt(t,s){switch(he(Ne,s),he(Se,t),he(fe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?pv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=pv(s),t=gv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(fe),he(fe,t)}function $e(){Z(fe),Z(Se),Z(Ne)}function on(t){t.memoizedState!==null&&he(Ue,t);var s=fe.current,r=gv(s,t.type);s!==r&&(he(Se,t),he(fe,r))}function Jt(t){Se.current===t&&(Z(fe),Z(Se)),Ue.current===t&&(Z(Ue),Xo._currentValue=be)}var wn,H;function ce(t){if(wn===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);wn=s&&s[1]||"",H=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wn+t+H}var Re=!1;function Ye(t,s){if(!t||Re)return"";Re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var K=J}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(J){K=J}t.call(ne.prototype)}}else{try{throw Error()}catch(J){K=J}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var j=b.split(`
`),$=w.split(`
`);for(d=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(o===j.length||d===$.length)for(o=j.length-1,d=$.length-1;1<=o&&0<=d&&j[o]!==$[d];)d--;for(;1<=o&&0<=d;o--,d--)if(j[o]!==$[d]){if(o!==1||d!==1)do if(o--,d--,0>d||j[o]!==$[d]){var ee=`
`+j[o].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=o&&0<=d);break}}}finally{Re=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ce(r):""}function Xe(t,s){switch(t.tag){case 26:case 27:case 5:return ce(t.type);case 16:return ce("Lazy");case 13:return t.child!==s&&s!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return Ye(t.type,!1);case 11:return Ye(t.type.render,!1);case 1:return Ye(t.type,!0);case 31:return ce("Activity");default:return""}}function oe(t){try{var s="",r=null;do s+=Xe(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Me=i.unstable_scheduleCallback,re=i.unstable_cancelCallback,Ee=i.unstable_shouldYield,_e=i.unstable_requestPaint,Ve=i.unstable_now,qe=i.unstable_getCurrentPriorityLevel,ot=i.unstable_ImmediatePriority,Et=i.unstable_UserBlockingPriority,Pt=i.unstable_NormalPriority,kr=i.unstable_LowPriority,Pi=i.unstable_IdlePriority,Mr=i.log,Or=i.unstable_setDisableYieldValue,us=null,cn=null;function Kn(t){if(typeof Mr=="function"&&Or(t),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(us,t)}catch{}}var kt=Math.clz32?Math.clz32:Gc,Fc=Math.log,Vr=Math.LN2;function Gc(t){return t>>>=0,t===0?32:31-(Fc(t)/Vr|0)|0}var Cs=256,Ba=262144,Ut=4194304;function Is(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function js(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?d=Is(o):(b&=w,b!==0?d=Is(b):r||(r=w&~t,r!==0&&(d=Is(r))))):(w=o&~m,w!==0?d=Is(w):b!==0?d=Is(b):r||(r=o&~t,r!==0&&(d=Is(r)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:d}function hs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ad(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function Ds(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function qa(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rd(t,s,r,o,d,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,$=t.hiddenUpdates;for(r=b&~r;0<r;){var ee=31-kt(r),ne=1<<ee;w[ee]=0,j[ee]=-1;var K=$[ee];if(K!==null)for($[ee]=null,ee=0;ee<K.length;ee++){var J=K[ee];J!==null&&(J.lane&=-536870913)}r&=~ne}o!==0&&Ha(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function Ha(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-kt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function eo(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-kt(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function to(t,s){var r=s&-s;return r=(r&42)!==0?1:Fa(r),(r&(t.suspendedLanes|s))!==0?0:r}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Uv(t.type))}function ds(t,s){var r=ae.p;try{return ae.p=t,s()}finally{ae.p=r}}var fs=Math.random().toString(36).slice(2),zt="__reactFiber$"+fs,nn="__reactProps$"+fs,ks="__reactContainer$"+fs,Lr="__reactEvents$"+fs,Cd="__reactListeners$"+fs,Kc="__reactHandles$"+fs,Qc="__reactResources$"+fs,Ms="__reactMarker$"+fs;function Pr(t){delete t[zt],delete t[nn],delete t[Lr],delete t[Cd],delete t[Kc]}function Os(t){var s=t[zt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[ks]||r[zt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=wv(t);t!==null;){if(r=t[zt])return r;t=wv(t)}return s}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[zt]||t[ks]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function On(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function Vs(t){var s=t[Qc];return s||(s=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(t){t[Ms]=!0}var no=new Set,so={};function Ls(t,s){Ps(t,s),Ps(t+"Capture",s)}function Ps(t,s){for(so[t]=s,t=0;t<s.length;t++)no.add(s[t])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},ro={};function Xc(t){return ye.call(ro,t)?!0:ye.call(ao,t)?!1:io.test(t)?ro[t]=!0:(ao[t]=!0,!1)}function Ur(t,s,r){if(Xc(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Vn(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function qt(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lo(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function dt(t){if(!t._valueTracker){var s=Ui(t)?"checked":"value";t._valueTracker=lo(t,s,""+t[s])}}function Ga(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=Ui(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $a=/[\n"\\]/g;function Nn(t){return t.replace($a,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zr(t,s,r,o,d,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+sn(s)):t.value!==""+sn(s)&&(t.value=""+sn(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?oo(t,b,sn(s)):r!=null?oo(t,b,sn(r)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+sn(w):t.removeAttribute("name")}function Wc(t,s,r,o,d,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){dt(t);return}r=r!=null?""+sn(r):"",s=s!=null?""+sn(s):r,w||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),dt(t)}function oo(t,s,r){s==="number"&&Us(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zi(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Jc(t,s,r){if(s!=null&&(s=""+sn(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+sn(r):""}function Bi(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=sn(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),dt(t)}function An(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function co(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||Zc.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function uo(t,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&co(t,d,o)}else for(var m in s)s.hasOwnProperty(m)&&co(t,m,s[m])}function Br(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(t){return qi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ms(){}var ho=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,zs=null;function Ya(t){var s=Qn(t);if(s&&(t=s.stateNode)){var r=t[nn]||null;e:switch(t=s.stateNode,s.type){case"input":if(zr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Nn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[nn]||null;if(!d)throw Error(a(90));zr(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&Ga(o)}break e;case"textarea":Jc(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&zi(t,!!r.multiple,s,!1)}}}var Hr=!1;function Fi(t,s,r){if(Hr)return t(s,r);Hr=!0;try{var o=t(s);return o}finally{if(Hr=!1,(Hi!==null||zs!==null)&&(Yu(),Hi&&(s=Hi,t=zs,zs=Hi=null,Ya(s),t)))for(s=0;s<t.length;s++)Ya(t[s])}}function ps(t,s){var r=t.stateNode;if(r===null)return null;var o=r[nn]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(Wn)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Ka=!1}var Bs=null,fo=null,Qa=null;function mo(){if(Qa)return Qa;var t,s=fo,r=s.length,o,d="value"in Bs?Bs.value:Bs.textContent,m=d.length;for(t=0;t<r&&s[t]===d[t];t++);var b=r-t;for(o=1;o<=b&&s[r-o]===d[m-o];o++);return Qa=d.slice(t,1<o?1-o:void 0)}function Xa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function gs(){return!1}function un(t){function s(r,o,d,m,b){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ai:gs,this.isPropagationStopped=gs,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),s}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=un(ri),Gi=E({},ri,{view:0,detail:0}),po=un(Gi),$i,Fr,Hs,Gr=E({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hs&&(Hs&&t.type==="mousemove"?($i=t.screenX-Hs.screenX,Fr=t.screenY-Hs.screenY):Fr=$i=0,Hs=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Fr}}),go=un(Gr),Wa=E({},Gr,{dataTransfer:0}),tu=un(Wa),nu=E({},Gi,{relatedTarget:0}),Ja=un(nu),yo=E({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),su=un(yo),$r=E({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=un($r),au=E({},ri,{data:0}),Fs=un(au),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ou[t])?!!s[t]:!1}function Yi(){return cu}var Tn=E({},Gi,{key:function(t){if(t.key){var s=ru[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uu=un(Tn),hu=E({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=un(hu),u=E({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),v=un(u),_=E({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=un(_),F=E({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(F),de=E({},ri,{newState:0,oldState:0}),ze=un(de),Mt=[9,13,27,32],ct=Wn&&"CompositionEvent"in window,At=null;Wn&&"documentMode"in document&&(At=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!At,Gs=Wn&&(!ct||At&&8<At&&11>=At),ys=" ",vs=!1;function Za(t,s){switch(t){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function WE(t,s){switch(t){case"compositionend":return Yr(s);case"keypress":return s.which!==32?null:(vs=!0,ys);case"textInput":return t=s.data,t===ys&&vs?null:t;default:return null}}function JE(t,s){if(Kr)return t==="compositionend"||!ct&&Za(t,s)?(t=mo(),Qa=fo=Bs=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gs&&s.locale!=="ko"?null:s.data;default:return null}}var ZE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ZE[t.type]:s==="textarea"}function Ag(t,s,r,o){Hi?zs?zs.push(o):zs=[o]:Hi=o,s=eh(s,"onChange"),0<s.length&&(r=new qs("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var vo=null,bo=null;function ew(t){cv(t,0)}function du(t){var s=On(t);if(Ga(s))return t}function Rg(t,s){if(t==="change")return s}var Cg=!1;if(Wn){var Id;if(Wn){var jd="oninput"in document;if(!jd){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),jd=typeof Ig.oninput=="function"}Id=jd}else Id=!1;Cg=Id&&(!document.documentMode||9<document.documentMode)}function jg(){vo&&(vo.detachEvent("onpropertychange",Dg),bo=vo=null)}function Dg(t){if(t.propertyName==="value"&&du(bo)){var s=[];Ag(s,bo,t,Xn(t)),Fi(ew,s)}}function tw(t,s,r){t==="focusin"?(jg(),vo=s,bo=r,vo.attachEvent("onpropertychange",Dg)):t==="focusout"&&jg()}function nw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(bo)}function sw(t,s){if(t==="click")return du(s)}function iw(t,s){if(t==="input"||t==="change")return du(s)}function aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ln=typeof Object.is=="function"?Object.is:aw;function xo(t,s){if(Ln(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!ye.call(s,d)||!Ln(t[d],s[d]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,s){var r=kg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kg(r)}}function Og(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Og(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Us(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Us(t.document)}return s}function Dd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var rw=Wn&&"documentMode"in document&&11>=document.documentMode,Qr=null,kd=null,_o=null,Md=!1;function Lg(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Md||Qr==null||Qr!==Us(o)||(o=Qr,"selectionStart"in o&&Dd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_o&&xo(_o,o)||(_o=o,o=eh(kd,"onSelect"),0<o.length&&(s=new qs("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=Qr)))}function er(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Xr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Od={},Pg={};Wn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function tr(t){if(Od[t])return Od[t];if(!Xr[t])return t;var s=Xr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Pg)return Od[t]=s[r];return t}var Ug=tr("animationend"),zg=tr("animationiteration"),Bg=tr("animationstart"),lw=tr("transitionrun"),ow=tr("transitionstart"),cw=tr("transitioncancel"),qg=tr("transitionend"),Hg=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function bs(t,s){Hg.set(t,s),Ls(s,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Wr=0,Ld=0;function mu(){for(var t=Wr,s=Ld=Wr=0;s<t;){var r=Zn[s];Zn[s++]=null;var o=Zn[s];Zn[s++]=null;var d=Zn[s];Zn[s++]=null;var m=Zn[s];if(Zn[s++]=null,o!==null&&d!==null){var b=o.pending;b===null?d.next=d:(d.next=b.next,b.next=d),o.pending=d}m!==0&&Fg(r,d,m)}}function pu(t,s,r,o){Zn[Wr++]=t,Zn[Wr++]=s,Zn[Wr++]=r,Zn[Wr++]=o,Ld|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Pd(t,s,r,o){return pu(t,s,r,o),gu(t)}function nr(t,s){return pu(t,null,null,s),gu(t)}function Fg(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-kt(r),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),m):null}function gu(t){if(50<Ho)throw Ho=0,Kf=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Jr={};function uw(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,s,r,o){return new uw(t,s,r,o)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oi(t,s){var r=t.alternate;return r===null?(r=Pn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Gg(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function yu(t,s,r,o,d,m){var b=0;if(o=t,typeof t=="function")Ud(t)&&(b=1);else if(typeof t=="string")b=pT(t,r,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Pn(31,r,s,d),t.elementType=R,t.lanes=m,t;case B:return sr(r.children,d,m,s);case L:b=8,d|=24;break;case z:return t=Pn(12,r,s,d|2),t.elementType=z,t.lanes=m,t;case ue:return t=Pn(13,r,s,d),t.elementType=ue,t.lanes=m,t;case me:return t=Pn(19,r,s,d),t.elementType=me,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:b=10;break e;case U:b=9;break e;case le:b=11;break e;case A:b=14;break e;case N:b=16,o=null;break e}b=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return s=Pn(b,r,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function sr(t,s,r,o){return t=Pn(7,t,o,s),t.lanes=r,t}function zd(t,s,r){return t=Pn(6,t,null,s),t.lanes=r,t}function $g(t){var s=Pn(18,null,null,0);return s.stateNode=t,s}function Bd(t,s,r){return s=Pn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Yg=new WeakMap;function es(t,s){if(typeof t=="object"&&t!==null){var r=Yg.get(t);return r!==void 0?r:(s={value:t,source:s,stack:oe(s)},Yg.set(t,s),s)}return{value:t,source:s,stack:oe(s)}}var Zr=[],el=0,vu=null,Eo=0,ts=[],ns=0,Ki=null,$s=1,Ys="";function ci(t,s){Zr[el++]=Eo,Zr[el++]=vu,vu=t,Eo=s}function Kg(t,s,r){ts[ns++]=$s,ts[ns++]=Ys,ts[ns++]=Ki,Ki=t;var o=$s;t=Ys;var d=32-kt(o)-1;o&=~(1<<d),r+=1;var m=32-kt(s)+d;if(30<m){var b=d-d%5;m=(o&(1<<b)-1).toString(32),o>>=b,d-=b,$s=1<<32-kt(s)+d|r<<d|o,Ys=m+t}else $s=1<<m|r<<d|o,Ys=t}function qd(t){t.return!==null&&(ci(t,1),Kg(t,1,0))}function Hd(t){for(;t===vu;)vu=Zr[--el],Zr[el]=null,Eo=Zr[--el],Zr[el]=null;for(;t===Ki;)Ki=ts[--ns],ts[ns]=null,Ys=ts[--ns],ts[ns]=null,$s=ts[--ns],ts[ns]=null}function Qg(t,s){ts[ns++]=$s,ts[ns++]=Ys,ts[ns++]=Ki,$s=s.id,Ys=s.overflow,Ki=t}var hn=null,Tt=null,st=!1,Qi=null,ss=!1,Fd=Error(a(519));function Xi(t){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(es(s,t)),Fd}function Xg(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[zt]=t,s[nn]=o,r){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(r=0;r<Go.length;r++)Qe(Go[r],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Wc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Bi(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||fv(s.textContent,r)?(o.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),o.onScroll!=null&&Qe("scroll",s),o.onScrollEnd!=null&&Qe("scrollend",s),o.onClick!=null&&(s.onclick=ms),s=!0):s=!1,s||Xi(t,!0)}function Wg(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:hn=hn.return}}function tl(t){if(t!==hn)return!1;if(!st)return Wg(t),st=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||cm(t.type,t.memoizedProps)),r=!r),r&&Tt&&Xi(t),Wg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=Ev(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=Ev(t)}else s===27?(s=Tt,ua(t.type)?(t=mm,mm=null,Tt=t):Tt=s):Tt=hn?as(t.stateNode.nextSibling):null;return!0}function ir(){Tt=hn=null,st=!1}function Gd(){var t=Qi;return t!==null&&(jn===null?jn=t:jn.push.apply(jn,t),Qi=null),t}function wo(t){Qi===null?Qi=[t]:Qi.push(t)}var $d=M(null),ar=null,ui=null;function Wi(t,s,r){he($d,s._currentValue),s._currentValue=r}function hi(t){t._currentValue=$d.current,Z($d)}function Yd(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Kd(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var j=0;j<s.length;j++)if(w.context===s[j]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Yd(m.return,r,t),o||(b=null);break e}m=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(a(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Yd(b,r,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function nl(t,s,r,o){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var w=d.type;Ln(d.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(d===Ue.current){if(b=d.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Xo):t=[Xo])}d=d.return}t!==null&&Kd(s,t,r,o),s.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ar=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return Jg(ar,t)}function xu(t,s){return ar===null&&rr(t),Jg(t,s)}function Jg(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},ui===null){if(t===null)throw Error(a(308));ui=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ui=ui.next=s;return r}var hw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},dw=i.unstable_scheduleCallback,fw=i.unstable_NormalPriority,Ht={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new hw,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&dw(fw,function(){t.controller.abort()})}var So=null,Xd=0,sl=0,il=null;function mw(t,s){if(So===null){var r=So=[];Xd=0,sl=em(),il={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xd++,s.then(Zg,Zg),s}function Zg(){if(--Xd===0&&So!==null){il!==null&&(il.status="fulfilled");var t=So;So=null,sl=0,il=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function pw(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var e0=W.S;W.S=function(t,s){Ly=Ve(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mw(t,s),e0!==null&&e0(t,s)};var lr=M(null);function Wd(){var t=lr.current;return t!==null?t:xt.pooledCache}function _u(t,s){s===null?he(lr,lr.current):he(lr,s.pool)}function t0(){var t=Wd();return t===null?null:{parent:Ht._currentValue,pool:t}}var al=Error(a(460)),Jd=Error(a(474)),Eu=Error(a(542)),wu={then:function(){}};function n0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function s0(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(ms,ms),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,a0(t),t;default:if(typeof s.status=="string")s.then(ms,ms);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,a0(t),t}throw cr=s,al}}function or(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,al):r}}var cr=null;function i0(){if(cr===null)throw Error(a(459));var t=cr;return cr=null,t}function a0(t){if(t===al||t===Eu)throw Error(a(483))}var rl=null,No=0;function Tu(t){var s=No;return No+=1,rl===null&&(rl=[]),s0(rl,t,s)}function Ao(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Su(t,s){throw s.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function r0(t){function s(q,V){if(t){var G=q.deletions;G===null?(q.deletions=[V],q.flags|=16):G.push(V)}}function r(q,V){if(!t)return null;for(;V!==null;)s(q,V),V=V.sibling;return null}function o(q){for(var V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function d(q,V){return q=oi(q,V),q.index=0,q.sibling=null,q}function m(q,V,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<V?(q.flags|=67108866,V):G):(q.flags|=67108866,V)):(q.flags|=1048576,V)}function b(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function w(q,V,G,te){return V===null||V.tag!==6?(V=zd(G,q.mode,te),V.return=q,V):(V=d(V,G),V.return=q,V)}function j(q,V,G,te){var we=G.type;return we===B?ee(q,V,G.props.children,te,G.key):V!==null&&(V.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&or(we)===V.type)?(V=d(V,G.props),Ao(V,G),V.return=q,V):(V=yu(G.type,G.key,G.props,null,q.mode,te),Ao(V,G),V.return=q,V)}function $(q,V,G,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=Bd(G,q.mode,te),V.return=q,V):(V=d(V,G.children||[]),V.return=q,V)}function ee(q,V,G,te,we){return V===null||V.tag!==7?(V=sr(G,q.mode,te,we),V.return=q,V):(V=d(V,G),V.return=q,V)}function ne(q,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=zd(""+V,q.mode,G),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return G=yu(V.type,V.key,V.props,null,q.mode,G),Ao(G,V),G.return=q,G;case Y:return V=Bd(V,q.mode,G),V.return=q,V;case N:return V=or(V),ne(q,V,G)}if(Ge(V)||P(V))return V=sr(V,q.mode,G,null),V.return=q,V;if(typeof V.then=="function")return ne(q,Tu(V),G);if(V.$$typeof===Q)return ne(q,xu(q,V),G);Su(q,V)}return null}function K(q,V,G,te){var we=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return we!==null?null:w(q,V,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return G.key===we?j(q,V,G,te):null;case Y:return G.key===we?$(q,V,G,te):null;case N:return G=or(G),K(q,V,G,te)}if(Ge(G)||P(G))return we!==null?null:ee(q,V,G,te,null);if(typeof G.then=="function")return K(q,V,Tu(G),te);if(G.$$typeof===Q)return K(q,V,xu(q,G),te);Su(q,G)}return null}function J(q,V,G,te,we){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(G)||null,w(V,q,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return q=q.get(te.key===null?G:te.key)||null,j(V,q,te,we);case Y:return q=q.get(te.key===null?G:te.key)||null,$(V,q,te,we);case N:return te=or(te),J(q,V,G,te,we)}if(Ge(te)||P(te))return q=q.get(G)||null,ee(V,q,te,we,null);if(typeof te.then=="function")return J(q,V,G,Tu(te),we);if(te.$$typeof===Q)return J(q,V,G,xu(V,te),we);Su(V,te)}return null}function ve(q,V,G,te){for(var we=null,rt=null,xe=V,He=V=0,Je=null;xe!==null&&He<G.length;He++){xe.index>He?(Je=xe,xe=null):Je=xe.sibling;var lt=K(q,xe,G[He],te);if(lt===null){xe===null&&(xe=Je);break}t&&xe&&lt.alternate===null&&s(q,xe),V=m(lt,V,He),rt===null?we=lt:rt.sibling=lt,rt=lt,xe=Je}if(He===G.length)return r(q,xe),st&&ci(q,He),we;if(xe===null){for(;He<G.length;He++)xe=ne(q,G[He],te),xe!==null&&(V=m(xe,V,He),rt===null?we=xe:rt.sibling=xe,rt=xe);return st&&ci(q,He),we}for(xe=o(xe);He<G.length;He++)Je=J(xe,q,He,G[He],te),Je!==null&&(t&&Je.alternate!==null&&xe.delete(Je.key===null?He:Je.key),V=m(Je,V,He),rt===null?we=Je:rt.sibling=Je,rt=Je);return t&&xe.forEach(function(pa){return s(q,pa)}),st&&ci(q,He),we}function Ae(q,V,G,te){if(G==null)throw Error(a(151));for(var we=null,rt=null,xe=V,He=V=0,Je=null,lt=G.next();xe!==null&&!lt.done;He++,lt=G.next()){xe.index>He?(Je=xe,xe=null):Je=xe.sibling;var pa=K(q,xe,lt.value,te);if(pa===null){xe===null&&(xe=Je);break}t&&xe&&pa.alternate===null&&s(q,xe),V=m(pa,V,He),rt===null?we=pa:rt.sibling=pa,rt=pa,xe=Je}if(lt.done)return r(q,xe),st&&ci(q,He),we;if(xe===null){for(;!lt.done;He++,lt=G.next())lt=ne(q,lt.value,te),lt!==null&&(V=m(lt,V,He),rt===null?we=lt:rt.sibling=lt,rt=lt);return st&&ci(q,He),we}for(xe=o(xe);!lt.done;He++,lt=G.next())lt=J(xe,q,He,lt.value,te),lt!==null&&(t&&lt.alternate!==null&&xe.delete(lt.key===null?He:lt.key),V=m(lt,V,He),rt===null?we=lt:rt.sibling=lt,rt=lt);return t&&xe.forEach(function(NT){return s(q,NT)}),st&&ci(q,He),we}function bt(q,V,G,te){if(typeof G=="object"&&G!==null&&G.type===B&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case I:e:{for(var we=G.key;V!==null;){if(V.key===we){if(we=G.type,we===B){if(V.tag===7){r(q,V.sibling),te=d(V,G.props.children),te.return=q,q=te;break e}}else if(V.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&or(we)===V.type){r(q,V.sibling),te=d(V,G.props),Ao(te,G),te.return=q,q=te;break e}r(q,V);break}else s(q,V);V=V.sibling}G.type===B?(te=sr(G.props.children,q.mode,te,G.key),te.return=q,q=te):(te=yu(G.type,G.key,G.props,null,q.mode,te),Ao(te,G),te.return=q,q=te)}return b(q);case Y:e:{for(we=G.key;V!==null;){if(V.key===we)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){r(q,V.sibling),te=d(V,G.children||[]),te.return=q,q=te;break e}else{r(q,V);break}else s(q,V);V=V.sibling}te=Bd(G,q.mode,te),te.return=q,q=te}return b(q);case N:return G=or(G),bt(q,V,G,te)}if(Ge(G))return ve(q,V,G,te);if(P(G)){if(we=P(G),typeof we!="function")throw Error(a(150));return G=we.call(G),Ae(q,V,G,te)}if(typeof G.then=="function")return bt(q,V,Tu(G),te);if(G.$$typeof===Q)return bt(q,V,xu(q,G),te);Su(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(r(q,V.sibling),te=d(V,G),te.return=q,q=te):(r(q,V),te=zd(G,q.mode,te),te.return=q,q=te),b(q)):r(q,V)}return function(q,V,G,te){try{No=0;var we=bt(q,V,G,te);return rl=null,we}catch(xe){if(xe===al||xe===Eu)throw xe;var rt=Pn(29,xe,null,q.mode);return rt.lanes=te,rt.return=q,rt}}}var ur=r0(!0),l0=r0(!1),Ji=!1;function Zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ea(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ut&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=gu(t),Fg(t,null,r),s}return pu(t,o,s,r),gu(t)}function Ro(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,eo(t,r)}}function tf(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?d=m=s:m=m.next=s}else d=m=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var nf=!1;function Co(){if(nf){var t=il;if(t!==null)throw t}}function Io(t,s,r,o){nf=!1;var d=t.updateQueue;Ji=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var j=w,$=j.next;j.next=null,b===null?m=$:b.next=$,b=j;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=$:w.next=$,ee.lastBaseUpdate=j))}if(m!==null){var ne=d.baseState;b=0,ee=$=j=null,w=m;do{var K=w.lane&-536870913,J=K!==w.lane;if(J?(We&K)===K:(o&K)===K){K!==0&&K===sl&&(nf=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=t,Ae=w;K=s;var bt=r;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){ne=ve.call(bt,ne,K);break e}ne=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,K=typeof ve=="function"?ve.call(bt,ne,K):ve,K==null)break e;ne=E({},ne,K);break e;case 2:Ji=!0}}K=w.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=d.callbacks,J===null?d.callbacks=[K]:J.push(K))}else J={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?($=ee=J,j=ne):ee=ee.next=J,b|=K;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;J=w,w=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ee===null&&(j=ne),d.baseState=j,d.firstBaseUpdate=$,d.lastBaseUpdate=ee,m===null&&(d.shared.lanes=0),aa|=b,t.lanes=b,t.memoizedState=ne}}function o0(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function c0(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)o0(r[t],s)}var ll=M(null),Nu=M(0);function u0(t,s){t=xi,he(Nu,t),he(ll,s),xi=t|s.baseLanes}function sf(){he(Nu,xi),he(ll,ll.current)}function af(){xi=Nu.current,Z(ll),Z(Nu)}var Un=M(null),is=null;function ta(t){var s=t.alternate;he(Ot,Ot.current&1),he(Un,t),is===null&&(s===null||ll.current!==null||s.memoizedState!==null)&&(is=t)}function rf(t){he(Ot,Ot.current),he(Un,t),is===null&&(is=t)}function h0(t){t.tag===22?(he(Ot,Ot.current),he(Un,t),is===null&&(is=t)):na()}function na(){he(Ot,Ot.current),he(Un,Un.current)}function zn(t){Z(Un),is===t&&(is=null),Z(Ot)}var Ot=M(0);function Au(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dm(r)||fm(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var di=0,Be=null,yt=null,Ft=null,Ru=!1,ol=!1,hr=!1,Cu=0,jo=0,cl=null,gw=0;function jt(){throw Error(a(321))}function lf(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Ln(t[r],s[r]))return!1;return!0}function of(t,s,r,o,d,m){return di=m,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=t===null||t.memoizedState===null?K0:wf,hr=!1,m=r(o,d),hr=!1,ol&&(m=f0(s,r,o,d)),d0(t),m}function d0(t){W.H=Mo;var s=yt!==null&&yt.next!==null;if(di=0,Ft=yt=Be=null,Ru=!1,jo=0,cl=null,s)throw Error(a(300));t===null||Gt||(t=t.dependencies,t!==null&&bu(t)&&(Gt=!0))}function f0(t,s,r,o){Be=t;var d=0;do{if(ol&&(cl=null),jo=0,ol=!1,25<=d)throw Error(a(301));if(d+=1,Ft=yt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=Q0,m=s(r,o)}while(ol);return m}function yw(){var t=W.H,s=t.useState()[0];return s=typeof s.then=="function"?Do(s):s,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Be.flags|=1024),s}function cf(){var t=Cu!==0;return Cu=0,t}function uf(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function hf(t){if(Ru){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ru=!1}di=0,Ft=yt=Be=null,ol=!1,jo=Cu=0,cl=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Be.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Vt(){if(yt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=Ft===null?Be.memoizedState:Ft.next;if(s!==null)Ft=s,yt=t;else{if(t===null)throw Be.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ft===null?Be.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(t){var s=jo;return jo+=1,cl===null&&(cl=[]),t=s0(cl,t,s),s=Be,(Ft===null?s.memoizedState:Ft.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?K0:wf),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Do(t);if(t.$$typeof===Q)return dn(t)}throw Error(a(438,String(t)))}function df(t){var s=null,r=Be.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=Be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Iu(),Be.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=O;return s.index++,r}function fi(t,s){return typeof s=="function"?s(t):s}function Du(t){var s=Vt();return ff(s,yt,t)}function ff(t,s,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}s.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var w=b=null,j=null,$=s,ee=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(We&ne)===ne:(di&ne)===ne){var K=$.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===sl&&(ee=!0);else if((di&K)===K){$=$.next,K===sl&&(ee=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(w=j=ne,b=m):j=j.next=ne,Be.lanes|=K,aa|=K;ne=$.action,hr&&r(m,ne),m=$.hasEagerState?$.eagerState:r(m,ne)}else K={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(w=j=K,b=m):j=j.next=K,Be.lanes|=ne,aa|=ne;$=$.next}while($!==null&&$!==s);if(j===null?b=m:j.next=w,!Ln(m,t.memoizedState)&&(Gt=!0,ee&&(r=il,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=j,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function mf(t){var s=Vt(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,m=s.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);Ln(m,s.memoizedState)||(Gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,o]}function m0(t,s,r){var o=Be,d=Vt(),m=st;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=s();var b=!Ln((yt||d).memoizedState,r);if(b&&(d.memoizedState=r,Gt=!0),d=d.queue,yf(y0.bind(null,o,d,t),[t]),d.getSnapshot!==s||b||Ft!==null&&Ft.memoizedState.tag&1){if(o.flags|=2048,ul(9,{destroy:void 0},g0.bind(null,o,d,r,s),null),xt===null)throw Error(a(349));m||(di&127)!==0||p0(o,s,r)}return r}function p0(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Be.updateQueue,s===null?(s=Iu(),Be.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function g0(t,s,r,o){s.value=r,s.getSnapshot=o,v0(s)&&b0(t)}function y0(t,s,r){return r(function(){v0(s)&&b0(t)})}function v0(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Ln(t,r)}catch{return!0}}function b0(t){var s=nr(t,2);s!==null&&Dn(s,t,2)}function pf(t){var s=Sn();if(typeof t=="function"){var r=t;if(t=r(),hr){Kn(!0);try{r()}finally{Kn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},s}function x0(t,s,r,o){return t.baseState=r,ff(t,yt,typeof o=="function"?o:fi)}function vw(t,s,r,o,d){if(Ou(t))throw Error(a(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?r(!0):m.isTransition=!1,o(m),r=s.pending,r===null?(m.next=s.pending=m,_0(s,m)):(m.next=r.next,s.pending=r.next=m)}}function _0(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var m=W.T,b={};W.T=b;try{var w=r(d,o),j=W.S;j!==null&&j(b,w),E0(t,s,w)}catch($){gf(t,s,$)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=r(d,o),E0(t,s,m)}catch($){gf(t,s,$)}}function E0(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){w0(t,s,o)},function(o){return gf(t,s,o)}):w0(t,s,r)}function w0(t,s,r){s.status="fulfilled",s.value=r,T0(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,_0(t,r)))}function gf(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,T0(s),s=s.next;while(s!==o)}t.action=null}function T0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function S0(t,s){return s}function N0(t,s){if(st){var r=xt.formState;if(r!==null){e:{var o=Be;if(st){if(Tt){t:{for(var d=Tt,m=ss;d.nodeType!==8;){if(!m){d=null;break t}if(d=as(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Tt=as(d.nextSibling),o=d.data==="F!";break e}}Xi(o)}o=!1}o&&(s=r[0])}}return r=Sn(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:s},r.queue=o,r=G0.bind(null,Be,o),o.dispatch=r,o=pf(!1),m=Ef.bind(null,Be,!1,o.queue),o=Sn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=vw.bind(null,Be,d,m,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function A0(t){var s=Vt();return R0(s,yt,t)}function R0(t,s,r){if(s=ff(t,s,S0)[0],t=Du(fi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Do(s)}catch(b){throw b===al?Eu:b}else o=s;s=Vt();var d=s.queue,m=d.dispatch;return r!==s.memoizedState&&(Be.flags|=2048,ul(9,{destroy:void 0},bw.bind(null,d,r),null)),[o,m,t]}function bw(t,s){t.action=s}function C0(t){var s=Vt(),r=yt;if(r!==null)return R0(s,r,t);Vt(),s=s.memoizedState,r=Vt();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function ul(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=Be.updateQueue,s===null&&(s=Iu(),Be.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function I0(){return Vt().memoizedState}function ku(t,s,r,o){var d=Sn();Be.flags|=t,d.memoizedState=ul(1|s,{destroy:void 0},r,o===void 0?null:o)}function Mu(t,s,r,o){var d=Vt();o=o===void 0?null:o;var m=d.memoizedState.inst;yt!==null&&o!==null&&lf(o,yt.memoizedState.deps)?d.memoizedState=ul(s,m,r,o):(Be.flags|=t,d.memoizedState=ul(1|s,m,r,o))}function j0(t,s){ku(8390656,8,t,s)}function yf(t,s){Mu(2048,8,t,s)}function xw(t){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=Iu(),Be.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function D0(t){var s=Vt().memoizedState;return xw({ref:s,nextImpl:t}),function(){if((ut&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function k0(t,s){return Mu(4,2,t,s)}function M0(t,s){return Mu(4,4,t,s)}function O0(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function V0(t,s,r){r=r!=null?r.concat([t]):null,Mu(4,4,O0.bind(null,s,t),r)}function vf(){}function L0(t,s){var r=Vt();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&lf(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function P0(t,s){var r=Vt();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&lf(s,o[1]))return o[0];if(o=t(),hr){Kn(!0);try{t()}finally{Kn(!1)}}return r.memoizedState=[o,s],o}function bf(t,s,r){return r===void 0||(di&1073741824)!==0&&(We&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Uy(),Be.lanes|=t,aa|=t,r)}function U0(t,s,r,o){return Ln(r,s)?r:ll.current!==null?(t=bf(t,r,o),Ln(t,s)||(Gt=!0),t):(di&42)===0||(di&1073741824)!==0&&(We&261930)===0?(Gt=!0,t.memoizedState=r):(t=Uy(),Be.lanes|=t,aa|=t,s)}function z0(t,s,r,o,d){var m=ae.p;ae.p=m!==0&&8>m?m:8;var b=W.T,w={};W.T=w,Ef(t,!1,s,r);try{var j=d(),$=W.S;if($!==null&&$(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=pw(j,o);ko(t,s,ee,Hn(t))}else ko(t,s,o,Hn(t))}catch(ne){ko(t,s,{then:function(){},status:"rejected",reason:ne},Hn())}finally{ae.p=m,b!==null&&w.types!==null&&(b.types=w.types),W.T=b}}function _w(){}function xf(t,s,r,o){if(t.tag!==5)throw Error(a(476));var d=B0(t).queue;z0(t,d,s,be,r===null?_w:function(){return q0(t),r(o)})}function B0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:be},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function q0(t){var s=B0(t);s.next===null&&(s=t.alternate.memoizedState),ko(t,s.next.queue,{},Hn())}function _f(){return dn(Xo)}function H0(){return Vt().memoizedState}function F0(){return Vt().memoizedState}function Ew(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Hn();t=Zi(r);var o=ea(s,t,r);o!==null&&(Dn(o,s,r),Ro(o,s,r)),s={cache:Qd()},t.payload=s;return}s=s.return}}function ww(t,s,r){var o=Hn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ou(t)?$0(s,r):(r=Pd(t,s,r,o),r!==null&&(Dn(r,t,o),Y0(r,s,o)))}function G0(t,s,r){var o=Hn();ko(t,s,r,o)}function ko(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))$0(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,w=m(b,r);if(d.hasEagerState=!0,d.eagerState=w,Ln(w,b))return pu(t,s,d,0),xt===null&&mu(),!1}catch{}if(r=Pd(t,s,d,o),r!==null)return Dn(r,t,o),Y0(r,s,o),!0}return!1}function Ef(t,s,r,o){if(o={lane:2,revertLane:em(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(s)throw Error(a(479))}else s=Pd(t,r,o,2),s!==null&&Dn(s,t,2)}function Ou(t){var s=t.alternate;return t===Be||s!==null&&s===Be}function $0(t,s){ol=Ru=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Y0(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,eo(t,r)}}var Mo={readContext:dn,use:ju,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Mo.useEffectEvent=jt;var K0={readContext:dn,use:ju,useCallback:function(t,s){return Sn().memoizedState=[t,s===void 0?null:s],t},useContext:dn,useEffect:j0,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,ku(4194308,4,O0.bind(null,s,t),r)},useLayoutEffect:function(t,s){return ku(4194308,4,t,s)},useInsertionEffect:function(t,s){ku(4,2,t,s)},useMemo:function(t,s){var r=Sn();s=s===void 0?null:s;var o=t();if(hr){Kn(!0);try{t()}finally{Kn(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Sn();if(r!==void 0){var d=r(s);if(hr){Kn(!0);try{r(s)}finally{Kn(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=ww.bind(null,Be,t),[o.memoizedState,t]},useRef:function(t){var s=Sn();return t={current:t},s.memoizedState=t},useState:function(t){t=pf(t);var s=t.queue,r=G0.bind(null,Be,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(t,s){var r=Sn();return bf(r,t,s)},useTransition:function(){var t=pf(!1);return t=z0.bind(null,Be,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=Be,d=Sn();if(st){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),xt===null)throw Error(a(349));(We&127)!==0||p0(o,s,r)}d.memoizedState=r;var m={value:r,getSnapshot:s};return d.queue=m,j0(y0.bind(null,o,m,t),[t]),o.flags|=2048,ul(9,{destroy:void 0},g0.bind(null,o,m,r,s),null),r},useId:function(){var t=Sn(),s=xt.identifierPrefix;if(st){var r=Ys,o=$s;r=(o&~(1<<32-kt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Cu++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=gw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:_f,useFormState:N0,useActionState:N0,useOptimistic:function(t){var s=Sn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Ef.bind(null,Be,!0,r),r.dispatch=s,[t,s]},useMemoCache:df,useCacheRefresh:function(){return Sn().memoizedState=Ew.bind(null,Be)},useEffectEvent:function(t){var s=Sn(),r={impl:t};return s.memoizedState=r,function(){if((ut&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:dn,use:ju,useCallback:L0,useContext:dn,useEffect:yf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:M0,useMemo:P0,useReducer:Du,useRef:I0,useState:function(){return Du(fi)},useDebugValue:vf,useDeferredValue:function(t,s){var r=Vt();return U0(r,yt.memoizedState,t,s)},useTransition:function(){var t=Du(fi)[0],s=Vt().memoizedState;return[typeof t=="boolean"?t:Do(t),s]},useSyncExternalStore:m0,useId:H0,useHostTransitionStatus:_f,useFormState:A0,useActionState:A0,useOptimistic:function(t,s){var r=Vt();return x0(r,yt,t,s)},useMemoCache:df,useCacheRefresh:F0};wf.useEffectEvent=D0;var Q0={readContext:dn,use:ju,useCallback:L0,useContext:dn,useEffect:yf,useImperativeHandle:V0,useInsertionEffect:k0,useLayoutEffect:M0,useMemo:P0,useReducer:mf,useRef:I0,useState:function(){return mf(fi)},useDebugValue:vf,useDeferredValue:function(t,s){var r=Vt();return yt===null?bf(r,t,s):U0(r,yt.memoizedState,t,s)},useTransition:function(){var t=mf(fi)[0],s=Vt().memoizedState;return[typeof t=="boolean"?t:Do(t),s]},useSyncExternalStore:m0,useId:H0,useHostTransitionStatus:_f,useFormState:C0,useActionState:C0,useOptimistic:function(t,s){var r=Vt();return yt!==null?x0(r,yt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:F0};Q0.useEffectEvent=D0;function Tf(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:E({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sf={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=Hn(),d=Zi(o);d.payload=s,r!=null&&(d.callback=r),s=ea(t,d,o),s!==null&&(Dn(s,t,o),Ro(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=Hn(),d=Zi(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ea(t,d,o),s!==null&&(Dn(s,t,o),Ro(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Hn(),o=Zi(r);o.tag=2,s!=null&&(o.callback=s),s=ea(t,o,r),s!==null&&(Dn(s,t,r),Ro(s,t,r))}};function X0(t,s,r,o,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):s.prototype&&s.prototype.isPureReactComponent?!xo(r,o)||!xo(d,m):!0}function W0(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&Sf.enqueueReplaceState(s,s.state,null)}function dr(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=E({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function J0(t){fu(t)}function Z0(t){console.error(t)}function ey(t){fu(t)}function Vu(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function ty(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nf(t,s,r){return r=Zi(r),r.tag=3,r.payload={element:null},r.callback=function(){Vu(t,s)},r}function ny(t){return t=Zi(t),t.tag=3,t}function sy(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){ty(s,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ty(s,r,o),typeof d!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Tw(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&nl(s,r,d,!0),r=Un.current,r!==null){switch(r.tag){case 31:case 13:return is===null?Ku():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===wu?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),Wf(t,o,d)),!1;case 22:return r.flags|=65536,o===wu?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),Wf(t,o,d)),!1}throw Error(a(435,r.tag))}return Wf(t,o,d),Ku(),!1}if(st)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Fd&&(t=Error(a(422),{cause:o}),wo(es(t,r)))):(o!==Fd&&(s=Error(a(423),{cause:o}),wo(es(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=es(o,r),d=Nf(t.stateNode,o,d),tf(t,d),Dt!==4&&(Dt=2)),!1;var m=Error(a(520),{cause:o});if(m=es(m,r),qo===null?qo=[m]:qo.push(m),Dt!==4&&(Dt=2),s===null)return!0;o=es(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Nf(r.stateNode,o,t),tf(r,t),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ra===null||!ra.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=ny(d),sy(d,t,r,o),tf(r,d),!1}r=r.return}while(r!==null);return!1}var Af=Error(a(461)),Gt=!1;function fn(t,s,r,o){s.child=t===null?l0(s,null,r,o):ur(s,t.child,r,o)}function iy(t,s,r,o,d){r=r.render;var m=s.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return rr(s),o=of(t,s,r,b,m,d),w=cf(),t!==null&&!Gt?(uf(t,s,d),mi(t,s,d)):(st&&w&&qd(s),s.flags|=1,fn(t,s,o,d),s.child)}function ay(t,s,r,o,d){if(t===null){var m=r.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,ry(t,s,m,o,d)):(t=yu(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Of(t,d)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:xo,r(b,o)&&t.ref===s.ref)return mi(t,s,d)}return s.flags|=1,t=oi(m,o),t.ref=s.ref,t.return=s,s.child=t}function ry(t,s,r,o,d){if(t!==null){var m=t.memoizedProps;if(xo(m,o)&&t.ref===s.ref)if(Gt=!1,s.pendingProps=o=m,Of(t,d))(t.flags&131072)!==0&&(Gt=!0);else return s.lanes=t.lanes,mi(t,s,d)}return Rf(t,s,r,o,d)}function ly(t,s,r,o){var d=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,s.child=null;return oy(t,s,m,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(s,m!==null?m.cachePool:null),m!==null?u0(s,m):sf(),h0(s);else return o=s.lanes=536870912,oy(t,s,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(_u(s,m.cachePool),u0(s,m),na(),s.memoizedState=null):(t!==null&&_u(s,null),sf(),na());return fn(t,s,d,r),s.child}function Oo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function oy(t,s,r,o,d){var m=Wd();return m=m===null?null:{parent:Ht._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},t!==null&&_u(s,null),sf(),h0(s),t!==null&&nl(t,s,o,!0),s.childLanes=d,null}function Lu(t,s){return s=Uu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function cy(t,s,r){return ur(s,t.child,null,r),t=Lu(s,s.pendingProps),t.flags|=2,zn(s),s.memoizedState=null,t}function Sw(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(st){if(o.mode==="hidden")return t=Lu(s,o),s.lanes=536870912,Oo(null,t);if(rf(s),(t=Tt)?(t=_v(t,ss),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:$s,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},r=$g(t),r.return=s,s.child=r,hn=s,Tt=null)):t=null,t===null)throw Xi(s);return s.lanes=536870912,null}return Lu(s,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(rf(s),d)if(s.flags&256)s.flags&=-257,s=cy(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(a(558));else if(Gt||nl(t,s,r,!1),d=(r&t.childLanes)!==0,Gt||d){if(o=xt,o!==null&&(b=to(o,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,nr(t,b),Dn(o,t,b),Af;Ku(),s=cy(t,s,r)}else t=m.treeContext,Tt=as(b.nextSibling),hn=s,st=!0,Qi=null,ss=!1,t!==null&&Qg(s,t),s=Lu(s,o),s.flags|=4096;return s}return t=oi(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Pu(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function Rf(t,s,r,o,d){return rr(s),r=of(t,s,r,o,void 0,d),o=cf(),t!==null&&!Gt?(uf(t,s,d),mi(t,s,d)):(st&&o&&qd(s),s.flags|=1,fn(t,s,r,d),s.child)}function uy(t,s,r,o,d,m){return rr(s),s.updateQueue=null,r=f0(s,o,r,d),d0(t),o=cf(),t!==null&&!Gt?(uf(t,s,m),mi(t,s,m)):(st&&o&&qd(s),s.flags|=1,fn(t,s,r,m),s.child)}function hy(t,s,r,o,d){if(rr(s),s.stateNode===null){var m=Jr,b=r.contextType;typeof b=="object"&&b!==null&&(m=dn(b)),m=new r(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},Zd(s),b=r.contextType,m.context=typeof b=="object"&&b!==null?dn(b):Jr,m.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Tf(s,r,b,o),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Sf.enqueueReplaceState(m,m.state,null),Io(s,o,m,d),Co(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var w=s.memoizedProps,j=dr(r,w);m.props=j;var $=m.context,ee=r.contextType;b=Jr,typeof ee=="object"&&ee!==null&&(b=dn(ee));var ne=r.getDerivedStateFromProps;ee=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||$!==b)&&W0(s,m,o,b),Ji=!1;var K=s.memoizedState;m.state=K,Io(s,o,m,d),Co(),$=s.memoizedState,w||K!==$||Ji?(typeof ne=="function"&&(Tf(s,r,ne,o),$=s.memoizedState),(j=Ji||X0(s,r,j,o,K,$,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=$),m.props=o,m.state=$,m.context=b,o=j):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,ef(t,s),b=s.memoizedProps,ee=dr(r,b),m.props=ee,ne=s.pendingProps,K=m.context,$=r.contextType,j=Jr,typeof $=="object"&&$!==null&&(j=dn($)),w=r.getDerivedStateFromProps,($=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ne||K!==j)&&W0(s,m,o,j),Ji=!1,K=s.memoizedState,m.state=K,Io(s,o,m,d),Co();var J=s.memoizedState;b!==ne||K!==J||Ji||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof w=="function"&&(Tf(s,r,w,o),J=s.memoizedState),(ee=Ji||X0(s,r,ee,o,K,J,j)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,J,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,J,j)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=J),m.props=o,m.state=J,m.context=j,o=ee):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,Pu(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=ur(s,t.child,null,d),s.child=ur(s,null,r,d)):fn(t,s,r,d),s.memoizedState=m.state,t=s.child):t=mi(t,s,d),t}function dy(t,s,r,o){return ir(),s.flags|=256,fn(t,s,r,o),s.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:t0()}}function jf(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=qn),t}function fy(t,s,r){var o=s.pendingProps,d=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(st){if(d?ta(s):na(),(t=Tt)?(t=_v(t,ss),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:$s,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},r=$g(t),r.return=s,s.child=r,hn=s,Tt=null)):t=null,t===null)throw Xi(s);return fm(t)?s.lanes=32:s.lanes=536870912,null}var w=o.children;return o=o.fallback,d?(na(),d=s.mode,w=Uu({mode:"hidden",children:w},d),o=sr(o,d,r,null),w.return=s,o.return=s,w.sibling=o,s.child=w,o=s.child,o.memoizedState=If(r),o.childLanes=jf(t,b,r),s.memoizedState=Cf,Oo(null,o)):(ta(s),Df(s,w))}var j=t.memoizedState;if(j!==null&&(w=j.dehydrated,w!==null)){if(m)s.flags&256?(ta(s),s.flags&=-257,s=kf(t,s,r)):s.memoizedState!==null?(na(),s.child=t.child,s.flags|=128,s=null):(na(),w=o.fallback,d=s.mode,o=Uu({mode:"visible",children:o.children},d),w=sr(w,d,r,null),w.flags|=2,o.return=s,w.return=s,o.sibling=w,s.child=o,ur(s,t.child,null,r),o=s.child,o.memoizedState=If(r),o.childLanes=jf(t,b,r),s.memoizedState=Cf,s=Oo(null,o));else if(ta(s),fm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var $=b.dgst;b=$,o=Error(a(419)),o.stack="",o.digest=b,wo({value:o,source:null,stack:null}),s=kf(t,s,r)}else if(Gt||nl(t,s,r,!1),b=(r&t.childLanes)!==0,Gt||b){if(b=xt,b!==null&&(o=to(b,r),o!==0&&o!==j.retryLane))throw j.retryLane=o,nr(t,o),Dn(b,t,o),Af;dm(w)||Ku(),s=kf(t,s,r)}else dm(w)?(s.flags|=192,s.child=t.child,s=null):(t=j.treeContext,Tt=as(w.nextSibling),hn=s,st=!0,Qi=null,ss=!1,t!==null&&Qg(s,t),s=Df(s,o.children),s.flags|=4096);return s}return d?(na(),w=o.fallback,d=s.mode,j=t.child,$=j.sibling,o=oi(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&65011712,$!==null?w=oi($,w):(w=sr(w,d,r,null),w.flags|=2),w.return=s,o.return=s,o.sibling=w,s.child=o,Oo(null,o),o=s.child,w=t.child.memoizedState,w===null?w=If(r):(d=w.cachePool,d!==null?(j=Ht._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=t0(),w={baseLanes:w.baseLanes|r,cachePool:d}),o.memoizedState=w,o.childLanes=jf(t,b,r),s.memoizedState=Cf,Oo(t.child,o)):(ta(s),r=t.child,t=r.sibling,r=oi(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=r,s.memoizedState=null,r)}function Df(t,s){return s=Uu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Uu(t,s){return t=Pn(22,t,null,s),t.lanes=0,t}function kf(t,s,r){return ur(s,t.child,null,r),t=Df(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function my(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Yd(t.return,s,r)}function Mf(t,s,r,o,d,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=d,b.treeForkCount=m)}function py(t,s,r){var o=s.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var b=Ot.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,he(Ot,b),fn(t,s,o,r),o=st?Eo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,r,s);else if(t.tag===19)my(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&Au(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Mf(s,!1,d,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Au(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Mf(s,!0,r,null,m,o);break;case"together":Mf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function mi(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),aa|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(nl(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,r=oi(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=oi(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Of(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function Nw(t,s,r){switch(s.tag){case 3:pt(s,s.stateNode.containerInfo),Wi(s,Ht,t.memoizedState.cache),ir();break;case 27:case 5:on(s);break;case 4:pt(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,rf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(ta(s),s.flags|=128,null):(r&s.child.childLanes)!==0?fy(t,s,r):(ta(s),t=mi(t,s,r),t!==null?t.sibling:null);ta(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(nl(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return py(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Ot,Ot.current),o)break;return null;case 22:return s.lanes=0,ly(t,s,r,s.pendingProps);case 24:Wi(s,Ht,t.memoizedState.cache)}return mi(t,s,r)}function gy(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Of(t,r)&&(s.flags&128)===0)return Gt=!1,Nw(t,s,r);Gt=(t.flags&131072)!==0}else Gt=!1,st&&(s.flags&1048576)!==0&&Kg(s,Eo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=or(s.elementType),s.type=t,typeof t=="function")Ud(t)?(o=dr(t,o),s.tag=1,s=hy(null,s,t,o,r)):(s.tag=0,s=Rf(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===le){s.tag=11,s=iy(null,s,t,o,r);break e}else if(d===A){s.tag=14,s=ay(null,s,t,o,r);break e}}throw s=De(t)||t,Error(a(306,s,""))}}return s;case 0:return Rf(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=dr(o,s.pendingProps),hy(t,s,o,d,r);case 3:e:{if(pt(s,s.stateNode.containerInfo),t===null)throw Error(a(387));o=s.pendingProps;var m=s.memoizedState;d=m.element,ef(t,s),Io(s,o,null,r);var b=s.memoizedState;if(o=b.cache,Wi(s,Ht,o),o!==m.cache&&Kd(s,[Ht],r,!0),Co(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=dy(t,s,o,r);break e}else if(o!==d){d=es(Error(a(424)),s),wo(d),s=dy(t,s,o,r);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Tt=as(t.firstChild),hn=s,st=!0,Qi=null,ss=!0,r=l0(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ir(),o===d){s=mi(t,s,r);break e}fn(t,s,o,r)}s=s.child}return s;case 26:return Pu(t,s),t===null?(r=Av(s.type,null,s.pendingProps,null))?s.memoizedState=r:st||(r=s.type,t=s.pendingProps,o=th(Ne.current).createElement(r),o[zt]=s,o[nn]=t,mn(o,r,t),Bt(o),s.stateNode=o):s.memoizedState=Av(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return on(s),t===null&&st&&(o=s.stateNode=Tv(s.type,s.pendingProps,Ne.current),hn=s,ss=!0,d=Tt,ua(s.type)?(mm=d,Tt=as(o.firstChild)):Tt=d),fn(t,s,s.pendingProps.children,r),Pu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&st&&((d=o=Tt)&&(o=nT(o,s.type,s.pendingProps,ss),o!==null?(s.stateNode=o,hn=s,Tt=as(o.firstChild),ss=!1,d=!0):d=!1),d||Xi(s)),on(s),d=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,cm(d,m)?o=null:b!==null&&cm(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=of(t,s,yw,null,null,r),Xo._currentValue=d),Pu(t,s),fn(t,s,o,r),s.child;case 6:return t===null&&st&&((t=r=Tt)&&(r=sT(r,s.pendingProps,ss),r!==null?(s.stateNode=r,hn=s,Tt=null,t=!0):t=!1),t||Xi(s)),null;case 13:return fy(t,s,r);case 4:return pt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ur(s,null,o,r):fn(t,s,o,r),s.child;case 11:return iy(t,s,s.type,s.pendingProps,r);case 7:return fn(t,s,s.pendingProps,r),s.child;case 8:return fn(t,s,s.pendingProps.children,r),s.child;case 12:return fn(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,Wi(s,s.type,o.value),fn(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,rr(s),d=dn(d),o=o(d),s.flags|=1,fn(t,s,o,r),s.child;case 14:return ay(t,s,s.type,s.pendingProps,r);case 15:return ry(t,s,s.type,s.pendingProps,r);case 19:return py(t,s,r);case 31:return Sw(t,s,r);case 22:return ly(t,s,r,s.pendingProps);case 24:return rr(s),o=dn(Ht),t===null?(d=Wd(),d===null&&(d=xt,m=Qd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),s.memoizedState={parent:o,cache:d},Zd(s),Wi(s,Ht,d)):((t.lanes&r)!==0&&(ef(t,s),Io(s,null,null,r),Co()),d=t.memoizedState,m=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Wi(s,Ht,o)):(o=m.cache,Wi(s,Ht,o),o!==d.cache&&Kd(s,[Ht],r,!0))),fn(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function pi(t){t.flags|=4}function Vf(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw cr=wu,Jd}else t.flags&=-16777217}function yy(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(s))if(Hy())t.flags|=8192;else throw cr=wu,Jd}function zu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$c():536870912,t.lanes|=s,ml|=s)}function Vo(t,s){if(!st)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function Aw(t,s,r){var o=s.pendingProps;switch(Hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),hi(Ht),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(s)?pi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gd())),St(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(pi(s),m!==null?(St(s),yy(s,m)):(St(s),Vf(s,d,null,o,r))):m?m!==t.memoizedState?(pi(s),St(s),yy(s,m)):(St(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&pi(s),St(s),Vf(s,d,t,o,r)),null;case 27:if(Jt(s),r=Ne.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&pi(s);else{if(!o){if(s.stateNode===null)throw Error(a(166));return St(s),null}t=fe.current,tl(s)?Xg(s):(t=Tv(d,o,r),s.stateNode=t,pi(s))}return St(s),null;case 5:if(Jt(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&pi(s);else{if(!o){if(s.stateNode===null)throw Error(a(166));return St(s),null}if(m=fe.current,tl(s))Xg(s);else{var b=th(Ne.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(d,{is:o.is}):b.createElement(d)}}m[zt]=s,m[nn]=o;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(mn(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&pi(s)}}return St(s),Vf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&pi(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(a(166));if(t=Ne.current,tl(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=hn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[zt]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||fv(t.nodeValue,r)),t||Xi(s,!0)}else t=th(t).createTextNode(o),t[zt]=s,s.stateNode=t}return St(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=tl(s),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[zt]=s}else ir(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),t=!1}else r=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(zn(s),s):(zn(s),null);if((s.flags&128)!==0)throw Error(a(558))}return St(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=tl(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[zt]=s}else ir(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else d=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(zn(s),s):(zn(s),null)}return zn(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),zu(s,s.updateQueue),St(s),null);case 4:return $e(),t===null&&im(s.stateNode.containerInfo),St(s),null;case 10:return hi(s.type),St(s),null;case 19:if(Z(Ot),o=s.memoizedState,o===null)return St(s),null;if(d=(s.flags&128)!==0,m=o.rendering,m===null)if(d)Vo(o,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Au(t),m!==null){for(s.flags|=128,Vo(o,!1),t=m.updateQueue,s.updateQueue=t,zu(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)Gg(r,t),r=r.sibling;return he(Ot,Ot.current&1|2),st&&ci(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&Ve()>Gu&&(s.flags|=128,d=!0,Vo(o,!1),s.lanes=4194304)}else{if(!d)if(t=Au(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,zu(s,t),Vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!st)return St(s),null}else 2*Ve()-o.renderingStartTime>Gu&&r!==536870912&&(s.flags|=128,d=!0,Vo(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,r=Ot.current,he(Ot,d?r&1|2:r&1),st&&ci(s,o.treeForkCount),t):(St(s),null);case 22:case 23:return zn(s),af(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),r=s.updateQueue,r!==null&&zu(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&Z(lr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),hi(Ht),St(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Rw(t,s){switch(Hd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return hi(Ht),$e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Jt(s),null;case 31:if(s.memoizedState!==null){if(zn(s),s.alternate===null)throw Error(a(340));ir()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(zn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ir()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(Ot),null;case 4:return $e(),null;case 10:return hi(s.type),null;case 22:case 23:return zn(s),af(),t!==null&&Z(lr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return hi(Ht),null;case 25:return null;default:return null}}function vy(t,s){switch(Hd(s),s.tag){case 3:hi(Ht),$e();break;case 26:case 27:case 5:Jt(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&zn(s);break;case 13:zn(s);break;case 19:Z(Ot);break;case 10:hi(s.type);break;case 22:case 23:zn(s),af(),t!==null&&Z(lr);break;case 24:hi(Ht)}}function Lo(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==d)}}catch(w){mt(s,s.return,w)}}function sa(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var j=r,$=w;try{$()}catch(ee){mt(d,j,ee)}}}o=o.next}while(o!==m)}}catch(ee){mt(s,s.return,ee)}}function by(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{c0(s,r)}catch(o){mt(t,t.return,o)}}}function xy(t,s,r){r.props=dr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){mt(t,s,o)}}function Po(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){mt(t,s,d)}}function Ks(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){mt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){mt(t,s,d)}else r.current=null}function _y(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){mt(t,t.return,d)}}function Lf(t,s,r){try{var o=t.stateNode;Xw(o,t.type,r,s),o[nn]=s}catch(d){mt(t,t.return,d)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=ms));else if(o!==4&&(o===27&&ua(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Uf(t,s,r),t=t.sibling;t!==null;)Uf(t,s,r),t=t.sibling}function Bu(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&ua(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Bu(t,s,r),t=t.sibling;t!==null;)Bu(t,s,r),t=t.sibling}function wy(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);mn(s,o,r),s[zt]=t,s[nn]=r}catch(m){mt(t,t.return,m)}}var gi=!1,$t=!1,zf=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,an=null;function Cw(t,s){if(t=t.containerInfo,lm=oh,t=Vg(t),Dd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,w=-1,j=-1,$=0,ee=0,ne=t,K=null;t:for(;;){for(var J;ne!==r||d!==0&&ne.nodeType!==3||(w=b+d),ne!==m||o!==0&&ne.nodeType!==3||(j=b+o),ne.nodeType===3&&(b+=ne.nodeValue.length),(J=ne.firstChild)!==null;)K=ne,ne=J;for(;;){if(ne===t)break t;if(K===r&&++$===d&&(w=b),K===m&&++ee===o&&(j=b),(J=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=J}r=w===-1||j===-1?null:{start:w,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:t,selectionRange:r},oh=!1,an=s;an!==null;)if(s=an,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,an=t;else for(;an!==null;){switch(s=an,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=s,d=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var ve=dr(r.type,d);t=o.getSnapshotBeforeUpdate(ve,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){mt(r,r.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)hm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,an=t;break}an=s.return}}function Sy(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:vi(t,r),o&4&&Lo(5,r);break;case 1:if(vi(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(b){mt(r,r.return,b)}else{var d=dr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(r,r.return,b)}}o&64&&by(r),o&512&&Po(r,r.return);break;case 3:if(vi(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{c0(t,s)}catch(b){mt(r,r.return,b)}}break;case 27:s===null&&o&4&&wy(r);case 26:case 5:vi(t,r),s===null&&o&4&&_y(r),o&512&&Po(r,r.return);break;case 12:vi(t,r);break;case 31:vi(t,r),o&4&&Ry(t,r);break;case 13:vi(t,r),o&4&&Cy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Pw.bind(null,r),iT(t,r))));break;case 22:if(o=r.memoizedState!==null||gi,!o){s=s!==null&&s.memoizedState!==null||$t,d=gi;var m=$t;gi=o,($t=s)&&!m?bi(t,r,(r.subtreeFlags&8772)!==0):vi(t,r),gi=d,$t=m}break;case 30:break;default:vi(t,r)}}function Ny(t){var s=t.alternate;s!==null&&(t.alternate=null,Ny(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Pr(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Rn=!1;function yi(t,s,r){for(r=r.child;r!==null;)Ay(t,s,r),r=r.sibling}function Ay(t,s,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(us,r)}catch{}switch(r.tag){case 26:$t||Ks(r,s),yi(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$t||Ks(r,s);var o=Rt,d=Rn;ua(r.type)&&(Rt=r.stateNode,Rn=!1),yi(t,s,r),Yo(r.stateNode),Rt=o,Rn=d;break;case 5:$t||Ks(r,s);case 6:if(o=Rt,d=Rn,Rt=null,yi(t,s,r),Rt=o,Rn=d,Rt!==null)if(Rn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(r.stateNode)}catch(m){mt(r,s,m)}else try{Rt.removeChild(r.stateNode)}catch(m){mt(r,s,m)}break;case 18:Rt!==null&&(Rn?(t=Rt,bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),El(t)):bv(Rt,r.stateNode));break;case 4:o=Rt,d=Rn,Rt=r.stateNode.containerInfo,Rn=!0,yi(t,s,r),Rt=o,Rn=d;break;case 0:case 11:case 14:case 15:sa(2,r,s),$t||sa(4,r,s),yi(t,s,r);break;case 1:$t||(Ks(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&xy(r,s,o)),yi(t,s,r);break;case 21:yi(t,s,r);break;case 22:$t=(o=$t)||r.memoizedState!==null,yi(t,s,r),$t=o;break;default:yi(t,s,r)}}function Ry(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{El(t)}catch(r){mt(s,s.return,r)}}}function Cy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(r){mt(s,s.return,r)}}function Iw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Ty),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Ty),s;default:throw Error(a(435,t.tag))}}function qu(t,s){var r=Iw(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=Uw.bind(null,t,o);o.then(d,d)}})}function Cn(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],m=t,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ua(w.type)){Rt=w.stateNode,Rn=!1;break e}break;case 5:Rt=w.stateNode,Rn=!1;break e;case 3:case 4:Rt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(Rt===null)throw Error(a(160));Ay(m,b,d),Rt=null,Rn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Iy(s,t),s=s.sibling}var xs=null;function Iy(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),In(t),o&4&&(sa(3,t,t.return),Lo(3,t),sa(5,t,t.return));break;case 1:Cn(s,t),In(t),o&512&&($t||r===null||Ks(r,r.return)),o&64&&gi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=xs;if(Cn(s,t),In(t),o&512&&($t||r===null||Ks(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ms]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),mn(m,o,r),m[zt]=t,Bt(m),o=m;break e;case"link":var b=Iv("link","href",d).get(o+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break t}}m=d.createElement(o),mn(m,o,r),d.head.appendChild(m);break;case"meta":if(b=Iv("meta","content",d).get(o+(r.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break t}}m=d.createElement(o),mn(m,o,r),d.head.appendChild(m);break;default:throw Error(a(468,o))}m[zt]=t,Bt(m),o=m}t.stateNode=o}else jv(d,t.type,t.stateNode);else t.stateNode=Cv(d,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?jv(d,t.type,t.stateNode):Cv(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Cn(s,t),In(t),o&512&&($t||r===null||Ks(r,r.return)),r!==null&&o&4&&Lf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Cn(s,t),In(t),o&512&&($t||r===null||Ks(r,r.return)),t.flags&32){d=t.stateNode;try{An(d,"")}catch(ve){mt(t,t.return,ve)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Lf(t,d,r!==null?r.memoizedProps:d)),o&1024&&(zf=!0);break;case 6:if(Cn(s,t),In(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ve){mt(t,t.return,ve)}}break;case 3:if(ih=null,d=xs,xs=nh(s.containerInfo),Cn(s,t),xs=d,In(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{El(s.containerInfo)}catch(ve){mt(t,t.return,ve)}zf&&(zf=!1,jy(t));break;case 4:o=xs,xs=nh(t.stateNode.containerInfo),Cn(s,t),In(t),xs=o;break;case 12:Cn(s,t),In(t);break;case 31:Cn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qu(t,o)));break;case 13:Cn(s,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=Ve()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qu(t,o)));break;case 22:d=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,$=gi,ee=$t;if(gi=$||d,$t=ee||j,Cn(s,t),$t=ee,gi=$,In(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||j||gi||$t||fr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){j=r=s;try{if(m=j.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=j.stateNode;var ne=j.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ve){mt(j,j.return,ve)}}}else if(s.tag===6){if(r===null){j=s;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ve){mt(j,j.return,ve)}}}else if(s.tag===18){if(r===null){j=s;try{var J=j.stateNode;d?xv(J,!0):xv(j.stateNode,!1)}catch(ve){mt(j,j.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,qu(t,r))));break;case 19:Cn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qu(t,o)));break;case 30:break;case 21:break;default:Cn(s,t),In(t)}}function In(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if(Ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,m=Pf(t);Bu(t,m,d);break;case 5:var b=r.stateNode;r.flags&32&&(An(b,""),r.flags&=-33);var w=Pf(t);Bu(t,w,b);break;case 3:case 4:var j=r.stateNode.containerInfo,$=Pf(t);Uf(t,$,j);break;default:throw Error(a(161))}}catch(ee){mt(t,t.return,ee)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;jy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function vi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Sy(t,s.alternate,s),s=s.sibling}function fr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:sa(4,s,s.return),fr(s);break;case 1:Ks(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&xy(s,s.return,r),fr(s);break;case 27:Yo(s.stateNode);case 26:case 5:Ks(s,s.return),fr(s);break;case 22:s.memoizedState===null&&fr(s);break;case 30:fr(s);break;default:fr(s)}t=t.sibling}}function bi(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:bi(d,m,r),Lo(4,m);break;case 1:if(bi(d,m,r),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){mt(o,o.return,$)}if(o=m,d=o.updateQueue,d!==null){var w=o.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)o0(j[d],w)}catch($){mt(o,o.return,$)}}r&&b&64&&by(m),Po(m,m.return);break;case 27:wy(m);case 26:case 5:bi(d,m,r),r&&o===null&&b&4&&_y(m),Po(m,m.return);break;case 12:bi(d,m,r);break;case 31:bi(d,m,r),r&&b&4&&Ry(d,m);break;case 13:bi(d,m,r),r&&b&4&&Cy(d,m);break;case 22:m.memoizedState===null&&bi(d,m,r),Po(m,m.return);break;case 30:break;default:bi(d,m,r)}s=s.sibling}}function Bf(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&To(r))}function qf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&To(t))}function _s(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dy(t,s,r,o),s=s.sibling}function Dy(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:_s(t,s,r,o),d&2048&&Lo(9,s);break;case 1:_s(t,s,r,o);break;case 3:_s(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&To(t)));break;case 12:if(d&2048){_s(t,s,r,o),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){mt(s,s.return,j)}}else _s(t,s,r,o);break;case 31:_s(t,s,r,o);break;case 13:_s(t,s,r,o);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?_s(t,s,r,o):Uo(t,s):m._visibility&2?_s(t,s,r,o):(m._visibility|=2,hl(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Bf(b,s);break;case 24:_s(t,s,r,o),d&2048&&qf(s.alternate,s);break;default:_s(t,s,r,o)}}function hl(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,w=r,j=o,$=b.flags;switch(b.tag){case 0:case 11:case 15:hl(m,b,w,j,d),Lo(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?hl(m,b,w,j,d):Uo(m,b):(ee._visibility|=2,hl(m,b,w,j,d)),d&&$&2048&&Bf(b.alternate,b);break;case 24:hl(m,b,w,j,d),d&&$&2048&&qf(b.alternate,b);break;default:hl(m,b,w,j,d)}s=s.sibling}}function Uo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:Uo(r,o),d&2048&&Bf(o.alternate,o);break;case 24:Uo(r,o),d&2048&&qf(o.alternate,o);break;default:Uo(r,o)}s=s.sibling}}var zo=8192;function dl(t,s,r){if(t.subtreeFlags&zo)for(t=t.child;t!==null;)ky(t,s,r),t=t.sibling}function ky(t,s,r){switch(t.tag){case 26:dl(t,s,r),t.flags&zo&&t.memoizedState!==null&&gT(r,xs,t.memoizedState,t.memoizedProps);break;case 5:dl(t,s,r);break;case 3:case 4:var o=xs;xs=nh(t.stateNode.containerInfo),dl(t,s,r),xs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=zo,zo=16777216,dl(t,s,r),zo=o):dl(t,s,r));break;default:dl(t,s,r)}}function My(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Bo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];an=o,Vy(o,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:Bo(t),t.flags&2048&&sa(9,t,t.return);break;case 3:Bo(t);break;case 12:Bo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Hu(t)):Bo(t);break;default:Bo(t)}}function Hu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];an=o,Vy(o,t)}My(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:sa(8,s,s.return),Hu(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(s));break;default:Hu(s)}t=t.sibling}}function Vy(t,s){for(;an!==null;){var r=an;switch(r.tag){case 0:case 11:case 15:sa(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:To(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,an=o;else e:for(r=t;an!==null;){o=an;var d=o.sibling,m=o.return;if(Ny(o),o===r){an=null;break e}if(d!==null){d.return=m,an=d;break e}an=m}}}var jw={getCacheForType:function(t){var s=dn(Ht),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return dn(Ht).controller.signal}},Dw=typeof WeakMap=="function"?WeakMap:Map,ut=0,xt=null,Ke=null,We=0,ft=0,Bn=null,ia=!1,fl=!1,Hf=!1,xi=0,Dt=0,aa=0,mr=0,Ff=0,qn=0,ml=0,qo=null,jn=null,Gf=!1,Fu=0,Ly=0,Gu=1/0,$u=null,ra=null,Zt=0,la=null,pl=null,_i=0,$f=0,Yf=null,Py=null,Ho=0,Kf=null;function Hn(){return(ut&2)!==0&&We!==0?We&-We:W.T!==null?em():Yc()}function Uy(){if(qn===0)if((We&536870912)===0||st){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),qn=t}else qn=536870912;return t=Un.current,t!==null&&(t.flags|=32),qn}function Dn(t,s,r){(t===xt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(gl(t,0),oa(t,We,qn,!1)),qa(t,r),((ut&2)===0||t!==xt)&&(t===xt&&((ut&2)===0&&(mr|=r),Dt===4&&oa(t,We,qn,!1)),Qs(t))}function zy(t,s,r){if((ut&6)!==0)throw Error(a(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||hs(t,s),d=o?Ow(t,s):Xf(t,s,!0),m=o;do{if(d===0){fl&&!o&&oa(t,s,0,!1);break}else{if(r=t.current.alternate,m&&!kw(r)){d=Xf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=t;d=qo;var j=w.current.memoizedState.isDehydrated;if(j&&(gl(w,b).flags|=256),b=Xf(w,b,!1),b!==2){if(Hf&&!j){w.errorRecoveryDisabledLanes|=m,mr|=m,d=4;break e}m=jn,jn=d,m!==null&&(jn===null?jn=m:jn.push.apply(jn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){gl(t,0),oa(t,s,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:oa(o,s,qn,!ia);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=Fu+300-Ve(),10<d)){if(oa(o,s,qn,!ia),js(o,0,!0)!==0)break e;_i=s,o.timeoutHandle=yv(By.bind(null,o,r,jn,$u,Gf,s,qn,mr,ml,ia,m,"Throttled",-0,0),d);break e}By(o,r,jn,$u,Gf,s,qn,mr,ml,ia,m,null,-0,0)}}break}while(!0);Qs(t)}function By(t,s,r,o,d,m,b,w,j,$,ee,ne,K,J){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},ky(s,m,ne);var ve=(m&62914560)===m?Fu-Ve():(m&4194048)===m?Ly-Ve():0;if(ve=yT(ne,ve),ve!==null){_i=m,t.cancelPendingCommit=ve(Qy.bind(null,t,s,m,r,o,d,b,w,j,ee,ne,null,K,J)),oa(t,m,b,!$);return}}Qy(t,s,m,r,o,d,b,w,j)}function kw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],m=d.getSnapshot;d=d.value;try{if(!Ln(m(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oa(t,s,r,o){s&=~Ff,s&=~mr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var m=31-kt(d),b=1<<m;o[m]=-1,d&=~b}r!==0&&Ha(t,r,s)}function Yu(){return(ut&6)===0?(Fo(0),!1):!0}function Qf(){if(Ke!==null){if(ft===0)var t=Ke.return;else t=Ke,ui=ar=null,hf(t),rl=null,No=0,t=Ke;for(;t!==null;)vy(t.alternate,t),t=t.return;Ke=null}}function gl(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Zw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_i=0,Qf(),xt=t,Ke=r=oi(t.current,null),We=s,ft=0,Bn=null,ia=!1,fl=hs(t,s),Hf=!1,ml=qn=Ff=mr=aa=Dt=0,jn=qo=null,Gf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-kt(o),m=1<<d;s|=t[d],o&=~m}return xi=s,mu(),r}function qy(t,s){Be=null,W.H=Mo,s===al||s===Eu?(s=i0(),ft=3):s===Jd?(s=i0(),ft=4):ft=s===Af?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ke===null&&(Dt=1,Vu(t,es(s,t.current)))}function Hy(){var t=Un.current;return t===null?!0:(We&4194048)===We?is===null:(We&62914560)===We||(We&536870912)!==0?t===is:!1}function Fy(){var t=W.H;return W.H=Mo,t===null?Mo:t}function Gy(){var t=W.A;return W.A=jw,t}function Ku(){Dt=4,ia||(We&4194048)!==We&&Un.current!==null||(fl=!0),(aa&134217727)===0&&(mr&134217727)===0||xt===null||oa(xt,We,qn,!1)}function Xf(t,s,r){var o=ut;ut|=2;var d=Fy(),m=Gy();(xt!==t||We!==s)&&($u=null,gl(t,s)),s=!1;var b=Dt;e:do try{if(ft!==0&&Ke!==null){var w=Ke,j=Bn;switch(ft){case 8:Qf(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var $=ft;if(ft=0,Bn=null,yl(t,w,j,$),r&&fl){b=0;break e}break;default:$=ft,ft=0,Bn=null,yl(t,w,j,$)}}Mw(),b=Dt;break}catch(ee){qy(t,ee)}while(!0);return s&&t.shellSuspendCounter++,ui=ar=null,ut=o,W.H=d,W.A=m,Ke===null&&(xt=null,We=0,mu()),b}function Mw(){for(;Ke!==null;)$y(Ke)}function Ow(t,s){var r=ut;ut|=2;var o=Fy(),d=Gy();xt!==t||We!==s?($u=null,Gu=Ve()+500,gl(t,s)):fl=hs(t,s);e:do try{if(ft!==0&&Ke!==null){s=Ke;var m=Bn;t:switch(ft){case 1:ft=0,Bn=null,yl(t,s,m,1);break;case 2:case 9:if(n0(m)){ft=0,Bn=null,Yy(s);break}s=function(){ft!==2&&ft!==9||xt!==t||(ft=7),Qs(t)},m.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:n0(m)?(ft=0,Bn=null,Yy(s)):(ft=0,Bn=null,yl(t,s,m,7));break;case 5:var b=null;switch(Ke.tag){case 26:b=Ke.memoizedState;case 5:case 27:var w=Ke;if(b?Dv(b):w.stateNode.complete){ft=0,Bn=null;var j=w.sibling;if(j!==null)Ke=j;else{var $=w.return;$!==null?(Ke=$,Qu($)):Ke=null}break t}}ft=0,Bn=null,yl(t,s,m,5);break;case 6:ft=0,Bn=null,yl(t,s,m,6);break;case 8:Qf(),Dt=6;break e;default:throw Error(a(462))}}Vw();break}catch(ee){qy(t,ee)}while(!0);return ui=ar=null,W.H=o,W.A=d,ut=r,Ke!==null?0:(xt=null,We=0,mu(),Dt)}function Vw(){for(;Ke!==null&&!Ee();)$y(Ke)}function $y(t){var s=gy(t.alternate,t,xi);t.memoizedProps=t.pendingProps,s===null?Qu(t):Ke=s}function Yy(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=uy(r,s,s.pendingProps,s.type,void 0,We);break;case 11:s=uy(r,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:hf(s);default:vy(r,s),s=Ke=Gg(s,xi),s=gy(r,s,xi)}t.memoizedProps=t.pendingProps,s===null?Qu(t):Ke=s}function yl(t,s,r,o){ui=ar=null,hf(s),rl=null,No=0;var d=s.return;try{if(Tw(t,d,s,r,We)){Dt=1,Vu(t,es(r,t.current)),Ke=null;return}}catch(m){if(d!==null)throw Ke=d,m;Dt=1,Vu(t,es(r,t.current)),Ke=null;return}s.flags&32768?(st||o===1?t=!0:fl||(We&536870912)!==0?t=!1:(ia=t=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(s,t)):Qu(s)}function Qu(t){var s=t;do{if((s.flags&32768)!==0){Ky(s,ia);return}t=s.return;var r=Aw(s.alternate,s,xi);if(r!==null){Ke=r;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=t}while(s!==null);Dt===0&&(Dt=5)}function Ky(t,s){do{var r=Rw(t.alternate,t);if(r!==null){r.flags&=32767,Ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=r}while(t!==null);Dt=6,Ke=null}function Qy(t,s,r,o,d,m,b,w,j){t.cancelPendingCommit=null;do Xu();while(Zt!==0);if((ut&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(m=s.lanes|s.childLanes,m|=Ld,Rd(t,r,m,b,w,j),t===xt&&(Ke=xt=null,We=0),pl=s,la=t,_i=r,$f=m,Yf=d,Py=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zw(Pt,function(){return ev(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,d=ae.p,ae.p=2,b=ut,ut|=4;try{Cw(t,s,r)}finally{ut=b,ae.p=d,W.T=o}}Zt=1,Xy(),Wy(),Jy()}}function Xy(){if(Zt===1){Zt=0;var t=la,s=pl,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=W.T,W.T=null;var o=ae.p;ae.p=2;var d=ut;ut|=4;try{Iy(s,t);var m=om,b=Vg(t.containerInfo),w=m.focusedElem,j=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Og(w.ownerDocument.documentElement,w)){if(j!==null&&Dd(w)){var $=j.start,ee=j.end;if(ee===void 0&&(ee=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(ee,w.value.length);else{var ne=w.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var J=K.getSelection(),ve=w.textContent.length,Ae=Math.min(j.start,ve),bt=j.end===void 0?Ae:Math.min(j.end,ve);!J.extend&&Ae>bt&&(b=bt,bt=Ae,Ae=b);var q=Mg(w,Ae),V=Mg(w,bt);if(q&&V&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var G=ne.createRange();G.setStart(q.node,q.offset),J.removeAllRanges(),Ae>bt?(J.addRange(G),J.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),J.addRange(G))}}}}for(ne=[],J=w;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var te=ne[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}oh=!!lm,om=lm=null}finally{ut=d,ae.p=o,W.T=r}}t.current=s,Zt=2}}function Wy(){if(Zt===2){Zt=0;var t=la,s=pl,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=W.T,W.T=null;var o=ae.p;ae.p=2;var d=ut;ut|=4;try{Sy(t,s.alternate,s)}finally{ut=d,ae.p=o,W.T=r}}Zt=3}}function Jy(){if(Zt===4||Zt===3){Zt=0,_e();var t=la,s=pl,r=_i,o=Py;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,pl=la=null,Zy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ra=null),ii(r),s=s.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(us,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var w=o[b];m(w.value,{componentStack:w.stack})}}finally{W.T=s,ae.p=d}}(_i&3)!==0&&Xu(),Qs(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Kf?Ho++:(Ho=0,Kf=t):Ho=0,Fo(0)}}function Zy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,To(s)))}function Xu(){return Xy(),Wy(),Jy(),ev()}function ev(){if(Zt!==5)return!1;var t=la,s=$f;$f=0;var r=ii(_i),o=W.T,d=ae.p;try{ae.p=32>r?32:r,W.T=null,r=Yf,Yf=null;var m=la,b=_i;if(Zt=0,pl=la=null,_i=0,(ut&6)!==0)throw Error(a(331));var w=ut;if(ut|=4,Oy(m.current),Dy(m,m.current,b,r),ut=w,Fo(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(us,m)}catch{}return!0}finally{ae.p=d,W.T=o,Zy(t,s)}}function tv(t,s,r){s=es(r,s),s=Nf(t.stateNode,s,2),t=ea(t,s,2),t!==null&&(qa(t,2),Qs(t))}function mt(t,s,r){if(t.tag===3)tv(t,t,r);else for(;s!==null;){if(s.tag===3){tv(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ra===null||!ra.has(o))){t=es(r,t),r=ny(2),o=ea(s,r,2),o!==null&&(sy(r,o,s,t),qa(o,2),Qs(o));break}}s=s.return}}function Wf(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Dw;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(Hf=!0,d.add(r),t=Lw.bind(null,t,s,r),s.then(t,t))}function Lw(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,xt===t&&(We&r)===r&&(Dt===4||Dt===3&&(We&62914560)===We&&300>Ve()-Fu?(ut&2)===0&&gl(t,0):Ff|=r,ml===We&&(ml=0)),Qs(t)}function nv(t,s){s===0&&(s=$c()),t=nr(t,s),t!==null&&(qa(t,s),Qs(t))}function Pw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),nv(t,r)}function Uw(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(s),nv(t,r)}function zw(t,s){return Me(t,s)}var Wu=null,vl=null,Jf=!1,Ju=!1,Zf=!1,ca=0;function Qs(t){t!==vl&&t.next===null&&(vl===null?Wu=vl=t:vl=vl.next=t),Ju=!0,Jf||(Jf=!0,qw())}function Fo(t,s){if(!Zf&&Ju){Zf=!0;do for(var r=!1,o=Wu;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var b=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-kt(42|t)+1)-1,m&=d&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,rv(o,m))}else m=We,m=js(o,o===xt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||hs(o,m)||(r=!0,rv(o,m));o=o.next}while(r);Zf=!1}}function Bw(){sv()}function sv(){Ju=Jf=!1;var t=0;ca!==0&&Jw()&&(t=ca);for(var s=Ve(),r=null,o=Wu;o!==null;){var d=o.next,m=iv(o,s);m===0?(o.next=null,r===null?Wu=d:r.next=d,d===null&&(vl=r)):(r=o,(t!==0||(m&3)!==0)&&(Ju=!0)),o=d}Zt!==0&&Zt!==5||Fo(t),ca!==0&&(ca=0)}function iv(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-kt(m),w=1<<b,j=d[b];j===-1?((w&r)===0||(w&o)!==0)&&(d[b]=Ad(w,s)):j<=s&&(t.expiredLanes|=w),m&=~w}if(s=xt,r=We,r=js(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&re(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||hs(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&re(o),ii(r)){case 2:case 8:r=Et;break;case 32:r=Pt;break;case 268435456:r=Pi;break;default:r=Pt}return o=av.bind(null,t),r=Me(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&re(o),t.callbackPriority=2,t.callbackNode=null,2}function av(t,s){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Xu()&&t.callbackNode!==r)return null;var o=We;return o=js(t,t===xt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(zy(t,o,s),iv(t,Ve()),t.callbackNode!=null&&t.callbackNode===r?av.bind(null,t):null)}function rv(t,s){if(Xu())return null;zy(t,s,!0)}function qw(){eT(function(){(ut&6)!==0?Me(ot,Bw):sv()})}function em(){if(ca===0){var t=sl;t===0&&(t=Cs,Cs<<=1,(Cs&261888)===0&&(Cs=256)),ca=t}return ca}function lv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qr(""+t)}function ov(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Hw(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var m=lv((d[nn]||null).action),b=o.submitter;b&&(s=(s=b[nn]||null)?lv(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var w=new qs("action","action",null,o,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ca!==0){var j=b?ov(d,b):new FormData(d);xf(r,{pending:!0,data:j,method:d.method,action:m},null,j)}}else typeof m=="function"&&(w.preventDefault(),j=b?ov(d,b):new FormData(d),xf(r,{pending:!0,data:j,method:d.method,action:m},m,j))},currentTarget:d}]})}}for(var tm=0;tm<Vd.length;tm++){var nm=Vd[tm],Fw=nm.toLowerCase(),Gw=nm[0].toUpperCase()+nm.slice(1);bs(Fw,"on"+Gw)}bs(Ug,"onAnimationEnd"),bs(zg,"onAnimationIteration"),bs(Bg,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(lw,"onTransitionRun"),bs(ow,"onTransitionStart"),bs(cw,"onTransitionCancel"),bs(qg,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function cv(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var b=o.length-1;0<=b;b--){var w=o[b],j=w.instance,$=w.currentTarget;if(w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=$;try{m(d)}catch(ee){fu(ee)}d.currentTarget=null,m=j}else for(b=0;b<o.length;b++){if(w=o[b],j=w.instance,$=w.currentTarget,w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=$;try{m(d)}catch(ee){fu(ee)}d.currentTarget=null,m=j}}}}function Qe(t,s){var r=s[Lr];r===void 0&&(r=s[Lr]=new Set);var o=t+"__bubble";r.has(o)||(uv(s,t,2,!1),r.add(o))}function sm(t,s,r){var o=0;s&&(o|=4),uv(r,t,o,s)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Zu]){t[Zu]=!0,no.forEach(function(r){r!=="selectionchange"&&($w.has(r)||sm(r,!1,t),sm(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Zu]||(s[Zu]=!0,sm("selectionchange",!1,s))}}function uv(t,s,r,o){switch(Uv(s)){case 2:var d=xT;break;case 8:d=_T;break;default:d=bm}r=d.bind(null,s,r,t),d=void 0,!Ka||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function am(t,s,r,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=o.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=Os(w),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){o=m=b;continue e}w=w.parentNode}}o=o.return}Fi(function(){var $=m,ee=Xn(r),ne=[];e:{var K=Hg.get(t);if(K!==void 0){var J=qs,ve=t;switch(t){case"keypress":if(Xa(r)===0)break e;case"keydown":case"keyup":J=uu;break;case"focusin":ve="focus",J=Ja;break;case"focusout":ve="blur",J=Ja;break;case"beforeblur":case"afterblur":J=Ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case Ug:case zg:case Bg:J=su;break;case qg:J=T;break;case"scroll":case"scrollend":J=po;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=li;break;case"toggle":case"beforetoggle":J=ze}var Ae=(s&4)!==0,bt=!Ae&&(t==="scroll"||t==="scrollend"),q=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var V=$,G;V!==null;){var te=V;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||q===null||(te=ps(V,q),te!=null&&Ae.push($o(V,te,G))),bt)break;V=V.return}0<Ae.length&&(K=new J(K,ve,null,r,ee),ne.push({event:K,listeners:Ae}))}}if((s&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&r!==ho&&(ve=r.relatedTarget||r.fromElement)&&(Os(ve)||ve[ks]))break e;if((J||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,J?(ve=r.relatedTarget||r.toElement,J=$,ve=ve?Os(ve):null,ve!==null&&(bt=c(ve),Ae=ve.tag,ve!==bt||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(J=null,ve=$),J!==ve)){if(Ae=go,te="onMouseLeave",q="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=li,te="onPointerLeave",q="onPointerEnter",V="pointer"),bt=J==null?K:On(J),G=ve==null?K:On(ve),K=new Ae(te,V+"leave",J,r,ee),K.target=bt,K.relatedTarget=G,te=null,Os(ee)===$&&(Ae=new Ae(q,V+"enter",ve,r,ee),Ae.target=G,Ae.relatedTarget=bt,te=Ae),bt=te,J&&ve)t:{for(Ae=Yw,q=J,V=ve,G=0,te=q;te;te=Ae(te))G++;te=0;for(var we=V;we;we=Ae(we))te++;for(;0<G-te;)q=Ae(q),G--;for(;0<te-G;)V=Ae(V),te--;for(;G--;){if(q===V||V!==null&&q===V.alternate){Ae=q;break t}q=Ae(q),V=Ae(V)}Ae=null}else Ae=null;J!==null&&hv(ne,K,J,Ae,!1),ve!==null&&bt!==null&&hv(ne,bt,ve,Ae,!0)}}e:{if(K=$?On($):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var rt=Rg;else if(Ng(K))if(Cg)rt=iw;else{rt=nw;var xe=tw}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Br($.elementType)&&(rt=Rg):rt=sw;if(rt&&(rt=rt(t,$))){Ag(ne,rt,r,ee);break e}xe&&xe(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&oo(K,"number",K.value)}switch(xe=$?On($):window,t){case"focusin":(Ng(xe)||xe.contentEditable==="true")&&(Qr=xe,kd=$,_o=null);break;case"focusout":_o=kd=Qr=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Lg(ne,r,ee);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":Lg(ne,r,ee)}var He;if(ct)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Kr?Za(t,r)&&(Je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Je="onCompositionStart");Je&&(Gs&&r.locale!=="ko"&&(Kr||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Kr&&(He=mo()):(Bs=ee,fo="value"in Bs?Bs.value:Bs.textContent,Kr=!0)),xe=eh($,Je),0<xe.length&&(Je=new Fs(Je,t,null,r,ee),ne.push({event:Je,listeners:xe}),He?Je.data=He:(He=Yr(r),He!==null&&(Je.data=He)))),(He=Jn?WE(t,r):JE(t,r))&&(Je=eh($,"onBeforeInput"),0<Je.length&&(xe=new Fs("onBeforeInput","beforeinput",null,r,ee),ne.push({event:xe,listeners:Je}),xe.data=He)),Hw(ne,t,$,r,ee)}cv(ne,s)})}function $o(t,s,r){return{instance:t,listener:s,currentTarget:r}}function eh(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ps(t,r),d!=null&&o.unshift($o(t,d,m)),d=ps(t,s),d!=null&&o.push($o(t,d,m))),t.tag===3)return o;t=t.return}return[]}function Yw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hv(t,s,r,o,d){for(var m=s._reactName,b=[];r!==null&&r!==o;){var w=r,j=w.alternate,$=w.stateNode;if(w=w.tag,j!==null&&j===o)break;w!==5&&w!==26&&w!==27||$===null||(j=$,d?($=ps(r,m),$!=null&&b.unshift($o(r,$,j))):d||($=ps(r,m),$!=null&&b.push($o(r,$,j)))),r=r.return}b.length!==0&&t.push({event:s,listeners:b})}var Kw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(Kw,`
`).replace(Qw,"")}function fv(t,s){return s=dv(s),dv(t)===s}function vt(t,s,r,o,d,m){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||An(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&An(t,""+o);break;case"className":Vn(t,"class",o);break;case"tabIndex":Vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,r,o);break;case"style":uo(t,o,m);break;case"data":if(s!=="object"){Vn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=qr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&vt(t,s,"name",d.name,d,null),vt(t,s,"formEncType",d.formEncType,d,null),vt(t,s,"formMethod",d.formMethod,d,null),vt(t,s,"formTarget",d.formTarget,d,null)):(vt(t,s,"encType",d.encType,d,null),vt(t,s,"method",d.method,d,null),vt(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=qr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ms);break;case"onScroll":o!=null&&Qe("scroll",t);break;case"onScrollEnd":o!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=qr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Ur(t,"popover",o);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ur(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eu.get(r)||r,Ur(t,r,o))}}function rm(t,s,r,o,d,m){switch(r){case"style":uo(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?An(t,o):(typeof o=="number"||typeof o=="bigint")&&An(t,""+o);break;case"onScroll":o!=null&&Qe("scroll",t);break;case"onScrollEnd":o!=null&&Qe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),m=t[nn]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ur(t,r,o)}}}function mn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var o=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:vt(t,s,m,b,r,null)}}d&&vt(t,s,"srcSet",r.srcSet,r,null),o&&vt(t,s,"src",r.src,r,null);return;case"input":Qe("invalid",t);var w=m=b=d=null,j=null,$=null;for(o in r)if(r.hasOwnProperty(o)){var ee=r[o];if(ee!=null)switch(o){case"name":d=ee;break;case"type":b=ee;break;case"checked":j=ee;break;case"defaultChecked":$=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:vt(t,s,o,ee,r,null)}}Wc(t,m,w,j,$,b,d,!1);return;case"select":Qe("invalid",t),o=b=m=null;for(d in r)if(r.hasOwnProperty(d)&&(w=r[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:vt(t,s,d,w,r,null)}s=m,r=b,t.multiple=!!o,s!=null?zi(t,!!o,s,!1):r!=null&&zi(t,!!o,r,!0);return;case"textarea":Qe("invalid",t),m=d=o=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:vt(t,s,b,w,r,null)}Bi(t,o,d,m);return;case"option":for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!=null)&&(j==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":vt(t,s,j,o,r,null));return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(o=0;o<Go.length;o++)Qe(Go[o],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in r)if(r.hasOwnProperty($)&&(o=r[$],o!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:vt(t,s,$,o,r,null)}return;default:if(Br(s)){for(ee in r)r.hasOwnProperty(ee)&&(o=r[ee],o!==void 0&&rm(t,s,ee,o,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(o=r[w],o!=null&&vt(t,s,w,o,r,null))}function Xw(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,w=null,j=null,$=null,ee=null;for(J in r){var ne=r[J];if(r.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=ne;default:o.hasOwnProperty(J)||vt(t,s,J,null,o,ne)}}for(var K in o){var J=o[K];if(ne=r[K],o.hasOwnProperty(K)&&(J!=null||ne!=null))switch(K){case"type":m=J;break;case"name":d=J;break;case"checked":$=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:J!==ne&&vt(t,s,K,J,o,ne)}}zr(t,b,w,j,$,ee,m,d);return;case"select":J=b=w=K=null;for(m in r)if(j=r[m],r.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":J=j;default:o.hasOwnProperty(m)||vt(t,s,m,null,o,j)}for(d in o)if(m=o[d],j=r[d],o.hasOwnProperty(d)&&(m!=null||j!=null))switch(d){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==j&&vt(t,s,d,m,o,j)}s=w,r=b,o=J,K!=null?zi(t,!!r,K,!1):!!o!=!!r&&(s!=null?zi(t,!!r,s,!0):zi(t,!!r,r?[]:"",!1));return;case"textarea":J=K=null;for(w in r)if(d=r[w],r.hasOwnProperty(w)&&d!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:vt(t,s,w,null,o,d)}for(b in o)if(d=o[b],m=r[b],o.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":K=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&vt(t,s,b,d,o,m)}Jc(t,K,J);return;case"option":for(var ve in r)K=r[ve],r.hasOwnProperty(ve)&&K!=null&&!o.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:vt(t,s,ve,null,o,K));for(j in o)K=o[j],J=r[j],o.hasOwnProperty(j)&&K!==J&&(K!=null||J!=null)&&(j==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":vt(t,s,j,K,o,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in r)K=r[Ae],r.hasOwnProperty(Ae)&&K!=null&&!o.hasOwnProperty(Ae)&&vt(t,s,Ae,null,o,K);for($ in o)if(K=o[$],J=r[$],o.hasOwnProperty($)&&K!==J&&(K!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,s));break;default:vt(t,s,$,K,o,J)}return;default:if(Br(s)){for(var bt in r)K=r[bt],r.hasOwnProperty(bt)&&K!==void 0&&!o.hasOwnProperty(bt)&&rm(t,s,bt,void 0,o,K);for(ee in o)K=o[ee],J=r[ee],!o.hasOwnProperty(ee)||K===J||K===void 0&&J===void 0||rm(t,s,ee,K,o,J);return}}for(var q in r)K=r[q],r.hasOwnProperty(q)&&K!=null&&!o.hasOwnProperty(q)&&vt(t,s,q,null,o,K);for(ne in o)K=o[ne],J=r[ne],!o.hasOwnProperty(ne)||K===J||K==null&&J==null||vt(t,s,ne,K,o,J)}function mv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ww(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],m=d.transferSize,b=d.initiatorType,w=d.duration;if(m&&w&&mv(b)){for(b=0,w=d.responseEnd,o+=1;o<r.length;o++){var j=r[o],$=j.startTime;if($>w)break;var ee=j.transferSize,ne=j.initiatorType;ee&&mv(ne)&&(j=j.responseEnd,b+=ee*(j<w?1:(w-$)/(j-$)))}if(--o,s+=8*(m+b)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lm=null,om=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function cm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function Jw(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(tT)}:yv;function tT(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function bv(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),El(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Yo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Yo(r);for(var m=r.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[Ms]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&Yo(t.ownerDocument.body);r=d}while(r);El(s)}function xv(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function hm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hm(r),Pr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function nT(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ms])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=as(t.nextSibling),t===null)break}return null}function sT(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=as(t.nextSibling),t===null))return null;return t}function _v(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=as(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iT(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function as(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var mm=null;function Ev(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return as(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function wv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Tv(t,s,r){switch(s=th(r),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Yo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Pr(t)}var rs=new Map,Sv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ei=ae.d;ae.d={f:aT,r:rT,D:lT,C:oT,L:cT,m:uT,X:dT,S:hT,M:fT};function aT(){var t=Ei.f(),s=Yu();return t||s}function rT(t){var s=Qn(t);s!==null&&s.tag===5&&s.type==="form"?q0(s):Ei.r(t)}var bl=typeof document>"u"?null:document;function Nv(t,s,r){var o=bl;if(o&&typeof s=="string"&&s){var d=Nn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Sv.has(d)||(Sv.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),mn(s,"link",t),Bt(s),o.head.appendChild(s)))}}function lT(t){Ei.D(t),Nv("dns-prefetch",t,null)}function oT(t,s){Ei.C(t,s),Nv("preconnect",t,s)}function cT(t,s,r){Ei.L(t,s,r);var o=bl;if(o&&t&&s){var d='link[rel="preload"][as="'+Nn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Nn(r.imageSizes)+'"]')):d+='[href="'+Nn(t)+'"]';var m=d;switch(s){case"style":m=xl(t);break;case"script":m=_l(t)}rs.has(m)||(t=E({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),rs.set(m,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(Ko(m))||s==="script"&&o.querySelector(Qo(m))||(s=o.createElement("link"),mn(s,"link",t),Bt(s),o.head.appendChild(s)))}}function uT(t,s){Ei.m(t,s);var r=bl;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Nn(o)+'"][href="'+Nn(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_l(t)}if(!rs.has(m)&&(t=E({rel:"modulepreload",href:t},s),rs.set(m,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Qo(m)))return}o=r.createElement("link"),mn(o,"link",t),Bt(o),r.head.appendChild(o)}}}function hT(t,s,r){Ei.S(t,s,r);var o=bl;if(o&&t){var d=Vs(o).hoistableStyles,m=xl(t);s=s||"default";var b=d.get(m);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(Ko(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},r),(r=rs.get(m))&&pm(t,r);var j=b=o.createElement("link");Bt(j),mn(j,"link",t),j._p=new Promise(function($,ee){j.onload=$,j.onerror=ee}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sh(b,s,o)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(m,b)}}}function dT(t,s){Ei.X(t,s);var r=bl;if(r&&t){var o=Vs(r).hoistableScripts,d=_l(t),m=o.get(d);m||(m=r.querySelector(Qo(d)),m||(t=E({src:t,async:!0},s),(s=rs.get(d))&&gm(t,s),m=r.createElement("script"),Bt(m),mn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function fT(t,s){Ei.M(t,s);var r=bl;if(r&&t){var o=Vs(r).hoistableScripts,d=_l(t),m=o.get(d);m||(m=r.querySelector(Qo(d)),m||(t=E({src:t,async:!0,type:"module"},s),(s=rs.get(d))&&gm(t,s),m=r.createElement("script"),Bt(m),mn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Av(t,s,r,o){var d=(d=Ne.current)?nh(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=xl(r.href),r=Vs(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=xl(r.href);var m=Vs(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Ko(t)))&&!m._p&&(b.instance=m,b.state.loading=5),rs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},rs.set(t,r),m||mT(d,t,r,b.state))),s&&o===null)throw Error(a(528,""));return b}if(s&&o!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_l(r),r=Vs(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function xl(t){return'href="'+Nn(t)+'"'}function Ko(t){return'link[rel="stylesheet"]['+t+"]"}function Rv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function mT(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),mn(s,"link",r),Bt(s),t.head.appendChild(s))}function _l(t){return'[src="'+Nn(t)+'"]'}function Qo(t){return"script[async]"+t}function Cv(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Nn(r.href)+'"]');if(o)return s.instance=o,Bt(o),o;var d=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Bt(o),mn(o,"style",d),sh(o,r.precedence,t),s.instance=o;case"stylesheet":d=xl(r.href);var m=t.querySelector(Ko(d));if(m)return s.state.loading|=4,s.instance=m,Bt(m),m;o=Rv(r),(d=rs.get(d))&&pm(o,d),m=(t.ownerDocument||t).createElement("link"),Bt(m);var b=m;return b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),mn(m,"link",o),s.state.loading|=4,sh(m,r.precedence,t),s.instance=m;case"script":return m=_l(r.src),(d=t.querySelector(Qo(m)))?(s.instance=d,Bt(d),d):(o=r,(d=rs.get(m))&&(o=E({},r),gm(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Bt(d),mn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,sh(o,r.precedence,t));return s.instance}function sh(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function pm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function gm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ih=null;function Iv(t,s,r){if(ih===null){var o=new Map,d=ih=new Map;d.set(r,o)}else d=ih,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var m=r[d];if(!(m[Ms]||m[zt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var w=o.get(b);w?w.push(m):o.set(b,[m])}}return o}function jv(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function pT(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function gT(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=xl(o.href),m=s.querySelector(Ko(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ah.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=m,Bt(m);return}m=s.ownerDocument||s,o=Rv(o),(d=rs.get(d))&&pm(o,d),m=m.createElement("link"),Bt(m);var b=m;b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),mn(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ah.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var ym=0;function yT(t,s){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&ym===0&&(ym=62500*Ww());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ym?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rh=null;function lh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rh=new Map,s.forEach(vT,t),rh=null,ah.call(t))}function vT(t,s){if(!(s.state.loading&4)){var r=rh.get(t);if(r)var o=r.get(null);else{r=new Map,rh.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}d=s.instance,b=d.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,d),r.set(b,d),this.count++,o=ah.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Xo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function bT(t,s,r,o,d,m,b,w,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.hiddenUpdates=Ds(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function kv(t,s,r,o,d,m,b,w,j,$,ee,ne){return t=new bT(t,s,r,b,j,$,ee,ne,w),s=1,m===!0&&(s|=24),m=Pn(3,null,null,s),t.current=m,m.stateNode=t,s=Qd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:s},Zd(m),t}function Mv(t){return t?(t=Jr,t):Jr}function Ov(t,s,r,o,d,m){d=Mv(d),o.context===null?o.context=d:o.pendingContext=d,o=Zi(s),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=ea(t,o,s),r!==null&&(Dn(r,t,s),Ro(r,t,s))}function Vv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function vm(t,s){Vv(t,s),(t=t.alternate)&&Vv(t,s)}function Lv(t){if(t.tag===13||t.tag===31){var s=nr(t,67108864);s!==null&&Dn(s,t,67108864),vm(t,67108864)}}function Pv(t){if(t.tag===13||t.tag===31){var s=Hn();s=Fa(s);var r=nr(t,s);r!==null&&Dn(r,t,s),vm(t,s)}}var oh=!0;function xT(t,s,r,o){var d=W.T;W.T=null;var m=ae.p;try{ae.p=2,bm(t,s,r,o)}finally{ae.p=m,W.T=d}}function _T(t,s,r,o){var d=W.T;W.T=null;var m=ae.p;try{ae.p=8,bm(t,s,r,o)}finally{ae.p=m,W.T=d}}function bm(t,s,r,o){if(oh){var d=xm(o);if(d===null)am(t,s,o,ch,r),zv(t,o);else if(wT(d,t,s,r,o))o.stopPropagation();else if(zv(t,o),s&4&&-1<ET.indexOf(t)){for(;d!==null;){var m=Qn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Is(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var j=1<<31-kt(b);w.entanglements[1]|=j,b&=~j}Qs(m),(ut&6)===0&&(Gu=Ve()+500,Fo(0))}}break;case 31:case 13:w=nr(m,2),w!==null&&Dn(w,m,2),Yu(),vm(m,2)}if(m=xm(o),m===null&&am(t,s,o,ch,r),m===d)break;d=m}d!==null&&o.stopPropagation()}else am(t,s,o,null,r)}}function xm(t){return t=Xn(t),_m(t)}var ch=null;function _m(t){if(ch=null,t=Os(t),t!==null){var s=c(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=p(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ch=t,null}function Uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case ot:return 2;case Et:return 8;case Pt:case kr:return 32;case Pi:return 268435456;default:return 32}default:return 32}}var Em=!1,ha=null,da=null,fa=null,Wo=new Map,Jo=new Map,ma=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(t,s){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Wo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(s.pointerId)}}function Zo(t,s,r,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Qn(s),s!==null&&Lv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function wT(t,s,r,o,d){switch(s){case"focusin":return ha=Zo(ha,t,s,r,o,d),!0;case"dragenter":return da=Zo(da,t,s,r,o,d),!0;case"mouseover":return fa=Zo(fa,t,s,r,o,d),!0;case"pointerover":var m=d.pointerId;return Wo.set(m,Zo(Wo.get(m)||null,t,s,r,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Jo.set(m,Zo(Jo.get(m)||null,t,s,r,o,d)),!0}return!1}function Bv(t){var s=Os(t.target);if(s!==null){var r=c(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,ds(t.priority,function(){Pv(r)});return}}else if(s===31){if(s=p(r),s!==null){t.blockedOn=s,ds(t.priority,function(){Pv(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=xm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);ho=o,r.target.dispatchEvent(o),ho=null}else return s=Qn(r),s!==null&&Lv(s),t.blockedOn=r,!1;s.shift()}return!0}function qv(t,s,r){uh(t)&&r.delete(s)}function TT(){Em=!1,ha!==null&&uh(ha)&&(ha=null),da!==null&&uh(da)&&(da=null),fa!==null&&uh(fa)&&(fa=null),Wo.forEach(qv),Jo.forEach(qv)}function hh(t,s){t.blockedOn===s&&(t.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TT)))}var dh=null;function Hv(t){dh!==t&&(dh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(_m(o||r)===null)continue;break}var m=Qn(r);m!==null&&(t.splice(s,3),s-=3,xf(m,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function El(t){function s(j){return hh(j,t)}ha!==null&&hh(ha,t),da!==null&&hh(da,t),fa!==null&&hh(fa,t),Wo.forEach(s),Jo.forEach(s);for(var r=0;r<ma.length;r++){var o=ma[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)Bv(r),r.blockedOn===null&&ma.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],b=d[nn]||null;if(typeof m=="function")b||Hv(r);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[nn]||null)w=b.formAction;else if(_m(d)!==null)continue}else w=b.action;typeof w=="function"?r[o+1]=w:(r.splice(o,3),o-=3),Hv(r)}}}function Fv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function wm(t){this._internalRoot=t}fh.prototype.render=wm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,o=Hn();Ov(r,o,t,s,null,null)},fh.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ov(t.current,2,null,t,null,null),Yu(),s[ks]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Yc();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ma.length&&s!==0&&s<ma[r].priority;r++);ma.splice(r,0,t),r===0&&Bv(t)}};var Gv=e.version;if(Gv!=="19.2.4")throw Error(a(527,Gv,"19.2.4"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{us=mh.inject(ST),cn=mh}catch{}}return tc.createRoot=function(t,s){if(!l(t))throw Error(a(299));var r=!1,o="",d=J0,m=Z0,b=ey;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=kv(t,1,!1,null,null,r,o,null,d,m,b,Fv),t[ks]=s.current,im(t),new wm(s)},tc.hydrateRoot=function(t,s,r){if(!l(t))throw Error(a(299));var o=!1,d="",m=J0,b=Z0,w=ey,j=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),s=kv(t,1,!0,s,r??null,o,d,j,m,b,w,Fv),s.context=Mv(null),r=s.current,o=Hn(),o=Fa(o),d=Zi(o),d.callback=null,ea(r,d,o),r=o,s.current.lanes=r,qa(s,r),Qs(s),t[ks]=s.current,im(t),new fh(s)},tc.version="19.2.4",tc}var tb;function VT(){if(tb)return Nm.exports;tb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=OT(),Nm.exports}var LT=VT();const PT=Kx(LT);var nb="popstate";function UT(i={}){function e(l,c){let{pathname:f="/",search:p="",hash:g=""}=Rr(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ym("",{pathname:f,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let f=l.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:yc(c))}function a(l,c){cs(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return BT(e,n,a,i)}function Ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cs(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zT(){return Math.random().toString(36).substring(2,10)}function sb(i,e){return{usr:i.state,key:i.key,idx:e}}function Ym(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Rr(e):e,state:n,key:e&&e.key||a||zT()}}function yc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Rr(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function BT(i,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,f=l.history,p="POP",g=null,y=x();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function x(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=x(),z=L==null?null:L-y;y=L,g&&g({action:p,location:B.location,delta:z})}function S(L,z){p="PUSH";let U=Ym(B.location,L,z);n&&n(U,L),y=x()+1;let Q=sb(U,y),le=B.createHref(U);try{f.pushState(Q,"",le)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(le)}c&&g&&g({action:p,location:B.location,delta:1})}function I(L,z){p="REPLACE";let U=Ym(B.location,L,z);n&&n(U,L),y=x();let Q=sb(U,y),le=B.createHref(U);f.replaceState(Q,"",le),c&&g&&g({action:p,location:B.location,delta:0})}function Y(L){return qT(L)}let B={get action(){return p},get location(){return i(l,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(nb,E),g=L,()=>{l.removeEventListener(nb,E),g=null}},createHref(L){return e(l,L)},createURL:Y,encodeLocation(L){let z=Y(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:I,go(L){return f.go(L)}};return B}function qT(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:yc(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Qx(i,e,n="/"){return HT(i,e,n,!1)}function HT(i,e,n,a){let l=typeof e=="string"?Rr(e):e,c=Ci(l.pathname||"/",n);if(c==null)return null;let f=Xx(i);FT(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=tS(c);p=ZT(f[g],y,a)}return p}function Xx(i,e=[],n=[],a="",l=!1){let c=(f,p,g=l,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(a)&&g)return;Ct(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length)}let E=Ai([a,x.relativePath]),S=n.concat(x);f.children&&f.children.length>0&&(Ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Xx(f.children,e,S,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:WT(E,f.index),routesMeta:S})};return i.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let g of Wx(f.path))c(f,p,!0,g)}),e}function Wx(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let f=Wx(a.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...f),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function FT(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:JT(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var GT=/^:[\w-]+$/,$T=3,YT=2,KT=1,QT=10,XT=-2,ib=i=>i==="*";function WT(i,e){let n=i.split("/"),a=n.length;return n.some(ib)&&(a+=XT),e&&(a+=YT),n.filter(l=>!ib(l)).reduce((l,c)=>l+(GT.test(c)?$T:c===""?KT:QT),a)}function JT(i,e){return i.length===e.length&&i.slice(0,-1).every((a,l)=>a===e[l])?i[i.length-1]-e[e.length-1]:0}function ZT(i,e,n=!1){let{routesMeta:a}=i,l={},c="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],y=p===a.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!a[a.length-1].route.index&&(E=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),f.push({params:l,pathname:Ai([c,E.pathname]),pathnameBase:aS(Ai([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=Ai([c,E.pathnameBase]))}return f}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=eS(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let Y=p[S]||"";f=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const I=p[S];return E&&!I?y[x]=void 0:y[x]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function eS(i,e=!1,n=!0){cs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function tS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function sS(i,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof i=="string"?Rr(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=ab(n.substring(1),"/"):c=ab(n,e)):c=e,{pathname:c,search:rS(a),hash:lS(l)}}function ab(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Im(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wp(i){let e=iS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Tp(i,e,n,a=!1){let l;typeof i=="string"?l=Rr(i):(l={...i},Ct(!l.pathname||!l.pathname.includes("?"),Im("?","pathname","search",l)),Ct(!l.pathname||!l.pathname.includes("#"),Im("#","pathname","hash",l)),Ct(!l.search||!l.search.includes("#"),Im("#","search","hash",l)));let c=i===""||l.pathname==="",f=c?"/":l.pathname,p;if(f==null)p=n;else{let E=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=sS(l,p),y=f&&f!=="/"&&f.endsWith("/"),x=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var Ai=i=>i.join("/").replace(/\/\/+/g,"/"),aS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,oS=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function uS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zx(i,e){let n=i;if(typeof n!="string"||!nS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(Jx)try{let c=new URL(window.location.href),f=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ci(f.pathname,e);f.origin===c.origin&&p!=null?n=p+f.search+f.hash:l=!0}catch{cs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var hS=["GET",...e_];new Set(hS);var Hl=D.createContext(null);Hl.displayName="DataRouter";var id=D.createContext(null);id.displayName="DataRouterState";var dS=D.createContext(!1),t_=D.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var fS=D.createContext(new Map);fS.displayName="Fetchers";var mS=D.createContext(null);mS.displayName="Await";var Yn=D.createContext(null);Yn.displayName="Navigation";var Rc=D.createContext(null);Rc.displayName="Location";var Rs=D.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var Sp=D.createContext(null);Sp.displayName="RouteError";var n_="REACT_ROUTER_ERROR",pS="REDIRECT",gS="ROUTE_ERROR_RESPONSE";function yS(i){if(i.startsWith(`${n_}:${pS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vS(i){if(i.startsWith(`${n_}:${gS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oS(e.status,e.statusText,e.data)}catch{}}function bS(i,{relative:e}={}){Ct(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=D.useContext(Yn),{hash:l,pathname:c,search:f}=Cc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Ai([n,c])),a.createHref({pathname:p,search:f,hash:l})}function Fl(){return D.useContext(Rc)!=null}function Va(){return Ct(Fl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Rc).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(i){D.useContext(Yn).static||D.useLayoutEffect(i)}function Gl(){let{isDataRoute:i}=D.useContext(Rs);return i?DS():xS()}function xS(){Ct(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Hl),{basename:e,navigator:n}=D.useContext(Yn),{matches:a}=D.useContext(Rs),{pathname:l}=Va(),c=JSON.stringify(wp(a)),f=D.useRef(!1);return i_(()=>{f.current=!0}),D.useCallback((g,y={})=>{if(cs(f.current,s_),!f.current)return;if(typeof g=="number"){n.go(g);return}let x=Tp(g,JSON.parse(c),l,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ai([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,l,i])}D.createContext(null);function ad(){let{matches:i}=D.useContext(Rs),e=i[i.length-1];return e?e.params:{}}function Cc(i,{relative:e}={}){let{matches:n}=D.useContext(Rs),{pathname:a}=Va(),l=JSON.stringify(wp(n));return D.useMemo(()=>Tp(i,JSON.parse(l),a,e==="path"),[i,l,a,e])}function _S(i,e){return a_(i,e)}function a_(i,e,n,a,l){Ct(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Yn),{matches:f}=D.useContext(Rs),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let U=E&&E.path||"";l_(y,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let S=Va(),I;if(e){let U=typeof e=="string"?Rr(e):e;Ct(x==="/"||U.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${U.pathname}" was given in the \`location\` prop.`),I=U}else I=S;let Y=I.pathname||"/",B=Y;if(x!=="/"){let U=x.replace(/^\//,"").split("/");B="/"+Y.replace(/^\//,"").split("/").slice(U.length).join("/")}let L=Qx(i,{pathname:B});cs(E||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),cs(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=NS(L&&L.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:Ai([x,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?x:Ai([x,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,n,a,l);return e&&z?D.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function ES(){let i=jS(),e=cS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:l},n):null,f)}var wS=D.createElement(ES,null),r_=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=vS(i.digest);n&&(i=n)}let e=i!==void 0?D.createElement(Rs.Provider,{value:this.props.routeContext},D.createElement(Sp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?D.createElement(TS,{error:i},e):e}};r_.contextType=dS;var jm=new WeakMap;function TS({children:i,error:e}){let{basename:n}=D.useContext(Yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=yS(e.digest);if(a){let l=jm.get(e);if(l)throw l;let c=Zx(a.location,n);if(Jx&&!jm.get(e))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw jm.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function SS({routeContext:i,match:e,children:n}){let a=D.useContext(Hl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Rs.Provider,{value:i},n)}function NS(i,e=[],n=null,a=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,f=n?.errors;if(f!=null){let x=c.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);Ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:I}=n,Y=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||Y){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&a?(x,E)=>{a(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uS(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let I,Y=!1,B=null,L=null;n&&(I=f&&E.route.id?f[E.route.id]:void 0,B=E.route.errorElement||wS,p&&(g<0&&S===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,L=null):g===S&&(Y=!0,L=E.route.hydrateFallbackElement||null)));let z=e.concat(c.slice(0,S+1)),U=()=>{let Q;return I?Q=B:Y?Q=L:E.route.Component?Q=D.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=x,D.createElement(SS,{match:E,routeContext:{outlet:x,matches:z,isDataRoute:n!=null},children:Q})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?D.createElement(r_,{location:n.location,revalidation:n.revalidation,component:B,error:I,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:y}):U()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(i){let e=D.useContext(Hl);return Ct(e,Np(i)),e}function RS(i){let e=D.useContext(id);return Ct(e,Np(i)),e}function CS(i){let e=D.useContext(Rs);return Ct(e,Np(i)),e}function Ap(i){let e=CS(i),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function IS(){return Ap("useRouteId")}function jS(){let i=D.useContext(Sp),e=RS("useRouteError"),n=Ap("useRouteError");return i!==void 0?i:e.errors?.[n]}function DS(){let{router:i}=AS("useNavigate"),e=Ap("useNavigate"),n=D.useRef(!1);return i_(()=>{n.current=!0}),D.useCallback(async(l,c={})=>{cs(n.current,s_),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var rb={};function l_(i,e,n){!e&&!rb[i]&&(rb[i]=!0,cs(!1,n))}D.memo(kS);function kS({routes:i,future:e,state:n,onError:a}){return a_(i,void 0,n,a,e)}function MS({to:i,replace:e,state:n,relative:a}){Ct(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=D.useContext(Yn);cs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(Rs),{pathname:f}=Va(),p=Gl(),g=Tp(i,wp(c),f,a==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:a})},[p,y,a,e,n]),null}function wi(i){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1,unstable_useTransitions:f}){Ct(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:f,future:{}}),[p,l,c,f]);typeof n=="string"&&(n=Rr(n));let{pathname:y="/",search:x="",hash:E="",state:S=null,key:I="default"}=n,Y=D.useMemo(()=>{let B=Ci(y,p);return B==null?null:{location:{pathname:B,search:x,hash:E,state:S,key:I},navigationType:a}},[p,y,x,E,S,I,a]);return cs(Y!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:D.createElement(Yn.Provider,{value:g},D.createElement(Rc.Provider,{children:e,value:Y}))}function VS({children:i,location:e}){return _S(Km(i),e)}function Km(i,e=[]){let n=[];return D.Children.forEach(i,(a,l)=>{if(!D.isValidElement(a))return;let c=[...e,l];if(a.type===D.Fragment){n.push.apply(n,Km(a.props.children,c));return}Ct(a.type===wi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Km(a.props.children,c)),n.push(f)}),n}var Th="get",Sh="application/x-www-form-urlencoded";function rd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function LS(i){return rd(i)&&i.tagName.toLowerCase()==="button"}function PS(i){return rd(i)&&i.tagName.toLowerCase()==="form"}function US(i){return rd(i)&&i.tagName.toLowerCase()==="input"}function zS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BS(i,e){return i.button===0&&(!e||e==="_self")&&!zS(i)}var ph=null;function qS(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var HS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!HS.has(i)?(cs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):i}function FS(i,e){let n,a,l,c,f;if(PS(i)){let p=i.getAttribute("action");a=p?Ci(p,e):null,n=i.getAttribute("method")||Th,l=Dm(i.getAttribute("enctype"))||Sh,c=new FormData(i)}else if(LS(i)||US(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(a=g?Ci(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Th,l=Dm(i.getAttribute("formenctype"))||Dm(p.getAttribute("enctype"))||Sh,c=new FormData(p,i),!qS()){let{name:y,type:x,value:E}=i;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(rd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,a=null,l=Sh,f=i}return c&&l==="text/plain"&&(f=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function GS(i,e,n,a){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&Ci(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function $S(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function KS(i,e,n){let a=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let f=await $S(c,n);return f.links?f.links():[]}return[]}));return JS(a.flat(1).filter(YS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function lb(i,e,n,a,l,c){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=a.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function QS(i,e,{includeHydrateFallback:n}={}){return XS(i.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function XS(i){return[...new Set(i)]}function WS(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function JS(i,e){let n=new Set;return new Set(e),i.reduce((a,l)=>{let c=JSON.stringify(WS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function o_(){let i=D.useContext(Hl);return Rp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ZS(){let i=D.useContext(id);return Rp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cp=D.createContext(void 0);Cp.displayName="FrameworkContext";function c_(){let i=D.useContext(Cp);return Rp(i,"You must render this element inside a <HydratedRouter> element"),i}function e2(i,e){let n=D.useContext(Cp),[a,l]=D.useState(!1),[c,f]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=D.useRef(null);D.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let B=z=>{z.forEach(U=>{f(U.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),D.useEffect(()=>{if(a){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[a]);let I=()=>{l(!0)},Y=()=>{l(!1),f(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:nc(p,I),onBlur:nc(g,Y),onMouseEnter:nc(y,I),onMouseLeave:nc(x,Y),onTouchStart:nc(E,I)}]:[!1,S,{}]}function nc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function t2({page:i,...e}){let{router:n}=o_(),a=D.useMemo(()=>Qx(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?D.createElement(s2,{page:i,matches:a,...e}):null}function n2(i){let{manifest:e,routeModules:n}=c_(),[a,l]=D.useState([]);return D.useEffect(()=>{let c=!1;return KS(i,e,n).then(f=>{c||l(f)}),()=>{c=!0}},[i,e,n]),a}function s2({page:i,matches:e,...n}){let a=Va(),{future:l,manifest:c,routeModules:f}=c_(),{basename:p}=o_(),{loaderData:g,matches:y}=ZS(),x=D.useMemo(()=>lb(i,e,y,c,a,"data"),[i,e,y,c,a]),E=D.useMemo(()=>lb(i,e,y,c,a,"assets"),[i,e,y,c,a]),S=D.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let B=new Set,L=!1;if(e.forEach(U=>{let Q=c.routes[U.route.id];!Q||!Q.hasLoader||(!x.some(le=>le.route.id===U.route.id)&&U.route.id in g&&f[U.route.id]?.shouldRevalidate||Q.hasClientLoader?L=!0:B.add(U.route.id))}),B.size===0)return[];let z=GS(i,p,l.unstable_trailingSlashAwareDataRequests,"data");return L&&B.size>0&&z.searchParams.set("_routes",e.filter(U=>B.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,a,c,x,e,i,f]),I=D.useMemo(()=>QS(E,c),[E,c]),Y=n2(E);return D.createElement(D.Fragment,null,S.map(B=>D.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),I.map(B=>D.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),Y.map(({key:B,link:L})=>D.createElement("link",{key:B,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function i2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a2&&(window.__reactRouterVersion="7.13.0")}catch{}function r2({basename:i,children:e,unstable_useTransitions:n,window:a}){let l=D.useRef();l.current==null&&(l.current=UT({window:a,v5Compat:!0}));let c=l.current,[f,p]=D.useState({action:c.action,location:c.location}),g=D.useCallback(y=>{n===!1?p(y):D.startTransition(()=>p(y))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(OS,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:n})}var u_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=D.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},Y){let{basename:B,unstable_useTransitions:L}=D.useContext(Yn),z=typeof y=="string"&&u_.test(y),U=Zx(y,B);y=U.to;let Q=bS(y,{relative:l}),[le,ue,me]=e2(a,I),A=u2(y,{replace:f,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function N(O){e&&e(O),O.defaultPrevented||A(O)}let R=D.createElement("a",{...I,...me,href:U.absoluteURL||Q,onClick:U.isExternal||c?e:N,ref:i2(Y,ue),target:g,"data-discover":!z&&n==="render"?"true":void 0});return le&&!z?D.createElement(D.Fragment,null,R,D.createElement(t2,{page:Q})):R});at.displayName="Link";var l2=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g,...y},x){let E=Cc(f,{relative:y.relative}),S=Va(),I=D.useContext(id),{navigator:Y,basename:B}=D.useContext(Yn),L=I!=null&&p2(E)&&p===!0,z=Y.encodeLocation?Y.encodeLocation(E).pathname:E.pathname,U=S.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(U=U.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&B&&(Q=Ci(Q,B)||Q);const le=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ue=U===z||!l&&U.startsWith(z)&&U.charAt(le)==="/",me=Q!=null&&(Q===z||!l&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),A={isActive:ue,isPending:me,isTransitioning:L},N=ue?e:void 0,R;typeof a=="function"?R=a(A):R=[a,ue?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(A):c;return D.createElement(at,{...y,"aria-current":N,className:R,ref:x,style:O,to:f,viewTransition:p},typeof g=="function"?g(A):g)});l2.displayName="NavLink";var o2=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:f=Th,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},Y)=>{let{unstable_useTransitions:B}=D.useContext(Yn),L=f2(),z=m2(p,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&u_.test(p),le=ue=>{if(g&&g(ue),ue.defaultPrevented)return;ue.preventDefault();let me=ue.nativeEvent.submitter,A=me?.getAttribute("formmethod")||f,N=()=>L(me||ue.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:l,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S});B&&n!==!1?D.startTransition(()=>N()):N()};return D.createElement("form",{ref:Y,method:U,action:z,onSubmit:a?g:le,...I,"data-discover":!Q&&i==="render"?"true":void 0})});o2.displayName="Form";function c2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(i){let e=D.useContext(Hl);return Ct(e,c2(i)),e}function u2(i,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Gl(),x=Va(),E=Cc(i,{relative:c});return D.useCallback(S=>{if(BS(S,e)){S.preventDefault();let I=n!==void 0?n:yc(x)===yc(E),Y=()=>y(i,{replace:I,state:a,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p});g?D.startTransition(()=>Y()):Y()}},[x,y,E,n,a,e,i,l,c,f,p,g])}var h2=0,d2=()=>`__${String(++h2)}__`;function f2(){let{router:i}=h_("useSubmit"),{basename:e}=D.useContext(Yn),n=IS(),a=i.fetch,l=i.navigate;return D.useCallback(async(c,f={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=FS(c,e);if(f.navigate===!1){let S=f.fetcherKey||d2();await a(S,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:E,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:E,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,l,e,n])}function m2(i,{relative:e}={}){let{basename:n}=D.useContext(Yn),a=D.useContext(Rs);Ct(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...Cc(i||".",{relative:e})},f=Va();if(i==null){c.search=f.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ai([n,c.pathname])),yc(c)}function p2(i,{relative:e}={}){let n=D.useContext(t_);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=h_("useViewTransitionState"),l=Cc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ci(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Ci(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Vh(l.pathname,f)!=null||Vh(l.pathname,c)!=null}const g2=()=>{};var ob={};const d_=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},y2=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const l=i[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],f=i[n++],p=i[n++],g=((l&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],f=l+1<i.length,p=f?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,I=y&63;g||(I=64,f||(S=64)),a.push(n[x],n[E],n[S],n[I])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(d_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):y2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const y=l<i.length?n[i.charAt(l)]:64;++l;const E=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new v2;const S=c<<2|p>>4;if(a.push(S),y!==64){const I=p<<4&240|y>>2;if(a.push(I),E!==64){const Y=y<<6&192|E;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class v2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b2=function(i){const e=d_(i);return f_.encodeByteArray(e,!0)},Lh=function(i){return b2(i).replace(/\./g,"")},m_=function(i){try{return f_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _2=()=>x2().__FIREBASE_DEFAULTS__,E2=()=>{if(typeof process>"u"||typeof ob>"u")return;const i=ob.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},w2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&m_(i[1]);return e&&JSON.parse(e)},ld=()=>{try{return g2()||_2()||E2()||w2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},p_=i=>ld()?.emulatorHosts?.[i],T2=i=>{const e=p_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},g_=()=>ld()?.config,y_=i=>ld()?.[`_${i}`];class S2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function $l(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v_(i){return(await fetch(i,{credentials:"include"})).ok}function N2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(f)),""].join(".")}const uc={};function A2(){const i={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?i.emulator.push(e):i.prod.push(e);return i}function R2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let cb=!1;function b_(i,e){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||uc[i]===e||uc[i]||cb)return;uc[i]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=A2().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{cb=!0,f()},S}function x(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=R2(a),I=n("text"),Y=document.getElementById(I)||document.createElement("span"),B=n("learnmore"),L=document.getElementById(B)||document.createElement("a"),z=n("preprendIcon"),U=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;p(Q),x(L,B);const le=y();g(U,z),Q.append(U,Y,L,le),document.body.appendChild(Q)}c?(Y.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function I2(){const i=ld()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function k2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M2(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function O2(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const P2="FirebaseError";class Li extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=P2,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?U2(c,a):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new Li(l,p,a)}}function U2(i,e){return i.replace(z2,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const z2=/\{\$([^}]+)}/g;function B2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function xr(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=i[l],f=e[l];if(ub(c)&&ub(f)){if(!xr(c,f))return!1}else if(c!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function ub(i){return i!==null&&typeof i=="object"}function jc(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ic(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function ac(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function q2(i,e){const n=new H2(i,e);return n.subscribe.bind(n)}class H2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=km),l.error===void 0&&(l.error=km),l.complete===void 0&&(l.complete=km);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function km(){}function tn(i){return i&&i._delegate?i._delegate:i}class _r{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pr="[DEFAULT]";class G2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new S2;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&f.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$2(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $2(i){return i===pr?void 0:i}function Y2(i){return i.instantiationMode==="EAGER"}class K2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ze||(Ze={}));const Q2={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},X2=Ze.INFO,W2={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},J2=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=W2[e];if(l)console[l](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=X2,this._logHandler=J2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Z2=(i,e)=>e.some(n=>i instanceof n);let hb,db;function eN(){return hb||(hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x_=new WeakMap,Qm=new WeakMap,__=new WeakMap,Mm=new WeakMap,jp=new WeakMap;function nN(i){const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(wa(i.result)),l()},f=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&x_.set(n,i)}).catch(()=>{}),jp.set(e,i),e}function sN(i){if(Qm.has(i))return;const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Qm.set(i,e)}let Xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||__.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function iN(i){Xm=i(Xm)}function aN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Om(this),e,...n);return __.set(a,e.sort?e.sort():[e]),wa(a)}:tN().includes(i)?function(...e){return i.apply(Om(this),e),wa(x_.get(this))}:function(...e){return wa(i.apply(Om(this),e))}}function rN(i){return typeof i=="function"?aN(i):(i instanceof IDBTransaction&&sN(i),Z2(i,eN())?new Proxy(i,Xm):i)}function wa(i){if(i instanceof IDBRequest)return nN(i);if(Mm.has(i))return Mm.get(i);const e=rN(i);return e!==i&&(Mm.set(i,e),jp.set(e,i)),e}const Om=i=>jp.get(i);function lN(i,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const f=indexedDB.open(i,e),p=wa(f);return a&&f.addEventListener("upgradeneeded",g=>{a(wa(f.result),g.oldVersion,g.newVersion,wa(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const oN=["get","getKey","getAll","getAllKeys","count"],cN=["put","add","delete","clear"],Vm=new Map;function fb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=cN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||oN.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Vm.set(e,c),c}iN(i=>({...i,get:(e,n,a)=>fb(e,n)||i.get(e,n,a),has:(e,n)=>!!fb(e,n)||i.has(e,n)}));class uN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function hN(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",mb="0.14.7";const Ii=new Ip("@firebase/app"),dN="@firebase/app-compat",fN="@firebase/analytics-compat",mN="@firebase/analytics",pN="@firebase/app-check-compat",gN="@firebase/app-check",yN="@firebase/auth",vN="@firebase/auth-compat",bN="@firebase/database",xN="@firebase/data-connect",_N="@firebase/database-compat",EN="@firebase/functions",wN="@firebase/functions-compat",TN="@firebase/installations",SN="@firebase/installations-compat",NN="@firebase/messaging",AN="@firebase/messaging-compat",RN="@firebase/performance",CN="@firebase/performance-compat",IN="@firebase/remote-config",jN="@firebase/remote-config-compat",DN="@firebase/storage",kN="@firebase/storage-compat",MN="@firebase/firestore",ON="@firebase/ai",VN="@firebase/firestore-compat",LN="firebase",PN="12.8.0";const Jm="[DEFAULT]",UN={[Wm]:"fire-core",[dN]:"fire-core-compat",[mN]:"fire-analytics",[fN]:"fire-analytics-compat",[gN]:"fire-app-check",[pN]:"fire-app-check-compat",[yN]:"fire-auth",[vN]:"fire-auth-compat",[bN]:"fire-rtdb",[xN]:"fire-data-connect",[_N]:"fire-rtdb-compat",[EN]:"fire-fn",[wN]:"fire-fn-compat",[TN]:"fire-iid",[SN]:"fire-iid-compat",[NN]:"fire-fcm",[AN]:"fire-fcm-compat",[RN]:"fire-perf",[CN]:"fire-perf-compat",[IN]:"fire-rc",[jN]:"fire-rc-compat",[DN]:"fire-gcs",[kN]:"fire-gcs-compat",[MN]:"fire-fst",[VN]:"fire-fst-compat",[ON]:"fire-vertex","fire-js":"fire-js",[LN]:"fire-js-all"};const Ph=new Map,zN=new Map,Zm=new Map;function pb(i,e){try{i.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ol(i){const e=i.name;if(Zm.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,i);for(const n of Ph.values())pb(n,i);for(const n of zN.values())pb(n,i);return!0}function Dp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ls(i){return i==null?!1:i.settings!==void 0}const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Ic("app","Firebase",BN);class qN{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}const Yl=PN;function E_(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Jm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ta.create("bad-app-name",{appName:String(l)});if(n||(n=g_()),!n)throw Ta.create("no-options");const c=Ph.get(l);if(c){if(xr(n,c.options)&&xr(a,c.config))return c;throw Ta.create("duplicate-app",{appName:l})}const f=new K2(l);for(const g of Zm.values())f.addComponent(g);const p=new qN(n,a,f);return Ph.set(l,p),p}function w_(i=Jm){const e=Ph.get(i);if(!e&&i===Jm&&g_())return E_();if(!e)throw Ta.create("no-app",{appName:i});return e}function Sa(i,e,n){let a=UN[i]??i;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(f.join(" "));return}Ol(new _r(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const HN="firebase-heartbeat-database",FN=1,vc="firebase-heartbeat-store";let Lm=null;function T_(){return Lm||(Lm=lN(HN,FN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ta.create("idb-open",{originalErrorMessage:i.message})})),Lm}async function GN(i){try{const n=(await T_()).transaction(vc),a=await n.objectStore(vc).get(S_(i));return await n.done,a}catch(e){if(e instanceof Li)Ii.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function gb(i,e){try{const a=(await T_()).transaction(vc,"readwrite");await a.objectStore(vc).put(e,S_(i)),await a.done}catch(n){if(n instanceof Li)Ii.warn(n.message);else{const a=Ta.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(a.message)}}}function S_(i){return`${i.name}!${i.options.appId}`}const $N=1024,YN=30;class KN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XN(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>YN){const l=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yb(),{heartbeatsToSend:n,unsentEntries:a}=QN(this._heartbeatsCache.heartbeats),l=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ii.warn(e),""}}}function yb(){return new Date().toISOString().substring(0,10)}function QN(i,e=$N){const n=[];let a=i.slice();for(const l of i){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),vb(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),vb(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class XN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function vb(i){return Lh(JSON.stringify({version:2,heartbeats:i})).length}function WN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function JN(i){Ol(new _r("platform-logger",e=>new uN(e),"PRIVATE")),Ol(new _r("heartbeat",e=>new KN(e),"PRIVATE")),Sa(Wm,mb,i),Sa(Wm,mb,"esm2020"),Sa("fire-js","")}JN("");function N_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZN=N_,A_=new Ic("auth","Firebase",N_());const Uh=new Ip("@firebase/auth");function eA(i,...e){Uh.logLevel<=Ze.WARN&&Uh.warn(`Auth (${Yl}): ${i}`,...e)}function Nh(i,...e){Uh.logLevel<=Ze.ERROR&&Uh.error(`Auth (${Yl}): ${i}`,...e)}function Ns(i,...e){throw kp(i,...e)}function Ws(i,...e){return kp(i,...e)}function R_(i,e,n){const a={...ZN(),[e]:n};return new Ic("auth","Firebase",a).create(e,{appName:i.name})}function Ri(i){return R_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return A_.create(i,...e)}function Ce(i,e,...n){if(!i)throw kp(e,...n)}function Ti(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Nh(e),new Error(e)}function ji(i,e){i||Ti(e)}function ep(){return typeof self<"u"&&self.location?.href||""}function tA(){return bb()==="http:"||bb()==="https:"}function bb(){return typeof self<"u"&&self.location?.protocol||null}function nA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||D2()||"connection"in navigator)?navigator.onLine:!0}function sA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=C2()||k2()}get(){return nA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(i,e){ji(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C_{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rA=new Dc(3e4,6e4);function La(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Pa(i,e,n,a,l={}){return I_(i,l,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const p=jc({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return j2()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&$l(i.emulatorConfig.host)&&(y.credentials="include"),C_.fetch()(await j_(i,i.config.apiHost,n,p),y)})}async function I_(i,e,n){i._canInitEmulator=!1;const a={...iA,...e};try{const l=new oA(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw gh(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw gh(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw gh(i,"user-disabled",f);const x=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R_(i,x,y);Ns(i,x)}}catch(l){if(l instanceof Li)throw l;Ns(i,"network-request-failed",{message:String(l)})}}async function kc(i,e,n,a,l={}){const c=await Pa(i,e,n,a,l);return"mfaPendingCredential"in c&&Ns(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function j_(i,e,n,a){const l=`${e}${n}?${a}`,c=i,f=c.config.emulator?Mp(i.config,l):`${i.config.apiScheme}://${l}`;return aA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function lA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ws(this.auth,"network-request-failed")),rA.get())})}}function gh(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ws(i,e,a);return l.customData._tokenResponse=n,l}function xb(i){return i!==void 0&&i.enterprise!==void 0}class cA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uA(i,e){return Pa(i,"GET","/v2/recaptchaConfig",La(i,e))}async function hA(i,e){return Pa(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return Pa(i,"POST","/v1/accounts:lookup",e)}function hc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dA(i,e=!1){const n=tn(i),a=await n.getIdToken(e),l=Op(a);Ce(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:a,authTime:hc(Pm(l.auth_time)),issuedAtTime:hc(Pm(l.iat)),expirationTime:hc(Pm(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function Op(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=m_(n);return l?JSON.parse(l):(Nh("Failed to decode base64 JWT payload"),null)}catch(l){return Nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function _b(i){const e=Op(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bc(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Li&&fA(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function fA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class mA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bh(i){const e=i.auth,n=await i.getIdToken(),a=await bc(i,zh(e,{idToken:n}));Ce(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?D_(l.providerUserInfo):[],f=gA(i.providerData,c),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!f?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function pA(i){const e=tn(i);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gA(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function D_(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function yA(i,e){const n=await I_(i,{},async()=>{const a=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,f=await j_(i,l,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return i.emulatorConfig&&$l(i.emulatorConfig.host)&&(g.credentials="include"),C_.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vA(i,e){return Pa(i,"POST","/v2/accounts:revokeToken",La(i,e))}class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=_b(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await yA(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,f=new Il;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(Ce(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Ce(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Ti("not implemented")}}function ga(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ws{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new mA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dA(this,e)}reload(){return pA(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await bc(this,hA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:Y,stsTokenManager:B}=n;Ce(E&&B,e,"internal-error");const L=Il.fromJSON(this.name,B);Ce(typeof E=="string",e,"internal-error"),ga(a,e.name),ga(l,e.name),Ce(typeof S=="boolean",e,"internal-error"),Ce(typeof I=="boolean",e,"internal-error"),ga(c,e.name),ga(f,e.name),ga(p,e.name),ga(g,e.name),ga(y,e.name),ga(x,e.name);const z=new ws({uid:E,auth:e,email:l,emailVerified:S,displayName:a,isAnonymous:I,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:x});return Y&&Array.isArray(Y)&&(z.providerData=Y.map(U=>({...U}))),g&&(z._redirectEventId=g),z}static async _fromIdTokenResponse(e,n,a=!1){const l=new Il;l.updateFromServerResponse(n);const c=new ws({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Bh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ce(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?D_(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,p=new Il;p.updateFromIdToken(a);const g=new ws({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Eb=new Map;function Si(i){ji(i instanceof Function,"Expected a class definition");let e=Eb.get(i);return e?(ji(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Eb.set(i,e),e)}class k_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k_.type="NONE";const wb=k_;function Ah(i,e,n){return`firebase:${i}:${e}:${n}`}class jl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?ws._fromGetAccountInfoResponse(this.auth,n,e):null}return ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new jl(Si(wb),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Si(wb);const f=Ah(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(f);if(x){let E;if(typeof x=="string"){const S=await zh(e,{idToken:x}).catch(()=>{});if(!S)break;E=await ws._fromGetAccountInfoResponse(e,S,x)}else E=ws._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new jl(c,e,a):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new jl(c,e,a))}}function Tb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U_(e))return"Blackberry";if(z_(e))return"Webos";if(O_(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if(P_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function M_(i=En()){return/firefox\//i.test(i)}function O_(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(i=En()){return/crios\//i.test(i)}function L_(i=En()){return/iemobile/i.test(i)}function P_(i=En()){return/android/i.test(i)}function U_(i=En()){return/blackberry/i.test(i)}function z_(i=En()){return/webos/i.test(i)}function Vp(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function bA(i=En()){return Vp(i)&&!!window.navigator?.standalone}function xA(){return M2()&&document.documentMode===10}function B_(i=En()){return Vp(i)||P_(i)||z_(i)||U_(i)||/windows phone/i.test(i)||L_(i)}function q_(i,e=[]){let n;switch(i){case"Browser":n=Tb(En());break;case"Worker":n=`${Tb(En())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${a}`}class _A{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function EA(i,e={}){return Pa(i,"GET","/v2/passwordPolicy",La(i,e))}const wA=6;class TA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class SA{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new _A(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),a=await ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ls(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(Ri(this));const n=e?tn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EA(this),n=new TA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await vA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cr(i){return tn(i)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=q2(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NA(i){od=i}function H_(i){return od.loadJS(i)}function AA(){return od.recaptchaEnterpriseScript}function RA(){return od.gapiScript}function CA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class IA{constructor(){this.enterprise=new jA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DA="recaptcha-enterprise",F_="NO_RECAPTCHA";class kA{constructor(e){this.type=DA,this.auth=Cr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{uA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new cA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,f,p){const g=window.grecaptcha;xb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(F_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IA().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(p=>{if(!n&&xb(window.grecaptcha))l(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=AA();g.length!==0&&(g+=p),H_(g).then(()=>{l(p,c,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function Nb(i,e,n,a=!1,l=!1){const c=new kA(i);let f;if(l)f=F_;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function np(i,e,n,a,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Nb(i,e,n,n==="getOobCode");return a(i,c)}else return a(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Nb(i,e,n,n==="getOobCode");return a(i,f)}else return Promise.reject(c)})}function MA(i,e){const n=Dp(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(xr(c,e??{}))return l;Ns(l,"already-initialized")}return n.initialize({options:e})}function OA(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Si);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function VA(i,e,n){const a=Cr(i);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=G_(e),{host:f,port:p}=LA(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},x=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(xr(y,a.config.emulator)&&xr(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,$l(f)?(v_(`${c}//${f}${g}`),b_("Auth",!0)):PA()}function G_(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function LA(i){const e=G_(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Ab(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:Ab(f)}}}function Ab(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function PA(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function UA(i,e){return Pa(i,"POST","/v1/accounts:signUp",e)}async function zA(i,e){return kc(i,"POST","/v1/accounts:signInWithPassword",La(i,e))}async function BA(i,e){return kc(i,"POST","/v1/accounts:signInWithEmailLink",La(i,e))}async function qA(i,e){return kc(i,"POST","/v1/accounts:signInWithEmailLink",La(i,e))}class xc extends Lp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new xc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signInWithPassword",zA);case"emailLink":return BA(e,{email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,a,"signUpPassword",UA);case"emailLink":return qA(e,{idToken:n,email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dl(i,e){return kc(i,"POST","/v1/accounts:signInWithIdp",La(i,e))}const HA="http://localhost";class Er extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=n;if(!a||!l)return null;const f=new Er(a,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Dl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:HA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}function FA(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GA(i){const e=ic(ac(i)).link,n=e?ic(ac(e)).deep_link_id:null,a=ic(ac(i)).deep_link_id;return(a?ic(ac(a)).link:null)||a||n||e||i}class Pp{constructor(e){const n=ic(ac(e)),a=n.apiKey??null,l=n.oobCode??null,c=FA(n.mode??null);Ce(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GA(e);try{return new Pp(n)}catch{return null}}}class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Pp.parseLink(n);return Ce(a,"argument-error"),xc._fromEmailAndCode(e,a.code,a.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mc extends $_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends Mc{constructor(){super("facebook.com")}static credential(e){return Er._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";class va extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Er._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return va.credential(n,a)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";class ba extends Mc{constructor(){super("github.com")}static credential(e){return Er._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";class xa extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Er._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return xa.credential(n,a)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";async function $A(i,e){return kc(i,"POST","/v1/accounts:signUp",La(i,e))}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await ws._fromIdTokenResponse(e,a,l),f=Rb(a);return new wr({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=Rb(a);return new wr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function Rb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class qh extends Li{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new qh(e,n,a,l)}}function Y_(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(i,c,e,a):c})}async function YA(i,e,n=!1){const a=await bc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return wr._forOperation(i,"link",a)}async function KA(i,e,n=!1){const{auth:a}=i;if(ls(a.app))return Promise.reject(Ri(a));const l="reauthenticate";try{const c=await bc(i,Y_(a,l,e,i),n);Ce(c.idToken,a,"internal-error");const f=Op(c.idToken);Ce(f,a,"internal-error");const{sub:p}=f;return Ce(i.uid===p,a,"user-mismatch"),wr._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ns(a,"user-mismatch"),c}}async function K_(i,e,n=!1){if(ls(i.app))return Promise.reject(Ri(i));const a="signIn",l=await Y_(i,a,e),c=await wr._fromIdTokenResponse(i,a,l);return n||await i._updateCurrentUser(c.user),c}async function QA(i,e){return K_(Cr(i),e)}async function Q_(i){const e=Cr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XA(i,e,n){if(ls(i.app))return Promise.reject(Ri(i));const a=Cr(i),f=await np(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$A).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Q_(i),g}),p=await wr._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(p.user),p}function X_(i,e,n){return ls(i.app)?Promise.reject(Ri(i)):QA(tn(i),Kl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Q_(i),a})}function WA(i,e,n,a){return tn(i).onIdTokenChanged(e,n,a)}function JA(i,e,n){return tn(i).beforeAuthStateChanged(e,n)}function ZA(i,e,n,a){return tn(i).onAuthStateChanged(e,n,a)}function eR(i){return tn(i).signOut()}const Hh="__sak";class W_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tR=1e3,nR=10;class J_ extends W_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);xA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,nR):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const sR=J_;class Z_ extends W_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z_.type="SESSION";const e1=Z_;function iR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new cd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await iR(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];function Up(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class aR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=Up("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Js(){return window}function rR(i){Js().location.href=i}function t1(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function lR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){return navigator?.serviceWorker?.controller||null}function cR(){return t1()?self:null}const n1="firebaseLocalStorageDb",uR=1,Fh="firebaseLocalStorage",s1="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(i,e){return i.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function hR(){const i=indexedDB.deleteDatabase(n1);return new Oc(i).toPromise()}function sp(){const i=indexedDB.open(n1,uR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Fh,{keyPath:s1})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Fh)?e(a):(a.close(),await hR(),e(await sp()))})})}async function Cb(i,e,n){const a=ud(i,!0).put({[s1]:e,value:n});return new Oc(a).toPromise()}async function dR(i,e){const n=ud(i,!1).get(e),a=await new Oc(n).toPromise();return a===void 0?null:a.value}function Ib(i,e){const n=ud(i,!0).delete(e);return new Oc(n).toPromise()}const fR=800,mR=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>mR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(cR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lR(),!this.activeServiceWorker)return;this.sender=new aR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await Cb(e,Hh,"1"),await Ib(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Cb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>dR(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ud(l,!1).getAll();return new Oc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const pR=i1;new Dc(3e4,6e4);function gR(i,e){return e?Si(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yR(i){return K_(i.auth,new zp(i),i.bypassAuthState)}function vR(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),KA(n,new zp(i),i.bypassAuthState)}async function bR(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),YA(n,new zp(i),i.bypassAuthState)}class a1{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return bR;case"reauthViaPopup":case"reauthViaRedirect":return vR;default:Ns(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xR=new Dc(2e3,1e4);class Rl extends a1{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xR.get())};e()}}Rl.currentPopupAction=null;const _R="pendingRedirect",Rh=new Map;class ER extends a1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const a=await wR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wR(i,e){const n=NR(e),a=SR(i);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function TR(i,e){Rh.set(i._key(),e)}function SR(i){return Si(i._redirectPersistence)}function NR(i){return Ah(_R,i.config.apiKey,i.name)}async function AR(i,e,n=!1){if(ls(i.app))return Promise.reject(Ri(i));const a=Cr(i),l=gR(a,e),f=await new ER(a,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const RR=600*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!r1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ws(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function r1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function IR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(i);default:return!1}}async function jR(i,e={}){return Pa(i,"GET","/v1/projects",e)}const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kR=/^https?/;async function MR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await jR(i);for(const n of e)try{if(OR(n))return}catch{}Ns(i,"unauthorized-domain")}function OR(i){const e=ep(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!kR.test(n))return!1;if(DR.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const VR=new Dc(3e4,6e4);function Db(){const i=Js().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function LR(i){return new Promise((e,n)=>{function a(){Db(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Db(),n(Ws(i,"network-request-failed"))},timeout:VR.get()})}if(Js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Js().gapi?.load)a();else{const l=CA("iframefcb");return Js()[l]=()=>{gapi.load?a():n(Ws(i,"network-request-failed"))},H_(`${RA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function PR(i){return Ch=Ch||LR(i),Ch}const UR=new Dc(5e3,15e3),zR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Mp(e,BR):`https://${i.config.authDomain}/${zR}`,a={apiKey:e.apiKey,appName:i.name,v:Yl},l=HR.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${jc(a).slice(1)}`}async function GR(i){const e=await PR(i),n=Js().gapi;return Ce(n,i,"internal-error"),e.open({where:document.body,url:FR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const f=Ws(i,"network-request-failed"),p=Js().setTimeout(()=>{c(f)},UR.get());function g(){Js().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{c(f)})}))}const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YR=500,KR=600,QR="_blank",XR="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WR(i,e,n,a=YR,l=KR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...$R,width:a.toString(),height:l.toString(),top:c,left:f},y=En().toLowerCase();n&&(p=V_(y)?QR:n),M_(y)&&(e=e||XR,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[I,Y])=>`${S}${I}=${Y},`,"");if(bA(y)&&p!=="_self")return JR(e||"",p),new kb(null);const E=window.open(e||"",p,x);Ce(E,i,"popup-blocked");try{E.focus()}catch{}return new kb(E)}function JR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const ZR="__/auth/handler",eC="emulator/auth/handler",tC=encodeURIComponent("fac");async function Mb(i,e,n,a,l,c){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Yl,eventId:l};if(e instanceof $_){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",B2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))f[x]=E}if(e instanceof Mc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(f.scopes=x.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await i._getAppCheckToken(),y=g?`#${tC}=${encodeURIComponent(g)}`:"";return`${nC(i)}?${jc(p).slice(1)}${y}`}function nC({config:i}){return i.emulator?Mp(i,eC):`https://${i.authDomain}/${ZR}`}const Um="webStorageSupport";class sC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=AR,this._overrideRedirectResult=TR}async _openPopup(e,n,a,l){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mb(e,n,a,ep(),l);return WR(e,c,Up())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await Mb(e,n,a,ep(),l);return rR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ji(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await GR(e),a=new CR(e);return n.register("authEvent",l=>(Ce(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},l=>{const c=l?.[0]?.[Um];c!==void 0&&n(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B_()||O_()||Vp()}}const iC=sC;var Ob="@firebase/auth",Vb="1.12.0";class aC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(i){Ol(new _r("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=a.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q_(i)},y=new SA(a,l,c,g);return OA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Ol(new _r("auth-internal",e=>{const n=Cr(e.getProvider("auth").getImmediate());return(a=>new aC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sa(Ob,Vb,rC(i)),Sa(Ob,Vb,"esm2020")}const oC=300,cC=y_("authIdTokenMaxAge")||oC;let Lb=null;const uC=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>cC)return;const l=n?.token;Lb!==l&&(Lb=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hC(i=w_()){const e=Dp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=MA(i,{popupRedirectResolver:iC,persistence:[pR,sR,e1]}),a=y_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=uC(c.toString());JA(n,f,()=>f(n.currentUser)),WA(n,p=>f(p))}}const l=p_("auth");return l&&VA(n,`http://${l}`),n}function dC(){return document.getElementsByTagName("head")?.[0]??document}NA({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=Ws("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",dC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");var fC="firebase",mC="12.8.0";Sa(fC,mC,"app");var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Na,l1;(function(){var i;function e(A,N){function R(){}R.prototype=N.prototype,A.F=N.prototype,A.prototype=new R,A.prototype.constructor=A,A.D=function(O,k,P){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return N.prototype[k].apply(O,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,N,R){R||(R=0);const O=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)O[k]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(k=0;k<16;++k)O[k]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=A.g[0],R=A.g[1],k=A.g[2];let P=A.g[3],C;C=N+(P^R&(k^P))+O[0]+3614090360&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+O[1]+3905402710&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+O[2]+606105819&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+O[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+O[4]+4118548399&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+O[5]+1200080426&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+O[6]+2821735955&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+O[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+O[8]+1770035416&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+O[9]+2336552879&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+O[10]+4294925233&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+O[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+O[12]+1804603682&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+O[13]+4254626195&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+O[14]+2792965006&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+O[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(k^P&(R^k))+O[1]+4129170786&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+O[6]+3225465664&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+O[11]+643717713&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+O[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+O[5]+3593408605&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+O[10]+38016083&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+O[15]+3634488961&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+O[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+O[9]+568446438&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+O[14]+3275163606&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+O[3]+4107603335&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+O[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+O[13]+2850285829&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+O[2]+4243563512&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+O[7]+1735328473&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+O[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(R^k^P)+O[5]+4294588738&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+O[8]+2272392833&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+O[11]+1839030562&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+O[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+O[1]+2763975236&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+O[4]+1272893353&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+O[7]+4139469664&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+O[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+O[13]+681279174&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+O[0]+3936430074&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+O[3]+3572445317&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+O[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+O[9]+3654602809&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+O[12]+3873151461&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+O[15]+530742520&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+O[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(k^(R|~P))+O[0]+4096336452&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+O[7]+1126891415&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+O[14]+2878612391&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+O[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+O[12]+1700485571&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+O[3]+2399980690&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+O[10]+4293915773&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+O[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+O[8]+1873313359&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+O[15]+4264355552&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+O[6]+2734768916&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+O[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+O[4]+4149444226&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+O[11]+3174756917&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+O[2]+718787259&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+P&4294967295}a.prototype.v=function(A,N){N===void 0&&(N=A.length);const R=N-this.blockSize,O=this.C;let k=this.h,P=0;for(;P<N;){if(k==0)for(;P<=R;)l(this,A,P),P+=this.blockSize;if(typeof A=="string"){for(;P<N;)if(O[k++]=A.charCodeAt(P++),k==this.blockSize){l(this,O),k=0;break}}else for(;P<N;)if(O[k++]=A[P++],k==this.blockSize){l(this,O),k=0;break}}this.h=k,this.o+=N},a.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;N=this.o*8;for(var R=A.length-8;R<A.length;++R)A[R]=N&255,N/=256;for(this.v(A),A=Array(16),N=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)A[N++]=this.g[R]>>>O&255;return A};function c(A,N){var R=p;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=N(A)}function f(A,N){this.h=N;const R=[];let O=!0;for(let k=A.length-1;k>=0;k--){const P=A[k]|0;O&&P==N||(R[k]=P,O=!1)}this.g=R}var p={};function g(A){return-128<=A&&A<128?c(A,function(N){return new f([N|0],N<0?-1:0)}):new f([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return L(y(-A));const N=[];let R=1;for(let O=0;A>=R;O++)N[O]=A/R|0,R*=4294967296;return new f(N,0)}function x(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return L(x(A.substring(1),N));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(N,8));let O=E;for(let P=0;P<A.length;P+=8){var k=Math.min(8,A.length-P);const C=parseInt(A.substring(P,P+k),N);k<8?(k=y(Math.pow(N,k)),O=O.j(k).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var E=g(0),S=g(1),I=g(16777216);i=f.prototype,i.m=function(){if(B(this))return-L(this).m();let A=0,N=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);A+=(O>=0?O:4294967296+O)*N,N*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(Y(this))return"0";if(B(this))return"-"+L(this).toString(A);const N=y(Math.pow(A,6));var R=this;let O="";for(;;){const k=le(R,N).g;R=z(R,k.j(N));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(A);if(R=k,Y(R))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function Y(A){if(A.h!=0)return!1;for(let N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function B(A){return A.h==-1}i.l=function(A){return A=z(this,A),B(A)?-1:Y(A)?0:1};function L(A){const N=A.g.length,R=[];for(let O=0;O<N;O++)R[O]=~A.g[O];return new f(R,~A.h).add(S)}i.abs=function(){return B(this)?L(this):this},i.add=function(A){const N=Math.max(this.g.length,A.g.length),R=[];let O=0;for(let k=0;k<=N;k++){let P=O+(this.i(k)&65535)+(A.i(k)&65535),C=(P>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);O=C>>>16,P&=65535,C&=65535,R[k]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function z(A,N){return A.add(L(N))}i.j=function(A){if(Y(this)||Y(A))return E;if(B(this))return B(A)?L(this).j(L(A)):L(L(this).j(A));if(B(A))return L(this.j(L(A)));if(this.l(I)<0&&A.l(I)<0)return y(this.m()*A.m());const N=this.g.length+A.g.length,R=[];for(var O=0;O<2*N;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let k=0;k<A.g.length;k++){const P=this.i(O)>>>16,C=this.i(O)&65535,De=A.i(k)>>>16,Ge=A.i(k)&65535;R[2*O+2*k]+=C*Ge,U(R,2*O+2*k),R[2*O+2*k+1]+=P*Ge,U(R,2*O+2*k+1),R[2*O+2*k+1]+=C*De,U(R,2*O+2*k+1),R[2*O+2*k+2]+=P*De,U(R,2*O+2*k+2)}for(A=0;A<N;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=N;A<2*N;A++)R[A]=0;return new f(R,0)};function U(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function Q(A,N){this.g=A,this.h=N}function le(A,N){if(Y(N))throw Error("division by zero");if(Y(A))return new Q(E,E);if(B(A))return N=le(L(A),N),new Q(L(N.g),L(N.h));if(B(N))return N=le(A,L(N)),new Q(L(N.g),N.h);if(A.g.length>30){if(B(A)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=N;O.l(A)<=0;)R=ue(R),O=ue(O);var k=me(R,1),P=me(O,1);for(O=me(O,2),R=me(R,2);!Y(O);){var C=P.add(O);C.l(A)<=0&&(k=k.add(R),P=C),O=me(O,1),R=me(R,1)}return N=z(A,k.j(N)),new Q(k,N)}for(k=E;A.l(N)>=0;){for(R=Math.max(1,Math.floor(A.m()/N.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=y(R),C=P.j(N);B(C)||C.l(A)>0;)R-=O,P=y(R),C=P.j(N);Y(P)&&(P=S),k=k.add(P),A=z(A,C)}return new Q(k,A)}i.B=function(A){return le(this,A).h},i.and=function(A){const N=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<N;O++)R[O]=this.i(O)&A.i(O);return new f(R,this.h&A.h)},i.or=function(A){const N=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<N;O++)R[O]=this.i(O)|A.i(O);return new f(R,this.h|A.h)},i.xor=function(A){const N=Math.max(this.g.length,A.g.length),R=[];for(let O=0;O<N;O++)R[O]=this.i(O)^A.i(O);return new f(R,this.h^A.h)};function ue(A){const N=A.g.length+1,R=[];for(let O=0;O<N;O++)R[O]=A.i(O)<<1|A.i(O-1)>>>31;return new f(R,A.h)}function me(A,N){const R=N>>5;N%=32;const O=A.g.length-R,k=[];for(let P=0;P<O;P++)k[P]=N>0?A.i(P+R)>>>N|A.i(P+R+1)<<32-N:A.i(P+R);return new f(k,A.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,l1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=x,Na=f}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o1,rc,c1,Ih,ip,u1,h1,d1;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function l(u,v){if(v)e:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in _))break e;_=_[F]}u=u[u.length-1],T=_[u],v=v(T),v!=T&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(v){var _=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&_.push([T,v[T]]);return _}});var c=c||{},f=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,_){return u.call.apply(u.bind,arguments)}function y(u,v,_){return y=g,y.apply(null,arguments)}function x(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,v){function _(){}_.prototype=v.prototype,u.Z=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,F,X){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return v.prototype[F].apply(T,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function I(u){const v=u.length;if(v>0){const _=Array(v);for(let T=0;T<v;T++)_[T]=u[T];return _}return[]}function Y(u,v){for(let T=1;T<arguments.length;T++){const F=arguments[T];var _=typeof F;if(_=_!="object"?_:F?Array.isArray(F)?"array":_:"null",_=="array"||_=="object"&&typeof F.length=="number"){_=u.length||0;const X=F.length||0;u.length=_+X;for(let de=0;de<X;de++)u[_+de]=F[de]}else u.push(F)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(u){f.setTimeout(()=>{throw u},0)}function z(){var u=A;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,_){const T=Q.get();T.set(v,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Q=new B(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,A=new U,N=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(R)}};function R(){for(var u;u=z();){try{u.h.call(u.g)}catch(_){L(_)}var v=Q;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,v),f.removeEventListener("test",_,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function De(u,v){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(De,k),De.prototype.init=function(u,v){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(_=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(u,v,_,T,F){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!T,this.ha=F,this.key=++W,this.da=this.fa=!1}function be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,v,_){for(const T in u)v.call(_,u[T],T,u)}function Fe(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function M(u){const v={};for(const _ in u)v[_]=u[_];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(u,v){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)u[_]=T[_];for(let X=0;X<Z.length;X++)_=Z[X],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,v,_,T,F){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const de=Ne(u,v,T,F);return de>-1?(v=u[de],_||(v.fa=!1)):(v=new ae(v,this.src,X,!!T,F),v.fa=_,u.push(v)),v};function Se(u,v){const _=v.type;if(_ in u.g){var T=u.g[_],F=Array.prototype.indexOf.call(T,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(T,F,1),X&&(be(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ne(u,v,_,T){for(let F=0;F<u.length;++F){const X=u[F];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==T)return F}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),pt={};function $e(u,v,_,T,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)$e(u,v[X],_,T,F);return null}return _=oe(_),u&&u[Ge]?u.J(v,_,p(T)?!!T.capture:!1,F):on(u,v,_,!1,T,F)}function on(u,v,_,T,F,X){if(!v)throw Error("Invalid event type");const de=p(F)?!!F.capture:!!F;let ze=Ye(u);if(ze||(u[Ue]=ze=new fe(u)),_=ze.add(v,_,T,de,X),_.proxy)return _;if(T=Jt(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)P||(F=de),F===void 0&&(F=!1),u.addEventListener(v.toString(),T,F);else if(u.attachEvent)u.attachEvent(ce(v.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jt(){function u(_){return v.call(u.src,u.listener,_)}const v=Re;return u}function wn(u,v,_,T,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)wn(u,v[X],_,T,F);else T=p(T)?!!T.capture:!!T,_=oe(_),u&&u[Ge]?(u=u.i,X=String(v).toString(),X in u.g&&(v=u.g[X],_=Ne(v,_,T,F),_>-1&&(be(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete u.g[X],u.h--)))):u&&(u=Ye(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ne(v,_,T,F)),(_=u>-1?v[u]:null)&&H(_))}function H(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ge])Se(v.i,u);else{var _=u.type,T=u.proxy;v.removeEventListener?v.removeEventListener(_,T,u.capture):v.detachEvent?v.detachEvent(ce(_),T):v.addListener&&v.removeListener&&v.removeListener(T),(_=Ye(v))?(Se(_,u),_.h==0&&(_.src=null,v[Ue]=null)):be(u)}}}function ce(u){return u in pt?pt[u]:pt[u]="on"+u}function Re(u,v){if(u.da)u=!0;else{v=new De(v,this);const _=u.listener,T=u.ha||u.src;u.fa&&H(u),u=_.call(T,v)}return u}function Ye(u){return u=u[Ue],u instanceof fe?u:null}var Xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function oe(u){return typeof u=="function"?u:(u[Xe]||(u[Xe]=function(v){return u.handleEvent(v)}),u[Xe])}function ye(){O.call(this),this.i=new fe(this),this.M=this,this.G=null}E(ye,O),ye.prototype[Ge]=!0,ye.prototype.removeEventListener=function(u,v,_,T){wn(this,u,v,_,T)};function Me(u,v){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=v.type||v,typeof v=="string")v=new k(v,u);else if(v instanceof k)v.target=v.target||u;else{var F=v;v=new k(T,u),he(v,F)}F=!0;let X,de;if(_)for(de=_.length-1;de>=0;de--)X=v.g=_[de],F=re(X,T,!0,v)&&F;if(X=v.g=u,F=re(X,T,!0,v)&&F,F=re(X,T,!1,v)&&F,_)for(de=0;de<_.length;de++)X=v.g=_[de],F=re(X,T,!1,v)&&F}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const _=u.g[v];for(let T=0;T<_.length;T++)be(_[T]);delete u.g[v],u.h--}}this.G=null},ye.prototype.J=function(u,v,_,T){return this.i.add(String(u),v,!1,_,T)},ye.prototype.K=function(u,v,_,T){return this.i.add(String(u),v,!0,_,T)};function re(u,v,_,T){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const de=v[X];if(de&&!de.da&&de.capture==_){const ze=de.listener,Mt=de.ha||de.src;de.fa&&Se(u.i,de),F=ze.call(Mt,T)!==!1&&F}}return F&&!T.defaultPrevented}function Ee(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function _e(u){u.g=Ee(()=>{u.g=null,u.i&&(u.i=!1,_e(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ve extends O{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(u){O.call(this),this.h=u,this.g={}}E(qe,O);var ot=[];function Et(u){je(u.g,function(v,_){this.g.hasOwnProperty(_)&&H(v)},u),u.g={}}qe.prototype.N=function(){qe.Z.N.call(this),Et(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=f.JSON.stringify,kr=f.JSON.parse,Pi=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Mr(){}function Or(){}var us={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){k.call(this,"d")}E(cn,k);function Kn(){k.call(this,"c")}E(Kn,k);var kt={},Fc=null;function Vr(){return Fc=Fc||new ye}kt.Ia="serverreachability";function Gc(u){k.call(this,kt.Ia,u)}E(Gc,k);function Cs(u){const v=Vr();Me(v,new Gc(v))}kt.STAT_EVENT="statevent";function Ba(u,v){k.call(this,kt.STAT_EVENT,u),this.stat=v}E(Ba,k);function Ut(u){const v=Vr();Me(v,new Ba(v,u))}kt.Ja="timingevent";function Is(u,v){k.call(this,kt.Ja,u),this.size=v}E(Is,k);function js(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function hs(){this.g=!0}hs.prototype.ua=function(){this.g=!1};function Ad(u,v,_,T,F,X){u.info(function(){if(u.g)if(X){var de="",ze=X.split("&");for(let ct=0;ct<ze.length;ct++){var Mt=ze[ct].split("=");if(Mt.length>1){const At=Mt[0];Mt=Mt[1];const Jn=At.split("_");de=Jn.length>=2&&Jn[1]=="type"?de+(At+"="+Mt+"&"):de+(At+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+v+`
`+_+`
`+de})}function $c(u,v,_,T,F,X,de){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+v+`
`+_+`
`+X+" "+de})}function Ds(u,v,_,T){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rd(u,_)+(T?" "+T:"")})}function qa(u,v){u.info(function(){return"TIMEOUT: "+v})}hs.prototype.info=function(){};function Rd(u,v){if(!u.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var _=X[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var F=T[0];if(F!="noop"&&F!="stop"&&F!="close")for(let de=1;de<T.length;de++)T[de]=""}}}}return Pt(X)}catch{return v}}var Ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},to;function Fa(){}E(Fa,Mr),Fa.prototype.g=function(){return new XMLHttpRequest},to=new Fa;function ii(u){return encodeURIComponent(String(u))}function Yc(u){var v=1;u=u.split(":");const _=[];for(;v>0&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function ds(u,v,_,T){this.j=u,this.i=v,this.l=_,this.S=T||1,this.V=new qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}var zt={},nn={};function ks(u,v,_){u.M=1,u.A=Ga(qt(v)),u.u=_,u.R=!0,Lr(u,null)}function Lr(u,v){u.F=Date.now(),Ms(u),u.B=qt(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Br(_.i,"t",T),u.C=0,_=u.j.L,u.h=new fs,u.g=ou(u.j,_?v:null,!u.u),u.P>0&&(u.O=new Ve(y(u.Y,u,u.g),u.P)),v=u.V,_=u.g,T=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(ot[0]=F.toString()),F=ot);for(let X=0;X<F.length;X++){const de=$e(_,F[X],T||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Cs(),Ad(u.i,u.v,u.B,u.l,u.S,u.u)}ds.prototype.ba=function(u){u=u.target;const v=this.O;v&&gs(u)==3?v.j():this.Y(u)},ds.prototype.Y=function(u){try{if(u==this.g)e:{const ze=gs(this.g),Mt=this.g.ya(),ct=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||ze!=4||Mt==7||(Mt==8||ct<=0?Cs(3):Cs(2)),Os(this);var v=this.g.ca();this.X=v;var _=Cd(this);if(this.o=v==200,$c(this.i,this.v,this.B,this.l,this.S,ze,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var X=T;break t}}X=null}if(u=X)Ds(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vs(this,u);else{this.o=!1,this.m=3,Ut(12),On(this),Qn(this);break e}}if(this.R){u=!0;let At;for(;!this.K&&this.C<_.length;)if(At=Qc(this,_),At==nn){ze==4&&(this.m=4,Ut(14),u=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(At==zt){this.m=4,Ut(15),Ds(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ds(this.i,this.l,At,null),Vs(this,At);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||_.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)Ds(this.i,this.l,_,"[Invalid Chunked Response]"),On(this),Qn(this);else if(_.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yo(de),de.P=!0,Ut(11))}}else Ds(this.i,this.l,_,null),Vs(this,_);ze==4&&On(this),this.o&&!this.K&&(ze==4?iu(this.j,this):(this.o=!1,Ms(this)))}else ri(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),On(this),Qn(this)}}}catch{}};function Cd(u){if(!Kc(u))return u.g.la();const v=un(u.g);if(v==="")return"";let _="";const T=v.length,F=gs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Qn(u),"";u.h.i=new f.TextDecoder}for(let X=0;X<T;X++)u.h.h=!0,_+=u.h.i.decode(v[X],{stream:!(F&&X==T-1)});return v.length=0,u.h.g+=_,u.C=0,u.h.g}function Kc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qc(u,v){var _=u.C,T=v.indexOf(`
`,_);return T==-1?nn:(_=Number(v.substring(_,T)),isNaN(_)?zt:(T+=1,T+_>v.length?nn:(v=v.slice(T,T+_),u.C=T+_,v)))}ds.prototype.cancel=function(){this.K=!0,On(this)};function Ms(u){u.T=Date.now()+u.H,Pr(u,u.H)}function Pr(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=js(y(u.aa,u),v)}function Os(u){u.D&&(f.clearTimeout(u.D),u.D=null)}ds.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(qa(this.i,this.B),this.M!=2&&(Cs(),Ut(17)),On(this),this.m=2,Qn(this)):Pr(this,this.T-u)};function Qn(u){u.j.I==0||u.K||iu(u.j,u)}function On(u){Os(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Et(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Vs(u,v){try{var _=u.j;if(_.I!=0&&(_.g==u||Ps(_.h,u))){if(!u.L&&Ps(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)$r(_),$i(_);else break e;Ja(_),Ut(18)}}else _.xa=F[1],0<_.xa-_.K&&F[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=js(y(_.Va,_),6e3));Ls(_.h)<=1&&_.ta&&(_.ta=void 0)}else Fs(_,11)}else if((u.L||_.g==u)&&$r(_),!C(v))for(F=_.Ba.g.parse(v),v=0;v<F.length;v++){let ct=F[v];const At=ct[0];if(!(At<=_.K))if(_.K=At,ct=ct[1],_.I==2)if(ct[0]=="c"){_.M=ct[1],_.ba=ct[2];const Jn=ct[3];Jn!=null&&(_.ka=Jn,_.j.info("VER="+_.ka));const Gs=ct[4];Gs!=null&&(_.za=Gs,_.j.info("SVER="+_.za));const ys=ct[5];ys!=null&&typeof ys=="number"&&ys>0&&(T=1.5*ys,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const vs=u.g;if(vs){const Za=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var X=T.h;X.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(io(X,X.h),X.h=null))}if(T.G){const Yr=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Yr&&(T.wa=Yr,dt(T.J,T.G,Yr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var de=u;if(T.na=lu(T,T.L?T.ba:null,T.W),de.L){ao(T.h,de);var ze=de,Mt=T.O;Mt&&(ze.H=Mt),ze.D&&(Os(ze),Ms(ze)),T.g=de}else nu(T);_.i.length>0&&Hs(_)}else ct[0]!="stop"&&ct[0]!="close"||Fs(_,7);else _.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Fs(_,7):po(_):ct[0]!="noop"&&_.l&&_.l.qa(ct),_.A=0)}}Cs(4)}catch{}}var Bt=class{constructor(u,v){this.g=u,this.map=v}};function no(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ls(u){return u.h?1:u.g?u.g.size:0}function Ps(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function io(u,v){u.g?u.g.add(v):u.h=v}function ao(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}no.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.G);return v}return I(u.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(u,v){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let F,X=null;T>=0?(F=u[_].substring(0,T),X=u[_].substring(T+1)):F=u[_],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Vn?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Ui(this,u.u),this.h=u.h,lo(this,eu(u.i)),this.m=u.m):u&&(v=String(u).match(Xc))?(this.l=!1,sn(this,v[1]||"",!0),this.o=Us(v[2]||""),this.g=Us(v[3]||"",!0),Ui(this,v[4]),this.h=Us(v[5]||"",!0),lo(this,v[6]||"",!0),this.m=Us(v[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Vn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push($a(v,zr,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push($a(v,zr,!0),"@"),u.push(ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($a(_,_.charAt(0)=="/"?oo:Wc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$a(_,Jc)),u.join("")},Vn.prototype.resolve=function(u){const v=qt(this);let _=!!u.j;_?sn(v,u.j):_=!!u.o,_?v.o=u.o:_=!!u.g,_?v.g=u.g:_=u.u!=null;var T=u.h;if(_)Ui(v,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var F=v.h.lastIndexOf("/");F!=-1&&(T=v.h.slice(0,F+1)+T)}if(F=T,F==".."||F==".")T="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){T=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let de=0;de<F.length;){const ze=F[de++];ze=="."?T&&de==F.length&&X.push(""):ze==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),T&&de==F.length&&X.push("")):(X.push(ze),T=!0)}T=X.join("/")}else T=F}return _?v.h=T:_=u.i.toString()!=="",_?lo(v,eu(u.i)):_=!!u.m,_&&(v.m=u.m),v};function qt(u){return new Vn(u)}function sn(u,v,_){u.j=_?Us(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ui(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function lo(u,v,_){v instanceof Bi?(u.i=v,qr(u.i,u.l)):(_||(v=$a(v,zi)),u.i=new Bi(v,u.l))}function dt(u,v,_){u.i.set(v,_)}function Ga(u){return dt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Us(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $a(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,Nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zr=/[#\/\?@]/g,Wc=/[#\?:]/g,oo=/[#\?]/g,zi=/[#\?@]/g,Jc=/#/g;function Bi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ur(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Bi.prototype,i.add=function(u,v){An(this),this.i=null,u=qi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Zc(u,v){An(u),v=qi(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function co(u,v){return An(u),v=qi(u,v),u.g.has(v)}i.forEach=function(u,v){An(this),this.g.forEach(function(_,T){_.forEach(function(F){u.call(v,F,T,this)},this)},this)};function uo(u,v){An(u);let _=[];if(typeof v=="string")co(u,v)&&(_=_.concat(u.g.get(qi(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)_=_.concat(u[v]);return _}i.set=function(u,v){return An(this),this.i=null,u=qi(this,u),co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=uo(this,u),u.length>0?String(u[0]):v):v};function Br(u,v,_){Zc(u,v),_.length>0&&(u.i=null,u.g.set(qi(u,v),I(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var _=v[T];const F=ii(_);_=uo(this,_);for(let X=0;X<_.length;X++){let de=F;_[X]!==""&&(de+="="+ii(_[X])),u.push(de)}}return this.i=u.join("&")};function eu(u){const v=new Bi;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function qi(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function qr(u,v){v&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,T){const F=T.toLowerCase();T!=F&&(Zc(this,T),Br(this,F,_))},u)),u.j=v}function ms(u,v){const _=new hs;if(f.Image){const T=new Image;T.onload=x(Xn,_,"TestLoadImage: loaded",!0,v,T),T.onerror=x(Xn,_,"TestLoadImage: error",!1,v,T),T.onabort=x(Xn,_,"TestLoadImage: abort",!1,v,T),T.ontimeout=x(Xn,_,"TestLoadImage: timeout",!1,v,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else v(!1)}function ho(u,v){const _=new hs,T=new AbortController,F=setTimeout(()=>{T.abort(),Xn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:T.signal}).then(X=>{clearTimeout(F),X.ok?Xn(_,"TestPingServer: ok",!0,v):Xn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Xn(_,"TestPingServer: error",!1,v)})}function Xn(u,v,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function Hi(){this.g=new Pi}function zs(u){this.i=u.Sb||null,this.h=u.ab||!1}E(zs,Mr),zs.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(u,v){ye.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ya,ye),i=Ya.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ps(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Fi(this):ps(this),this.readyState==3&&Hr(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Fi(this))},i.Na=function(u){this.g&&(this.response=u,Fi(this))},i.ga=function(){this.g&&Fi(this)};function Fi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ps(u)}i.setRequestHeader=function(u,v){this.A.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function ps(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let v="";return je(u,function(_,T){v+=T,v+=":",v+=_,v+=`\r
`}),v}function Ka(u,v,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Wn(_),typeof u=="string"?_!=null&&ii(_):dt(u,v,_))}function gt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(gt,ye);var Bs=/^https?$/i,fo=["POST","PUT"];i=gt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,v,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():to.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Qa(this,X);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())_.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(fo,v,void 0)>=0)||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of _)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Qa(this,X)}};function Qa(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,mo(u),ai(u)}function mo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),gt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Xa(this):this.Xa())},i.Xa=function(){Xa(this)};function Xa(u){if(u.h&&typeof c<"u"){if(u.v&&gs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),gs(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var T;if(T=X===0){let de=String(u.D).match(Xc)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),T=!Bs.test(de?de.toLowerCase():"")}_=T}if(_)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var F=gs(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",mo(u)}}finally{ai(u)}}}}function ai(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,v||Me(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function gs(u){return u.g?u.g.readyState:0}i.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),kr(v)}};function un(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ri(u){const v={};u=(u.g&&gs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=Yc(u[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[F]||[];v[F]=X,X.push(_)}Fe(v,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Gi(u){this.za=0,this.i=[],this.j=new hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qs("baseRetryDelayMs",5e3,u),this.Za=qs("retryDelaySeedMs",1e4,u),this.Ta=qs("forwardChannelMaxRetries",2,u),this.va=qs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new no(u&&u.concurrentRequestLimit),this.Ba=new Hi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Gi.prototype,i.ka=8,i.I=1,i.connect=function(u,v,_,T){Ut(0),this.W=u,this.H=v||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),Hs(this)};function po(u){if(Fr(u),u.I==3){var v=u.V++,_=qt(u.J);if(dt(_,"SID",u.M),dt(_,"RID",v),dt(_,"TYPE","terminate"),Wa(u,_),v=new ds(u,u.j,v),v.M=2,v.A=Ga(qt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=v.A,_=!0),_||(v.g=ou(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ms(v)}ru(u)}function $i(u){u.g&&(yo(u),u.g.cancel(),u.g=null)}function Fr(u){$i(u),u.v&&(f.clearTimeout(u.v),u.v=null),$r(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Hs(u){if(!so(u.h)&&!u.m){u.m=!0;var v=u.Ea;ue||N(),me||(ue(),me=!0),A.add(v,u),u.D=0}}function Gr(u,v){return Ls(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=js(y(u.Ea,u,v),au(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new ds(this,this.j,u);let X=this.o;if(this.U&&(X?(X=M(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=tu(this,F,v),_=qt(this.J),dt(_,"RID",u),dt(_,"CVER",22),this.G&&dt(_,"X-HTTP-Session-Id",this.G),Wa(this,_),X&&(this.R?v="headers="+ii(Wn(X))+"&"+v:this.u&&Ka(_,this.u,X)),io(this.h,F),this.Ra&&dt(_,"TYPE","init"),this.S?(dt(_,"$req",v),dt(_,"SID","null"),F.U=!0,ks(F,_,null)):ks(F,_,v),this.I=2}}else this.I==3&&(u?go(this,u):this.i.length==0||so(this.h)||go(this))};function go(u,v){var _;v?_=v.l:_=u.V++;const T=qt(u.J);dt(T,"SID",u.M),dt(T,"RID",_),dt(T,"AID",u.K),Wa(u,T),u.u&&u.o&&Ka(T,u.u,u.o),_=new ds(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),v&&(u.i=v.G.concat(u.i)),v=tu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),io(u.h,_),ks(_,T,v)}function Wa(u,v){u.H&&je(u.H,function(_,T){dt(v,T,_)}),u.l&&je({},function(_,T){dt(v,T,_)})}function tu(u,v,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var F=u.i;let ze=-1;for(;;){const Mt=["count="+_];ze==-1?_>0?(ze=F[0].g,Mt.push("ofs="+ze)):ze=0:Mt.push("ofs="+ze);let ct=!0;for(let At=0;At<_;At++){var X=F[At].g;const Jn=F[At].map;if(X-=ze,X<0)ze=Math.max(0,F[At].g-100),ct=!1;else try{X="req"+X+"_"||"";try{var de=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Gs,ys]of de){let vs=ys;p(ys)&&(vs=Pt(ys)),Mt.push(X+Gs+"="+encodeURIComponent(vs))}}catch(Gs){throw Mt.push(X+"type="+encodeURIComponent("_badmap")),Gs}}catch{T&&T(Jn)}}if(ct){de=Mt.join("&");break e}}de=void 0}return u=u.i.splice(0,_),v.G=u,de}function nu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ue||N(),me||(ue(),me=!0),A.add(v,u),u.A=0}}function Ja(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=js(y(u.Da,u),au(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=js(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),$i(this),su(this))};function yo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function su(u){u.g=new ds(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=qt(u.na);dt(v,"RID","rpc"),dt(v,"SID",u.M),dt(v,"AID",u.K),dt(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&dt(v,"TO",u.ia),dt(v,"TYPE","xmlhttp"),Wa(u,v),u.u&&u.o&&Ka(v,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ga(qt(v)),_.u=null,_.R=!0,Lr(_,u)}i.Va=function(){this.C!=null&&(this.C=null,$i(this),Ja(this),Ut(19))};function $r(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function iu(u,v){var _=null;if(u.g==v){$r(u),yo(u),u.g=null;var T=2}else if(Ps(u.h,v))_=v.G,ao(u.h,v),T=1;else return;if(u.I!=0){if(v.o)if(T==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var F=u.D;T=Vr(),Me(T,new Is(T,_)),Hs(u)}else nu(u);else if(F=v.m,F==3||F==0&&v.X>0||!(T==1&&Gr(u,v)||T==2&&Ja(u)))switch(_&&_.length>0&&(v=u.h,v.i=v.i.concat(_)),F){case 1:Fs(u,5);break;case 4:Fs(u,10);break;case 3:Fs(u,6);break;default:Fs(u,2)}}}function au(u,v){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*v}function Fs(u,v){if(u.j.info("Error code "+v),v==2){var _=y(u.bb,u),T=u.Ua;const F=!T;T=new Vn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||sn(T,"https"),Ga(T),F?ms(T.toString(),_):ho(T.toString(),_)}else Ut(2);u.I=0,u.l&&u.l.pa(v),ru(u),Fr(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function ru(u){if(u.I=0,u.ja=[],u.l){const v=ro(u.h);(v.length!=0||u.i.length!=0)&&(Y(u.ja,v),Y(u.ja,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.oa()}}function lu(u,v,_){var T=_ instanceof Vn?qt(_):new Vn(_);if(T.g!="")v&&(T.g=v+"."+T.g),Ui(T,T.u);else{var F=f.location;T=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new Vn(null);T&&sn(X,T),v&&(X.g=v),F&&Ui(X,F),_&&(X.h=_),T=X}return _=u.G,v=u.wa,_&&v&&dt(T,_,v),dt(T,"VER",u.ka),Wa(u,T),T}function ou(u,v,_){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new gt(new zs({ab:_})):new gt(u.ma),v.Fa(u.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}i=cu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Yi(){}Yi.prototype.g=function(u,v){return new Tn(u,v)};function Tn(u,v){ye.call(this),this.g=new Gi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new li(this)}E(Tn,ye),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){po(this.g)},Tn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Pt(u),u=_);v.i.push(new Bt(v.Ya++,u)),v.I==3&&Hs(v)},Tn.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,Tn.Z.N.call(this)};function uu(u){cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(uu,cn);function hu(){Kn.call(this),this.status=1}E(hu,Kn);function li(u){this.g=u}E(li,cu),li.prototype.ra=function(){Me(this.g,"a")},li.prototype.qa=function(u){Me(this.g,new uu(u))},li.prototype.pa=function(u){Me(this.g,new hu)},li.prototype.oa=function(){Me(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,d1=function(){return new Yi},h1=function(){return Vr()},u1=kt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,Ih=Ha,eo.COMPLETE="complete",c1=eo,Or.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",ye.prototype.listen=ye.prototype.J,rc=Or,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,o1=gt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Ql="12.8.0";function pC(i){Ql=i}const Tr=new Ip("@firebase/firestore");function wl(){return Tr.logLevel}function ge(i,...e){if(Tr.logLevel<=Ze.DEBUG){const n=e.map(Bp);Tr.debug(`Firestore (${Ql}): ${i}`,...n)}}function Di(i,...e){if(Tr.logLevel<=Ze.ERROR){const n=e.map(Bp);Tr.error(`Firestore (${Ql}): ${i}`,...n)}}function Vl(i,...e){if(Tr.logLevel<=Ze.WARN){const n=e.map(Bp);Tr.warn(`Firestore (${Ql}): ${i}`,...n)}}function Bp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ie(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,f1(i,a,n)}function f1(i,e,n){let a=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Di(a),new Error(a)}function ht(i,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,i||f1(e,l,a)}function Pe(i,e){return i}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class m1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class yC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vC{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let c=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Aa,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Aa)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new m1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class bC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _C{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const a=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ub(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function EC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=EC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function et(i,e){return i<e?-1:i>e?1:0}function ap(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return zm(l)===zm(c)?et(l,c):zm(l)?1:-1}return et(i.length,e.length)}const wC=55296,TC=57343;function zm(i){const e=i.charCodeAt(0);return e>=wC&&e<=TC}function Ll(i,e,n){return i.length===e.length&&i.every(((a,l)=>n(a,e[l])))}const zb="__name__";class Xs{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Xs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return et(e.length,n.length)}static compareSegments(e,n){const a=Xs.isNumericId(e),l=Xs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Xs.extractNumericId(e).compare(Xs.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class wt extends Xs{construct(e,n,a){return new wt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Xs{construct(e,n,a){return new gn(e,n,a)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zb}static keyField(){return new gn([zb])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(a+=p,l++):(c(),l++)}if(c(),f)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(wt.fromString(e))}static fromName(e){return new Te(wt.fromString(e).popFirst(5))}static empty(){return new Te(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new wt(e.slice()))}}function p1(i,e,n){if(!n)throw new pe(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function NC(i,e,n,a){if(e===!0&&a===!0)throw new pe(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Bb(i){if(!Te.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qb(i){if(Te.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function g1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function Zs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(i);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Xt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Vc(i,e){if(!g1(i))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(l&&typeof f!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new pe(se.INVALID_ARGUMENT,n);return!0}const Hb=-62135596800,Fb=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Fb);return new Nt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hb)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Xt("string",Nt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Nt(0,0))}static max(){return new Oe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function AC(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Oe.fromTimestamp(a===1e9?new Nt(n+1,0):new Nt(n,a));return new Ia(l,Te.empty(),e)}function RC(i){return new Ia(i.readTime,i.key,_c)}class Ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ia(Oe.min(),Te.empty(),_c)}static max(){return new Ia(Oe.max(),Te.empty(),_c)}}function CC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:et(i.largestBatchId,e.largestBatchId))}const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xl(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==IC)throw i;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,a)=>{n(e)}))}static reject(e){return new ie(((n,a)=>{a(e)}))}static waitFor(e){return new ie(((n,a)=>{let l=0,c=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++c,f&&c===l&&n()}),(g=>a(g)))})),f=!0,c===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const a of e)n=n.next((l=>l?ie.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,c)=>{a.push(n.call(this,l,c))})),this.waitFor(a)}static mapArray(e,n){return new ie(((a,l)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{f[y]=x,++p,p===c&&a(f)}),(x=>l(x)))}}))}static doWhile(e,n){return new ie(((a,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):a()};c()}))}}function DC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(i){return i.name==="IndexedDbTransactionError"}class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;const Hp=-1;function fd(i){return i==null}function Gh(i){return i===0&&1/i==-1/0}function kC(i){return typeof i=="number"&&Number.isInteger(i)&&!Gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const y1="";function MC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Gb(e)),e=OC(i.get(n),e);return Gb(e)}function OC(i,e){let n=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case y1:n+="";break;default:n+=c}}return n}function Gb(i){return i+y1+""}function $b(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ua(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function v1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??pn.RED,this.left=l??pn.EMPTY,this.right=c??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new pn(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return pn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,l,c){return this}insert(e,n,a){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yb(this.data.getIterator())}getIteratorFrom(e){return new Yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class Yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new en(gn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new b1("Invalid base64 string: "+c):c}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const VC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const n=VC.exec(i);if(ht(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(i.seconds),nanos:Lt(i.nanos)}}function Lt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Da(i){return typeof i=="string"?yn.fromBase64String(i):yn.fromUint8Array(i)}const x1="server_timestamp",_1="__type__",E1="__previous_value__",w1="__local_write_time__";function Fp(i){return(i?.mapValue?.fields||{})[_1]?.stringValue===x1}function md(i){const e=i.mapValue.fields[E1];return Fp(e)?md(e):e}function Ec(i){const e=ja(i.mapValue.fields[w1].timestampValue);return new Nt(e.seconds,e.nanos)}class LC{constructor(e,n,a,l,c,f,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const $h="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}function PC(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(i.options.projectId,e)}const T1="__type__",UC="__max__",bh={mapValue:{}},S1="__vector__",Yh="value";function ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fp(i)?4:BC(i)?9007199254740991:zC(i)?10:11:Ie(28295,{value:i})}function si(i,e){if(i===e)return!0;const n=ka(i);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ec(i).isEqual(Ec(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=ja(l.timestampValue),p=ja(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Da(l.bytesValue).isEqual(Da(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return Lt(l.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Lt(l.integerValue)===Lt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Lt(l.doubleValue),p=Lt(c.doubleValue);return f===p?Gh(f)===Gh(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return Ll(i.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},p=c.mapValue.fields||{};if($b(f)!==$b(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!si(f[g],p[g])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function Tc(i,e){return(i.values||[]).find((n=>si(n,e)))!==void 0}function Pl(i,e){if(i===e)return 0;const n=ka(i),a=ka(e);if(n!==a)return et(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=Lt(c.integerValue||c.doubleValue),g=Lt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Kb(i.timestampValue,e.timestampValue);case 4:return Kb(Ec(i),Ec(e));case 5:return ap(i.stringValue,e.stringValue);case 6:return(function(c,f){const p=Da(c),g=Da(f);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=et(p[y],g[y]);if(x!==0)return x}return et(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=et(Lt(c.latitude),Lt(f.latitude));return p!==0?p:et(Lt(c.longitude),Lt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Qb(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[Yh]?.arrayValue,x=g[Yh]?.arrayValue,E=et(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Qb(y,x)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===bh.mapValue&&f===bh.mapValue)return 0;if(c===bh.mapValue)return 1;if(f===bh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=ap(g[E],x[E]);if(S!==0)return S;const I=Pl(p[g[E]],y[x[E]]);if(I!==0)return I}return et(g.length,x.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function Kb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return et(i,e);const n=ja(i),a=ja(e),l=et(n.seconds,a.seconds);return l!==0?l:et(n.nanos,a.nanos)}function Qb(i,e){const n=i.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=Pl(n[l],a[l]);if(c)return c}return et(n.length,a.length)}function Ul(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=ja(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Da(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=rp(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of a)c?c=!1:l+=",",l+=`${f}:${rp(n.fields[f])}`;return l+"}"})(i.mapValue):Ie(61005,{value:i})}function jh(i){switch(ka(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(i);return e?16+jh(e):16;case 5:return 2*i.stringValue.length;case 6:return Da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jh(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Ua(a.fields,((c,f)=>{l+=c.length+jh(f)})),l})(i.mapValue);default:throw Ie(13486,{value:i})}}function Xb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lp(i){return!!i&&"integerValue"in i}function Gp(i){return!!i&&"arrayValue"in i}function Wb(i){return!!i&&"nullValue"in i}function Jb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function zC(i){return(i?.mapValue?.fields||{})[T1]?.stringValue===S1}function dc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ua(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=dc(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(i.arrayValue.values[n]);return e}return{...i}}function BC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=gn.emptyPath(),a={},l=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=p.popLast()}f?a[p.lastSegment()]=dc(f):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Dh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Ua(n,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Mn(dc(this.value))}}function N1(i){const e=[];return Ua(i.fields,((n,a)=>{const l=new gn([n]);if(Dh(a)){const c=N1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new Gn(e)}class _n{constructor(e,n,a,l,c,f,p){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),Mn.empty(),0)}static newFoundDocument(e,n,a,l){return new _n(e,1,n,Oe.min(),a,l,0)}static newNoDocument(e,n){return new _n(e,2,n,Oe.min(),Oe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Oe.min(),Oe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function Zb(i,e,n){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(f.referenceValue),n.key):a=Pl(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function ex(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!si(i.position[n],e.position[n]))return!1;return!0}class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function qC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A1{}class Qt extends A1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new FC(e,n,a):n==="array-contains"?new YC(e,a):n==="in"?new KC(e,a):n==="not-in"?new QC(e,a):n==="array-contains-any"?new XC(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new GC(e,a):new $C(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&ka(this.value)===ka(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new As(e,n)}matches(e){return R1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R1(i){return i.op==="and"}function C1(i){return HC(i)&&R1(i)}function HC(i){for(const e of i.filters)if(e instanceof As)return!1;return!0}function op(i){if(i instanceof Qt)return i.field.canonicalString()+i.op.toString()+Ul(i.value);if(C1(i))return i.filters.map((e=>op(e))).join(",");{const e=i.filters.map((n=>op(n))).join(",");return`${i.op}(${e})`}}function I1(i,e){return i instanceof Qt?(function(a,l){return l instanceof Qt&&a.op===l.op&&a.field.isEqual(l.field)&&si(a.value,l.value)})(i,e):i instanceof As?(function(a,l){return l instanceof As&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,f,p)=>c&&I1(f,l.filters[p])),!0):!1})(i,e):void Ie(19439)}function j1(i){return i instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ul(n.value)}`})(i):i instanceof As?(function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"})(i):"Filter"}class FC extends Qt{constructor(e,n,a){super(e,n,a),this.key=Te.fromName(a.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class GC extends Qt{constructor(e,n){super(e,"in",n),this.keys=D1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $C extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=D1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D1(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class YC extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&Tc(n.arrayValue,this.value)}}class KC extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class QC extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class XC extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}class WC{constructor(e,n=null,a=[],l=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function tx(i,e=null,n=[],a=[],l=null,c=null,f=null){return new WC(i,e,n,a,l,c,f)}function $p(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>op(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Ul(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Ul(a))).join(",")),e.Te=n}return e.Te}function Yp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!I1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ex(i.startAt,e.startAt)&&ex(i.endAt,e.endAt)}function cp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Lc{constructor(e,n=null,a=[],l=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JC(i,e,n,a,l,c,f,p){return new Lc(i,e,n,a,l,c,f,p)}function Kp(i){return new Lc(i)}function nx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ZC(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function k1(i){return i.collectionGroup!==null}function fc(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new en(gn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Qh(c,a))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new Qh(gn.keyField(),a))}return e.Ie}function ei(i){const e=Pe(i);return e.Ee||(e.Ee=eI(e,fc(i))),e.Ee}function eI(i,e){if(i.limitType==="F")return tx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qh(l.field,c)}));const n=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return tx(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function up(i,e){const n=i.filters.concat([e]);return new Lc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,n){return new Lc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pd(i,e){return Yp(ei(i),ei(e))&&i.limitType===e.limitType}function M1(i){return`${$p(ei(i))}|lt:${i.limitType}`}function Tl(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>j1(l))).join(", ")}]`),fd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Ul(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Ul(l))).join(",")),`Target(${a})`})(ei(i))}; limitType=${i.limitType})`}function gd(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of fc(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(f,p,g){const y=Zb(f,p,g);return f.inclusive?y<=0:y<0})(a.startAt,fc(a),l)||a.endAt&&!(function(f,p,g){const y=Zb(f,p,g);return f.inclusive?y>=0:y>0})(a.endAt,fc(a),l))})(i,e)}function tI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function O1(i){return(e,n)=>{let a=!1;for(const l of fc(i)){const c=nI(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nI(i,e,n){const a=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Pl(g,y):Ie(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:i.dir})}}class Ir{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,((n,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const sI=new It(Te.comparator);function ki(){return sI}const V1=new It(Te.comparator);function lc(...i){let e=V1;for(const n of i)e=e.insert(n.key,n);return e}function L1(i){let e=V1;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function gr(){return mc()}function P1(){return mc()}function mc(){return new Ir((i=>i.toString()),((i,e)=>i.isEqual(e)))}const iI=new It(Te.comparator),aI=new en(Te.comparator);function tt(...i){let e=aI;for(const n of i)e=e.add(n);return e}const rI=new en(et);function lI(){return rI}function Qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function U1(i){return{integerValue:""+i}}function oI(i,e){return kC(e)?U1(e):Qp(i,e)}class yd{constructor(){this._=void 0}}function cI(i,e,n){return i instanceof Sc?(function(l,c){const f={fields:{[_1]:{stringValue:x1},[w1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fp(c)&&(c=md(c)),c&&(f.fields[E1]=c),{mapValue:f}})(n,e):i instanceof Nc?B1(i,e):i instanceof Ac?q1(i,e):(function(l,c){const f=z1(l,c),p=sx(f)+sx(l.Ae);return lp(f)&&lp(l.Ae)?U1(p):Qp(l.serializer,p)})(i,e)}function uI(i,e,n){return i instanceof Nc?B1(i,e):i instanceof Ac?q1(i,e):n}function z1(i,e){return i instanceof Xh?(function(a){return lp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Sc extends yd{}class Nc extends yd{constructor(e){super(),this.elements=e}}function B1(i,e){const n=H1(e);for(const a of i.elements)n.some((l=>si(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ac extends yd{constructor(e){super(),this.elements=e}}function q1(i,e){let n=H1(e);for(const a of i.elements)n=n.filter((l=>!si(l,a)));return{arrayValue:{values:n}}}class Xh extends yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sx(i){return Lt(i.integerValue||i.doubleValue)}function H1(i){return Gp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class hI{constructor(e,n){this.field=e,this.transform=n}}function dI(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof Nc&&l instanceof Nc||a instanceof Ac&&l instanceof Ac?Ll(a.elements,l.elements,si):a instanceof Xh&&l instanceof Xh?si(a.Ae,l.Ae):a instanceof Sc&&l instanceof Sc})(i.transform,e.transform)}class fI{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vd{}function F1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Xp(i.key,Ts.none()):new Pc(i.key,i.data,Ts.none());{const n=i.data,a=Mn.empty();let l=new en(gn.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),l=l.add(c)}return new za(i.key,a,new Gn(l.toArray()),Ts.none())}}function mI(i,e,n){i instanceof Pc?(function(l,c,f){const p=l.value.clone(),g=ax(l.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):i instanceof za?(function(l,c,f){if(!kh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const p=ax(l.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(G1(l)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function pc(i,e,n,a){return i instanceof Pc?(function(c,f,p,g){if(!kh(c.precondition,f))return p;const y=c.value.clone(),x=rx(c.fieldTransforms,g,f);return y.setAll(x),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,n,a):i instanceof za?(function(c,f,p,g){if(!kh(c.precondition,f))return p;const y=rx(c.fieldTransforms,g,f),x=f.data;return x.setAll(G1(c)),x.setAll(y),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,a):(function(c,f,p){return kh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,n)}function pI(i,e){let n=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=z1(a.transform,l||null);c!=null&&(n===null&&(n=Mn.empty()),n.set(a.field,c))}return n||null}function ix(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ll(a,l,((c,f)=>dI(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pc extends vd{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class za extends vd{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function ax(i,e,n){const a=new Map;ht(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let l=0;l<n.length;l++){const c=i[l],f=c.transform,p=e.data.field(c.field);a.set(c.field,uI(f,p,n[l]))}return a}function rx(i,e,n){const a=new Map;for(const l of i){const c=l.transform,f=n.data.field(l.field);a.set(l.field,cI(c,f,e))}return a}class Xp extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&mI(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=pc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=pc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=P1();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(l.key)?null:p;const g=F1(f,p);g!==null&&a.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,a)=>ix(n,a)))&&Ll(this.baseMutations,e.baseMutations,((n,a)=>ix(n,a)))}}class Wp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return iI})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,a[f].version);return new Wp(e,n,a,l)}}class vI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yt,it;function xI(i){switch(i){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function $1(i){if(i===void 0)return Di("GRPC error has no .code"),se.UNKNOWN;switch(i){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:i})}}(it=Yt||(Yt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function _I(){return new TextEncoder}const EI=new Na([4294967295,4294967295],0);function lx(i){const e=_I().encode(i),n=new l1;return n.update(e),new Uint8Array(n.digest())}function ox(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Na([n,a],0),new Na([l,c],0)]}class Jp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(a<0)throw new oc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Na.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(Na.fromNumber(a)));return l.compare(EI)===1&&(l=new Na([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lx(e),[a,l]=ox(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,l,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Jp(c,l,n);return a.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=lx(e),[a,l]=ox(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,l,c);this.be(f)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new bd(Oe.min(),l,new It(et),ki(),tt())}}class Uc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Uc(a,n,tt(),tt(),tt())}}class Mh{constructor(e,n,a,l){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=l}}class Y1{constructor(e,n){this.targetId=e,this.Ce=n}}class K1{constructor(e,n,a=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class cx{constructor(){this.ve=0,this.Fe=ux(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),a=tt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ie(38017,{changeType:c})}})),new Uc(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=ux()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=xh(),this.Je=xh(),this.Ze=new It(et)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(cp(c))if(a===0){const f=new Te(c.path);this.et(n,f,_n.newNoDocument(f,Oe.min()))}else ht(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let f,p;try{f=Da(a).toUint8Array()}catch(g){if(g instanceof b1)return Vl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Jp(f,l,c)}catch(g){return Vl(g instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&cp(p.target)){const g=new Te(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,_n.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let a=tt();this.Je.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new bd(e,n,this.Ze,this.je,a);return this.je=ki(),this.He=xh(),this.Je=xh(),this.Ze=new It(et),l}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new cx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new en(et),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new en(et),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xh(){return new It(Te.comparator)}function ux(){return new It(Te.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class AI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(i,e){return i.useProto3Json||fd(e)?e:{value:e}}function Wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function RI(i,e){return Wh(i,e.toTimestamp())}function ti(i){return ht(!!i,49232),Oe.fromTimestamp((function(n){const a=ja(n);return new Nt(a.seconds,a.nanos)})(i))}function Zp(i,e){return fp(i,e).canonicalString()}function fp(i,e){const n=(function(l){return new wt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function X1(i){const e=wt.fromString(i);return ht(tE(e),10190,{key:e.toString()}),e}function mp(i,e){return Zp(i.databaseId,e.path)}function Bm(i,e){const n=X1(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(J1(n))}function W1(i,e){return Zp(i.databaseId,e)}function CI(i){const e=X1(i);return e.length===4?wt.emptyPath():J1(e)}function pp(i){return new wt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function J1(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function hx(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function II(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(ht(x===void 0||typeof x=="string",58123),yn.fromBase64String(x||"")):(ht(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),yn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const x=y.code===void 0?se.UNKNOWN:$1(y.code);return new pe(x,y.message||"")})(f);n=new K1(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bm(i,a.document.name),c=ti(a.document.updateTime),f=a.document.createTime?ti(a.document.createTime):Oe.min(),p=new Mn({mapValue:{fields:a.document.fields}}),g=_n.newFoundDocument(l,c,f,p),y=a.targetIds||[],x=a.removedTargetIds||[];n=new Mh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bm(i,a.document),c=a.readTime?ti(a.readTime):Oe.min(),f=_n.newNoDocument(l,c),p=a.removedTargetIds||[];n=new Mh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bm(i,a.document),c=a.removedTargetIds||[];n=new Mh([],c,l,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,f=new bI(l,c),p=a.targetId;n=new Y1(p,f)}}return n}function jI(i,e){let n;if(e instanceof Pc)n={update:hx(i,e.key,e.value)};else if(e instanceof Xp)n={delete:mp(i,e.key)};else if(e instanceof za)n={update:hx(i,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof gI))return Ie(16599,{dt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const p=f.transform;if(p instanceof Sc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ac)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:RI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(i,e.precondition)),n}function DI(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map((n=>(function(l,c){let f=l.updateTime?ti(l.updateTime):ti(c);return f.isEqual(Oe.min())&&(f=ti(c)),new fI(f,l.transformResults||[])})(n,e)))):[]}function kI(i,e){return{documents:[W1(i,e.path)]}}function MI(i,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=W1(i,l);const c=(function(y){if(y.length!==0)return eE(As.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:Sl(S.field),direction:LI(S.dir)}})(x)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=dp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function OI(i){let e=CI(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ht(a===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=Z1(E);return S instanceof As&&C1(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((S=>(function(Y){return new Qh(Nl(Y.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,fd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,I=E.values||[];return new Kh(I,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,I=E.values||[];return new Kh(I,S)})(n.endAt)),JC(e,l,f,c,p,"F",g,y)}function VI(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Nl(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Nl(n.unaryFilter.field);return Qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Nl(n.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Nl(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Qt.create(Nl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return As.create(n.compositeFilter.filters.map((a=>Z1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(i):Ie(30097,{filter:i})}function LI(i){return TI[i]}function PI(i){return SI[i]}function UI(i){return NI[i]}function Sl(i){return{fieldPath:i.canonicalString()}}function Nl(i){return gn.fromServerFormat(i.fieldPath)}function eE(i){return i instanceof Qt?(function(n){if(n.op==="=="){if(Jb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:PI(n.op),value:n.value}}})(i):i instanceof As?(function(n){const a=n.getFilters().map((l=>eE(l)));return a.length===1?a[0]:{compositeFilter:{op:UI(n.op),filters:a}}})(i):Ie(54877,{filter:i})}function zI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function nE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class _a{constructor(e,n,a,l,c=Oe.min(),f=Oe.min(),p=yn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BI{constructor(e){this.yt=e}}function qI(i){const e=OI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}class HI{constructor(){this.Sn=new FI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ia.min())}updateCollectionGroup(e,n,a){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class FI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new en(wt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new en(wt.comparator)).toArray()}}const dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(sE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class zl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new zl(0)}static ar(){return new zl(-1)}}const fx="LruGarbageCollector",GI=1048576;function mx([i,e],[n,a]){const l=et(i,n);return l===0?et(e,a):l}class $I{constructor(e){this.Pr=e,this.buffer=new en(mx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();mx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(fx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?ge(fx,"Ignoring IndexedDB error during garbage collection: ",n):await Xl(n)}await this.Ar(3e5)}))}}class KI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(dd.ce);const a=new $I(n);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(dx)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,l,c,f,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(a=E,p=Date.now(),this.removeTargets(e,a,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(y=Date.now(),wl()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function QI(i,e){return new KI(i,e)}class XI{constructor(){this.changes=new Ir((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ie.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class JI{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&pc(a.mutation,l,Gn.empty(),Nt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,tt()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=tt()){const l=gr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((c=>{let f=lc();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=gr();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,tt())))}populateOverlays(e,n,a){const l=[];return a.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,a,l){let c=ki();const f=mc(),p=(function(){return mc()})();return n.forEach(((g,y)=>{const x=a.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof za)?c=c.insert(y.key,y):x!==void 0?(f.set(y.key,x.mutation.getFieldMask()),pc(x.mutation,y,x.mutation.getFieldMask(),Nt.now())):f.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>f.set(y,x))),n.forEach(((y,x)=>p.set(y,new WI(x,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=mc();let l=new It(((f,p)=>f-p)),c=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=a.get(g)||Gn.empty();x=p.applyToLocalView(y,x),a.set(g,x);const E=(l.get(p.batchId)||tt()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=P1();x.forEach((S=>{if(!c.has(S)){const I=F1(n.get(S),a.get(S));I!==null&&E.set(S,I),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return ZC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ie.resolve(gr());let p=_c,g=c;return f.next((y=>ie.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,tt()))).next((x=>({batchId:p,changes:L1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((a=>{let l=lc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let f=lc();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(g=>{const y=(function(E,S){return new Lc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((x=>{x.forEach(((E,S)=>{f=f.insert(E,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l)))).next((f=>{c.forEach(((g,y)=>{const x=y.getKey();f.get(x)===null&&(f=f.insert(x,_n.newInvalidDocument(x)))}));let p=lc();return f.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&pc(x.mutation,y,Gn.empty(),Nt.now()),gd(n,y)&&(p=p.insert(g,y))})),p}))}}class ZI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ti(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:qI(l.bundledQuery),readTime:ti(l.readTime)}})(n)),ie.resolve()}}class ej{constructor(){this.overlays=new It(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const a=gr();return ie.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,c)=>{this.bt(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),ie.resolve()}getOverlaysForCollection(e,n,a){const l=gr(),c=n.length+1,f=new Te(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new It(((y,x)=>y-x));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let x=c.get(y.largestBatchId);x===null&&(x=gr(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=gr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return ie.resolve(p)}bt(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new vI(n,a));let c=this.Lr.get(n);c===void 0&&(c=tt(),this.Lr.set(n,c)),this.Lr.set(n,c.add(a.key))}}class tj{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class eg{constructor(){this.kr=new en(rn.Kr),this.qr=new en(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new rn(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new Te(new wt([])),a=new rn(n,e),l=new rn(n,e+1),c=[];return this.qr.forEachInRange([a,l],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new wt([])),a=new rn(n,e),l=new rn(n,e+1);let c=tt();return this.qr.forEachInRange([a,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new rn(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||et(e.Hr,n.Hr)}static Ur(e,n){return et(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class nj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new en(rn.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yI(c,n,a,l);this.mutationQueue.push(f);for(const p of l)this.Jr=this.Jr.add(new rn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Xr(a),c=l<0?0:l;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Hp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),l=new rn(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(f=>{const p=this.Zr(f.Hr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new en(et);return n.forEach((l=>{const c=new rn(l,0),f=new rn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(p=>{a=a.add(p.Hr)}))})),ie.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const f=new rn(new Te(c),0);let p=new en(et);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),f),ie.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ie.forEach(n.mutations,(l=>{const c=new rn(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new rn(n,0),l=this.Jr.firstAfterOrEqual(a);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sj{constructor(e){this.ti=e,this.docs=(function(){return new It(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ie.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let a=ki();return n.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():_n.newInvalidDocument(l))})),ie.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=ki();const f=n.path,p=new Te(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||CC(RC(x),a)<=0||(l.has(x.key)||gd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Ie(9500)}ni(e,n){return ie.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new ij(this)}getSize(e){return ie.resolve(this.size)}}class ij extends XI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class aj{constructor(e){this.persistence=e,this.ri=new Ir((n=>$p(n)),Yp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new eg,this.targetCount=0,this.oi=zl._r()}forEachTarget(e,n){return this.ri.forEach(((a,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new zl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(c).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return ie.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),ie.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return ie.resolve(a)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class iE{constructor(e,n){this._i={},this.overlays={},this.ai=new dd(0),this.ui=!1,this.ui=!0,this.ci=new tj,this.referenceDelegate=e(this),this.li=new aj(this),this.indexManager=new HI,this.remoteDocumentCache=(function(l){return new sj(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new BI(n),this.Pi=new ZI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ej,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new nj(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){ge("MemoryPersistence","Starting transaction:",e);const l=new rj(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return ie.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class rj extends jC{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Ai=null}static Vi(e){return new tg(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ie.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(a=>{const l=Te.fromPath(a);return this.mi(e,l).next((c=>{c||n.removeEntry(l,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.fi=new Ir((a=>MC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=QI(this,n)}static Vi(e,n){return new Jh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?ie.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(a++,c.removeEntry(f,Oe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}wr(e,n,a){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return ie.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ng{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=l}static Es(e,n){let a=tt(),l=tt();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(e,n.fromCache,a,l)}}class lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return O2()?8:DC(En())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,l,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new lj;return this.ys(e,n,f).next((p=>{if(c.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>c.result))}ws(e,n,a,l){return a.documentReadCount<this.Vs?(wl()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(wl()<=Ze.DEBUG&&ge("QueryEngine","Query:",Tl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(wl()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):ie.resolve())}gs(e,n){if(nx(n))return ie.resolve(null);let a=ei(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=hp(n,null,"F"),a=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=tt(...c);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,hp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,a,l){return nx(n)||l.isEqual(Oe.min())?ie.resolve(null):this.fs.getDocuments(e,a).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,a,l)?ie.resolve(null):(wl()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Tl(n)),this.Ds(e,f,n,AC(l,_c)).next((p=>p)))}))}bs(e,n){let a=new en(O1(e));return n.forEach(((l,c)=>{gd(e,c)&&(a=a.add(c))})),a}Ss(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,a){return wl()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ia.min(),a)}Ds(e,n,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const sg="LocalStore",cj=3e8;class uj{constructor(e,n,a,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new It(et),this.Fs=new Ir((c=>$p(c)),Yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function hj(i,e,n,a){return new uj(i,e,n,a)}async function aE(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],p=[];let g=tt();for(const y of l){f.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(a,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function dj(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let I=ie.resolve();return S.forEach((Y=>{I=I.next((()=>x.getEntry(g,Y))).next((B=>{const L=y.docVersions.get(Y);ht(L!==null,48541),B.version.compareTo(L)<0&&(E.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),x.addEntry(B)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=tt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function rE(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function fj(i,e){const n=Pe(i),a=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let I=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(yn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,a)),l=l.insert(E,I),(function(B,L,z){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=cj?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,I,x)&&p.push(n.li.updateTargetData(c,I))}));let g=ki(),y=tt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(mj(c,f,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!a.isEqual(Oe.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(x)}return ie.waitFor(p).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=l,c)))}function mj(i,e,n){let a=tt(),l=tt();return n.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let f=ki();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Oe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ge(sg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function pj(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gj(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,e).next((c=>c?(l=c,ie.resolve(l)):n.li.allocateTargetId(a).next((f=>(l=new _a(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function gp(i,e,n){const a=Pe(i),l=a.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Wl(f))throw f;ge(sg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function px(i,e,n){const a=Pe(i);let l=Oe.min(),c=tt();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,x){const E=Pe(g),S=E.Fs.get(x);return S!==void 0?ie.resolve(E.vs.get(S)):E.li.getTargetData(y,x)})(a,f,ei(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,n?l:Oe.min(),n?c:tt()))).next((p=>(yj(a,tI(e),p),{documents:p,ks:c})))))}function yj(i,e,n){let a=i.Ms.get(e)||Oe.min();n.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Ms.set(e,a)}class gx{constructor(){this.activeTargetIds=lI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vj{constructor(){this.vo=new gx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gx,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bj{Mo(e){}shutdown(){}}const yx="ConnectivityMonitor";class vx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(yx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(yx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function yp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const qm="RestConnection",xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _j{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===$h?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,n,a,l,c){const f=yp(),p=this.Qo(e,n.toUriEncodedString());ge(qm,`Sending RPC '${e}' ${f}:`,p,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:y}=new URL(p),x=$l(y);return this.zo(e,p,g,a,x).then((E=>(ge(qm,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw Vl(qm,`RPC '${e}' ${f} failed with error: `,E,"url: ",p,"request:",a),E}))}jo(e,n,a,l,c,f){return this.Wo(e,n,a,l,c)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const a=xj[e];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Ej{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const bn="WebChannelConnection",sc=(i,e,n)=>{i.listen(e,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class kl extends _j{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!kl.c_){const e=h1();sc(e,u1.STAT_EVENT,(n=>{n.stat===ip.PROXY?ge(bn,"STAT_EVENT: detected buffering proxy"):n.stat===ip.NOPROXY&&ge(bn,"STAT_EVENT: detected no buffering proxy")})),kl.c_=!0}}zo(e,n,a,l,c){const f=yp();return new Promise(((p,g)=>{const y=new o1;y.setWithCredentials(!0),y.listenOnce(c1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ih.NO_ERROR:const E=y.getResponseJson();ge(bn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),p(E);break;case Ih.TIMEOUT:ge(bn,`RPC '${e}' ${f} timed out`),g(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const S=y.getStatus();if(ge(bn,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const Y=I?.error;if(Y&&Y.status&&Y.message){const B=(function(z){const U=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN})(Y.status);g(new pe(B,Y.message))}else g(new pe(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(bn,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(l);ge(bn,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",x,a,15)}))}T_(e,n,a){const l=yp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const y=c.join("");ge(bn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const x=f.createWebChannel(y,p);this.I_(x);let E=!1,S=!1;const I=new Ej({Ho:Y=>{S?ge(bn,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(E||(ge(bn,`Opening RPC '${e}' stream ${l} transport.`),x.open(),E=!0),ge(bn,`RPC '${e}' stream ${l} sending:`,Y),x.send(Y))},Jo:()=>x.close()});return sc(x,rc.EventType.OPEN,(()=>{S||(ge(bn,`RPC '${e}' stream ${l} transport opened.`),I.i_())})),sc(x,rc.EventType.CLOSE,(()=>{S||(S=!0,ge(bn,`RPC '${e}' stream ${l} transport closed`),I.o_(),this.E_(x))})),sc(x,rc.EventType.ERROR,(Y=>{S||(S=!0,Vl(bn,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),I.o_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),sc(x,rc.EventType.MESSAGE,(Y=>{if(!S){const B=Y.data[0];ht(!!B,16349);const L=B,z=L?.error||L[0]?.error;if(z){ge(bn,`RPC '${e}' stream ${l} received error:`,z);const U=z.status;let Q=(function(me){const A=Yt[me];if(A!==void 0)return $1(A)})(U),le=z.message;Q===void 0&&(Q=se.INTERNAL,le="Unknown error status: "+U+" with message "+z.message),S=!0,I.o_(new pe(Q,le)),x.close()}else ge(bn,`RPC '${e}' stream ${l} received:`,B),I.__(B)}})),kl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}function wj(i){return new kl(i)}function Hm(){return typeof document<"u"?document:null}function xd(i){return new AI(i,!0)}kl.c_=!1;class lE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bx="PersistentStream";class oE{constructor(e,n,a,l,c,f,p,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new pe(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tj extends oE{constructor(e,n,a,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=II(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Oe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?ti(f.readTime):Oe.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(c,f){let p;const g=f.target;if(p=cp(g)?{documents:kI(c,g)}:{query:MI(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Q1(c,f.resumeToken);const y=dp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Oe.min())>0){p.readTime=Wh(c,f.snapshotVersion.toTimestamp());const y=dp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=VI(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.K_(n)}}class Sj extends oE{constructor(e,n,a,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DI(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=pp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>jI(this.serializer,a)))};this.K_(n)}}class Nj{}class Aj extends Nj{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,fp(n,a),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())}))}jo(e,n,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,fp(n,a),l,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(se.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Rj(i,e,n,a){return new Aj(i,e,n,a)}class Cj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sr="RemoteStore";class Ij{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{jr(this)&&(ge(Sr,"Restarting streams for network reachability change."),await(async function(g){const y=Pe(g);y.Ea.add(4),await zc(y),y.Va.set("Unknown"),y.Ea.delete(4),await _d(y)})(this))}))})),this.Va=new Cj(a,l)}}async function _d(i){if(jr(i))for(const e of i.Ra)await e(!0)}async function zc(i){for(const e of i.Ra)await e(!1)}function cE(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lg(n)?rg(n):Jl(n).O_()&&ag(n,e))}function ig(i,e){const n=Pe(i),a=Jl(n);n.Ia.delete(e),a.O_()&&uE(n,e),n.Ia.size===0&&(a.O_()?a.L_():jr(n)&&n.Va.set("Unknown"))}function ag(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(i).Z_(e)}function uE(i,e){i.da.$e(e),Jl(i).X_(e)}function rg(i){i.da=new wI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jl(i).start(),i.Va.ua()}function lg(i){return jr(i)&&!Jl(i).x_()&&i.Ia.size>0}function jr(i){return Pe(i).Ea.size===0}function hE(i){i.da=void 0}async function jj(i){i.Va.set("Online")}async function Dj(i){i.Ia.forEach(((e,n)=>{ag(i,e)}))}async function kj(i,e){hE(i),lg(i)?(i.Va.ha(e),rg(i)):i.Va.set("Unknown")}async function Mj(i,e,n){if(i.Va.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.da.removeTarget(p))})(i,e)}catch(a){ge(Sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Zh(i,a)}else if(e instanceof Mh?i.da.Xe(e):e instanceof Y1?i.da.st(e):i.da.tt(e),!n.isEqual(Oe.min()))try{const a=await rE(i.localStore);n.compareTo(a)>=0&&await(function(c,f){const p=c.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(yn.EMPTY_BYTE_STRING,x.snapshotVersion)),uE(c,g);const E=new _a(x.target,g,y,x.sequenceNumber);ag(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(a){ge(Sr,"Failed to raise snapshot:",a),await Zh(i,a)}}async function Zh(i,e,n){if(!Wl(e))throw e;i.Ea.add(1),await zc(i),i.Va.set("Offline"),n||(n=()=>rE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(Sr,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _d(i)}))}function dE(i,e){return e().catch((n=>Zh(i,n,e)))}async function Ed(i){const e=Pe(i),n=Ma(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;Oj(e);)try{const l=await pj(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,Vj(e,l)}catch(l){await Zh(e,l)}fE(e)&&mE(e)}function Oj(i){return jr(i)&&i.Ta.length<10}function Vj(i,e){i.Ta.push(e);const n=Ma(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function fE(i){return jr(i)&&!Ma(i).x_()&&i.Ta.length>0}function mE(i){Ma(i).start()}async function Lj(i){Ma(i).ra()}async function Pj(i){const e=Ma(i);for(const n of i.Ta)e.ea(n.mutations)}async function Uj(i,e,n){const a=i.Ta.shift(),l=Wp.from(a,e,n);await dE(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Ed(i)}async function zj(i,e){e&&Ma(i).Y_&&await(async function(a,l){if((function(f){return xI(f)&&f!==se.ABORTED})(l.code)){const c=a.Ta.shift();Ma(a).B_(),await dE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ed(a)}})(i,e),fE(i)&&mE(i)}async function xx(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),ge(Sr,"RemoteStore received new credentials");const a=jr(n);n.Ea.add(3),await zc(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _d(n)}async function Bj(i,e){const n=Pe(i);e?(n.Ea.delete(2),await _d(n)):e||(n.Ea.add(2),await zc(n),n.Va.set("Unknown"))}function Jl(i){return i.ma||(i.ma=(function(n,a,l){const c=Pe(n);return c.sa(),new Tj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Zo:jj.bind(null,i),Yo:Dj.bind(null,i),t_:kj.bind(null,i),J_:Mj.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),lg(i)?rg(i):i.Va.set("Unknown")):(await i.ma.stop(),hE(i))}))),i.ma}function Ma(i){return i.fa||(i.fa=(function(n,a,l){const c=Pe(n);return c.sa(),new Sj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Lj.bind(null,i),t_:zj.bind(null,i),ta:Pj.bind(null,i),na:Uj.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Ed(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(Sr,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class og{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const f=Date.now()+a,p=new og(e,n,f,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(i,e){if(Di("AsyncQueue",`${e}: ${i}`),Wl(i))return new pe(se.UNAVAILABLE,`${e}: ${i}`);throw i}class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Te.comparator(n.key,a.key):(n,a)=>Te.comparator(n.key,a.key),this.keyedMap=lc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class _x{constructor(){this.ga=new It(Te.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Bl{constructor(e,n,a,l,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Bl(e,n,Ml.emptySet(n),f,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class qj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Hj{constructor(){this.queries=Ex(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Pe(n),c=l.queries;l.queries=Ex(),c.forEach(((f,p)=>{for(const g of p.ba)g.onError(a)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function Ex(){return new Ir((i=>M1(i)),pd)}async function pE(i,e){const n=Pe(i);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new qj,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=cg(f,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ug(n)}async function gE(i,e){const n=Pe(i),a=e.query;let l=3;const c=n.queries.get(a);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function Fj(i,e){const n=Pe(i);let a=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const p of f.ba)p.Fa(l)&&(a=!0);f.wa=l}}a&&ug(n)}function Gj(i,e,n){const a=Pe(i),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(n);a.queries.delete(e)}function ug(i){i.Ca.forEach((e=>{e.next()}))}var vp,wx;(wx=vp||(vp={})).Ma="default",wx.Cache="cache";class yE{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}class vE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class $j{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=O1(e),this.tu=new Ml(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new _x,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),I=gd(this.query,E)?E:null,Y=!!S&&this.mutatedKeys.has(S.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;S&&I?S.data.isEqual(I.data)?Y!==B&&(a.track({type:3,doc:I}),L=!0):this.su(S,I)||(a.track({type:2,doc:I}),L=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!S&&I?(a.track({type:0,doc:I}),L=!0):S&&!I&&(a.track({type:1,doc:S}),L=!0,(g||y)&&(p=!0)),L&&(I?(f=f.add(I),c=B?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:f,iu:a,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,E)=>(function(I,Y){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:L})}};return B(I)-B(Y)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(a),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Bl(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _x,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new bE(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new vE(a))})),n}cu(e){this.Za=e.ks,this.Ya=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class Yj{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class Kj{constructor(e){this.key=e,this.hu=!1}}class Qj{constructor(e,n,a,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ir((p=>M1(p)),pd),this.Iu=new Map,this.Eu=new Set,this.Ru=new It(Te.comparator),this.Au=new Map,this.Vu=new eg,this.du={},this.mu=new Map,this.fu=zl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xj(i,e,n=!0){const a=SE(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xE(a,e,n,!0),l}async function Wj(i,e){const n=SE(i);await xE(n,e,!0,!1)}async function xE(i,e,n,a){const l=await gj(i.localStore,ei(e)),c=l.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let p;return a&&(p=await Jj(i,e,c,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&cE(i.remoteStore,l),p}async function Jj(i,e,n,a,l){i.pu=(E,S,I)=>(async function(B,L,z,U){let Q=L.view.ru(z);Q.Ss&&(Q=await px(B.localStore,L.query,!1).then((({documents:A})=>L.view.ru(A,Q))));const le=U&&U.targetChanges.get(L.targetId),ue=U&&U.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(Q,B.isPrimaryClient,le,ue);return Sx(B,L.targetId,me.au),me.snapshot})(i,E,S,I);const c=await px(i.localStore,e,!0),f=new $j(e,c.ks),p=f.ru(c.documents),g=Uc.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",l),y=f.applyChanges(p,i.isPrimaryClient,g);Sx(i,n,y.au);const x=new Yj(e,n,f);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function Zj(i,e,n){const a=Pe(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((f=>!pd(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&ig(a.remoteStore,l.targetId),bp(a,l.targetId)})).catch(Xl)):(bp(a,l.targetId),await gp(a.localStore,l.targetId,!0))}async function e5(i,e){const n=Pe(i),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ig(n.remoteStore,a.targetId))}async function t5(i,e,n){const a=o5(i);try{const l=await(function(f,p){const g=Pe(f),y=Nt.now(),x=p.reduce(((I,Y)=>I.add(Y.key)),tt());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let Y=ki(),B=tt();return g.xs.getEntries(I,x).next((L=>{Y=L,Y.forEach(((z,U)=>{U.isValidDocument()||(B=B.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,Y))).next((L=>{E=L;const z=[];for(const U of p){const Q=pI(U,E.get(U.key).overlayedDocument);Q!=null&&z.push(new za(U.key,Q,N1(Q.value.mapValue),Ts.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,z,p)})).next((L=>{S=L;const z=L.applyToLocalDocumentSet(E,B);return g.documentOverlayCache.saveOverlays(I,L.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:L1(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new It(et)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(a,l.batchId,n),await Bc(a,l.changes),await Ed(a.remoteStore)}catch(l){const c=cg(l,"Failed to persist write");n.reject(c)}}async function _E(i,e){const n=Pe(i);try{const a=await fj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?ht(f.hu,14607):l.removedDocuments.size>0&&(ht(f.hu,42227),f.hu=!1))})),await Bc(n,a,e)}catch(a){await Xl(a)}}function Tx(i,e,n){const a=Pe(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Pe(f);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.ba)S.va(p)&&(y=!0)})),y&&ug(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function n5(i,e,n){const a=Pe(i);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),c=l&&l.key;if(c){let f=new It(Te.comparator);f=f.insert(c,_n.newNoDocument(c,Oe.min()));const p=tt().add(c),g=new bd(Oe.min(),new Map,new It(et),f,p);await _E(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),dg(a)}else await gp(a.localStore,e,!1).then((()=>bp(a,e,n))).catch(Xl)}async function s5(i,e){const n=Pe(i),a=e.batch.batchId;try{const l=await dj(n.localStore,e);wE(n,a,null),EE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Bc(n,l)}catch(l){await Xl(l)}}async function i5(i,e,n){const a=Pe(i);try{const l=await(function(f,p){const g=Pe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(ht(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(a.localStore,e);wE(a,e,n),EE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Bc(a,l)}catch(l){await Xl(l)}}function EE(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function wE(i,e,n){const a=Pe(i);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function bp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((a=>{i.Vu.containsKey(a)||TE(i,a)}))}function TE(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(ig(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),dg(i))}function Sx(i,e,n){for(const a of n)a instanceof vE?(i.Vu.addReference(a.key,e),a5(i,a)):a instanceof bE?(ge(hg,"Document no longer in limbo: "+a.key),i.Vu.removeReference(a.key,e),i.Vu.containsKey(a.key)||TE(i,a.key)):Ie(19791,{wu:a})}function a5(i,e){const n=e.key,a=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(a)||(ge(hg,"New document in limbo: "+n),i.Eu.add(a),dg(i))}function dg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(wt.fromString(e)),a=i.fu.next();i.Au.set(a,new Kj(n)),i.Ru=i.Ru.insert(n,a),cE(i.remoteStore,new _a(ei(Kp(n.path)),a,"TargetPurposeLimboResolution",dd.ce))}}async function Bc(i,e,n){const a=Pe(i),l=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{f.push(a.pu(g,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=ng.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(f),a.Pu.J_(l),await(async function(g,y){const x=Pe(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(S=>ie.forEach(S.Ts,(I=>x.persistence.referenceDelegate.addReference(E,S.targetId,I))).next((()=>ie.forEach(S.Is,(I=>x.persistence.referenceDelegate.removeReference(E,S.targetId,I)))))))))}catch(E){if(!Wl(E))throw E;ge(sg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const I=x.vs.get(S),Y=I.snapshotVersion,B=I.withLastLimboFreeSnapshotVersion(Y);x.vs=x.vs.insert(S,B)}}})(a.localStore,c))}async function r5(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){ge(hg,"User change. New user:",e.toKey());const a=await aE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(se.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Bc(n,a.Ns)}}function l5(i,e){const n=Pe(i),a=n.Au.get(e);if(a&&a.hu)return tt().add(a.key);{let l=tt();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function SE(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n5.bind(null,e),e.Pu.J_=Fj.bind(null,e.eventManager),e.Pu.yu=Gj.bind(null,e.eventManager),e}function o5(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i5.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hj(this.persistence,new oj,e.initialUser,this.serializer)}Cu(e){return new iE(tg.Vi,this.serializer)}Du(e){return new vj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class c5 extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Jh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new YI(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new iE((a=>Jh.Vi(a,n)),this.serializer)}}class xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Tx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=r5.bind(null,this.syncEngine),await Bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hj})()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),a=wj(e.databaseInfo);return Rj(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,c,f,p){return new Ij(a,l,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Tx(this.syncEngine,n,0)),(function(){return vx.v()?new vx:new bj})())}createSyncEngine(e,n){return(function(l,c,f,p,g,y,x){const E=new Qj(l,c,f,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Pe(n);ge(Sr,"RemoteStore shutting down."),a.Ea.add(5),await zc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Oa="FirestoreClient";class u5{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=xn.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{ge(Oa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ge(Oa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=cg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),ge(Oa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await aE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Nx(i,e){i.asyncQueue.verifyOperationInProgress();const n=await h5(i);ge(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>xx(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>xx(e.remoteStore,l))),i._onlineComponents=e}async function h5(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(Oa,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new ed)}}else ge(Oa,"Using default OfflineComponentProvider"),await Fm(i,new c5(void 0));return i._offlineComponents}async function AE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(Oa,"Using user provided OnlineComponentProvider"),await Nx(i,i._uninitializedComponentsProvider._online)):(ge(Oa,"Using default OnlineComponentProvider"),await Nx(i,new xp))),i._onlineComponents}function d5(i){return AE(i).then((e=>e.syncEngine))}async function _p(i){const e=await AE(i),n=e.eventManager;return n.onListen=Xj.bind(null,e.syncEngine),n.onUnlisten=Zj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Wj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e5.bind(null,e.syncEngine),n}function f5(i,e,n,a){const l=new NE(a),c=new yE(e,l,n);return i.asyncQueue.enqueueAndForget((async()=>pE(await _p(i),c))),()=>{l.Nu(),i.asyncQueue.enqueueAndForget((async()=>gE(await _p(i),c)))}}function m5(i,e,n={}){const a=new Aa;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const x=new NE({next:S=>{x.Nu(),f.enqueueAndForget((()=>gE(c,E))),S.fromCache&&g.source==="server"?y.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new yE(p,x,{includeMetadataChanges:!0,Ka:!0});return pE(c,E)})(await _p(i),i.asyncQueue,e,n,a))),a.promise}function p5(i,e){const n=new Aa;return i.asyncQueue.enqueueAndForget((async()=>t5(await d5(i),e,n))),n.promise}function RE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const g5="ComponentProvider",Ax=new Map;function y5(i,e,n,a,l){return new LC(i,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,RE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const CE="firestore.googleapis.com",Rx=!0;class Cx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=Rx}else this.host=e.host,this.ssl=e.ssl??Rx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GI)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gC;switch(a.type){case"firstParty":return new xC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Ax.get(n);a&&(ge(g5,"Removing Datastore"),Ax.delete(n),a.terminate())})(this),Promise.resolve()}}function v5(i,e,n,a={}){i=Zs(i,wd);const l=$l(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;l&&(v_(`https://${p}`),b_("Firestore",!0)),c.host!==CE&&c.host!==p&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:a};if(!xr(g,f)&&(i._setSettings(g),a.mockUserToken)){let y,x;if(typeof a.mockUserToken=="string")y=a.mockUserToken,x=xn.MOCK_USER;else{y=N2(a.mockUserToken,i._app?.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new xn(E)}i._authCredentials=new yC(new m1(y,x))}}class Dr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Vc(n,Wt._jsonSchema))return new Wt(e,a||null,new Te(wt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class Ra extends Dr{constructor(e,n,a){super(e,n,Kp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Te(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function _t(i,e,...n){if(i=tn(i),p1("collection","path",e),i instanceof wd){const a=wt.fromString(e,...n);return qb(a),new Ra(i,null,a)}{if(!(i instanceof Wt||i instanceof Ra))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(wt.fromString(e,...n));return qb(a),new Ra(i.firestore,null,a)}}function Kt(i,e,...n){if(i=tn(i),arguments.length===1&&(e=qp.newId()),p1("doc","path",e),i instanceof wd){const a=wt.fromString(e,...n);return Bb(a),new Wt(i,null,new Te(a))}{if(!(i instanceof Wt||i instanceof Ra))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(wt.fromString(e,...n));return Bb(a),new Wt(i.firestore,i instanceof Ra?i.converter:null,new Te(a))}}const Ix="AsyncQueue";class jx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Hm();a&&ge(Ix,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;ge(Ix,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",Dx(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=og.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ie(47125,{Pc:Dx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Dx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Nr extends wd{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new jx,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function b5(i,e){const n=typeof i=="object"?i:w_(),a=typeof i=="string"?i:$h,l=Dp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=T2("firestore");c&&v5(l,...c)}return l}function fg(i){if(i._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||x5(i),i._firestoreClient}function x5(i){const e=i._freezeSettings(),n=y5(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new u5(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(yn.fromBase64String(e))}catch(n){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new os(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:Xt("string",os._jsonSchemaVersion),bytes:Xt("string")};class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Td{constructor(e){this._methodName=e}}class ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:Xt("string",ni._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Xt("string",Ss._jsonSchemaVersion),vectorValues:Xt("object")};const _5=/^__.*__$/;class E5{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class IE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:i})}}class pg{constructor(e,n,a,l,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return td(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jE(this.dataSource)&&_5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class w5{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||xd(e)}createContext(e,n,a,l=!1){return new pg({dataSource:e,methodName:n,targetDoc:a,path:gn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(i){const e=i._freezeSettings(),n=xd(i._databaseId);return new w5(i._databaseId,!!e.ignoreUndefinedProperties,n)}function T5(i,e,n,a,l,c={}){const f=i.createContext(c.merge||c.mergeFields?2:0,e,n,l);vg("Data must be an object, but it was:",f,a);const p=DE(a,f);let g,y;if(c.merge)g=new Gn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=ql(e,E,n);if(!f.contains(S))throw new pe(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);OE(x,S)||x.push(S)}g=new Gn(x),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new E5(new Mn(p),g,y)}class Sd extends Td{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}class yg extends Td{_toFieldTransform(e){return new hI(e.path,new Sc)}isEqual(e){return e instanceof yg}}function S5(i,e,n,a){const l=i.createContext(1,e,n);vg("Data must be an object, but it was:",l,a);const c=[],f=Mn.empty();Ua(a,((g,y)=>{const x=ME(e,g,n);y=tn(y);const E=l.childContextForFieldPath(x);if(y instanceof Sd)c.push(x);else{const S=qc(y,E);S!=null&&(c.push(x),f.set(x,S))}}));const p=new Gn(c);return new IE(f,p,l.fieldTransforms)}function N5(i,e,n,a,l,c){const f=i.createContext(1,e,n),p=[ql(e,a,n)],g=[l];if(c.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(ql(e,c[S])),g.push(c[S+1]);const y=[],x=Mn.empty();for(let S=p.length-1;S>=0;--S)if(!OE(y,p[S])){const I=p[S];let Y=g[S];Y=tn(Y);const B=f.childContextForFieldPath(I);if(Y instanceof Sd)y.push(I);else{const L=qc(Y,B);L!=null&&(y.push(I),x.set(I,L))}}const E=new Gn(y);return new IE(x,E,f.fieldTransforms)}function A5(i,e,n,a=!1){return qc(n,i.createContext(a?4:3,e))}function qc(i,e){if(kE(i=tn(i)))return vg("Unsupported field value:",e,i),DE(i,e);if(i instanceof Td)return(function(a,l){if(!jE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let f=0;for(const p of a){let g=qc(p,l.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Nt.fromDate(a);return{timestampValue:Wh(l.serializer,c)}}if(a instanceof Nt){const c=new Nt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wh(l.serializer,c)}}if(a instanceof ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof os)return{bytesValue:Q1(l.serializer,a._byteString)};if(a instanceof Wt){const c=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ss)return(function(f,p){const g=f instanceof Ss?f.toArray():f;return{mapValue:{fields:{[T1]:{stringValue:S1},[Yh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return Qp(p.serializer,x)}))}}}}}})(a,l);if(nE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${hd(a)}`)})(i,e)}function DE(i,e){const n={};return v1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(i,((a,l)=>{const c=qc(l,e.childContextForField(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function kE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof ni||i instanceof os||i instanceof Wt||i instanceof Td||i instanceof Ss||nE(i))}function vg(i,e,n){if(!kE(n)||!g1(n)){const a=hd(n);throw a==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+a)}}function ql(i,e,n){if((e=tn(e))instanceof mg)return e._internalPath;if(typeof e=="string")return ME(i,e);throw td("Field path arguments must be of type string or ",i,!1,void 0,n)}const R5=new RegExp("[~\\*/\\[\\]]");function ME(i,e,n){if(e.search(R5)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function td(i,e,n,a,l){const c=a&&!a.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${a}`),f&&(g+=` in document ${l}`),g+=")"),new pe(se.INVALID_ARGUMENT,p+i+g)}function OE(i,e){return i.some((n=>n.isEqual(e)))}class C5{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ua(e,((l,c)=>{a[l]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[Yh].arrayValue?.values?.map((a=>Lt(a.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new ni(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=md(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=ja(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=wt.fromString(e);ht(tE(a),9688,{name:e});const l=new wc(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(n)||Di(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class bg extends C5{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function xg(){return new yg("serverTimestamp")}const kx="@firebase/firestore",Mx="4.10.0";function Ox(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(i,["next","error","complete"])}class VE{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ql("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I5 extends VE{data(){return super.data()}}function LE(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class j5 extends _g{}function Mi(i,e,...n){let a=[];e instanceof _g&&a.push(e),a=a.concat(n),(function(c){const f=c.filter((g=>g instanceof Eg)).length,p=c.filter((g=>g instanceof Nd)).length;if(f>1||f>0&&p>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Nd extends j5{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Nd(e,n,a)}_apply(e){const n=this._parse(e);return PE(e._query,n),new Dr(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=gg(e.firestore);return(function(c,f,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Lx(E,x);const Y=[];for(const B of E)Y.push(Vx(g,c,B));S={arrayValue:{values:Y}}}else S=Vx(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Lx(E,x),S=A5(p,f,E,x==="in"||x==="not-in");return Qt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oi(i,e,n){const a=e,l=ql("where",i);return Nd._create(l,a,n)}class Eg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:As.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const p=c.getFlattenedFilters();for(const g of p)PE(f,g),f=up(f,g)})(e._query,n),new Dr(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vx(i,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(e)&&n.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(wt.fromString(n));if(!Te.isDocumentKey(a))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Xb(i,new Te(a))}if(n instanceof Wt)return Xb(i,n._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function Lx(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PE(i,e){const n=(function(l,c){for(const f of l)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function D5(i,e,n){let a;return a=i?i.toFirestore(e):e,a}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yr extends VE{constructor(e,n,a,l,c,f){super(e,n,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ql("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",yr._jsonSchema={type:Xt("string",yr._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Oh extends yr{data(e={}){return super.data(e)}}class vr{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new cc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Oh(this._firestore,this._userDataWriter,a.key,a,new cc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new Oh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new cc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Oh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new cc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),x=f.indexOf(p.doc.key)),{type:k5(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:Xt("string",vr._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};function Vi(i){i=Zs(i,Dr);const e=Zs(i.firestore,Nr),n=fg(e),a=new bg(e);return LE(i._query),m5(n,i._query).then((l=>new vr(e,a,i,l)))}function ln(i,e,n,...a){i=Zs(i,Wt);const l=Zs(i.firestore,Nr),c=gg(l);let f;return f=typeof(e=tn(e))=="string"||e instanceof mg?N5(c,"updateDoc",i._key,e,n,a):S5(c,"updateDoc",i._key,e),wg(l,[f.toMutation(i._key,Ts.exists(!0))])}function M5(i){return wg(Zs(i.firestore,Nr),[new Xp(i._key,Ts.none())])}function Hc(i,e){const n=Zs(i.firestore,Nr),a=Kt(i),l=D5(i.converter,e),c=gg(i.firestore);return wg(n,[T5(c,"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,Ts.exists(!1))]).then((()=>a))}function $n(i,...e){i=tn(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ox(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ox(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,f,p;if(i instanceof Wt)f=Zs(i.firestore,Nr),p=Kp(i._key.path),c={next:y=>{e[a]&&e[a](O5(f,i,y))},error:e[a+1],complete:e[a+2]};else{const y=Zs(i,Dr);f=Zs(y.firestore,Nr),p=y._query;const x=new bg(f);c={next:E=>{e[a]&&e[a](new vr(f,x,y,E))},error:e[a+1],complete:e[a+2]},LE(i._query)}const g=fg(f);return f5(g,p,l,c)}function wg(i,e){const n=fg(i);return p5(n,e)}function O5(i,e,n){const a=n.docs.get(e._key),l=new bg(i);return new yr(i,l,e._key,a,new cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pC(Yl),Ol(new _r("firestore",((a,{instanceIdentifier:l,options:c})=>{const f=a.getProvider("app").getImmediate(),p=new Nr(new vC(a.getProvider("auth-internal")),new _C(f,a.getProvider("app-check-internal")),PC(f,l),f);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Sa(kx,Mx,e),Sa(kx,Mx,"esm2020")})();const V5={apiKey:"AIzaSyC1qZ9fK-6LFBxVWZsAD4dZq-KVg36A7f8",authDomain:"scheduler-65e51.firebaseapp.com",projectId:"scheduler-65e51",storageBucket:"scheduler-65e51.firebasestorage.app",messagingSenderId:"93993791456",appId:"1:93993791456:web:3a777a2da0dad4b8b74585"},UE=E_(V5),ke=b5(UE),Ar=hC(UE);const zE=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();const L5=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const P5=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase());const Px=i=>{const e=P5(i);return e.charAt(0).toUpperCase()+e.slice(1)};var U5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const z5=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const B5=D.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:f,...p},g)=>D.createElement("svg",{ref:g,...U5,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:zE("lucide",l),...!c&&!z5(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,x])=>D.createElement(y,x)),...Array.isArray(c)?c:[c]]));const nt=(i,e)=>{const n=D.forwardRef(({className:a,...l},c)=>D.createElement(B5,{ref:c,iconNode:e,className:zE(`lucide-${L5(Px(i))}`,`lucide-${i}`,a),...l}));return n.displayName=Px(i),n};const q5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ca=nt("arrow-left",q5);const H5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gc=nt("arrow-right",H5);const F5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Gm=nt("calendar-check",F5);const G5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ux=nt("calendar-days",G5);const $5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fn=nt("calendar",$5);const Y5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],K5=nt("chart-column",Y5);const Q5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tg=nt("check",Q5);const X5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BE=nt("chevron-left",X5);const W5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qE=nt("chevron-right",W5);const J5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ea=nt("circle-check-big",J5);const Z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Al=nt("circle-x",Z5);const e4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ni=nt("clock",e4);const t4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],n4=nt("coffee",t4);const s4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i4=nt("eye",s4);const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],r4=nt("globe",a4);const l4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],HE=nt("lock",l4);const o4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c4=nt("log-out",o4);const u4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h4=nt("mail",u4);const d4=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],FE=nt("party-popper",d4);const f4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GE=nt("pen-line",f4);const m4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],p4=nt("phone",m4);const g4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sg=nt("plus",g4);const y4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$E=nt("refresh-cw",y4);const v4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],b4=nt("save",v4);const x4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Zl=nt("scissors",x4);const _4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E4=nt("settings",_4);const w4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],T4=nt("sparkles",w4);const S4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zx=nt("star",S4);const N4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],br=nt("tag",N4);const A4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nd=nt("trash-2",A4);const R4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],C4=nt("trending-up",R4);const I4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bx=nt("triangle-alert",I4);const j4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D4=nt("user",j4);const k4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Es=nt("users",k4);const M4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sd=nt("x",M4);const O4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],V4=nt("zap",O4);function qx({className:i=""}){return h.jsxs(at,{to:"/",className:`flex items-center gap-2.5 ${i}`,children:[h.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:h.jsx(Zl,{className:"w-[18px] h-[18px] text-white"})}),h.jsxs("span",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function L4(){return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-slate-100",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[h.jsx(qx,{}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(at,{to:"/login",className:"px-4 py-2.5 text-sm font-semibold text-slate-600 hover:text-slate-900 transition-colors",children:"Sign In"}),h.jsxs(at,{to:"/register",className:"hidden sm:inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all hover:shadow-lg hover:shadow-blue-600/25 hover:-translate-y-0.5",children:["Get Started Free",h.jsx(gc,{className:"w-4 h-4"})]}),h.jsx(at,{to:"/register",className:"sm:hidden px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-semibold transition-all",children:"Start Free"})]})]})}),h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 -z-10",children:[h.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-50 rounded-full blur-3xl opacity-60 -translate-y-1/2 translate-x-1/3"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-violet-50 rounded-full blur-3xl opacity-50 translate-y-1/3 -translate-x-1/4"})]}),h.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 pt-16 sm:pt-24 pb-16 sm:pb-20",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[h.jsxs("div",{className:"animate-fade-in-up",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3.5 py-1.5 bg-blue-50 border border-blue-100 rounded-full text-sm font-medium text-blue-700 mb-6",children:[h.jsx(T4,{className:"w-3.5 h-3.5"}),"Free for beauty professionals"]}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-[3.5rem] font-extrabold text-slate-900 leading-[1.1] mb-6 tracking-tight",children:["Online booking",h.jsx("br",{}),h.jsx("span",{className:"text-blue-600",children:"made effortless"})]}),h.jsx("p",{className:"text-lg sm:text-xl text-slate-600 leading-relaxed mb-8 max-w-lg",children:"Let clients book 24/7. Manage your team, services, and schedule from one beautiful dashboard. No more phone tag."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-10",children:[h.jsxs(at,{to:"/register",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-base shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-600/30 transition-all hover:-translate-y-0.5",children:["Start for Free",h.jsx(gc,{className:"w-4 h-4"})]}),h.jsx("a",{href:"#how-it-works",className:"inline-flex items-center justify-center gap-2 px-7 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold text-base border border-slate-200 transition-all",children:"See How It Works"})]}),h.jsxs("div",{className:"flex items-center gap-5 text-sm text-slate-500",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Ea,{className:"w-4 h-4 text-emerald-500"}),h.jsx("span",{children:"Free to use"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Ea,{className:"w-4 h-4 text-emerald-500"}),h.jsx("span",{children:"No credit card"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Ea,{className:"w-4 h-4 text-emerald-500"}),h.jsx("span",{children:"Setup in 2 min"})]})]})]}),h.jsxs("div",{className:"relative animate-fade-in-up",style:{animationDelay:"150ms"},children:[h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl shadow-slate-200/60 border border-slate-200/80 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-slate-50 border-b border-slate-100",children:[h.jsxs("div",{className:"flex gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),h.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"}),h.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-200"})]}),h.jsx("div",{className:"flex-1 mx-4",children:h.jsx("div",{className:"bg-white border border-slate-200 rounded-lg px-3 py-1.5 text-xs text-slate-400 font-mono",children:"bookflow.app/shop/janes-salon"})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-sm font-bold",children:"J"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-slate-900",children:"Jane's Salon"}),h.jsx("div",{className:"text-xs text-slate-500",children:"Book your next appointment"})]})]}),h.jsx("div",{className:"space-y-2.5",children:[{name:"Haircut & Style",price:"$45",time:"45 min",color:"bg-blue-500"},{name:"Color Treatment",price:"$120",time:"2 hours",color:"bg-violet-500"},{name:"Blowout",price:"$35",time:"30 min",color:"bg-emerald-500"}].map(i=>h.jsxs("div",{className:"flex items-center justify-between p-3.5 bg-slate-50 rounded-xl border border-slate-100 group hover:border-blue-200 hover:bg-blue-50/50 transition-all cursor-default",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-2 h-8 ${i.color} rounded-full`}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-slate-800",children:i.name}),h.jsx("div",{className:"text-xs text-slate-500",children:i.time})]})]}),h.jsx("div",{className:"text-sm font-bold text-slate-900",children:i.price})]},i.name))})]})]}),h.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-white rounded-xl shadow-lg shadow-slate-200/60 border border-slate-100 px-4 py-3 flex items-center gap-3 animate-float",children:[h.jsx("div",{className:"w-9 h-9 bg-emerald-100 rounded-full flex items-center justify-center",children:h.jsx(Ea,{className:"w-5 h-5 text-emerald-600"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Booking confirmed"}),h.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Tomorrow at 2:00 PM"})]})]})]})]})})]}),h.jsx("section",{className:"border-y border-slate-100 bg-slate-50/50",children:h.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-8 sm:py-10",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8 sm:gap-16 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"500+"}),h.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Businesses trust BookFlow"})]}),h.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"10,000+"}),h.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Appointments booked"})]}),h.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl sm:text-3xl font-extrabold text-slate-900",children:["4.9 ",h.jsx(zx,{className:"w-5 h-5 text-amber-400 fill-amber-400"})]}),h.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Average rating"})]})]})})}),h.jsx("section",{className:"py-20 sm:py-28",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[h.jsxs("div",{className:"text-center mb-14",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Everything you need to run your bookings"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Built specifically for beauty professionals, salons, and service businesses. Simple, powerful, and free."})]}),h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children",children:[{icon:h.jsx(Fn,{className:"w-6 h-6"}),title:"Smart Scheduling",desc:"Set weekly hours with breaks. Slots auto-generate so your calendar is always up to date.",color:"bg-blue-100 text-blue-600"},{icon:h.jsx(Es,{className:"w-6 h-6"}),title:"Multi-Staff Support",desc:"Add your whole team. Each member gets their own schedule, hours, and bookings.",color:"bg-violet-100 text-violet-600"},{icon:h.jsx(V4,{className:"w-6 h-6"}),title:"Instant Booking",desc:"Clients pick a service, choose a stylist, and book  all in under a minute.",color:"bg-amber-100 text-amber-600"},{icon:h.jsx(r4,{className:"w-6 h-6"}),title:"Your Own Booking Page",desc:"Get a unique link to share anywhere. No app downloads needed for your clients.",color:"bg-emerald-100 text-emerald-600"}].map(i=>h.jsxs("div",{className:"group bg-white rounded-2xl p-7 border border-slate-200/80 hover:border-slate-300 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[h.jsx("div",{className:`w-12 h-12 ${i.color} rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:i.icon}),h.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:i.title}),h.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:i.desc})]},i.title))})]})}),h.jsx("section",{id:"how-it-works",className:"py-20 sm:py-28 bg-slate-50 border-y border-slate-100",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[h.jsxs("div",{className:"text-center mb-14",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Up and running in minutes"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Three simple steps to start accepting online bookings today."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12 relative",children:[h.jsx("div",{className:"hidden md:block absolute top-14 left-[calc(16.67%+1rem)] right-[calc(16.67%+1rem)] h-px bg-gradient-to-r from-blue-200 via-violet-200 to-emerald-200"}),[{step:"1",title:"Create your account",desc:"Sign up free in 30 seconds. Name your shop and you're in.",color:"from-blue-500 to-blue-600",shadow:"shadow-blue-500/30"},{step:"2",title:"Set up your shop",desc:"Add your services, team, and weekly hours. BookFlow handles the rest.",color:"from-violet-500 to-violet-600",shadow:"shadow-violet-500/30"},{step:"3",title:"Share your link",desc:"Send your booking page to clients. They book, you get notified.",color:"from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/30"}].map(i=>h.jsxs("div",{className:"relative text-center",children:[h.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${i.color} rounded-2xl flex items-center justify-center mx-auto mb-6 text-white text-xl font-extrabold shadow-lg ${i.shadow} relative z-10`,children:i.step}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:i.title}),h.jsx("p",{className:"text-slate-600 leading-relaxed max-w-xs mx-auto",children:i.desc})]},i.step))]})]})}),h.jsx("section",{className:"py-20 sm:py-28",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-5 sm:px-8",children:[h.jsxs("div",{className:"text-center mb-14",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 mb-4",children:"Loved by professionals"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"See why salons and stylists are switching to BookFlow."})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{quote:"BookFlow replaced our paper appointment book. Clients love being able to book online anytime.",name:"Maria Santos",role:"Salon Owner",initials:"MS",color:"bg-blue-100 text-blue-700"},{quote:"Setting up was incredibly easy. I had my booking page live and shared with clients in under 10 minutes.",name:"David Chen",role:"Barber",initials:"DC",color:"bg-violet-100 text-violet-700"},{quote:"The multi-staff feature is perfect. Each stylist manages their own schedule and clients can pick who they want.",name:"Lisa Park",role:"Studio Manager",initials:"LP",color:"bg-emerald-100 text-emerald-700"}].map(i=>h.jsxs("div",{className:"bg-white rounded-2xl p-7 border border-slate-200/80 hover:shadow-lg hover:shadow-slate-200/40 transition-all duration-300",children:[h.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((e,n)=>h.jsx(zx,{className:"w-4 h-4 text-amber-400 fill-amber-400"},n))}),h.jsxs("p",{className:"text-slate-700 leading-relaxed mb-6",children:['"',i.quote,'"']}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 ${i.color} rounded-full flex items-center justify-center text-sm font-bold`,children:i.initials}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-slate-900",children:i.name}),h.jsx("div",{className:"text-xs text-slate-500",children:i.role})]})]})]},i.name))})]})}),h.jsxs("section",{className:"py-20 sm:py-28 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 -z-0",children:[h.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"})]}),h.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto px-5 sm:px-8 text-center",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white mb-6 leading-tight",children:"Ready to streamline your bookings?"}),h.jsx("p",{className:"text-lg text-slate-400 mb-10 max-w-xl mx-auto",children:"Join hundreds of professionals who have ditched the old appointment book. Set up in minutes, free forever."}),h.jsxs(at,{to:"/register",className:"inline-flex items-center gap-2 px-8 py-4 bg-white hover:bg-slate-50 text-slate-900 rounded-xl font-bold text-lg transition-all hover:shadow-xl hover:shadow-white/10 hover:-translate-y-0.5",children:["Create Your Free Account",h.jsx(gc,{className:"w-5 h-5"})]})]})]}),h.jsx("footer",{className:"bg-white border-t border-slate-100",children:h.jsx("div",{className:"max-w-6xl mx-auto px-5 sm:px-8 py-10",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[h.jsx(qx,{}),h.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-500",children:[h.jsx(at,{to:"/register",className:"hover:text-slate-900 transition-colors",children:"Sign Up"}),h.jsx("span",{className:"text-slate-200",children:""}),h.jsx(at,{to:"/login",className:"hover:text-slate-900 transition-colors",children:"Sign In"}),h.jsx("span",{className:"text-slate-200",children:""}),h.jsx("a",{href:"#how-it-works",className:"hover:text-slate-900 transition-colors",children:"How It Works"})]}),h.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," BookFlow. All rights reserved."]})]})})})]})}function P4(i){return i.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function U4(){const i=Gl(),[e,n]=D.useState(""),[a,l]=D.useState(""),[c,f]=D.useState(""),[p,g]=D.useState(""),[y,x]=D.useState(!1),E=P4(e),S=async I=>{if(I.preventDefault(),g(""),!E){g("Please enter a valid shop name");return}if(c.length<6){g("Password must be at least 6 characters");return}x(!0);try{const Y=Mi(_t(ke,"shops"),Oi("slug","==",E));if(!(await Vi(Y)).empty){g("A shop with that name already exists. Please choose a different name."),x(!1);return}const z=(await XA(Ar,a,c)).user;await Hc(_t(ke,"shops"),{name:e.trim(),slug:E,ownerUid:z.uid,ownerEmail:a,createdAt:xg()}),i(`/shop/${E}/dashboard`)}catch(Y){switch(Y.code){case"auth/email-already-in-use":g("An account with this email already exists");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/weak-password":g("Password must be at least 6 characters");break;default:g("Registration failed. Please try again.")}}finally{x(!1)}};return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsxs(at,{to:"/",className:"inline-flex items-center gap-2.5",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:h.jsx(Zl,{className:"w-5 h-5 text-white"})}),h.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Create your shop"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Set up your booking page in seconds  it's free"})]}),h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Shop Name"}),h.jsx("input",{type:"text",value:e,onChange:I=>{n(I.target.value),g("")},placeholder:"Jane's Salon",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"}),E&&h.jsxs("p",{className:"mt-1.5 text-xs text-slate-400",children:["Your page: ",h.jsxs("span",{className:"font-mono text-blue-600 font-medium",children:["bookflow.app/shop/",E]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:a,onChange:I=>{l(I.target.value),g("")},placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),h.jsx("input",{type:"password",value:c,onChange:I=>{f(I.target.value),g("")},placeholder:"At least 6 characters",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{children:""})," ",p]})]}),h.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Creating your shop"]}):h.jsxs(h.Fragment,{children:["Create Shop",h.jsx(gc,{className:"w-4 h-4"})]})})]}),h.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:h.jsxs("p",{className:"text-sm text-slate-500",children:["Already have an account?"," ",h.jsx(at,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Sign in"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs(at,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function z4({user:i}){const e=Gl(),[n,a]=D.useState(""),[l,c]=D.useState(""),[f,p]=D.useState(""),[g,y]=D.useState(!1);D.useState(()=>{if(!i)return;(async()=>{const S=Mi(_t(ke,"shops"),Oi("ownerUid","==",i.uid)),I=await Vi(S);if(!I.empty){const Y=I.docs[0].data();e(`/shop/${Y.slug}/dashboard`,{replace:!0})}})()},[i,e]);const x=async E=>{E.preventDefault(),p(""),y(!0);try{const I=(await X_(Ar,n,l)).user,Y=Mi(_t(ke,"shops"),Oi("ownerUid","==",I.uid)),B=await Vi(Y);if(B.empty){p("No shop found for this account. Need to create one?"),await Ar.signOut(),y(!1);return}const L=B.docs[0].data();e(`/shop/${L.slug}/dashboard`,{replace:!0})}catch(S){switch(S.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":p("Invalid email or password");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please try again.")}c("")}finally{y(!1)}};return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsxs(at,{to:"/",className:"inline-flex items-center gap-2.5",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:h.jsx(Zl,{className:"w-5 h-5 text-white"})}),h.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:n,onChange:E=>{a(E.target.value),p("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),h.jsx("input",{type:"password",value:l,onChange:E=>{c(E.target.value),p("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${f?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),f&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{children:""})," ",f]})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:g?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):h.jsxs(h.Fragment,{children:["Sign In",h.jsx(gc,{className:"w-4 h-4"})]})})]}),h.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:h.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",h.jsx(at,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs(at,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function YE({availableDates:i,selectedDate:e,onSelectDate:n}){const[a,l]=D.useState(new Date),c=z=>{const U=z.getFullYear(),Q=z.getMonth(),le=new Date(U,Q,1),me=new Date(U,Q+1,0).getDate(),A=le.getDay();return{daysInMonth:me,startingDayOfWeek:A,year:U,month:Q}},{daysInMonth:f,startingDayOfWeek:p,year:g,month:y}=c(a),x=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},E=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},S=z=>{const U=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;return i.includes(U)},I=z=>`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`===e,Y=z=>{if(S(z)){const U=`${g}-${String(y+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;n(U)}},B=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return h.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 sm:p-6 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-5",children:[h.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:h.jsx(BE,{className:"w-5 h-5 text-slate-600"})}),h.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[B[y]," ",g]}),h.jsx("button",{onClick:E,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:h.jsx(qE,{className:"w-5 h-5 text-slate-600"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:L.map(z=>h.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:z},z))}),h.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:p}).map((z,U)=>h.jsx("div",{},`empty-${U}`)),Array.from({length:f}).map((z,U)=>{const Q=U+1,le=S(Q),ue=I(Q),me=new Date,A=me.getDate()===Q&&me.getMonth()===y&&me.getFullYear()===g;return h.jsxs("button",{onClick:()=>Y(Q),disabled:!le,className:`
                relative p-2.5 sm:p-3 text-center rounded-lg text-sm font-semibold transition-all duration-200
                ${ue?"bg-blue-600 text-white shadow-md shadow-blue-600/30":le?"bg-emerald-50 text-emerald-700 border border-emerald-200 hover:bg-emerald-100 hover:border-emerald-300 cursor-pointer":A?"text-slate-900 font-bold":"text-slate-300 cursor-not-allowed"}
              `,children:[Q,A&&!ue&&h.jsx("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]},Q)})]}),h.jsxs("div",{className:"mt-4 flex gap-5 text-xs text-slate-500",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 bg-emerald-50 border border-emerald-200 rounded"}),h.jsx("span",{children:"Available"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded"}),h.jsx("span",{children:"Selected"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),h.jsx("span",{children:"Today"})]})]})]})}const B4=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Cl(i){const[e,n]=i.split(":").map(Number);return e*60+n}function Hx(i){const e=Math.floor(i/60),n=i%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function q4(i){const e=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),a=String(i.getDate()).padStart(2,"0");return`${e}-${n}-${a}`}function H4(i,e,n,a,l,c){if(!i)return[];const p=new Date(e+"T12:00:00").getDay(),g=B4[p],y=i[g];if(!y||!y.enabled)return[];const x=Cl(y.start),E=Cl(y.end),S=y.break?Cl(y.break.start):null,I=y.break?Cl(y.break.end):null,Y=n+a,B=[];let L=x;for(;L+n<=E;){const z=L+n;if(S!==null&&I!==null&&L<I&&z>S){L=I;continue}B.push({id:`wh-${l}-${e}-${Hx(L)}`,date:e,time:Hx(L),duration:n,available:!0,staffId:l,staffName:c,generated:!0}),L+=Y}return B}function KE(i,e,n=0,a=4){const l=[],c=new Date;c.setHours(0,0,0,0);const f=new Date(c);f.setDate(f.getDate()+a*7);for(const p of i){if(!p.weeklyHours)continue;const g=new Date(c);for(;g<f;){const y=q4(g),x=H4(p.weeklyHours,y,e,n,p.id,p.name);l.push(...x),g.setDate(g.getDate()+1)}}return l}function QE(i,e,n=0){const a=e.filter(l=>!l.status||l.status==="pending"||l.status==="confirmed");return i.filter(l=>{const c=Cl(l.time),f=c+l.duration;return!a.some(g=>{if(l.staffId&&g.staffId&&g.staffId!==l.staffId||g.date!==l.date)return!1;const y=Cl(g.time),x=g.serviceDuration||g.duration||l.duration,E=y+x;return!(f+n<=y||E+n<=c)})})}function XE(i,e){const n=new Set(e.map(l=>`${l.staffId||""}-${l.date}-${l.time}`)),a=i.filter(l=>{const c=`${l.staffId||""}-${l.date}-${l.time}`;return!n.has(c)});return[...e,...a]}function Eh({name:i,className:e="w-12 h-12",bgClass:n="bg-blue-100 text-blue-700"}){const a=(i||"").split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2);return h.jsx("div",{className:`${e} ${n} rounded-full flex items-center justify-center font-bold text-sm select-none flex-shrink-0`,children:a||"?"})}function F4(){return h.jsxs(at,{to:"/",className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:h.jsx(Zl,{className:"w-3.5 h-3.5 text-white"})}),h.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function G4(){const{slug:i}=ad(),[e,n]=D.useState(null),[a,l]=D.useState(null),[c,f]=D.useState(!0),[p,g]=D.useState(!1),[y,x]=D.useState([]),[E,S]=D.useState([]),[I,Y]=D.useState(null),[B,L]=D.useState(null),[z,U]=D.useState([]),[Q,le]=D.useState([]),[ue,me]=D.useState(!1),[A,N]=D.useState(null),[R,O]=D.useState(null),[k,P]=D.useState(""),[C,De]=D.useState(!1),[Ge,W]=D.useState({name:"",email:"",phone:""}),[ae,be]=D.useState("");D.useEffect(()=>{(async()=>{f(!0),g(!1);try{const Ee=Mi(_t(ke,"shops"),Oi("slug","==",i)),_e=await Vi(Ee);if(_e.empty)g(!0);else{const Ve=_e.docs[0];n(Ve.data()),l(Ve.id)}}catch(Ee){console.error("Error looking up shop:",Ee),g(!0)}finally{f(!1)}})()},[i]),D.useEffect(()=>{if(!a)return;const re=$n(_t(ke,"shops",a,"services"),qe=>{const ot=qe.docs.map(Et=>({id:Et.id,...Et.data()})).filter(Et=>Et.active!==!1).sort((Et,Pt)=>(Et.name||"").localeCompare(Pt.name||""));x(ot)}),Ee=$n(_t(ke,"shops",a,"availability"),qe=>{const ot=new Date,Et=qe.docs.map(Pt=>({id:Pt.id,...Pt.data()})).filter(Pt=>new Date(`${Pt.date}T${Pt.time}`)>ot);U(Et)}),_e=$n(_t(ke,"shops",a,"bookings"),qe=>{const ot=qe.docs.map(Et=>({id:Et.id,...Et.data()}));le(ot)}),Ve=$n(_t(ke,"shops",a,"staff"),qe=>{const ot=qe.docs.map(Et=>({id:Et.id,...Et.data()})).filter(Et=>Et.active!==!1).sort((Et,Pt)=>(Et.name||"").localeCompare(Pt.name||""));S(ot)});return()=>{re(),Ee(),_e(),Ve()}},[a]),D.useEffect(()=>{E.length===1?L(E[0]):E.length===0&&L(null)},[E]);const je=y.length>0;E.length>0;const Fe=E.length>1,M=e?.bufferMinutes||0,Z=D.useMemo(()=>{const re=new Date;let Ee=z.filter(ot=>ot.available);if(I&&(Ee=Ee.filter(ot=>ot.duration>=I.duration)),B&&B!=="any"&&(Ee=Ee.filter(ot=>ot.staffId===B.id||!ot.staffId)),!I)return Ee;const _e=B&&B!=="any"?E.filter(ot=>ot.id===B.id):E,Ve=KE(_e,I.duration,M,4).filter(ot=>new Date(`${ot.date}T${ot.time}`)>re),qe=XE(Ve,Ee);return QE(qe,Q,M)},[z,I,B,E,Q,M]),he=re=>{Y(re),E.length>1&&L(null),O(null),N(null),me(!1),P("")},fe=re=>{L(re),O(null),N(null),me(!1),P("")},Se=()=>{Y(null),E.length>1&&L(null),O(null),N(null),me(!1)},Ne=()=>{O(null),N(null),me(!1),Fe?L(null):je&&Y(null)},Ue=re=>{N(re),me(!0),P("")},pt=()=>{const re="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let Ee="BK";for(let _e=0;_e<4;_e++)Ee+=re.charAt(Math.floor(Math.random()*re.length));return Ee},$e=async re=>{re.preventDefault(),De(!0);try{const Ee=pt(),_e={slotId:A.id,date:A.date,time:A.time,duration:I?I.duration:A.duration,clientName:Ge.name,clientEmail:Ge.email,clientPhone:Ge.phone,bookedAt:new Date().toISOString()};I&&(_e.serviceId=I.id,_e.serviceName=I.name,_e.servicePrice=I.price,_e.serviceDuration=I.duration),B&&B!=="any"?(_e.staffId=B.id,_e.staffName=B.name):A.staffId&&(_e.staffId=A.staffId,_e.staffName=A.staffName||""),_e.status=e?.requireApproval?"pending":"confirmed",_e.refCode=Ee,await Hc(_t(ke,"shops",a,"bookings"),_e),A.generated||await ln(Kt(ke,"shops",a,"availability",A.id),{available:!1}),W({name:"",email:"",phone:""}),me(!1),N(null),Y(null),O(null),L(E.length===1?E[0]:null),be(Ee),e?.requireApproval?P(" Your booking request has been submitted! The shop will review and confirm it shortly."):P(" Booking confirmed! You will receive a confirmation email shortly.")}catch(Ee){console.error("Booking error:",Ee),P(" Something went wrong. Please try again.")}finally{De(!1)}},on=re=>new Date(re+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Jt=re=>{const[Ee,_e]=re.split(":"),Ve=parseInt(Ee),qe=Ve>=12?"PM":"AM";return`${Ve%12||12}:${_e} ${qe}`},wn=re=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(re),H=re=>{if(re<60)return`${re} min`;const Ee=Math.floor(re/60),_e=re%60;return _e?`${Ee}h ${_e}m`:`${Ee} hour${Ee>1?"s":""}`};if(c)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading booking page"})]})});if(p)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:h.jsx(Fn,{className:"w-8 h-8 text-slate-400"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),h.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,h.jsx("span",{className:"font-mono text-blue-600",children:i}),'".']}),h.jsxs(at,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[h.jsx(Ca,{className:"w-4 h-4"}),"Go Home"]})]})});const ce=[...new Set(Z.map(re=>re.date))].sort(),Re=R?Z.filter(re=>re.date===R):Z,Xe=ue?"form":je&&!I?"services":Fe&&!B?"staff":"calendar",oe=[];je&&oe.push({key:"services",label:"Service"}),Fe&&oe.push({key:"staff",label:"Stylist"}),oe.push({key:"calendar",label:"Date & Time"}),oe.push({key:"form",label:"Confirm"});const ye=oe.findIndex(re=>re.key===Xe),Me=["border-l-blue-500","border-l-violet-500","border-l-emerald-500","border-l-amber-500","border-l-rose-500","border-l-cyan-500","border-l-indigo-500","border-l-pink-500","border-l-teal-500"];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[h.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(e.name||"")[0]?.toUpperCase()||"S"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:e.name}),h.jsx("p",{className:"text-xs text-slate-500",children:"Book your appointment"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(at,{to:`/shop/${i}/login`,className:"flex items-center gap-1.5 px-3.5 py-2 text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[h.jsx(HE,{className:"w-3.5 h-3.5"}),h.jsx("span",{className:"hidden sm:inline",children:"Owner"})]}),h.jsx(F4,{})]})]})}),h.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:[oe.length>1&&h.jsx("div",{className:"flex items-center justify-center gap-0 mb-8 animate-fade-in",children:oe.map((re,Ee)=>{const _e=re.key===Xe,Ve=Ee<ye;return h.jsxs(D.Fragment,{children:[Ee>0&&h.jsx("div",{className:`w-8 sm:w-14 h-0.5 transition-colors duration-300 ${Ee<=ye?"bg-blue-500":"bg-slate-200"}`}),h.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[h.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${_e?"bg-blue-600 text-white shadow-md shadow-blue-600/30 scale-110":Ve?"bg-blue-600 text-white":"bg-slate-200 text-slate-500"}`,children:Ve?h.jsx(Ea,{className:"w-5 h-5"}):Ee+1}),h.jsx("span",{className:`text-xs font-medium hidden sm:block transition-colors ${_e?"text-blue-700":Ve?"text-blue-600":"text-slate-400"}`,children:re.label})]})]},re.key)})}),k&&h.jsx("div",{className:"mb-8 animate-scale-in",children:k.startsWith("")?h.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(FE,{className:"w-8 h-8 text-emerald-600"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),h.jsx("p",{className:"text-slate-600 mb-4",children:"You're all set. We'll send a confirmation to your email."}),ae&&h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Your reference"}),h.jsx("p",{className:"text-2xl font-mono font-extrabold text-blue-600 tracking-wider",children:ae})]}),ae&&h.jsxs("div",{className:"mb-4",children:[h.jsxs(at,{to:`/shop/${i}/booking/${ae}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[h.jsx(Gm,{className:"w-4 h-4"}),"Manage Your Booking"]}),h.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Save this link to reschedule or cancel your booking"})]}),h.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg text-sm text-emerald-700 font-medium",children:[h.jsx(Gm,{className:"w-4 h-4"}),"Add to your calendar to remember"]})]}):k.startsWith("")?h.jsxs("div",{className:"bg-white rounded-2xl border border-amber-200 shadow-lg shadow-amber-100/50 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Ni,{className:"w-8 h-8 text-amber-600"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Request Submitted!"}),h.jsx("p",{className:"text-slate-600 mb-4",children:"Your booking request has been submitted! The shop will review and confirm it shortly."}),ae&&h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Your reference"}),h.jsx("p",{className:"text-2xl font-mono font-extrabold text-blue-600 tracking-wider",children:ae})]}),ae&&h.jsxs("div",{className:"mb-4",children:[h.jsxs(at,{to:`/shop/${i}/booking/${ae}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-md shadow-blue-600/20 hover:shadow-lg",children:[h.jsx(Gm,{className:"w-4 h-4"}),"Manage Your Booking"]}),h.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Save this link to reschedule or cancel your booking"})]}),h.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700 font-medium",children:[h.jsx(Ni,{className:"w-4 h-4"}),"You'll be notified once it's confirmed"]})]}):h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 flex items-center gap-3 text-red-800 font-medium",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Something went wrong. Please try again."})]})}),Xe==="services"&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose a Service"}),h.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select the service you'd like to book"})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 stagger-children",children:y.map((re,Ee)=>h.jsxs("button",{onClick:()=>he(re),className:`group text-left bg-white border-l-4 ${Me[Ee%Me.length]} border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors pr-2",children:re.name}),h.jsx("span",{className:"text-xl font-extrabold text-blue-600 whitespace-nowrap",children:wn(re.price)})]}),re.description&&h.jsx("p",{className:"text-sm text-slate-500 mb-3 line-clamp-2 leading-relaxed",children:re.description}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-400",children:[h.jsx(Ni,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:H(re.duration)})]}),h.jsx("span",{className:"text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]})]},re.id))})]}),Xe==="staff"&&h.jsxs("div",{className:"animate-fade-in",children:[je&&I&&h.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[h.jsxs("button",{onClick:Se,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back"]}),h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[h.jsx(br,{className:"w-3.5 h-3.5 text-blue-500"}),h.jsx("span",{className:"font-semibold text-slate-800",children:I.name}),h.jsx("span",{className:"text-blue-600 font-bold",children:wn(I.price)})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose Your Stylist"}),h.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Select your preferred professional"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 stagger-children",children:[h.jsxs("button",{onClick:()=>fe("any"),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[h.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Es,{className:"w-5 h-5 text-slate-500"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Any Available"}),h.jsx("p",{className:"text-xs text-slate-500",children:"First available professional"})]})]}),h.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]}),E.map(re=>h.jsxs("button",{onClick:()=>fe(re),className:"group text-left bg-white border border-slate-200 hover:border-blue-300 rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200/50 hover:-translate-y-0.5",children:[h.jsxs("div",{className:"flex items-center gap-3.5 mb-3",children:[h.jsx(Eh,{name:re.name}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:re.name}),re.role&&h.jsx("p",{className:"text-xs text-slate-500",children:re.role})]})]}),h.jsx("span",{className:"block text-center text-xs font-semibold text-blue-600 group-hover:translate-x-0.5 transition-transform",children:"Select "})]},re.id))]})]}),Xe==="calendar"&&h.jsxs("div",{className:"animate-fade-in",children:[(je||Fe)&&h.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[h.jsxs("button",{onClick:Ne,className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back"]}),I&&h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[h.jsx(br,{className:"w-3.5 h-3.5 text-blue-500"}),h.jsx("span",{className:"font-semibold text-slate-800",children:I.name}),h.jsx("span",{className:"text-blue-600 font-bold",children:wn(I.price)}),h.jsxs("span",{className:"text-slate-400",children:[" ",H(I.duration)]})]}),B&&B!=="any"&&h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-violet-50 border border-violet-200 rounded-lg text-sm",children:[h.jsx(Eh,{name:B.name,className:"w-5 h-5 text-[10px]",bgClass:"bg-violet-200 text-violet-700"}),h.jsx("span",{className:"font-semibold text-slate-800",children:B.name})]}),B==="any"&&h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[h.jsx(Es,{className:"w-3.5 h-3.5 text-slate-500"}),h.jsx("span",{className:"font-semibold text-slate-700",children:"Any Available"})]})]}),ce.length===0?h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Fn,{className:"w-8 h-8 text-slate-400"})}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No available slots"}),h.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:I?`No time slots available for ${I.name} (${H(I.duration)}). Check back soon!`:"Check back soon for new availability!"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Select a Date"}),h.jsx("p",{className:"text-slate-500 text-sm",children:"Pick a day that works for you"})]}),h.jsx("div",{className:"mb-8",children:h.jsx(YE,{availableDates:ce,selectedDate:R,onSelectDate:O})}),R&&h.jsxs("div",{className:"animate-slide-down",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Times for ",on(R)]}),h.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[Re.length," slot",Re.length!==1?"s":""]})]}),Re.length===0?h.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:h.jsx("p",{className:"text-slate-500",children:"No slots available for this date"})}):h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 stagger-children",children:Re.sort((re,Ee)=>re.time.localeCompare(Ee.time)).map(re=>h.jsxs("button",{onClick:()=>Ue(re),className:"group bg-white border border-slate-200 hover:border-blue-400 rounded-xl p-4 transition-all duration-200 hover:shadow-md hover:shadow-blue-100/50 hover:-translate-y-0.5 text-center",children:[h.jsx("div",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors mb-1",children:Jt(re.time)}),re.staffName&&B==="any"&&h.jsxs("div",{className:"text-xs text-violet-600 mb-0.5 flex items-center justify-center gap-1",children:[h.jsx(Es,{className:"w-3 h-3"}),re.staffName]}),h.jsx("div",{className:"text-xs text-slate-400",children:I?H(I.duration):`${re.duration} min`})]},re.id))})]}),!R&&h.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Select a date above to see available times"})]})]}),Xe==="form"&&h.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Complete Your Booking"}),h.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Review your details and confirm"}),h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 mb-6 space-y-3",children:[I&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(br,{className:"w-4 h-4 text-blue-600"})}),h.jsx("span",{className:"font-semibold text-slate-800",children:I.name})]}),h.jsx("span",{className:"font-bold text-blue-600",children:wn(I.price)})]}),B&&B!=="any"&&h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx(Eh,{name:B.name,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-slate-800",children:B.name}),B.role&&h.jsxs("span",{className:"text-slate-400 text-sm ml-1.5",children:[" ",B.role]})]})]}),B==="any"&&A?.staffName&&h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx(Eh,{name:A.staffName,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),h.jsx("span",{className:"font-semibold text-slate-800",children:A.staffName})]}),h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:h.jsx(Fn,{className:"w-4 h-4 text-slate-600"})}),h.jsxs("span",{className:"font-semibold text-slate-800",children:[on(A.date)," at ",Jt(A.time)]})]}),h.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-slate-500",children:[h.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:h.jsx(Ni,{className:"w-4 h-4 text-slate-500"})}),h.jsx("span",{children:I?H(I.duration):`${A.duration} min`})]})]}),h.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Full Name"}),h.jsx("input",{type:"text",value:Ge.name,onChange:re=>W({...Ge,name:re.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:Ge.email,onChange:re=>W({...Ge,email:re.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Phone Number"}),h.jsx("input",{type:"tel",value:Ge.phone,onChange:re=>W({...Ge,phone:re.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"submit",disabled:C,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:C?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Booking"]}):h.jsxs(h.Fragment,{children:[h.jsx(Ea,{className:"w-4 h-4"}),"Confirm Booking"]})}),h.jsx("button",{type:"button",onClick:()=>{me(!1),N(null)},className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})]}),h.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:h.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:h.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",h.jsx(at,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function $4({slotsByDate:i,bookingsByDate:e,selectedDate:n,onSelectDate:a,recurringDayFlags:l={}}){const[c,f]=D.useState(new Date),p=le=>{const ue=le.getFullYear(),me=le.getMonth(),A=new Date(ue,me,1),R=new Date(ue,me+1,0).getDate(),O=A.getDay();return{daysInMonth:R,startingDayOfWeek:O,year:ue,month:me}},{daysInMonth:g,startingDayOfWeek:y,year:x,month:E}=p(c),S=()=>{f(new Date(c.getFullYear(),c.getMonth()-1))},I=()=>{f(new Date(c.getFullYear(),c.getMonth()+1))},Y=le=>`${x}-${String(E+1).padStart(2,"0")}-${String(le).padStart(2,"0")}`,B=le=>{const ue=Y(le),me=i[ue]||[],A=e[ue]||[],N=me.filter(O=>O.available).length,R=A.length;return{availableCount:N,bookedCount:R,hasData:me.length>0||A.length>0}},L=le=>{const ue=Y(le);a(ue===n?null:ue)},z=["January","February","March","April","May","June","July","August","September","October","November","December"],U=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=new Date;return Q.setHours(0,0,0,0),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-5",children:[h.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:h.jsx(BE,{className:"w-5 h-5 text-slate-600"})}),h.jsxs("h3",{className:"text-base font-bold text-slate-900",children:[z[E]," ",x]}),h.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:h.jsx(qE,{className:"w-5 h-5 text-slate-600"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1.5 mb-1.5",children:U.map(le=>h.jsx("div",{className:"text-center text-xs font-semibold text-slate-400 py-2 uppercase tracking-wider",children:le},le))}),h.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:y}).map((le,ue)=>h.jsx("div",{},`empty-${ue}`)),Array.from({length:g}).map((le,ue)=>{const me=ue+1,A=Y(me),{availableCount:N,bookedCount:R,hasData:O}=B(me),k=A===n,P=new Date,C=P.getDate()===me&&P.getMonth()===E&&P.getFullYear()===x,De=new Date(x,E,me),Ge=De.getDay(),W=l[Ge]&&De>=Q;return h.jsxs("button",{onClick:()=>L(me),className:`
                relative p-2 text-center rounded-lg text-sm font-semibold transition-all duration-200 min-h-[56px] flex flex-col items-center justify-start cursor-pointer
                ${k?"bg-blue-600 text-white shadow-md shadow-blue-600/30":O||W?"bg-slate-50 hover:bg-slate-100 text-slate-900 border border-slate-200 hover:border-slate-300":C?"text-slate-900 font-bold hover:bg-slate-50":"text-slate-400 hover:bg-slate-50"}
              `,children:[h.jsxs("span",{className:`text-sm ${C&&!k?"relative":""}`,children:[me,C&&!k&&h.jsx("span",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full"})]}),(O||W)&&h.jsxs("div",{className:"flex gap-0.5 mt-1 flex-wrap justify-center",children:[W&&h.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${k?"bg-white/20 text-white":"bg-violet-100 text-violet-700"}`,children:"R"}),N>0&&h.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${k?"bg-white/20 text-white":"bg-emerald-100 text-emerald-700"}`,children:N}),R>0&&h.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${k?"bg-white/20 text-white":"bg-blue-100 text-blue-700"}`,children:R})]})]},me)})]}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-500",children:[Object.keys(l).length>0&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3.5 h-3.5 bg-violet-100 border border-violet-200 rounded flex items-center justify-center text-[7px] font-bold text-violet-700",children:"R"}),h.jsx("span",{children:"Recurring"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3.5 h-3.5 bg-emerald-100 border border-emerald-200 rounded"}),h.jsx("span",{children:"Available"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3.5 h-3.5 bg-blue-100 border border-blue-200 rounded"}),h.jsx("span",{children:"Booked"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3.5 h-3.5 bg-blue-600 rounded"}),h.jsx("span",{children:"Selected"})]})]})]})}const Y4=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}];function K4({shopId:i}){const[e,n]=D.useState([]),[a,l]=D.useState(!1),[c,f]=D.useState(null),[p,g]=D.useState({name:"",description:"",duration:30,price:""}),[y,x]=D.useState(!1);D.useEffect(()=>{if(!i)return;const z=$n(_t(ke,"shops",i,"services"),U=>{const Q=U.docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.active!==!1).sort((le,ue)=>(le.name||"").localeCompare(ue.name||""));n(Q)});return()=>z()},[i]);const E=()=>{g({name:"",description:"",duration:30,price:""}),l(!1),f(null)},S=async z=>{z.preventDefault(),x(!0);const U={name:p.name.trim(),description:p.description.trim(),duration:parseInt(p.duration),price:parseFloat(p.price),active:!0};try{c?await ln(Kt(ke,"shops",i,"services",c),U):await Hc(_t(ke,"shops",i,"services"),{...U,createdAt:xg()}),E()}catch(Q){console.error("Error saving service:",Q)}finally{x(!1)}},I=z=>{g({name:z.name,description:z.description||"",duration:z.duration,price:z.price.toString()}),f(z.id),l(!0)},Y=async z=>{try{await ln(Kt(ke,"shops",i,"services",z),{active:!1})}catch(U){console.error("Error deleting service:",U)}},B=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),L=z=>{if(z<60)return`${z} min`;const U=Math.floor(z/60),Q=z%60;return Q?`${U}h ${Q}m`:`${U}h`};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services"}),h.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Define the services you offer  clients will pick one before booking"})]}),!a&&h.jsxs("button",{onClick:()=>{E(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[h.jsx(Sg,{className:"w-4 h-4"}),"Add Service"]})]}),a&&h.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:c?"Edit Service":"New Service"}),h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),h.jsx("input",{type:"text",value:p.name,onChange:z=>g({...p,name:z.target.value}),required:!0,placeholder:"e.g. Haircut",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (optional)"}),h.jsx("input",{type:"text",value:p.description,onChange:z=>g({...p,description:z.target.value}),placeholder:"e.g. Classic cut and style",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),h.jsx("select",{value:p.duration,onChange:z=>g({...p,duration:z.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:Y4.map(z=>h.jsx("option",{value:z.value,children:z.label},z.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:"$"}),h.jsx("input",{type:"number",step:"0.01",min:"0",value:p.price,onChange:z=>g({...p,price:z.target.value}),required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsxs("button",{type:"submit",disabled:y,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[h.jsx(Tg,{className:"w-4 h-4"}),y?"Saving":c?"Update Service":"Add Service"]}),h.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[h.jsx(sd,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"text-5xl mb-3",children:""}),h.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No services yet"}),h.jsx("p",{className:"text-sm text-slate-600",children:"Add your first service so clients can choose what to book"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(z=>h.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900",children:z.name}),z.description&&h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:z.description})]}),h.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap ml-3",children:B(z.price)})]}),h.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Ni,{className:"w-4 h-4"}),L(z.duration)]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>I(z),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[h.jsx(GE,{className:"w-3.5 h-3.5"}),"Edit"]}),h.jsx("button",{onClick:()=>Y(z.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:h.jsx(nd,{className:"w-3.5 h-3.5"})})]})]},z.id))})]})}const $m=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],Q4={enabled:!1,start:"09:00",end:"17:00",break:null};function X4({shopId:i,staffId:e,staffName:n,weeklyHours:a,onClose:l}){const[c,f]=D.useState(()=>{const L={};for(const z of $m){const U=a?.[z.key];U?L[z.key]={enabled:!!U.enabled,start:U.start||"09:00",end:U.end||"17:00",break:U.break?{start:U.break.start,end:U.break.end}:null}:L[z.key]={...Q4}}return L}),[p,g]=D.useState(!1),[y,x]=D.useState(null),E=(L,z,U)=>{f(Q=>({...Q,[L]:{...Q[L],[z]:U}}))},S=L=>{f(z=>({...z,[L]:{...z[L],break:z[L].break?null:{start:"12:00",end:"13:00"}}}))},I=(L,z,U)=>{f(Q=>({...Q,[L]:{...Q[L],break:{...Q[L].break,[z]:U}}}))},Y=L=>{const z=c[L];f(U=>{const Q={...U};for(const le of $m)le.key!==L&&(Q[le.key]={enabled:z.enabled,start:z.start,end:z.end,break:z.break?{...z.break}:null});return Q}),x(L),setTimeout(()=>x(null),1500)},B=async()=>{g(!0);try{await ln(Kt(ke,"shops",i,"staff",e),{weeklyHours:c}),l()}catch(L){console.error("Error saving weekly hours:",L)}finally{g(!1)}};return h.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Weekly Hours"}),h.jsx("p",{className:"text-sm text-slate-500",children:n})]}),h.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:h.jsx(sd,{className:"w-5 h-5 text-slate-400"})})]}),h.jsx("div",{className:"space-y-3",children:$m.map(({key:L,label:z})=>{const U=c[L];return h.jsx("div",{className:`rounded-xl p-4 transition-all ${U.enabled?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-[140px]",children:[h.jsx("button",{type:"button",onClick:()=>E(L,"enabled",!U.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${U.enabled?"bg-blue-500":"bg-slate-300"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${U.enabled?"translate-x-6":"translate-x-1"}`})}),h.jsx("span",{className:`font-semibold text-sm ${U.enabled?"text-slate-900":"text-slate-400"}`,children:z})]}),U.enabled?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ni,{className:"w-4 h-4 text-blue-500"}),h.jsx("input",{type:"time",value:U.start,onChange:Q=>E(L,"start",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsx("span",{className:"text-slate-400 text-sm",children:"to"}),h.jsx("input",{type:"time",value:U.end,onChange:Q=>E(L,"end",Q.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{type:"button",onClick:()=>S(L),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${U.break?"bg-amber-100 text-amber-700 border border-amber-200":"bg-slate-100 text-slate-500 border border-slate-200 hover:bg-slate-200"}`,children:[h.jsx(n4,{className:"w-3.5 h-3.5"}),U.break?"Break":"+ Break"]}),U.break&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("input",{type:"time",value:U.break.start,onChange:Q=>I(L,"start",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"}),h.jsx("span",{className:"text-slate-400 text-xs",children:""}),h.jsx("input",{type:"time",value:U.break.end,onChange:Q=>I(L,"end",Q.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"})]})]}),h.jsx("button",{type:"button",onClick:()=>Y(L),className:"text-xs text-blue-500 hover:text-blue-700 font-medium transition-colors whitespace-nowrap",children:y===L?" Copied!":"Copy to all"})]}):h.jsx("span",{className:"text-sm text-slate-400 italic",children:"Day off"})]})},L)})}),h.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200",children:[h.jsxs("button",{onClick:B,disabled:p,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[h.jsx(b4,{className:"w-4 h-4"}),p?"Saving":"Save Hours"]}),h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[h.jsx(sd,{className:"w-4 h-4"}),"Cancel"]})]})]})}const W4=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function Fx(i){if(!i)return"";const[e,n]=i.split(":").map(Number),a=e>=12?"p":"a",l=e%12||12;return n===0?`${l}${a}`:`${l}:${n.toString().padStart(2,"0")}${a}`}function J4({shopId:i}){const[e,n]=D.useState([]),[a,l]=D.useState(!1),[c,f]=D.useState(null),[p,g]=D.useState(null),[y,x]=D.useState({name:"",role:""}),[E,S]=D.useState(!1);D.useEffect(()=>{if(!i)return;const U=$n(_t(ke,"shops",i,"staff"),Q=>{const le=Q.docs.map(ue=>({id:ue.id,...ue.data()})).filter(ue=>ue.active!==!1).sort((ue,me)=>(ue.name||"").localeCompare(me.name||""));n(le)});return()=>U()},[i]);const I=()=>{x({name:"",role:""}),l(!1),f(null)},Y=async U=>{U.preventDefault(),S(!0);const Q={name:y.name.trim(),role:y.role.trim(),active:!0};try{c?await ln(Kt(ke,"shops",i,"staff",c),Q):await Hc(_t(ke,"shops",i,"staff"),{...Q,email:"",createdAt:xg()}),I()}catch(le){console.error("Error saving staff member:",le)}finally{S(!1)}},B=U=>{x({name:U.name,role:U.role||""}),f(U.id),l(!0)},L=async U=>{try{await ln(Kt(ke,"shops",i,"staff",U),{active:!1})}catch(Q){console.error("Error deleting staff member:",Q)}},z=U=>{if(!U)return null;const Q=W4.filter(le=>U[le.key]?.enabled);return Q.length===0?null:Q.map(le=>{const ue=U[le.key];return`${le.short} ${Fx(ue.start)}${Fx(ue.end)}`})};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Staff"}),h.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your team  assign availability and bookings per staff member"})]}),!a&&h.jsxs("button",{onClick:()=>{I(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[h.jsx(Sg,{className:"w-4 h-4"}),"Add Staff"]})]}),a&&h.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:c?"Edit Staff Member":"New Staff Member"}),h.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),h.jsx("input",{type:"text",value:y.name,onChange:U=>x({...y,name:U.target.value}),required:!0,placeholder:"e.g. Jane Smith",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role (optional)"}),h.jsx("input",{type:"text",value:y.role,onChange:U=>x({...y,role:U.target.value}),placeholder:"e.g. Senior Stylist",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsxs("button",{type:"submit",disabled:E,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[h.jsx(Tg,{className:"w-4 h-4"}),E?"Saving":c?"Update Staff":"Add Staff"]}),h.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[h.jsx(sd,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"text-5xl mb-3",children:""}),h.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No staff members yet"}),h.jsx("p",{className:"text-sm text-slate-600",children:"Add your team members to assign them availability and bookings"})]}):h.jsx("div",{className:"space-y-4",children:e.map(U=>{const Q=z(U.weeklyHours);return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900",children:U.name}),U.role&&h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:U.role})]}),h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Es,{className:"w-5 h-5 text-blue-600"})})]}),Q?h.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:Q.map((le,ue)=>h.jsx("span",{className:"inline-block px-2 py-0.5 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium",children:le},ue))}):h.jsx("p",{className:"text-xs text-slate-400 mb-3 italic",children:"No weekly hours set"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>g(p===U.id?null:U.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border ${p===U.id?"bg-blue-100 text-blue-700 border-blue-300":"bg-slate-100 hover:bg-slate-200 text-slate-700 border-slate-200"}`,children:[h.jsx(Ni,{className:"w-3.5 h-3.5"}),"Set Hours"]}),h.jsxs("button",{onClick:()=>B(U),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[h.jsx(GE,{className:"w-3.5 h-3.5"}),"Edit"]}),h.jsx("button",{onClick:()=>L(U.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:h.jsx(nd,{className:"w-3.5 h-3.5"})})]})]}),p===U.id&&h.jsx("div",{className:"mt-2",children:h.jsx(X4,{shopId:i,staffId:U.id,staffName:U.name,weeklyHours:U.weeklyHours,onClose:()=>g(null)})})]},U.id)})})]})}const Gx=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function wh(i){if(!i)return"";const[e,n]=i.split(":").map(Number),a=e>=12?"PM":"AM",l=e%12||12;return n===0?`${l}${a}`:`${l}:${n.toString().padStart(2,"0")}${a}`}function Z4({user:i}){const{slug:e}=ad(),n=Gl(),[a,l]=D.useState(null),[c,f]=D.useState(null),[p,g]=D.useState(!0),[y,x]=D.useState(!1),[E,S]=D.useState([]),[I,Y]=D.useState([]),[B,L]=D.useState([]),[z,U]=D.useState("schedule"),[Q,le]=D.useState(null),[ue,me]=D.useState("all"),[A,N]=D.useState("all"),[R,O]=D.useState({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""});D.useEffect(()=>{if(!i){n(`/shop/${e}/login`,{replace:!0});return}(async()=>{g(!0);try{const ce=Mi(_t(ke,"shops"),Oi("slug","==",e)),Re=await Vi(ce);if(Re.empty){x(!0),g(!1);return}const Ye=Re.docs[0],Xe=Ye.data();if(Xe.ownerUid!==i.uid){x(!0),g(!1);return}l(Xe),f(Ye.id)}catch(ce){console.error("Error checking ownership:",ce),x(!0)}finally{g(!1)}})()},[i,e,n]),D.useEffect(()=>{if(!c)return;const H=$n(_t(ke,"shops",c,"availability"),Ye=>{const Xe=Ye.docs.map(oe=>({id:oe.id,...oe.data()}));S(Xe)}),ce=$n(_t(ke,"shops",c,"bookings"),Ye=>{const Xe=Ye.docs.map(oe=>({id:oe.id,...oe.data()}));Y(Xe)}),Re=$n(_t(ke,"shops",c,"staff"),Ye=>{const Xe=Ye.docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.active!==!1).sort((oe,ye)=>(oe.name||"").localeCompare(ye.name||""));L(Xe)});return()=>{H(),ce(),Re()}},[c]);const k=async()=>{await eR(Ar),n(`/shop/${e}`,{replace:!0})},P=async H=>{H.preventDefault();const{date:ce,startTime:Re,endTime:Ye,slotDuration:Xe,staffId:oe}=R,ye=parseInt(Xe),[Me,re]=Re.split(":").map(Number),[Ee,_e]=Ye.split(":").map(Number),Ve=Me*60+re,qe=Ee*60+_e;let ot=Ve;for(;ot+ye<=qe;){const Et=Math.floor(ot/60),Pt=ot%60,kr=`${Et.toString().padStart(2,"0")}:${Pt.toString().padStart(2,"0")}`,Pi={date:ce,time:kr,duration:ye,available:!0};if(oe){const Mr=B.find(Or=>Or.id===oe);Pi.staffId=oe,Pi.staffName=Mr?.name||""}await Hc(_t(ke,"shops",c,"availability"),Pi),ot+=ye}O({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""})},C=async H=>{await M5(Kt(ke,"shops",c,"availability",H))},De=async H=>{const ce=I.find(Re=>Re.id===H);if(await ln(Kt(ke,"shops",c,"bookings",H),{status:"cancelled"}),ce&&ce.slotId&&!ce.slotId.startsWith("wh-"))try{await ln(Kt(ke,"shops",c,"availability",ce.slotId),{available:!0})}catch(Re){console.warn("Could not re-open slot:",Re)}},Ge=async H=>{await ln(Kt(ke,"shops",c,"bookings",H),{status:"confirmed"})},W=async H=>{const ce=I.find(Re=>Re.id===H);if(await ln(Kt(ke,"shops",c,"bookings",H),{status:"rejected"}),ce&&ce.slotId&&!ce.slotId.startsWith("wh-"))try{await ln(Kt(ke,"shops",c,"availability",ce.slotId),{available:!0})}catch(Re){console.warn("Could not re-open slot:",Re)}},ae=async()=>{const H=!a?.requireApproval;try{await ln(Kt(ke,"shops",c),{requireApproval:H}),l(ce=>({...ce,requireApproval:H}))}catch(ce){console.error("Error updating requireApproval:",ce)}},be=async H=>{const ce=parseInt(H);try{await ln(Kt(ke,"shops",c),{bufferMinutes:ce}),l(Re=>({...Re,bufferMinutes:ce}))}catch(Re){console.error("Error updating buffer minutes:",Re)}},je=(H,ce)=>new Date(`${H}T${ce}`).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),Fe=D.useMemo(()=>{const H={},ce=ue==="all"?B:B.filter(Ye=>Ye.id===ue),Re=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(const Ye of ce)Ye.weeklyHours&&Re.forEach((Xe,oe)=>{Ye.weeklyHours[Xe]?.enabled&&(H[oe]=!0)});return H},[B,ue]),M=D.useMemo(()=>(ue==="all"?B:B.filter(ce=>ce.id===ue)).filter(ce=>ce.weeklyHours?Gx.some(Re=>ce.weeklyHours[Re.key]?.enabled):!1),[B,ue]),Z=D.useMemo(()=>{const H=new Date,ce=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`,Re=H.getDay(),Ye=Re===0?-6:1-Re,Xe=new Date(H);Xe.setDate(H.getDate()+Ye),Xe.setHours(0,0,0,0);const oe=new Date(Xe);oe.setDate(Xe.getDate()+6),oe.setHours(23,59,59,999);const ye=`${Xe.getFullYear()}-${String(Xe.getMonth()+1).padStart(2,"0")}-${String(Xe.getDate()).padStart(2,"0")}`,Me=`${oe.getFullYear()}-${String(oe.getMonth()+1).padStart(2,"0")}-${String(oe.getDate()).padStart(2,"0")}`,re=I.filter(Ve=>Ve.date===ce).length,Ee=I.filter(Ve=>Ve.date>=ye&&Ve.date<=Me).length,_e=new Set(I.map(Ve=>Ve.clientEmail?.toLowerCase()).filter(Boolean)).size;return{todayBookings:re,weekBookings:Ee,uniqueClients:_e,totalBookings:I.length}},[I]),he=D.useMemo(()=>I.filter(H=>H.status==="pending").length,[I]);if(p)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading dashboard"})]})});if(y)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:h.jsx(HE,{className:"w-8 h-8 text-red-500"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Unauthorized"}),h.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have access to this dashboard."}),h.jsx(at,{to:`/shop/${e}/login`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:"Login"})]})});const fe=ue==="all"?E:E.filter(H=>H.staffId===ue),Se=ue==="all"?I:I.filter(H=>H.staffId===ue),Ne=fe.reduce((H,ce)=>(H[ce.date]||(H[ce.date]=[]),H[ce.date].push(ce),H),{}),Ue=Se.reduce((H,ce)=>(H[ce.date]||(H[ce.date]=[]),H[ce.date].push(ce),H),{}),pt=Q?Object.keys(Ne).filter(H=>H===Q).sort():Object.keys(Ne).sort(),$e=Q?Se.filter(H=>H.date===Q):Se,on=A==="all"?$e:A==="pending"?$e.filter(H=>H.status==="pending"):A==="confirmed"?$e.filter(H=>!H.status||H.status==="confirmed"):$e.filter(H=>H.status==="cancelled"||H.status==="rejected"),Jt={all:$e.length,pending:$e.filter(H=>H.status==="pending").length,confirmed:$e.filter(H=>!H.status||H.status==="confirmed").length,cancelled:$e.filter(H=>H.status==="cancelled"||H.status==="rejected").length},wn=[{key:"schedule",label:"Schedule",icon:Fn},{key:"staff",label:"Staff",icon:Es},{key:"services",label:"Services",icon:br},{key:"settings",label:"Settings",icon:E4}];return h.jsxs("div",{className:"min-h-screen bg-slate-50",children:[h.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(a.name||"")[0]?.toUpperCase()||"S"}),h.jsxs("div",{className:"hidden sm:block",children:[h.jsx("h1",{className:"text-base font-bold text-slate-900 leading-tight",children:a.name}),h.jsx("p",{className:"text-xs text-slate-500",children:"Dashboard"})]})]}),h.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-xl",children:wn.map(H=>{const ce=H.icon;return h.jsxs("button",{onClick:()=>U(H.key),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${z===H.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[h.jsx(ce,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:H.label}),H.key==="schedule"&&he>0&&h.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-amber-500 text-white text-[10px] font-bold rounded-full leading-none",children:he})]},H.key)})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(at,{to:`/shop/${e}`,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-all border border-transparent hover:border-slate-200",children:[h.jsx(i4,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"View Page"})]}),h.jsxs("button",{onClick:k,className:"flex items-center gap-1.5 px-3.5 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all",children:[h.jsx(c4,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[z==="schedule"&&h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 animate-fade-in",children:[{label:"Today's Bookings",value:Z.todayBookings,icon:Ux,color:"bg-blue-100 text-blue-600"},{label:"This Week",value:Z.weekBookings,icon:C4,color:"bg-violet-100 text-violet-600"},{label:"Total Bookings",value:Z.totalBookings,icon:K5,color:"bg-emerald-100 text-emerald-600"},{label:"Unique Clients",value:Z.uniqueClients,icon:Es,color:"bg-amber-100 text-amber-600"}].map(H=>{const ce=H.icon;return h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-all",children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("div",{className:`w-10 h-10 ${H.color} rounded-xl flex items-center justify-center`,children:h.jsx(ce,{className:"w-5 h-5"})})}),h.jsx("div",{className:"text-2xl font-extrabold text-slate-900",children:H.value}),h.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:H.label})]},H.label)})}),z==="staff"&&h.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:h.jsx(J4,{shopId:c})}),z==="services"&&h.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:h.jsx(K4,{shopId:c})}),z==="settings"&&h.jsx("div",{className:"max-w-2xl animate-fade-in",children:h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-1",children:"Shop Settings"}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Configure your booking preferences"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200",children:[h.jsxs("div",{className:"pr-4",children:[h.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Require Booking Approval"}),h.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Review and approve bookings before they're confirmed"})]}),h.jsx("button",{type:"button",onClick:ae,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${a?.requireApproval?"bg-blue-500":"bg-slate-300"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${a?.requireApproval?"translate-x-6":"translate-x-1"}`})})]}),a?.requireApproval&&h.jsxs("div",{className:"p-3.5 bg-amber-50 border border-amber-200 rounded-xl text-xs text-amber-800 leading-relaxed",children:[h.jsx("strong",{children:" Approval mode is on."}),' New bookings will appear as "Pending" until you approve or reject them. Time slots are held while pending to prevent double-booking.']}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200",children:[h.jsxs("div",{className:"pr-4",children:[h.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Buffer Time Between Bookings"}),h.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Add a gap between consecutive appointments"})]}),h.jsxs("select",{value:a?.bufferMinutes||0,onChange:H=>be(H.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium flex-shrink-0",children:[h.jsx("option",{value:"0",children:"No buffer"}),h.jsx("option",{value:"5",children:"5 minutes"}),h.jsx("option",{value:"10",children:"10 minutes"}),h.jsx("option",{value:"15",children:"15 minutes"}),h.jsx("option",{value:"30",children:"30 minutes"})]})]})]})]})}),z==="schedule"&&h.jsxs("div",{className:"animate-fade-in",children:[B.length>0&&h.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5",children:"Filter by Staff"}),h.jsxs("select",{value:ue,onChange:H=>me(H.target.value),className:"px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[h.jsx("option",{value:"all",children:"All Staff"}),B.map(H=>h.jsxs("option",{value:H.id,children:[H.name,H.role?`  ${H.role}`:""]},H.id))]})]})}),M.length>0&&h.jsxs("div",{className:"mb-6 bg-violet-50 border border-violet-200 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx($E,{className:"w-4 h-4 text-violet-600"}),h.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Recurring Weekly Hours"})]}),h.jsx("div",{className:"space-y-2.5",children:M.map(H=>{const ce=Gx.filter(Re=>H.weeklyHours[Re.key]?.enabled);return h.jsxs("div",{className:"flex items-start gap-2.5",children:[h.jsx("div",{className:"w-7 h-7 bg-violet-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx(Es,{className:"w-3.5 h-3.5 text-violet-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:H.name}),h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ce.map(Re=>{const Ye=H.weeklyHours[Re.key];return h.jsxs("span",{className:"inline-block px-2 py-0.5 bg-white text-violet-700 border border-violet-200 rounded text-xs font-medium",children:[Re.short," ",wh(Ye.start),"",wh(Ye.end),Ye.break&&h.jsxs("span",{className:"text-amber-600 ml-1",children:["(break ",wh(Ye.break.start),"",wh(Ye.break.end),")"]})]},Re.key)})})]})]},H.id)})}),h.jsx("p",{className:"text-xs text-violet-500 mt-3",children:"Slots auto-generate on the booking page. Manage hours in the Staff tab."})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 mb-6",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Monthly Overview"}),h.jsx($4,{slotsByDate:Ne,bookingsByDate:Ue,selectedDate:Q,onSelectDate:le,recurringDayFlags:Fe}),Q&&h.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[h.jsxs("span",{className:"text-sm text-slate-600",children:["Showing: ",h.jsx("strong",{className:"text-slate-900",children:new Date(Q+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),h.jsx("button",{onClick:()=>le(null),className:"text-xs px-3 py-1 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all border border-slate-200",children:"Show All"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-1",children:M.length>0?"Add Custom Slots":"Create Time Slots"}),M.length>0&&h.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Use this for one-off availability outside regular hours."}),!M.length&&h.jsx("div",{className:"mb-4"}),h.jsxs("form",{onSubmit:P,className:"space-y-4",children:[B.length>0&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Staff Member"}),h.jsxs("select",{value:R.staffId,onChange:H=>O({...R,staffId:H.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[h.jsx("option",{value:"",children:"Select a staff member"}),B.map(H=>h.jsxs("option",{value:H.id,children:[H.name,H.role?`  ${H.role}`:""]},H.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Date"}),h.jsx("input",{type:"date",value:R.date,onChange:H=>O({...R,date:H.target.value}),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Start"}),h.jsx("input",{type:"time",value:R.startTime,onChange:H=>O({...R,startTime:H.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"End"}),h.jsx("input",{type:"time",value:R.endTime,onChange:H=>O({...R,endTime:H.target.value}),required:!0,className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Slot Duration"}),h.jsxs("select",{value:R.slotDuration,onChange:H=>O({...R,slotDuration:H.target.value}),className:"w-full px-3.5 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[h.jsx("option",{value:"15",children:"15 minutes"}),h.jsx("option",{value:"30",children:"30 minutes"}),h.jsx("option",{value:"45",children:"45 minutes"}),h.jsx("option",{value:"60",children:"1 hour"}),h.jsx("option",{value:"90",children:"1.5 hours"}),h.jsx("option",{value:"120",children:"2 hours"})]})]}),h.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[h.jsx(Sg,{className:"w-4 h-4"}),"Generate Slots"]})]}),h.jsxs("div",{className:"mt-4 p-3.5 bg-blue-50 border border-blue-100 rounded-xl text-xs text-slate-600 leading-relaxed",children:[h.jsx("strong",{className:"text-slate-700",children:" Tip:"})," ",M.length>0?"Weekly hours auto-generate slots. Use this for one-off slots outside regular hours.":B.length>0?"Select a staff member, pick a date, and set working hours to create slots.":"Set your hours and slot duration. We'll create all the time slots for that day."]})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Bookings":"All Bookings"}),Jt.pending>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 border border-amber-200 text-xs font-bold rounded-full",children:[Jt.pending," pending"]})]}),h.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-lg",children:on.length})]}),h.jsx("div",{className:"flex items-center gap-1 mb-4 p-1 bg-slate-100 rounded-lg overflow-x-auto",children:[{key:"all",label:"All"},{key:"pending",label:"Pending"},{key:"confirmed",label:"Confirmed"},{key:"cancelled",label:"Cancelled"}].map(H=>h.jsxs("button",{onClick:()=>N(H.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-semibold transition-all whitespace-nowrap ${A===H.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[H.label,h.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] leading-none ${A===H.key?"bg-blue-100 text-blue-700":"bg-slate-200 text-slate-500"}`,children:Jt[H.key]})]},H.key))}),on.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:h.jsx(Ux,{className:"w-6 h-6 text-slate-400"})}),h.jsx("p",{className:"text-sm text-slate-500 font-medium",children:A!=="all"?`No ${A} bookings`:Q?"No bookings for this date":"No bookings yet"})]}):h.jsx("div",{className:"space-y-2.5 max-h-[500px] overflow-y-auto pr-1",children:on.sort((H,ce)=>`${H.date}${H.time}`.localeCompare(`${ce.date}${ce.time}`)).map(H=>{const ce=H.status||"confirmed",Re={pending:"bg-amber-50 text-amber-700 border-amber-200",confirmed:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-red-50 text-red-700 border-red-200",cancelled:"bg-slate-100 text-slate-500 border-slate-200"},Ye={pending:"Pending",confirmed:"Confirmed",rejected:"Rejected",cancelled:"Cancelled"};return h.jsxs("div",{className:"group border border-slate-200 rounded-xl p-4 hover:border-slate-300 hover:shadow-sm transition-all",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(D4,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-semibold text-slate-900 text-sm",children:H.clientName}),h.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold rounded-md border ${Re[ce]}`,children:Ye[ce]})]}),h.jsx("div",{className:"text-xs text-slate-500",children:je(H.date,H.time)})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[ce==="pending"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>Ge(H.id),className:"p-1.5 text-emerald-500 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-all",title:"Approve booking",children:h.jsx(Tg,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>W(H.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Reject booking",children:h.jsx(Al,{className:"w-4 h-4"})})]}),ce==="confirmed"&&h.jsx("button",{onClick:()=>De(H.id),className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel booking",children:h.jsx(nd,{className:"w-3.5 h-3.5"})})]})]}),h.jsxs("div",{className:"ml-[46px] space-y-0.5 text-xs text-slate-500",children:[H.serviceName&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(br,{className:"w-3 h-3 text-blue-400"}),h.jsx("span",{className:"font-medium text-slate-700",children:H.serviceName}),H.servicePrice!=null&&h.jsxs("span",{className:"text-blue-600 font-semibold",children:["$",Number(H.servicePrice).toFixed(2)]})]}),H.staffName&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Es,{className:"w-3 h-3 text-violet-400"}),h.jsx("span",{className:"text-violet-600",children:H.staffName})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(h4,{className:"w-3 h-3"}),H.clientEmail]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(p4,{className:"w-3 h-3"}),H.clientPhone]})]}),H.refCode&&h.jsx("div",{className:"mt-0.5",children:h.jsxs("span",{className:"font-mono text-[10px] text-slate-400",children:["REF: ",H.refCode]})})]})]},H.id)})})]})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:Q?"Custom Time Slots":"All Custom Time Slots"}),h.jsx("span",{className:"text-xs font-semibold text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:Q?(Ne[Q]||[]).length:fe.length})]}),M.length>0&&h.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Recurring slots from weekly hours auto-generate  not shown here."}),!M.length&&h.jsx("div",{className:"mb-4"}),pt.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:h.jsx(Fn,{className:"w-6 h-6 text-slate-400"})}),h.jsx("p",{className:"text-sm text-slate-500 font-medium mb-1",children:Q?"No custom slots for this date":"No custom slots yet"}),h.jsx("p",{className:"text-xs text-slate-400",children:M.length>0?"Recurring hours handle most scheduling.":"Use the form above to generate availability."})]}):h.jsx("div",{className:"space-y-6",children:pt.map(H=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-3 pb-2 border-b border-slate-100",children:new Date(H).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2.5",children:Ne[H].sort((ce,Re)=>ce.time.localeCompare(Re.time)).map(ce=>h.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3.5 text-center group hover:border-slate-300 transition-all",children:[h.jsx("div",{className:"text-sm font-bold text-slate-900 mb-0.5",children:ce.time}),h.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[ce.duration," min"]}),ce.staffName&&h.jsxs("div",{className:"text-xs text-violet-600 mb-1.5 flex items-center justify-center gap-1",children:[h.jsx(Es,{className:"w-3 h-3"}),ce.staffName]}),h.jsx("div",{className:"mb-2",children:ce.available?h.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md text-xs font-medium",children:"Available"}):h.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-50 text-red-700 border border-red-200 rounded-md text-xs font-medium",children:"Booked"})}),ce.available&&h.jsxs("button",{onClick:()=>C(ce.id),className:"opacity-0 group-hover:opacity-100 flex items-center justify-center gap-1 w-full px-2 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-xs font-medium transition-all border border-red-200",children:[h.jsx(nd,{className:"w-3 h-3"}),"Remove"]})]},ce.id))})]},H))})]})]})]})]})}function eD({user:i}){const{slug:e}=ad(),n=Gl(),[a,l]=D.useState(""),[c,f]=D.useState(""),[p,g]=D.useState(""),[y,x]=D.useState(!1);D.useEffect(()=>{if(!i)return;(async()=>{const I=Mi(_t(ke,"shops"),Oi("slug","==",e)),Y=await Vi(I);Y.empty||Y.docs[0].data().ownerUid===i.uid&&n(`/shop/${e}/dashboard`,{replace:!0})})()},[i,e,n]);const E=async S=>{S.preventDefault(),g(""),x(!0);try{const Y=(await X_(Ar,a,c)).user,B=Mi(_t(ke,"shops"),Oi("slug","==",e)),L=await Vi(B);if(L.empty){g("Shop not found"),x(!1);return}if(L.docs[0].data().ownerUid!==Y.uid){g("You are not the owner of this shop"),await Ar.signOut(),x(!1);return}n(`/shop/${e}/dashboard`,{replace:!0})}catch(I){switch(I.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":g("Invalid email or password");break;case"auth/invalid-email":g("Please enter a valid email address");break;case"auth/too-many-requests":g("Too many failed attempts. Please try again later.");break;default:g("Login failed. Please try again.")}f("")}finally{x(!1)}};return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"w-full max-w-md animate-fade-in-up",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsxs(at,{to:"/",className:"inline-flex items-center gap-2.5",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md shadow-blue-600/20",children:h.jsx(Zl,{className:"w-5 h-5 text-white"})}),h.jsxs("span",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg shadow-slate-200/50 border border-slate-200",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Welcome back"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Sign in to manage your shop"})]}),h.jsxs("form",{onSubmit:E,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:a,onChange:S=>{l(S.target.value),g("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Password"}),h.jsx("input",{type:"password",value:c,onChange:S=>{f(S.target.value),g("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 transition-all text-sm ${p?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),p&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx("span",{children:""})," ",p]})]}),h.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm",children:y?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Signing in"]}):"Sign In"})]}),h.jsx("div",{className:"mt-5 pt-5 border-t border-slate-100 text-center",children:h.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",h.jsx(at,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Create one"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs(at,{to:`/shop/${e}`,className:"inline-flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back to booking page"]})})]})})}function $x({name:i,className:e="w-12 h-12",bgClass:n="bg-blue-100 text-blue-700"}){const a=(i||"").split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2);return h.jsx("div",{className:`${e} ${n} rounded-full flex items-center justify-center font-bold text-sm select-none flex-shrink-0`,children:a||"?"})}function Yx(){return h.jsxs(at,{to:"/",className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:h.jsx(Zl,{className:"w-3.5 h-3.5 text-white"})}),h.jsxs("span",{className:"text-sm font-extrabold tracking-tight text-slate-900",children:["Book",h.jsx("span",{className:"text-blue-600",children:"Flow"})]})]})}function tD(){const{slug:i,refCode:e}=ad(),[n,a]=D.useState(null),[l,c]=D.useState(null),[f,p]=D.useState(!0),[g,y]=D.useState(!1),[x,E]=D.useState(null),[S,I]=D.useState(null),[Y,B]=D.useState(!1),[L,z]=D.useState([]),[U,Q]=D.useState([]),[le,ue]=D.useState([]),[me,A]=D.useState([]),[N,R]=D.useState(!1),[O,k]=D.useState(!1),[P,C]=D.useState(null),[De,Ge]=D.useState(null),[W,ae]=D.useState(!1),[be,je]=D.useState("");D.useEffect(()=>{(async()=>{p(!0);try{const ye=Mi(_t(ke,"shops"),Oi("slug","==",i)),Me=await Vi(ye);if(Me.empty)y(!0);else{const re=Me.docs[0];a(re.data()),c(re.id)}}catch(ye){console.error("Error looking up shop:",ye),y(!0)}finally{p(!1)}})()},[i]),D.useEffect(()=>{if(!l)return;(async()=>{try{const ye=Mi(_t(ke,"shops",l,"bookings"),Oi("refCode","==",e.toUpperCase())),Me=await Vi(ye);if(Me.empty)B(!0);else{const re=Me.docs[0];E(re.data()),I(re.id)}}catch(ye){console.error("Error looking up booking:",ye),B(!0)}})()},[l,e]),D.useEffect(()=>{if(!l||!x)return;const oe=$n(_t(ke,"shops",l,"bookings"),Ee=>{z(Ee.docs.map(_e=>({id:_e.id,..._e.data()})))}),ye=$n(_t(ke,"shops",l,"availability"),Ee=>{const _e=new Date,Ve=Ee.docs.map(qe=>({id:qe.id,...qe.data()})).filter(qe=>new Date(`${qe.date}T${qe.time}`)>_e);Q(Ve)}),Me=$n(_t(ke,"shops",l,"staff"),Ee=>{ue(Ee.docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>_e.active!==!1).sort((_e,Ve)=>(_e.name||"").localeCompare(Ve.name||"")))}),re=$n(_t(ke,"shops",l,"services"),Ee=>{A(Ee.docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>_e.active!==!1))});return()=>{oe(),ye(),Me(),re()}},[l,x]);const Fe=n?.bufferMinutes||0,M=D.useMemo(()=>{if(!x)return null;if(x.serviceId){const oe=me.find(ye=>ye.id===x.serviceId);if(oe)return oe}return x.serviceName?{id:x.serviceId,name:x.serviceName,price:x.servicePrice,duration:x.serviceDuration||x.duration}:null},[x,me]),Z=D.useMemo(()=>{if(!N||!x)return[];const oe=new Date,ye=M?.duration||x.duration||60;let Me=U.filter(qe=>qe.available);Me=Me.filter(qe=>qe.duration>=ye),x.staffId&&(Me=Me.filter(qe=>qe.staffId===x.staffId||!qe.staffId));const re=x.staffId?le.filter(qe=>qe.id===x.staffId):le,Ee=KE(re,ye,Fe,4).filter(qe=>new Date(`${qe.date}T${qe.time}`)>oe),_e=XE(Ee,Me),Ve=L.filter(qe=>qe.id!==S);return QE(_e,Ve,Fe)},[N,x,S,U,le,L,Fe,M]),he=D.useMemo(()=>[...new Set(Z.map(oe=>oe.date))].sort(),[Z]),fe=D.useMemo(()=>P?Z.filter(oe=>oe.date===P):[],[P,Z]),Se=async()=>{ae(!0);try{if(await ln(Kt(ke,"shops",l,"bookings",S),{status:"cancelled"}),x.slotId&&!x.slotId.startsWith("wh-"))try{await ln(Kt(ke,"shops",l,"availability",x.slotId),{available:!0})}catch(oe){console.warn("Could not re-open slot:",oe)}E(oe=>({...oe,status:"cancelled"})),k(!1),je("cancelled")}catch(oe){console.error("Cancel error:",oe),je("error")}finally{ae(!1)}},Ne=async()=>{if(De){ae(!0);try{const oe={date:De.date,time:De.time,slotId:De.id};if(De.staffId&&(oe.staffId=De.staffId,oe.staffName=De.staffName||""),n?.requireApproval&&(oe.status="pending"),x.slotId&&!x.slotId.startsWith("wh-"))try{await ln(Kt(ke,"shops",l,"availability",x.slotId),{available:!0})}catch(ye){console.warn("Could not re-open old slot:",ye)}if(!De.generated&&De.id)try{await ln(Kt(ke,"shops",l,"availability",De.id),{available:!1})}catch(ye){console.warn("Could not block new slot:",ye)}await ln(Kt(ke,"shops",l,"bookings",S),oe),E(ye=>({...ye,...oe})),R(!1),C(null),Ge(null),je("rescheduled")}catch(oe){console.error("Reschedule error:",oe),je("error")}finally{ae(!1)}}},Ue=oe=>new Date(oe+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),pt=oe=>{const[ye,Me]=oe.split(":"),re=parseInt(ye),Ee=re>=12?"PM":"AM";return`${re%12||12}:${Me} ${Ee}`},$e=oe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(oe),on=oe=>{if(!oe)return"";if(oe<60)return`${oe} min`;const ye=Math.floor(oe/60),Me=oe%60;return Me?`${ye}h ${Me}m`:`${ye} hour${ye>1?"s":""}`};if(f)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})});if(g)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-5",children:h.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md w-full animate-scale-in",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:h.jsx(Fn,{className:"w-8 h-8 text-slate-400"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Shop Not Found"}),h.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,h.jsx("span",{className:"font-mono text-blue-600",children:i}),'".']}),h.jsxs(at,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[h.jsx(Ca,{className:"w-4 h-4"}),"Go Home"]})]})});if(Y)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[h.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),h.jsx("p",{className:"text-xs text-slate-500",children:"Manage Booking"})]})]}),h.jsx(Yx,{})]})}),h.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-8",children:h.jsxs("div",{className:"bg-white rounded-2xl p-10 shadow-lg border border-slate-200 text-center max-w-md mx-auto animate-scale-in",children:[h.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:h.jsx(Bx,{className:"w-8 h-8 text-amber-500"})}),h.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Not Found"}),h.jsx("p",{className:"text-slate-600 mb-2",children:"No booking found with reference code"}),h.jsx("p",{className:"font-mono text-lg font-bold text-blue-600 mb-6",children:e.toUpperCase()}),h.jsxs(at,{to:`/shop/${i}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:[h.jsx(Fn,{className:"w-4 h-4"}),"Book an Appointment"]})]})})]});if(!x)return h.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading booking"})]})});const Jt=x.status||"confirmed",wn=Jt==="pending"||Jt==="confirmed",H=Jt==="cancelled",ce=Jt==="rejected",Re={pending:{label:"Pending Approval",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Ni},confirmed:{label:"Confirmed",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Ea},cancelled:{label:"Cancelled",color:"bg-slate-100 text-slate-500 border-slate-200",icon:Al},rejected:{label:"Rejected",color:"bg-red-100 text-red-700 border-red-200",icon:Al}},Ye=Re[Jt]||Re.confirmed,Xe=Ye.icon;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100/80",children:[h.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-violet-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-600/20",children:(n?.name||"")[0]?.toUpperCase()||"S"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-slate-900 leading-tight",children:n?.name}),h.jsx("p",{className:"text-xs text-slate-500",children:"Manage Booking"})]})]}),h.jsx(Yx,{})]})}),h.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-6 sm:py-8",children:[be==="rescheduled"&&h.jsx("div",{className:"mb-6 animate-scale-in",children:h.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-200 shadow-lg shadow-emerald-100/50 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(FE,{className:"w-8 h-8 text-emerald-600"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Rescheduled!"}),h.jsx("p",{className:"text-slate-600 mb-4",children:n?.requireApproval?"Your booking has been rescheduled and is pending approval.":"Your booking has been successfully rescheduled."}),h.jsx("button",{onClick:()=>je(""),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View updated details "})]})}),be==="cancelled"&&h.jsx("div",{className:"mb-6 animate-scale-in",children:h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-lg p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Al,{className:"w-8 h-8 text-slate-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Cancelled"}),h.jsx("p",{className:"text-slate-600 mb-4",children:"Your booking has been cancelled."}),h.jsxs(at,{to:`/shop/${i}`,className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[h.jsx(Fn,{className:"w-4 h-4"}),"Book a new appointment"]})]})}),be==="error"&&h.jsx("div",{className:"mb-6 animate-scale-in",children:h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 flex items-center gap-3 text-red-800 font-medium",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Something went wrong. Please try again."})]})}),!N&&h.jsxs("div",{className:"max-w-lg mx-auto animate-fade-in",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Your Booking"}),h.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Reference: ",h.jsx("span",{className:"font-mono font-bold text-blue-600",children:(x.refCode||e).toUpperCase()})]})]}),(H||ce)&&h.jsxs("div",{className:`mb-4 p-4 rounded-xl border flex items-center gap-3 ${H?"bg-slate-50 border-slate-200":"bg-red-50 border-red-200"}`,children:[h.jsx(Xe,{className:`w-5 h-5 ${H?"text-slate-400":"text-red-500"}`}),h.jsx("span",{className:`font-medium text-sm ${H?"text-slate-600":"text-red-700"}`,children:H?"This booking has been cancelled.":"This booking has been rejected by the shop."})]}),h.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 mb-6 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),h.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 text-xs font-bold rounded-lg border ${Ye.color}`,children:[h.jsx(Xe,{className:"w-3.5 h-3.5"}),Ye.label]})]}),x.serviceName&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(br,{className:"w-4 h-4 text-blue-600"})}),h.jsx("span",{className:"font-semibold text-slate-800",children:x.serviceName})]}),x.servicePrice!=null&&h.jsx("span",{className:"font-bold text-blue-600",children:$e(x.servicePrice)})]}),x.staffName&&h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx($x,{name:x.staffName,className:"w-8 h-8 text-xs",bgClass:"bg-violet-100 text-violet-700"}),h.jsx("span",{className:"font-semibold text-slate-800",children:x.staffName})]}),h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:h.jsx(Fn,{className:"w-4 h-4 text-slate-600"})}),h.jsxs("span",{className:"font-semibold text-slate-800",children:[Ue(x.date)," at ",pt(x.time)]})]}),h.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-slate-500",children:[h.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:h.jsx(Ni,{className:"w-4 h-4 text-slate-500"})}),h.jsx("span",{children:on(x.serviceDuration||x.duration)})]})]}),wn&&!be&&h.jsx("div",{className:"space-y-3",children:O?h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Bx,{className:"w-5 h-5 text-red-500"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-slate-900",children:"Are you sure?"}),h.jsx("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:Se,disabled:W,className:"flex-1 flex items-center justify-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold transition-all disabled:opacity-50",children:[W?h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}):h.jsx(Al,{className:"w-4 h-4"}),W?"Cancelling":"Yes, Cancel"]}),h.jsx("button",{onClick:()=>k(!1),disabled:W,className:"px-5 py-3 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Go Back"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{R(!0),je("")},className:"w-full flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[h.jsx($E,{className:"w-4 h-4"}),"Reschedule Booking"]}),h.jsxs("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-center gap-2 px-6 py-3.5 bg-white hover:bg-red-50 text-red-600 rounded-xl font-semibold border border-red-200 hover:border-red-300 transition-all",children:[h.jsx(Al,{className:"w-4 h-4"}),"Cancel Booking"]})]})}),(H||ce)&&h.jsx("div",{className:"text-center",children:h.jsxs(at,{to:`/shop/${i}`,className:"inline-flex items-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5",children:[h.jsx(Fn,{className:"w-4 h-4"}),"Book Again"]})})]}),N&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[h.jsxs("button",{onClick:()=>{R(!1),C(null),Ge(null)},className:"flex items-center gap-1.5 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 rounded-lg font-medium transition-all border border-slate-200 text-sm",children:[h.jsx(Ca,{className:"w-3.5 h-3.5"}),"Back to Booking"]}),x.serviceName&&h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[h.jsx(br,{className:"w-3.5 h-3.5 text-blue-500"}),h.jsx("span",{className:"font-semibold text-slate-800",children:x.serviceName}),x.servicePrice!=null&&h.jsx("span",{className:"text-blue-600 font-bold",children:$e(x.servicePrice)})]}),x.staffName&&h.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-violet-50 border border-violet-200 rounded-lg text-sm",children:[h.jsx($x,{name:x.staffName,className:"w-5 h-5 text-[10px]",bgClass:"bg-violet-200 text-violet-700"}),h.jsx("span",{className:"font-semibold text-slate-800",children:x.staffName})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Choose a New Time"}),h.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Pick a new date and time for your appointment"})]}),he.length===0?h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Fn,{className:"w-8 h-8 text-slate-400"})}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No available slots"}),h.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"No time slots are currently available. Check back soon!"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-8",children:h.jsx(YE,{availableDates:he,selectedDate:P,onSelectDate:oe=>{C(oe),Ge(null)}})}),P&&h.jsxs("div",{className:"animate-slide-down",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Times for ",Ue(P)]}),h.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[fe.length," slot",fe.length!==1?"s":""]})]}),fe.length===0?h.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:h.jsx("p",{className:"text-slate-500",children:"No slots available for this date"})}):h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 stagger-children",children:fe.sort((oe,ye)=>oe.time.localeCompare(ye.time)).map(oe=>{const ye=De?.id===oe.id;return h.jsxs("button",{onClick:()=>Ge(oe),className:`group border rounded-xl p-4 transition-all duration-200 text-center ${ye?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-600/30":"bg-white border-slate-200 hover:border-blue-400 hover:shadow-md hover:shadow-blue-100/50 hover:-translate-y-0.5"}`,children:[h.jsx("div",{className:`text-lg font-bold mb-1 ${ye?"text-white":"text-slate-900 group-hover:text-blue-700"} transition-colors`,children:pt(oe.time)}),oe.staffName&&h.jsxs("div",{className:`text-xs mb-0.5 flex items-center justify-center gap-1 ${ye?"text-blue-100":"text-violet-600"}`,children:[h.jsx(Es,{className:"w-3 h-3"}),oe.staffName]}),h.jsx("div",{className:`text-xs ${ye?"text-blue-200":"text-slate-400"}`,children:on(x.serviceDuration||x.duration)})]},oe.id)})}),De&&h.jsxs("div",{className:"mt-6 animate-fade-in",children:[h.jsxs("div",{className:"bg-white rounded-xl border border-blue-200 shadow-sm p-5 mb-4",children:[h.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"New Appointment Time"}),h.jsxs("div",{className:"flex items-center gap-2.5 text-sm",children:[h.jsx(Fn,{className:"w-4 h-4 text-blue-500"}),h.jsxs("span",{className:"font-semibold text-slate-800",children:[Ue(De.date)," at ",pt(De.time)]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:Ne,disabled:W,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md shadow-blue-600/20 hover:shadow-lg hover:shadow-blue-600/25 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:W?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"spinner-sm border-white/30 border-t-white"}),"Rescheduling"]}):h.jsxs(h.Fragment,{children:[h.jsx(Ea,{className:"w-4 h-4"}),"Confirm Reschedule"]})}),h.jsx("button",{onClick:()=>Ge(null),className:"px-5 py-3.5 bg-white hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Cancel"})]})]})]}),!P&&h.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Select a date above to see available times"})]})]})]}),h.jsx("footer",{className:"border-t border-slate-200 mt-auto",children:h.jsx("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 py-4 flex items-center justify-center",children:h.jsxs("span",{className:"text-xs text-slate-400",children:["Powered by"," ",h.jsx(at,{to:"/",className:"font-semibold text-slate-500 hover:text-blue-600 transition-colors",children:"BookFlow"})]})})})]})}function nD(){const[i,e]=D.useState(null),[n,a]=D.useState(!0);return D.useEffect(()=>{const l=ZA(Ar,c=>{e(c),a(!1)});return()=>l()},[]),n?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Loading"})]})}):h.jsx(r2,{children:h.jsxs(VS,{children:[h.jsx(wi,{path:"/",element:h.jsx(L4,{})}),h.jsx(wi,{path:"/register",element:h.jsx(U4,{})}),h.jsx(wi,{path:"/login",element:h.jsx(z4,{user:i})}),h.jsx(wi,{path:"/shop/:slug",element:h.jsx(G4,{})}),h.jsx(wi,{path:"/shop/:slug/booking/:refCode",element:h.jsx(tD,{})}),h.jsx(wi,{path:"/shop/:slug/login",element:h.jsx(eD,{user:i})}),h.jsx(wi,{path:"/shop/:slug/dashboard",element:h.jsx(Z4,{user:i})}),h.jsx(wi,{path:"*",element:h.jsx(MS,{to:"/",replace:!0})})]})})}PT.createRoot(document.getElementById("root")).render(h.jsx(IT.StrictMode,{children:h.jsx(nD,{})}));
