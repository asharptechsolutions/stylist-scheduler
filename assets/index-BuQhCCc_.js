(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Vb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ym={exports:{}},Uo={};var Pv;function uw(){if(Pv)return Uo;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Uo.Fragment=e,Uo.jsx=n,Uo.jsxs=n,Uo}var Uv;function cw(){return Uv||(Uv=1,ym.exports=uw()),ym.exports}var v=cw(),vm={exports:{}},Re={};var zv;function hw(){if(zv)return Re;zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function z(k,ee,H){this.props=k,this.context=ee,this.refs=L,this.updater=H||Q}z.prototype.isReactComponent={},z.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function P(){}P.prototype=z.prototype;function K(k,ee,H){this.props=k,this.context=ee,this.refs=L,this.updater=H||Q}var le=K.prototype=new P;le.constructor=K,q(le,z.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function he(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(k,ee,H){var ne=H.ref;return{$$typeof:i,type:k,key:ee,ref:ne!==void 0?ne:null,props:H}}function M(k,ee){return N(k.type,ee,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function U(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(H){return ee[H]})}var C=/\/+/g;function Ke(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ee.toString(36)}function Ye(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(he,he):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function J(k,ee,H,ne,ce){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case i:case e:Te=!0;break;case E:return Te=k._init,J(Te(k._payload),ee,H,ne,ce)}}if(Te)return ce=ce(k),Te=ne===""?"."+Ke(k,0):ne,oe(ce)?(H="",Te!=null&&(H=Te.replace(C,"$&/")+"/"),J(ce,ee,H,"",function(an){return an})):ce!=null&&(O(ce)&&(ce=M(ce,H+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(C,"$&/")+"/")+Te)),ee.push(ce)),1;Te=0;var Oe=ne===""?".":ne+":";if(oe(k))for(var He=0;He<k.length;He++)ne=k[He],pe=Oe+Ke(ne,He),Te+=J(ne,ee,H,pe,ce);else if(He=D(k),typeof He=="function")for(k=He.call(k),He=0;!(ne=k.next()).done;)ne=ne.value,pe=Oe+Ke(ne,He++),Te+=J(ne,ee,H,pe,ce);else if(pe==="object"){if(typeof k.then=="function")return J(Ye(k),ee,H,ne,ce);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ae(k,ee,H){if(k==null)return k;var ne=[],ce=0;return J(k,ne,"","",function(pe){return ee.call(H,pe,ce++)}),ne}function ye(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(H){(k._status===0||k._status===-1)&&(k._status=1,k._result=H)},function(H){(k._status===0||k._status===-1)&&(k._status=2,k._result=H)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var Ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},qe={map:ae,forEach:function(k,ee,H){ae(k,function(){ee.apply(this,arguments)},H)},count:function(k){var ee=0;return ae(k,function(){ee++}),ee},toArray:function(k){return ae(k,function(ee){return ee})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Re.Activity=T,Re.Children=qe,Re.Component=z,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=K,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(k,ee,H){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ne=q({},k.props),ce=k.key;if(ee!=null)for(pe in ee.key!==void 0&&(ce=""+ee.key),ee)!A.call(ee,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ee.ref===void 0||(ne[pe]=ee[pe]);var pe=arguments.length-2;if(pe===1)ne.children=H;else if(1<pe){for(var Te=Array(pe),Oe=0;Oe<pe;Oe++)Te[Oe]=arguments[Oe+2];ne.children=Te}return N(k.type,ce,ne)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,ee,H){var ne,ce={},pe=null;if(ee!=null)for(ne in ee.key!==void 0&&(pe=""+ee.key),ee)A.call(ee,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=ee[ne]);var Te=arguments.length-2;if(Te===1)ce.children=H;else if(1<Te){for(var Oe=Array(Te),He=0;He<Te;He++)Oe[He]=arguments[He+2];ce.children=Oe}if(k&&k.defaultProps)for(ne in Te=k.defaultProps,Te)ce[ne]===void 0&&(ce[ne]=Te[ne]);return N(k,pe,ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=O,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ye}},Re.memo=function(k,ee){return{$$typeof:g,type:k,compare:ee===void 0?null:ee}},Re.startTransition=function(k){var ee=R.T,H={};R.T=H;try{var ne=k(),ce=R.S;ce!==null&&ce(H,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(he,Ce)}catch(pe){Ce(pe)}finally{ee!==null&&H.types!==null&&(ee.types=H.types),R.T=ee}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(k){return R.H.use(k)},Re.useActionState=function(k,ee,H){return R.H.useActionState(k,ee,H)},Re.useCallback=function(k,ee){return R.H.useCallback(k,ee)},Re.useContext=function(k){return R.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,ee){return R.H.useDeferredValue(k,ee)},Re.useEffect=function(k,ee){return R.H.useEffect(k,ee)},Re.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(k,ee,H){return R.H.useImperativeHandle(k,ee,H)},Re.useInsertionEffect=function(k,ee){return R.H.useInsertionEffect(k,ee)},Re.useLayoutEffect=function(k,ee){return R.H.useLayoutEffect(k,ee)},Re.useMemo=function(k,ee){return R.H.useMemo(k,ee)},Re.useOptimistic=function(k,ee){return R.H.useOptimistic(k,ee)},Re.useReducer=function(k,ee,H){return R.H.useReducer(k,ee,H)},Re.useRef=function(k){return R.H.useRef(k)},Re.useState=function(k){return R.H.useState(k)},Re.useSyncExternalStore=function(k,ee,H){return R.H.useSyncExternalStore(k,ee,H)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.4",Re}var Bv;function mp(){return Bv||(Bv=1,vm.exports=hw()),vm.exports}var j=mp();const fw=Vb(j);var _m={exports:{}},zo={},bm={exports:{}},Em={};var qv;function dw(){return qv||(qv=1,(function(i){function e(J,ae){var ye=J.length;J.push(ae);e:for(;0<ye;){var Ce=ye-1>>>1,qe=J[Ce];if(0<l(qe,ae))J[Ce]=ae,J[ye]=qe,ye=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],ye=J.pop();if(ye!==ae){J[0]=ye;e:for(var Ce=0,qe=J.length,k=qe>>>1;Ce<k;){var ee=2*(Ce+1)-1,H=J[ee],ne=ee+1,ce=J[ne];if(0>l(H,ye))ne<qe&&0>l(ce,H)?(J[Ce]=ce,J[ne]=ye,Ce=ne):(J[Ce]=H,J[ee]=ye,Ce=ee);else if(ne<qe&&0>l(ce,ye))J[Ce]=ce,J[ne]=ye,Ce=ne;else break e}}return ae}function l(J,ae){var ye=J.sortIndex-ae.sortIndex;return ye!==0?ye:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,x=3,D=!1,Q=!1,q=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function le(J){for(var ae=n(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=J)r(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function oe(J){if(q=!1,le(J),!Q)if(n(p)!==null)Q=!0,he||(he=!0,U());else{var ae=n(g);ae!==null&&Ye(oe,ae.startTime-J)}}var he=!1,R=-1,A=5,N=-1;function M(){return L?!0:!(i.unstable_now()-N<A)}function O(){if(L=!1,he){var J=i.unstable_now();N=J;var ae=!0;try{e:{Q=!1,q&&(q=!1,P(R),R=-1),D=!0;var ye=x;try{t:{for(le(J),T=n(p);T!==null&&!(T.expirationTime>J&&M());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,x=T.priorityLevel;var qe=Ce(T.expirationTime<=J);if(J=i.unstable_now(),typeof qe=="function"){T.callback=qe,le(J),ae=!0;break t}T===n(p)&&r(p),le(J)}else r(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(g);k!==null&&Ye(oe,k.startTime-J),ae=!1}}break e}finally{T=null,x=ye,D=!1}ae=void 0}}finally{ae?U():he=!1}}}var U;if(typeof K=="function")U=function(){K(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ke=C.port2;C.port1.onmessage=O,U=function(){Ke.postMessage(null)}}else U=function(){z(O,0)};function Ye(J,ae){R=z(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ye=x;x=ae;try{return J()}finally{x=ye}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=x;x=J;try{return ae()}finally{x=ye}},i.unstable_scheduleCallback=function(J,ae,ye){var Ce=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ce+ye:Ce):ye=Ce,J){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ye+qe,J={id:E++,callback:ae,priorityLevel:J,startTime:ye,expirationTime:qe,sortIndex:-1},ye>Ce?(J.sortIndex=ye,e(g,J),n(p)===null&&J===n(g)&&(q?(P(R),R=-1):q=!0,Ye(oe,ye-Ce))):(J.sortIndex=qe,e(p,J),Q||D||(Q=!0,he||(he=!0,U()))),J},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(J){var ae=x;return function(){var ye=x;x=ae;try{return J.apply(this,arguments)}finally{x=ye}}}})(Em)),Em}var Hv;function mw(){return Hv||(Hv=1,bm.exports=dw()),bm.exports}var Tm={exports:{}},ln={};var Fv;function pw(){if(Fv)return ln;Fv=1;var i=mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},ln.flushSync=function(p){var g=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=E,r.d.f()}},ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},ln.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:D}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},ln.requestFormReset=function(p){r.d.r(p)},ln.unstable_batchedUpdates=function(p,g){return p(g)},ln.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Gv;function gw(){if(Gv)return Tm.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=pw(),Tm.exports}var $v;function yw(){if($v)return zo;$v=1;var i=mw(),e=mp(),n=gw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),s;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,o=d;break}if(S===o){_=!0,o=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,o=h;break}if(S===o){_=!0,o=d,a=h;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),K=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case K:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case le:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:Ke(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return Ke(t(s))}catch{}}return null}var Ye=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ce=[],qe=-1;function k(t){return{current:t}}function ee(t){0>qe||(t.current=Ce[qe],Ce[qe]=null,qe--)}function H(t,s){qe++,Ce[qe]=t.current,t.current=s}var ne=k(null),ce=k(null),pe=k(null),Te=k(null);function Oe(t,s){switch(H(pe,s),H(ce,t),H(ne,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=lv(s),t=ov(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ne),H(ne,t)}function He(){ee(ne),ee(ce),ee(pe)}function an(t){t.memoizedState!==null&&H(Te,t);var s=ne.current,a=ov(s,t.type);s!==a&&(H(ce,t),H(ne,a))}function es(t){ce.current===t&&(ee(ne),ee(ce)),Te.current===t&&(ee(Te),Vo._currentValue=ye)}var Ln,Xs;function _t(t){if(Ln===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ln=s&&s[1]||"",Xs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+t+Xs}var fn=!1;function pn(t,s){if(!t||fn)return"";fn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Y=W}Reflect.construct(t,[],se)}else{try{se.call()}catch(W){Y=W}t.call(se.prototype)}}else{try{throw Error()}catch(W){Y=W}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var I=_.split(`
`),$=S.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===$.length)for(o=I.length-1,h=$.length-1;1<=o&&0<=h&&I[o]!==$[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==$[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==$[h]){var Z=`
`+I[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=h);break}}}finally{fn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_t(a):""}function fe(t,s){switch(t.tag){case 26:case 27:case 5:return _t(t.type);case 16:return _t("Lazy");case 13:return t.child!==s&&s!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return pn(t.type,!1);case 11:return pn(t.type.render,!1);case 1:return pn(t.type,!0);case 31:return _t("Activity");default:return""}}function xe(t){try{var s="",a=null;do s+=fe(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var je=Object.prototype.hasOwnProperty,Fe=i.unstable_scheduleCallback,Tt=i.unstable_cancelCallback,ut=i.unstable_shouldYield,bt=i.unstable_requestPaint,ht=i.unstable_now,Ni=i.unstable_getCurrentPriorityLevel,Ll=i.unstable_ImmediatePriority,Pl=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,bf=i.unstable_LowPriority,ku=i.unstable_IdlePriority,Vu=i.log,ju=i.unstable_setDisableYieldValue,ts=null,Xt=null;function Pn(t){if(typeof Vu=="function"&&ju(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ts,t)}catch{}}var xt=Math.clz32?Math.clz32:Pu,Lu=Math.log,Ta=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(Lu(t)/Ta|0)|0}var bs=256,Dr=262144,It=4194304;function Es(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ts(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~d,o!==0?h=Es(o):(_&=S,_!==0?h=Es(_):a||(a=S&~t,a!==0&&(h=Es(a))))):(S=o&~d,S!==0?h=Es(S):_!==0?h=Es(_):a||(a=o&~t,a!==0&&(h=Es(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function ns(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ef(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Ss(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Or(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tf(t,s,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,$=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-xt(a),se=1<<Z;S[Z]=0,I[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}a&=~se}o!==0&&Mr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~s))}function Mr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-xt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ul(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-xt(a),h=1<<o;h&s|t[o]&s&&(t[o]|=s),a&=~h}}function zl(t,s){var a=s&-s;return a=(a&42)!==0?1:kr(a),(a&(t.suspendedLanes|s))!==0?0:a}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Dv(t.type))}function ss(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var is=Math.random().toString(36).slice(2),Dt="__reactFiber$"+is,$t="__reactProps$"+is,ws="__reactContainer$"+is,Sa="__reactEvents$"+is,Sf="__reactListeners$"+is,Bu="__reactHandles$"+is,qu="__reactResources$"+is,xs="__reactMarker$"+is;function wa(t){delete t[Dt],delete t[$t],delete t[Sa],delete t[Sf],delete t[Bu]}function As(t){var s=t[Dt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ws]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[Dt])return a;t=pv(t)}return s}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Dt]||t[ws]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function xn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Rs(t){var s=t[qu];return s||(s=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(t){t[xs]=!0}var Bl=new Set,ql={};function Ns(t,s){Cs(t,s),Cs(t+"Capture",s)}function Cs(t,s){for(ql[t]=s,t=0;t<s.length;t++)Bl.add(s[t])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Gl={};function Hu(t){return je.call(Gl,t)?!0:je.call(Fl,t)?!1:Hl.test(t)?Gl[t]=!0:(Fl[t]=!0,!1)}function xa(t,s,a){if(Hu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function An(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Mt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $l(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function et(t){if(!t._valueTracker){var s=Ii(t)?"checked":"value";t._valueTracker=$l(t,s,""+t[s])}}function Vr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Ii(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function gn(t){return t.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Aa(t,s,a,o,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Yt(s)):t.value!==""+Yt(s)&&(t.value=""+Yt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Yl(t,_,Yt(s)):a!=null?Yl(t,_,Yt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Yt(S):t.removeAttribute("name")}function Fu(t,s,a,o,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){et(t);return}a=a!=null?""+Yt(a):"",s=s!=null?""+Yt(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),et(t)}function Yl(t,s,a){s==="number"&&Is(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,s,a,o){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Gu(t,s,a){if(s!=null&&(s=""+Yt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Yt(a):""}function Oi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ye(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Yt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),et(t)}function yn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||$u.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Ql(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&a[h]!==o&&Kl(t,h,o)}else for(var d in s)s.hasOwnProperty(d)&&Kl(t,d,s[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rs(){}var Xl=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Ds=null;function Lr(t){var s=Un(t);if(s&&(t=s.stateNode)){var a=t[$t]||null;e:switch(t=s.stateNode,s.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Vr(o)}break e;case"textarea":Gu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Di(t,!!a.multiple,s,!1)}}}var Ca=!1;function Vi(t,s,a){if(Ca)return t(s,a);Ca=!0;try{var o=t(s);return o}finally{if(Ca=!1,(ki!==null||Ds!==null)&&(zc(),ki&&(s=ki,t=Ds,Ds=ki=null,Lr(s),t)))for(s=0;s<t.length;s++)Lr(t[s])}}function as(t,s){var a=t.stateNode;if(a===null)return null;var o=a[$t]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Bn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Pr=!1}var Os=null,Jl=null,Ur=null;function Wl(){if(Ur)return Ur;var t,s=Jl,a=s.length,o,h="value"in Os?Os.value:Os.textContent,d=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===h[d-o];o++);return Ur=h.slice(t,1<o?1-o:void 0)}function zr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ws(){return!0}function ls(){return!1}function Jt(t){function s(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ws:ls,this.isPropagationStopped=ls,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),s}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Jt(Zs),ji=T({},Zs,{view:0,detail:0}),Zl=Jt(ji),Li,Ia,ks,Da=T({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(Li=t.screenX-ks.screenX,Ia=t.screenY-ks.screenY):Ia=Li=0,ks=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),eo=Jt(Da),Br=T({},Da,{dataTransfer:0}),Ku=Jt(Br),Qu=T({},ji,{relatedTarget:0}),qr=Jt(Qu),to=T({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=Jt(to),Oa=T({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=Jt(Oa),Wu=T({},Zs,{data:0}),Vs=Jt(Wu),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=tc[t])?!!s[t]:!1}function Pi(){return nc}var dn=T({},ji,{key:function(t){if(t.key){var s=Zu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ec[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sc=Jt(dn),ic=T({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ei=Jt(ic),c=T({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),y=Jt(c),b=T({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Jt(b),F=T({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Jt(F),ue=T({},Zs,{newState:0,oldState:0}),Ie=Jt(ue),At=[9,13,27,32],Je=Bn&&"CompositionEvent"in window,pt=null;Bn&&"documentMode"in document&&(pt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!pt,js=Bn&&(!Je||pt&&8<pt&&11>=pt),os=" ",us=!1;function Hr(t,s){switch(t){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function MS(t,s){switch(t){case"compositionend":return Ma(s);case"keypress":return s.which!==32?null:(us=!0,os);case"textInput":return t=s.data,t===os&&us?null:t;default:return null}}function kS(t,s){if(ka)return t==="compositionend"||!Je&&Hr(t,s)?(t=Wl(),Ur=Jl=Os=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return js&&s.locale!=="ko"?null:s.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!VS[t.type]:s==="textarea"}function _g(t,s,a,o){ki?Ds?Ds.push(o):Ds=[o]:ki=o,s=Yc(s,"onChange"),0<s.length&&(a=new Ms("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var no=null,so=null;function jS(t){tv(t,0)}function rc(t){var s=xn(t);if(Vr(s))return t}function bg(t,s){if(t==="change")return s}var Eg=!1;if(Bn){var wf;if(Bn){var xf="oninput"in document;if(!xf){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),xf=typeof Tg.oninput=="function"}wf=xf}else wf=!1;Eg=wf&&(!document.documentMode||9<document.documentMode)}function Sg(){no&&(no.detachEvent("onpropertychange",wg),so=no=null)}function wg(t){if(t.propertyName==="value"&&rc(so)){var s=[];_g(s,so,t,zn(t)),Vi(jS,s)}}function LS(t,s,a){t==="focusin"?(Sg(),no=s,so=a,no.attachEvent("onpropertychange",wg)):t==="focusout"&&Sg()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(so)}function US(t,s){if(t==="click")return rc(s)}function zS(t,s){if(t==="input"||t==="change")return rc(s)}function BS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Rn=typeof Object.is=="function"?Object.is:BS;function io(t,s){if(Rn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!je.call(s,h)||!Rn(t[h],s[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,s){var a=xg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Rg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Is(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Is(t.document)}return s}function Af(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var qS=Bn&&"documentMode"in document&&11>=document.documentMode,Va=null,Rf=null,ro=null,Nf=!1;function Cg(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Va==null||Va!==Is(o)||(o=Va,"selectionStart"in o&&Af(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ro&&io(ro,o)||(ro=o,o=Yc(Rf,"onSelect"),0<o.length&&(s=new Ms("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Va)))}function Fr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ja={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Cf={},Ig={};Bn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Gr(t){if(Cf[t])return Cf[t];if(!ja[t])return t;var s=ja[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ig)return Cf[t]=s[a];return t}var Dg=Gr("animationend"),Og=Gr("animationiteration"),Mg=Gr("animationstart"),HS=Gr("transitionrun"),FS=Gr("transitionstart"),GS=Gr("transitioncancel"),kg=Gr("transitionend"),Vg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function cs(t,s){Vg.set(t,s),Ns(s,[t])}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],La=0,Df=0;function lc(){for(var t=La,s=Df=La=0;s<t;){var a=Hn[s];Hn[s++]=null;var o=Hn[s];Hn[s++]=null;var h=Hn[s];Hn[s++]=null;var d=Hn[s];if(Hn[s++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&jg(a,h,d)}}function oc(t,s,a,o){Hn[La++]=t,Hn[La++]=s,Hn[La++]=a,Hn[La++]=o,Df|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Of(t,s,a,o){return oc(t,s,a,o),uc(t)}function $r(t,s){return oc(t,null,null,s),uc(t)}function jg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&s!==null&&(h=31-xt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[s]:o.push(s),s.lane=a|536870912),d):null}function uc(t){if(50<No)throw No=0,Bd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Pa={};function $S(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,s,a,o){return new $S(t,s,a,o)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ti(t,s){var a=t.alternate;return a===null?(a=Nn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function cc(t,s,a,o,h,d){var _=0;if(o=t,typeof t=="function")Mf(t)&&(_=1);else if(typeof t=="string")_=J1(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Nn(31,a,s,h),t.elementType=N,t.lanes=d,t;case q:return Yr(a.children,h,d,s);case L:_=8,h|=24;break;case z:return t=Nn(12,a,s,h|2),t.elementType=z,t.lanes=d,t;case oe:return t=Nn(13,a,s,h),t.elementType=oe,t.lanes=d,t;case he:return t=Nn(19,a,s,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:_=10;break e;case P:_=9;break e;case le:_=11;break e;case R:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Nn(_,a,s,h),s.elementType=t,s.type=o,s.lanes=d,s}function Yr(t,s,a,o){return t=Nn(7,t,o,s),t.lanes=a,t}function kf(t,s,a){return t=Nn(6,t,null,s),t.lanes=a,t}function Pg(t){var s=Nn(18,null,null,0);return s.stateNode=t,s}function Vf(t,s,a){return s=Nn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Ug=new WeakMap;function Fn(t,s){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(s={value:t,source:s,stack:xe(s)},Ug.set(t,s),s)}return{value:t,source:s,stack:xe(s)}}var Ua=[],za=0,hc=null,ao=0,Gn=[],$n=0,Ui=null,Ls=1,Ps="";function ni(t,s){Ua[za++]=ao,Ua[za++]=hc,hc=t,ao=s}function zg(t,s,a){Gn[$n++]=Ls,Gn[$n++]=Ps,Gn[$n++]=Ui,Ui=t;var o=Ls;t=Ps;var h=32-xt(o)-1;o&=~(1<<h),a+=1;var d=32-xt(s)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ls=1<<32-xt(s)+h|a<<h|o,Ps=d+t}else Ls=1<<d|a<<h|o,Ps=t}function jf(t){t.return!==null&&(ni(t,1),zg(t,1,0))}function Lf(t){for(;t===hc;)hc=Ua[--za],Ua[za]=null,ao=Ua[--za],Ua[za]=null;for(;t===Ui;)Ui=Gn[--$n],Gn[$n]=null,Ps=Gn[--$n],Gn[$n]=null,Ls=Gn[--$n],Gn[$n]=null}function Bg(t,s){Gn[$n++]=Ls,Gn[$n++]=Ps,Gn[$n++]=Ui,Ls=s.id,Ps=s.overflow,Ui=t}var Wt=null,ft=null,Ge=!1,zi=null,Yn=!1,Pf=Error(r(519));function Bi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lo(Fn(s,t)),Pf}function qg(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Dt]=t,s[$t]=o,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<Io.length;a++)Ve(Io[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Fu(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Oi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||rv(s.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),o.onScroll!=null&&Ve("scroll",s),o.onScrollEnd!=null&&Ve("scrollend",s),o.onClick!=null&&(s.onclick=rs),s=!0):s=!1,s||Bi(t,!0)}function Hg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Wt=Wt.return}}function Ba(t){if(t!==Wt)return!1;if(!Ge)return Hg(t),Ge=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&ft&&Bi(t),Hg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=mv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=mv(t)}else s===27?(s=ft,tr(t.type)?(t=lm,lm=null,ft=t):ft=s):ft=Wt?Qn(t.stateNode.nextSibling):null;return!0}function Kr(){ft=Wt=null,Ge=!1}function Uf(){var t=zi;return t!==null&&(En===null?En=t:En.push.apply(En,t),zi=null),t}function lo(t){zi===null?zi=[t]:zi.push(t)}var zf=k(null),Qr=null,si=null;function qi(t,s,a){H(zf,s._currentValue),s._currentValue=a}function ii(t){t._currentValue=zf.current,ee(zf)}function Bf(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function qf(t,s,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var I=0;I<s.length;I++)if(S.context===s[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Bf(d.return,a,t),o||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Bf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function qa(t,s,a,o){t=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Te.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vo):t=[Vo])}h=h.return}t!==null&&qf(s,t,a,o),s.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Qr=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Fg(Qr,t)}function dc(t,s){return Qr===null&&Xr(t),Fg(t,s)}function Fg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},si===null){if(t===null)throw Error(r(308));si=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else si=si.next=s;return a}var YS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},KS=i.unstable_scheduleCallback,QS=i.unstable_NormalPriority,kt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new YS,data:new Map,refCount:0}}function oo(t){t.refCount--,t.refCount===0&&KS(QS,function(){t.controller.abort()})}var uo=null,Ff=0,Ha=0,Fa=null;function XS(t,s){if(uo===null){var a=uo=[];Ff=0,Ha=Yd(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ff++,s.then(Gg,Gg),s}function Gg(){if(--Ff===0&&uo!==null){Fa!==null&&(Fa.status="fulfilled");var t=uo;uo=null,Ha=0,Fa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function JS(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $g=J.S;J.S=function(t,s){C0=ht(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&XS(t,s),$g!==null&&$g(t,s)};var Jr=k(null);function Gf(){var t=Jr.current;return t!==null?t:ot.pooledCache}function mc(t,s){s===null?H(Jr,Jr.current):H(Jr,s.pool)}function Yg(){var t=Gf();return t===null?null:{parent:kt._currentValue,pool:t}}var Ga=Error(r(460)),$f=Error(r(474)),pc=Error(r(542)),gc={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(rs,rs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Jg(t),t;default:if(typeof s.status=="string")s.then(rs,rs);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Jg(t),t}throw Zr=s,Ga}}function Wr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Ga):a}}var Zr=null;function Xg(){if(Zr===null)throw Error(r(459));var t=Zr;return Zr=null,t}function Jg(t){if(t===Ga||t===pc)throw Error(r(483))}var $a=null,co=0;function yc(t){var s=co;return co+=1,$a===null&&($a=[]),Qg($a,t,s)}function ho(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function vc(t,s){throw s.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Wg(t){function s(B,V){if(t){var G=B.deletions;G===null?(B.deletions=[V],B.flags|=16):G.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)s(B,V),V=V.sibling;return null}function o(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=ti(B,V),B.index=0,B.sibling=null,B}function d(B,V,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<V?(B.flags|=67108866,V):G):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,V,G,te){return V===null||V.tag!==6?(V=kf(G,B.mode,te),V.return=B,V):(V=h(V,G),V.return=B,V)}function I(B,V,G,te){var _e=G.type;return _e===q?Z(B,V,G.props.children,te,G.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Wr(_e)===V.type)?(V=h(V,G.props),ho(V,G),V.return=B,V):(V=cc(G.type,G.key,G.props,null,B.mode,te),ho(V,G),V.return=B,V)}function $(B,V,G,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=Vf(G,B.mode,te),V.return=B,V):(V=h(V,G.children||[]),V.return=B,V)}function Z(B,V,G,te,_e){return V===null||V.tag!==7?(V=Yr(G,B.mode,te,_e),V.return=B,V):(V=h(V,G),V.return=B,V)}function se(B,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kf(""+V,B.mode,G),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return G=cc(V.type,V.key,V.props,null,B.mode,G),ho(G,V),G.return=B,G;case Q:return V=Vf(V,B.mode,G),V.return=B,V;case A:return V=Wr(V),se(B,V,G)}if(Ye(V)||U(V))return V=Yr(V,B.mode,G,null),V.return=B,V;if(typeof V.then=="function")return se(B,yc(V),G);if(V.$$typeof===K)return se(B,dc(B,V),G);vc(B,V)}return null}function Y(B,V,G,te){var _e=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:S(B,V,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return G.key===_e?I(B,V,G,te):null;case Q:return G.key===_e?$(B,V,G,te):null;case A:return G=Wr(G),Y(B,V,G,te)}if(Ye(G)||U(G))return _e!==null?null:Z(B,V,G,te,null);if(typeof G.then=="function")return Y(B,V,yc(G),te);if(G.$$typeof===K)return Y(B,V,dc(B,G),te);vc(B,G)}return null}function W(B,V,G,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(G)||null,S(V,B,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return B=B.get(te.key===null?G:te.key)||null,I(V,B,te,_e);case Q:return B=B.get(te.key===null?G:te.key)||null,$(V,B,te,_e);case A:return te=Wr(te),W(B,V,G,te,_e)}if(Ye(te)||U(te))return B=B.get(G)||null,Z(V,B,te,_e,null);if(typeof te.then=="function")return W(B,V,G,yc(te),_e);if(te.$$typeof===K)return W(B,V,G,dc(V,te),_e);vc(V,te)}return null}function ge(B,V,G,te){for(var _e=null,Qe=null,ve=V,Me=V=0,Pe=null;ve!==null&&Me<G.length;Me++){ve.index>Me?(Pe=ve,ve=null):Pe=ve.sibling;var Xe=Y(B,ve,G[Me],te);if(Xe===null){ve===null&&(ve=Pe);break}t&&ve&&Xe.alternate===null&&s(B,ve),V=d(Xe,V,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe,ve=Pe}if(Me===G.length)return a(B,ve),Ge&&ni(B,Me),_e;if(ve===null){for(;Me<G.length;Me++)ve=se(B,G[Me],te),ve!==null&&(V=d(ve,V,Me),Qe===null?_e=ve:Qe.sibling=ve,Qe=ve);return Ge&&ni(B,Me),_e}for(ve=o(ve);Me<G.length;Me++)Pe=W(ve,B,Me,G[Me],te),Pe!==null&&(t&&Pe.alternate!==null&&ve.delete(Pe.key===null?Me:Pe.key),V=d(Pe,V,Me),Qe===null?_e=Pe:Qe.sibling=Pe,Qe=Pe);return t&&ve.forEach(function(ar){return s(B,ar)}),Ge&&ni(B,Me),_e}function Ee(B,V,G,te){if(G==null)throw Error(r(151));for(var _e=null,Qe=null,ve=V,Me=V=0,Pe=null,Xe=G.next();ve!==null&&!Xe.done;Me++,Xe=G.next()){ve.index>Me?(Pe=ve,ve=null):Pe=ve.sibling;var ar=Y(B,ve,Xe.value,te);if(ar===null){ve===null&&(ve=Pe);break}t&&ve&&ar.alternate===null&&s(B,ve),V=d(ar,V,Me),Qe===null?_e=ar:Qe.sibling=ar,Qe=ar,ve=Pe}if(Xe.done)return a(B,ve),Ge&&ni(B,Me),_e;if(ve===null){for(;!Xe.done;Me++,Xe=G.next())Xe=se(B,Xe.value,te),Xe!==null&&(V=d(Xe,V,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&ni(B,Me),_e}for(ve=o(ve);!Xe.done;Me++,Xe=G.next())Xe=W(ve,B,Me,Xe.value,te),Xe!==null&&(t&&Xe.alternate!==null&&ve.delete(Xe.key===null?Me:Xe.key),V=d(Xe,V,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe);return t&&ve.forEach(function(ow){return s(B,ow)}),Ge&&ni(B,Me),_e}function lt(B,V,G,te){if(typeof G=="object"&&G!==null&&G.type===q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case D:e:{for(var _e=G.key;V!==null;){if(V.key===_e){if(_e=G.type,_e===q){if(V.tag===7){a(B,V.sibling),te=h(V,G.props.children),te.return=B,B=te;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Wr(_e)===V.type){a(B,V.sibling),te=h(V,G.props),ho(te,G),te.return=B,B=te;break e}a(B,V);break}else s(B,V);V=V.sibling}G.type===q?(te=Yr(G.props.children,B.mode,te,G.key),te.return=B,B=te):(te=cc(G.type,G.key,G.props,null,B.mode,te),ho(te,G),te.return=B,B=te)}return _(B);case Q:e:{for(_e=G.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(B,V.sibling),te=h(V,G.children||[]),te.return=B,B=te;break e}else{a(B,V);break}else s(B,V);V=V.sibling}te=Vf(G,B.mode,te),te.return=B,B=te}return _(B);case A:return G=Wr(G),lt(B,V,G,te)}if(Ye(G))return ge(B,V,G,te);if(U(G)){if(_e=U(G),typeof _e!="function")throw Error(r(150));return G=_e.call(G),Ee(B,V,G,te)}if(typeof G.then=="function")return lt(B,V,yc(G),te);if(G.$$typeof===K)return lt(B,V,dc(B,G),te);vc(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(B,V.sibling),te=h(V,G),te.return=B,B=te):(a(B,V),te=kf(G,B.mode,te),te.return=B,B=te),_(B)):a(B,V)}return function(B,V,G,te){try{co=0;var _e=lt(B,V,G,te);return $a=null,_e}catch(ve){if(ve===Ga||ve===pc)throw ve;var Qe=Nn(29,ve,null,B.mode);return Qe.lanes=te,Qe.return=B,Qe}}}var ea=Wg(!0),Zg=Wg(!1),Hi=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=uc(t),jg(t,null,a),s}return oc(t,o,s,a),uc(t)}function fo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ul(t,a)}}function Qf(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Xf=!1;function mo(){if(Xf){var t=Fa;if(t!==null)throw t}}function po(t,s,a,o){Xf=!1;var h=t.updateQueue;Hi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,$=I.next;I.next=null,_===null?d=$:_.next=$,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=I))}if(d!==null){var se=h.baseState;_=0,Z=$=I=null,S=d;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Le&Y)===Y:(o&Y)===Y){Y!==0&&Y===Ha&&(Xf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=t,Ee=S;Y=s;var lt=a;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){se=ge.call(lt,se,Y);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,Y=typeof ge=="function"?ge.call(lt,se,Y):ge,Y==null)break e;se=T({},se,Y);break e;case 2:Hi=!0}}Y=S.callback,Y!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=W,I=se):Z=Z.next=W,_|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;W=S,S=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(I=se),h.baseState=I,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Xi|=_,t.lanes=_,t.memoizedState=se}}function ey(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function ty(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],s)}var Ya=k(null),_c=k(0);function ny(t,s){t=di,H(_c,t),H(Ya,s),di=t|s.baseLanes}function Jf(){H(_c,di),H(Ya,Ya.current)}function Wf(){di=_c.current,ee(Ya),ee(_c)}var Cn=k(null),Kn=null;function $i(t){var s=t.alternate;H(Rt,Rt.current&1),H(Cn,t),Kn===null&&(s===null||Ya.current!==null||s.memoizedState!==null)&&(Kn=t)}function Zf(t){H(Rt,Rt.current),H(Cn,t),Kn===null&&(Kn=t)}function sy(t){t.tag===22?(H(Rt,Rt.current),H(Cn,t),Kn===null&&(Kn=t)):Yi()}function Yi(){H(Rt,Rt.current),H(Cn,Cn.current)}function In(t){ee(Cn),Kn===t&&(Kn=null),ee(Rt)}var Rt=k(0);function bc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||am(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ri=0,De=null,rt=null,Vt=null,Ec=!1,Ka=!1,ta=!1,Tc=0,go=0,Qa=null,WS=0;function St(){throw Error(r(321))}function ed(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Rn(t[a],s[a]))return!1;return!0}function td(t,s,a,o,h,d){return ri=d,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=t===null||t.memoizedState===null?zy:gd,ta=!1,d=a(o,h),ta=!1,Ka&&(d=ry(s,a,o,h)),iy(t),d}function iy(t){J.H=_o;var s=rt!==null&&rt.next!==null;if(ri=0,Vt=rt=De=null,Ec=!1,go=0,Qa=null,s)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&fc(t)&&(jt=!0))}function ry(t,s,a,o){De=t;var h=0;do{if(Ka&&(Qa=null),go=0,Ka=!1,25<=h)throw Error(r(301));if(h+=1,Vt=rt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=By,d=s(a,o)}while(Ka);return d}function ZS(){var t=J.H,s=t.useState()[0];return s=typeof s.then=="function"?yo(s):s,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(De.flags|=1024),s}function nd(){var t=Tc!==0;return Tc=0,t}function sd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function id(t){if(Ec){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ec=!1}ri=0,Vt=rt=De=null,Ka=!1,go=Tc=0,Qa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(rt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=Vt===null?De.memoizedState:Vt.next;if(s!==null)Vt=s,rt=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(t){var s=go;return go+=1,Qa===null&&(Qa=[]),t=Qg(Qa,t,s),s=De,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?zy:gd),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yo(t);if(t.$$typeof===K)return Zt(t)}throw Error(r(438,String(t)))}function rd(t){var s=null,a=De.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Sc(),De.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=M;return s.index++,a}function ai(t,s){return typeof s=="function"?s(t):s}function xc(t){var s=Nt();return ad(s,rt,t)}function ad(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}s.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{s=h.next;var S=_=null,I=null,$=s,Z=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Le&se)===se:(ri&se)===se){var Y=$.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===Ha&&(Z=!0);else if((ri&Y)===Y){$=$.next,Y===Ha&&(Z=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(S=I=se,_=d):I=I.next=se,De.lanes|=Y,Xi|=Y;se=$.action,ta&&a(d,se),d=$.hasEagerState?$.eagerState:a(d,se)}else Y={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(S=I=Y,_=d):I=I.next=Y,De.lanes|=se,Xi|=se;$=$.next}while($!==null&&$!==s);if(I===null?_=d:I.next=S,!Rn(d,t.memoizedState)&&(jt=!0,Z&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ld(t){var s=Nt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Rn(d,s.memoizedState)||(jt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,o]}function ay(t,s,a){var o=De,h=Nt(),d=Ge;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Rn((rt||h).memoizedState,a);if(_&&(h.memoizedState=a,jt=!0),h=h.queue,cd(uy.bind(null,o,h,t),[t]),h.getSnapshot!==s||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Xa(9,{destroy:void 0},oy.bind(null,o,h,a,s),null),ot===null)throw Error(r(349));d||(ri&127)!==0||ly(o,s,a)}return a}function ly(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=De.updateQueue,s===null?(s=Sc(),De.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function oy(t,s,a,o){s.value=a,s.getSnapshot=o,cy(s)&&hy(t)}function uy(t,s,a){return a(function(){cy(s)&&hy(t)})}function cy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Rn(t,a)}catch{return!0}}function hy(t){var s=$r(t,2);s!==null&&Tn(s,t,2)}function od(t){var s=mn();if(typeof t=="function"){var a=t;if(t=a(),ta){Pn(!0);try{a()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},s}function fy(t,s,a,o){return t.baseState=a,ad(t,rt,typeof o=="function"?o:ai)}function e1(t,s,a,o,h){if(Nc(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,o(d),a=s.pending,a===null?(d.next=s.pending=d,dy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function dy(t,s){var a=s.action,o=s.payload,h=t.state;if(s.isTransition){var d=J.T,_={};J.T=_;try{var S=a(h,o),I=J.S;I!==null&&I(_,S),my(t,s,S)}catch($){ud(t,s,$)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,o),my(t,s,d)}catch($){ud(t,s,$)}}function my(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){py(t,s,o)},function(o){return ud(t,s,o)}):py(t,s,a)}function py(t,s,a){s.status="fulfilled",s.value=a,gy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,dy(t,a)))}function ud(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,gy(s),s=s.next;while(s!==o)}t.action=null}function gy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function yy(t,s){return s}function vy(t,s){if(Ge){var a=ot.formState;if(a!==null){e:{var o=De;if(Ge){if(ft){t:{for(var h=ft,d=Yn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Qn(h.nextSibling),o=h.data==="F!";break e}}Bi(o)}o=!1}o&&(s=a[0])}}return a=mn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:s},a.queue=o,a=Ly.bind(null,De,o),o.dispatch=a,o=od(!1),d=pd.bind(null,De,!1,o.queue),o=mn(),h={state:s,dispatch:null,action:t,pending:null},o.queue=h,a=e1.bind(null,De,h,d,a),h.dispatch=a,o.memoizedState=t,[s,a,!1]}function _y(t){var s=Nt();return by(s,rt,t)}function by(t,s,a){if(s=ad(t,s,yy)[0],t=xc(ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=yo(s)}catch(_){throw _===Ga?pc:_}else o=s;s=Nt();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(De.flags|=2048,Xa(9,{destroy:void 0},t1.bind(null,h,a),null)),[o,d,t]}function t1(t,s){t.action=s}function Ey(t){var s=Nt(),a=rt;if(a!==null)return by(s,a,t);Nt(),s=s.memoizedState,a=Nt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Xa(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=De.updateQueue,s===null&&(s=Sc(),De.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Ty(){return Nt().memoizedState}function Ac(t,s,a,o){var h=mn();De.flags|=t,h.memoizedState=Xa(1|s,{destroy:void 0},a,o===void 0?null:o)}function Rc(t,s,a,o){var h=Nt();o=o===void 0?null:o;var d=h.memoizedState.inst;rt!==null&&o!==null&&ed(o,rt.memoizedState.deps)?h.memoizedState=Xa(s,d,a,o):(De.flags|=t,h.memoizedState=Xa(1|s,d,a,o))}function Sy(t,s){Ac(8390656,8,t,s)}function cd(t,s){Rc(2048,8,t,s)}function n1(t){De.flags|=4;var s=De.updateQueue;if(s===null)s=Sc(),De.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function wy(t){var s=Nt().memoizedState;return n1({ref:s,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function xy(t,s){return Rc(4,2,t,s)}function Ay(t,s){return Rc(4,4,t,s)}function Ry(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ny(t,s,a){a=a!=null?a.concat([t]):null,Rc(4,4,Ry.bind(null,s,t),a)}function hd(){}function Cy(t,s){var a=Nt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&ed(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Iy(t,s){var a=Nt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&ed(s,o[1]))return o[0];if(o=t(),ta){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[o,s],o}function fd(t,s,a){return a===void 0||(ri&1073741824)!==0&&(Le&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=D0(),De.lanes|=t,Xi|=t,a)}function Dy(t,s,a,o){return Rn(a,s)?a:Ya.current!==null?(t=fd(t,a,o),Rn(t,s)||(jt=!0),t):(ri&42)===0||(ri&1073741824)!==0&&(Le&261930)===0?(jt=!0,t.memoizedState=a):(t=D0(),De.lanes|=t,Xi|=t,s)}function Oy(t,s,a,o,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=J.T,S={};J.T=S,pd(t,!1,s,a);try{var I=h(),$=J.S;if($!==null&&$(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=JS(I,o);vo(t,s,Z,Mn(t))}else vo(t,s,o,Mn(t))}catch(se){vo(t,s,{then:function(){},status:"rejected",reason:se},Mn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),J.T=_}}function s1(){}function dd(t,s,a,o){if(t.tag!==5)throw Error(r(476));var h=My(t).queue;Oy(t,h,s,ye,a===null?s1:function(){return ky(t),a(o)})}function My(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function ky(t){var s=My(t);s.next===null&&(s=t.alternate.memoizedState),vo(t,s.next.queue,{},Mn())}function md(){return Zt(Vo)}function Vy(){return Nt().memoizedState}function jy(){return Nt().memoizedState}function i1(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mn();t=Fi(a);var o=Gi(s,t,a);o!==null&&(Tn(o,s,a),fo(o,s,a)),s={cache:Hf()},t.payload=s;return}s=s.return}}function r1(t,s,a){var o=Mn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?Py(s,a):(a=Of(t,s,a,o),a!==null&&(Tn(a,t,o),Uy(a,s,o)))}function Ly(t,s,a){var o=Mn();vo(t,s,a,o)}function vo(t,s,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))Py(s,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Rn(S,_))return oc(t,s,h,0),ot===null&&lc(),!1}catch{}if(a=Of(t,s,h,o),a!==null)return Tn(a,t,o),Uy(a,s,o),!0}return!1}function pd(t,s,a,o){if(o={lane:2,revertLane:Yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(s)throw Error(r(479))}else s=Of(t,a,o,2),s!==null&&Tn(s,t,2)}function Nc(t){var s=t.alternate;return t===De||s!==null&&s===De}function Py(t,s){Ka=Ec=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Uy(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ul(t,a)}}var _o={readContext:Zt,use:wc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};_o.useEffectEvent=St;var zy={readContext:Zt,use:wc,useCallback:function(t,s){return mn().memoizedState=[t,s===void 0?null:s],t},useContext:Zt,useEffect:Sy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,Ry.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ac(4194308,4,t,s)},useInsertionEffect:function(t,s){Ac(4,2,t,s)},useMemo:function(t,s){var a=mn();s=s===void 0?null:s;var o=t();if(ta){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=mn();if(a!==void 0){var h=a(s);if(ta){Pn(!0);try{a(s)}finally{Pn(!1)}}}else h=s;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=r1.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var s=mn();return t={current:t},s.memoizedState=t},useState:function(t){t=od(t);var s=t.queue,a=Ly.bind(null,De,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,s){var a=mn();return fd(a,t,s)},useTransition:function(){var t=od(!1);return t=Oy.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=De,h=mn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ot===null)throw Error(r(349));(Le&127)!==0||ly(o,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,Sy(uy.bind(null,o,d,t),[t]),o.flags|=2048,Xa(9,{destroy:void 0},oy.bind(null,o,d,a,s),null),a},useId:function(){var t=mn(),s=ot.identifierPrefix;if(Ge){var a=Ps,o=Ls;a=(o&~(1<<32-xt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Tc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=WS++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:md,useFormState:vy,useActionState:vy,useOptimistic:function(t){var s=mn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=pd.bind(null,De,!0,a),a.dispatch=s,[t,s]},useMemoCache:rd,useCacheRefresh:function(){return mn().memoizedState=i1.bind(null,De)},useEffectEvent:function(t){var s=mn(),a={impl:t};return s.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:Zt,use:wc,useCallback:Cy,useContext:Zt,useEffect:cd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:Iy,useReducer:xc,useRef:Ty,useState:function(){return xc(ai)},useDebugValue:hd,useDeferredValue:function(t,s){var a=Nt();return Dy(a,rt.memoizedState,t,s)},useTransition:function(){var t=xc(ai)[0],s=Nt().memoizedState;return[typeof t=="boolean"?t:yo(t),s]},useSyncExternalStore:ay,useId:Vy,useHostTransitionStatus:md,useFormState:_y,useActionState:_y,useOptimistic:function(t,s){var a=Nt();return fy(a,rt,t,s)},useMemoCache:rd,useCacheRefresh:jy};gd.useEffectEvent=wy;var By={readContext:Zt,use:wc,useCallback:Cy,useContext:Zt,useEffect:cd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:Iy,useReducer:ld,useRef:Ty,useState:function(){return ld(ai)},useDebugValue:hd,useDeferredValue:function(t,s){var a=Nt();return rt===null?fd(a,t,s):Dy(a,rt.memoizedState,t,s)},useTransition:function(){var t=ld(ai)[0],s=Nt().memoizedState;return[typeof t=="boolean"?t:yo(t),s]},useSyncExternalStore:ay,useId:Vy,useHostTransitionStatus:md,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,s){var a=Nt();return rt!==null?fy(a,rt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:jy};By.useEffectEvent=wy;function yd(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:T({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vd={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Mn(),h=Fi(o);h.payload=s,a!=null&&(h.callback=a),s=Gi(t,h,o),s!==null&&(Tn(s,t,o),fo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Mn(),h=Fi(o);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Gi(t,h,o),s!==null&&(Tn(s,t,o),fo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Mn(),o=Fi(a);o.tag=2,s!=null&&(o.callback=s),s=Gi(t,o,a),s!==null&&(Tn(s,t,a),fo(s,t,a))}};function qy(t,s,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):s.prototype&&s.prototype.isPureReactComponent?!io(a,o)||!io(h,d):!0}function Hy(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&vd.enqueueReplaceState(s,s.state,null)}function na(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Fy(t){ac(t)}function Gy(t){console.error(t)}function $y(t){ac(t)}function Cc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Yy(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(t,s,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,s)},a}function Ky(t){return t=Fi(t),t.tag=3,t}function Qy(t,s,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Yy(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yy(s,a,o),typeof h!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function a1(t,s,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&qa(s,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?Bc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===gc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Fd(t,o,h)),!1;case 22:return a.flags|=65536,o===gc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Fd(t,o,h)),!1}throw Error(r(435,a.tag))}return Fd(t,o,h),Bc(),!1}if(Ge)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==Pf&&(t=Error(r(422),{cause:o}),lo(Fn(t,a)))):(o!==Pf&&(s=Error(r(423),{cause:o}),lo(Fn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,a),h=_d(t.stateNode,o,h),Qf(t,h),wt!==4&&(wt=2)),!1;var d=Error(r(520),{cause:o});if(d=Fn(d,a),Ro===null?Ro=[d]:Ro.push(d),wt!==4&&(wt=2),s===null)return!0;o=Fn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_d(a.stateNode,o,t),Qf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ky(h),Qy(h,t,a,o),Qf(a,h),!1}a=a.return}while(a!==null);return!1}var bd=Error(r(461)),jt=!1;function en(t,s,a,o){s.child=t===null?Zg(s,null,a,o):ea(s,t.child,a,o)}function Xy(t,s,a,o,h){a=a.render;var d=s.ref;if("ref"in o){var _={};for(var S in o)S!=="ref"&&(_[S]=o[S])}else _=o;return Xr(s),o=td(t,s,a,_,d,h),S=nd(),t!==null&&!jt?(sd(t,s,h),li(t,s,h)):(Ge&&S&&jf(s),s.flags|=1,en(t,s,o,h),s.child)}function Jy(t,s,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Wy(t,s,d,o,h)):(t=cc(a.type,null,o,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Nd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:io,a(_,o)&&t.ref===s.ref)return li(t,s,h)}return s.flags|=1,t=ti(d,o),t.ref=s.ref,t.return=s,s.child=t}function Wy(t,s,a,o,h){if(t!==null){var d=t.memoizedProps;if(io(d,o)&&t.ref===s.ref)if(jt=!1,s.pendingProps=o=d,Nd(t,h))(t.flags&131072)!==0&&(jt=!0);else return s.lanes=t.lanes,li(t,s,h)}return Ed(t,s,a,o,h)}function Zy(t,s,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=s.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,s.child=null;return e0(t,s,d,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(s,d!==null?d.cachePool:null),d!==null?ny(s,d):Jf(),sy(s);else return o=s.lanes=536870912,e0(t,s,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(mc(s,d.cachePool),ny(s,d),Yi(),s.memoizedState=null):(t!==null&&mc(s,null),Jf(),Yi());return en(t,s,h,a),s.child}function bo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function e0(t,s,a,o,h){var d=Gf();return d=d===null?null:{parent:kt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&mc(s,null),Jf(),sy(s),t!==null&&qa(t,s,o,!0),s.childLanes=h,null}function Ic(t,s){return s=Oc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function t0(t,s,a){return ea(s,t.child,null,a),t=Ic(s,s.pendingProps),t.flags|=2,In(s),s.memoizedState=null,t}function l1(t,s,a){var o=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=Ic(s,o),s.lanes=536870912,bo(null,t);if(Zf(s),(t=ft)?(t=dv(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Ls,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=Pg(t),a.return=s,s.child=a,Wt=s,ft=null)):t=null,t===null)throw Bi(s);return s.lanes=536870912,null}return Ic(s,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(s),h)if(s.flags&256)s.flags&=-257,s=t0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(jt||qa(t,s,a,!1),h=(a&t.childLanes)!==0,jt||h){if(o=ot,o!==null&&(_=zl(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$r(t,_),Tn(o,t,_),bd;Bc(),s=t0(t,s,a)}else t=d.treeContext,ft=Qn(_.nextSibling),Wt=s,Ge=!0,zi=null,Yn=!1,t!==null&&Bg(s,t),s=Ic(s,o),s.flags|=4096;return s}return t=ti(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Dc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Ed(t,s,a,o,h){return Xr(s),a=td(t,s,a,o,void 0,h),o=nd(),t!==null&&!jt?(sd(t,s,h),li(t,s,h)):(Ge&&o&&jf(s),s.flags|=1,en(t,s,a,h),s.child)}function n0(t,s,a,o,h,d){return Xr(s),s.updateQueue=null,a=ry(s,o,a,h),iy(t),o=nd(),t!==null&&!jt?(sd(t,s,d),li(t,s,d)):(Ge&&o&&jf(s),s.flags|=1,en(t,s,a,d),s.child)}function s0(t,s,a,o,h){if(Xr(s),s.stateNode===null){var d=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(o,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=o,d.state=s.memoizedState,d.refs={},Yf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):Pa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yd(s,a,_,o),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&vd.enqueueReplaceState(d,d.state,null),po(s,o,d,h),mo(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){d=s.stateNode;var S=s.memoizedProps,I=na(a,S);d.props=I;var $=d.context,Z=a.contextType;_=Pa,typeof Z=="object"&&Z!==null&&(_=Zt(Z));var se=a.getDerivedStateFromProps;Z=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||$!==_)&&Hy(s,d,o,_),Hi=!1;var Y=s.memoizedState;d.state=Y,po(s,o,d,h),mo(),$=s.memoizedState,S||Y!==$||Hi?(typeof se=="function"&&(yd(s,a,se,o),$=s.memoizedState),(I=Hi||qy(s,a,I,o,Y,$,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=$),d.props=o,d.state=$,d.context=_,o=I):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,Kf(t,s),_=s.memoizedProps,Z=na(a,_),d.props=Z,se=s.pendingProps,Y=d.context,$=a.contextType,I=Pa,typeof $=="object"&&$!==null&&(I=Zt($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||Y!==I)&&Hy(s,d,o,I),Hi=!1,Y=s.memoizedState,d.state=Y,po(s,o,d,h),mo();var W=s.memoizedState;_!==se||Y!==W||Hi||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof S=="function"&&(yd(s,a,S,o),W=s.memoizedState),(Z=Hi||qy(s,a,Z,o,Y,W,I)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,W,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,W,I)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=W),d.props=o,d.state=W,d.context=I,o=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),o=!1)}return d=o,Dc(t,s),o=(s.flags&128)!==0,d||o?(d=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&o?(s.child=ea(s,t.child,null,h),s.child=ea(s,null,a,h)):en(t,s,a,h),s.memoizedState=d.state,t=s.child):t=li(t,s,h),t}function i0(t,s,a,o){return Kr(),s.flags|=256,en(t,s,a,o),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Yg()}}function wd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=On),t}function r0(t,s,a){var o=s.pendingProps,h=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ge){if(h?$i(s):Yi(),(t=ft)?(t=dv(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Ls,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=Pg(t),a.return=s,s.child=a,Wt=s,ft=null)):t=null,t===null)throw Bi(s);return am(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(Yi(),h=s.mode,S=Oc({mode:"hidden",children:S},h),o=Yr(o,h,a,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=Sd(a),o.childLanes=wd(t,_,a),s.memoizedState=Td,bo(null,o)):($i(s),xd(s,S))}var I=t.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(d)s.flags&256?($i(s),s.flags&=-257,s=Ad(t,s,a)):s.memoizedState!==null?(Yi(),s.child=t.child,s.flags|=128,s=null):(Yi(),S=o.fallback,h=s.mode,o=Oc({mode:"visible",children:o.children},h),S=Yr(S,h,a,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,ea(s,t.child,null,a),o=s.child,o.memoizedState=Sd(a),o.childLanes=wd(t,_,a),s.memoizedState=Td,s=bo(null,o));else if($i(s),am(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var $=_.dgst;_=$,o=Error(r(419)),o.stack="",o.digest=_,lo({value:o,source:null,stack:null}),s=Ad(t,s,a)}else if(jt||qa(t,s,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=ot,_!==null&&(o=zl(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,$r(t,o),Tn(_,t,o),bd;rm(S)||Bc(),s=Ad(t,s,a)}else rm(S)?(s.flags|=192,s.child=t.child,s=null):(t=I.treeContext,ft=Qn(S.nextSibling),Wt=s,Ge=!0,zi=null,Yn=!1,t!==null&&Bg(s,t),s=xd(s,o.children),s.flags|=4096);return s}return h?(Yi(),S=o.fallback,h=s.mode,I=t.child,$=I.sibling,o=ti(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,$!==null?S=ti($,S):(S=Yr(S,h,a,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,bo(null,o),o=s.child,S=t.child.memoizedState,S===null?S=Sd(a):(h=S.cachePool,h!==null?(I=kt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Yg(),S={baseLanes:S.baseLanes|a,cachePool:h}),o.memoizedState=S,o.childLanes=wd(t,_,a),s.memoizedState=Td,bo(t.child,o)):($i(s),a=t.child,t=a.sibling,a=ti(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function xd(t,s){return s=Oc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Oc(t,s){return t=Nn(22,t,null,s),t.lanes=0,t}function Ad(t,s,a){return ea(s,t.child,null,a),t=xd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function a0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Bf(t.return,s,a)}function Rd(t,s,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function l0(t,s,a){var o=s.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=Rt.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,H(Rt,_),en(t,s,o,a),o=Ge?ao:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a0(t,a,s);else if(t.tag===19)a0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Rd(s,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&bc(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rd(s,!0,a,null,d,o);break;case"together":Rd(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function li(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Xi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(qa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=ti(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ti(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Nd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function o1(t,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),qi(s,kt,t.memoizedState.cache),Kr();break;case 27:case 5:an(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:qi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?($i(s),s.flags|=128,null):(a&s.child.childLanes)!==0?r0(t,s,a):($i(s),t=li(t,s,a),t!==null?t.sibling:null);$i(s);break;case 19:var h=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(qa(t,s,a,!1),o=(a&s.childLanes)!==0),h){if(o)return l0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),H(Rt,Rt.current),o)break;return null;case 22:return s.lanes=0,Zy(t,s,a,s.pendingProps);case 24:qi(s,kt,t.memoizedState.cache)}return li(t,s,a)}function o0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)jt=!0;else{if(!Nd(t,a)&&(s.flags&128)===0)return jt=!1,o1(t,s,a);jt=(t.flags&131072)!==0}else jt=!1,Ge&&(s.flags&1048576)!==0&&zg(s,ao,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Wr(s.elementType),s.type=t,typeof t=="function")Mf(t)?(o=na(t,o),s.tag=1,s=s0(null,s,t,o,a)):(s.tag=0,s=Ed(null,s,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===le){s.tag=11,s=Xy(null,s,t,o,a);break e}else if(h===R){s.tag=14,s=Jy(null,s,t,o,a);break e}}throw s=Ke(t)||t,Error(r(306,s,""))}}return s;case 0:return Ed(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,h=na(o,s.pendingProps),s0(t,s,o,h,a);case 3:e:{if(Oe(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var d=s.memoizedState;h=d.element,Kf(t,s),po(s,o,null,a);var _=s.memoizedState;if(o=_.cache,qi(s,kt,o),o!==d.cache&&qf(s,[kt],a,!0),mo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=i0(t,s,o,a);break e}else if(o!==h){h=Fn(Error(r(424)),s),lo(h),s=i0(t,s,o,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Qn(t.firstChild),Wt=s,Ge=!0,zi=null,Yn=!0,a=Zg(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){s=li(t,s,a);break e}en(t,s,o,a)}s=s.child}return s;case 26:return Dc(t,s),t===null?(a=_v(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ge||(a=s.type,t=s.pendingProps,o=Kc(pe.current).createElement(a),o[Dt]=s,o[$t]=t,tn(o,a,t),Ot(o),s.stateNode=o):s.memoizedState=_v(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return an(s),t===null&&Ge&&(o=s.stateNode=gv(s.type,s.pendingProps,pe.current),Wt=s,Yn=!0,h=ft,tr(s.type)?(lm=h,ft=Qn(o.firstChild)):ft=h),en(t,s,s.pendingProps.children,a),Dc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ge&&((h=o=ft)&&(o=P1(o,s.type,s.pendingProps,Yn),o!==null?(s.stateNode=o,Wt=s,ft=Qn(o.firstChild),Yn=!1,h=!0):h=!1),h||Bi(s)),an(s),h=s.type,d=s.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,nm(h,d)?o=null:_!==null&&nm(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=td(t,s,ZS,null,null,a),Vo._currentValue=h),Dc(t,s),en(t,s,o,a),s.child;case 6:return t===null&&Ge&&((t=a=ft)&&(a=U1(a,s.pendingProps,Yn),a!==null?(s.stateNode=a,Wt=s,ft=null,t=!0):t=!1),t||Bi(s)),null;case 13:return r0(t,s,a);case 4:return Oe(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ea(s,null,o,a):en(t,s,o,a),s.child;case 11:return Xy(t,s,s.type,s.pendingProps,a);case 7:return en(t,s,s.pendingProps,a),s.child;case 8:return en(t,s,s.pendingProps.children,a),s.child;case 12:return en(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,qi(s,s.type,o.value),en(t,s,o.children,a),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,Xr(s),h=Zt(h),o=o(h),s.flags|=1,en(t,s,o,a),s.child;case 14:return Jy(t,s,s.type,s.pendingProps,a);case 15:return Wy(t,s,s.type,s.pendingProps,a);case 19:return l0(t,s,a);case 31:return l1(t,s,a);case 22:return Zy(t,s,a,s.pendingProps);case 24:return Xr(s),o=Zt(kt),t===null?(h=Gf(),h===null&&(h=ot,d=Hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:o,cache:h},Yf(s),qi(s,kt,h)):((t.lanes&a)!==0&&(Kf(t,s),po(s,null,null,a),mo()),h=t.memoizedState,d=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),qi(s,kt,o)):(o=d.cache,qi(s,kt,o),o!==h.cache&&qf(s,[kt],a,!0))),en(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function oi(t){t.flags|=4}function Cd(t,s,a,o,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(V0())t.flags|=8192;else throw Zr=gc,$f}else t.flags&=-16777217}function u0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wv(s))if(V0())t.flags|=8192;else throw Zr=gc,$f}function Mc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Uu():536870912,t.lanes|=s,el|=s)}function Eo(t,s){if(!Ge)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function u1(t,s,a){var o=s.pendingProps;switch(Lf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ii(kt),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(s)?oi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uf())),dt(s),null;case 26:var h=s.type,d=s.memoizedState;return t===null?(oi(s),d!==null?(dt(s),u0(s,d)):(dt(s),Cd(s,h,null,o,a))):d?d!==t.memoizedState?(oi(s),dt(s),u0(s,d)):(dt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&oi(s),dt(s),Cd(s,h,t,o,a)),null;case 27:if(es(s),a=pe.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&oi(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return dt(s),null}t=ne.current,Ba(s)?qg(s):(t=gv(h,o,a),s.stateNode=t,oi(s))}return dt(s),null;case 5:if(es(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&oi(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return dt(s),null}if(d=ne.current,Ba(s))qg(s);else{var _=Kc(pe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Dt]=s,d[$t]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;e:switch(tn(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&oi(s)}}return dt(s),Cd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&oi(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=pe.current,Ba(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||rv(t.nodeValue,a)),t||Bi(s,!0)}else t=Kc(t).createTextNode(o),t[Dt]=s,s.stateNode=t}return dt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ba(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),t=!1}else a=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(r(558))}return dt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ba(s),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),h=!1}else h=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Mc(s,s.updateQueue),dt(s),null);case 4:return He(),t===null&&Jd(s.stateNode.containerInfo),dt(s),null;case 10:return ii(s.type),dt(s),null;case 19:if(ee(Rt),o=s.memoizedState,o===null)return dt(s),null;if(h=(s.flags&128)!==0,d=o.rendering,d===null)if(h)Eo(o,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=bc(t),d!==null){for(s.flags|=128,Eo(o,!1),t=d.updateQueue,s.updateQueue=t,Mc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Lg(a,t),a=a.sibling;return H(Rt,Rt.current&1|2),Ge&&ni(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&ht()>Pc&&(s.flags|=128,h=!0,Eo(o,!1),s.lanes=4194304)}else{if(!h)if(t=bc(d),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,Mc(s,t),Eo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ge)return dt(s),null}else 2*ht()-o.renderingStartTime>Pc&&a!==536870912&&(s.flags|=128,h=!0,Eo(o,!1),s.lanes=4194304);o.isBackwards?(d.sibling=s.child,s.child=d):(t=o.last,t!==null?t.sibling=d:s.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ht(),t.sibling=null,a=Rt.current,H(Rt,h?a&1|2:a&1),Ge&&ni(s,o.treeForkCount),t):(dt(s),null);case 22:case 23:return In(s),Wf(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&Mc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&ee(Jr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ii(kt),dt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function c1(t,s){switch(Lf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ii(kt),He(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return es(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(In(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ee(Rt),null;case 4:return He(),null;case 10:return ii(s.type),null;case 22:case 23:return In(s),Wf(),t!==null&&ee(Jr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ii(kt),null;case 25:return null;default:return null}}function c0(t,s){switch(Lf(s),s.tag){case 3:ii(kt),He();break;case 26:case 27:case 5:es(s);break;case 4:He();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:ee(Rt);break;case 10:ii(s.type);break;case 22:case 23:In(s),Wf(),t!==null&&ee(Jr);break;case 24:ii(kt)}}function To(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(S){nt(s,s.return,S)}}function Ki(t,s,a){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=s;var I=a,$=S;try{$()}catch(Z){nt(h,I,Z)}}}o=o.next}while(o!==d)}}catch(Z){nt(s,s.return,Z)}}function h0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ty(s,a)}catch(o){nt(t,t.return,o)}}}function f0(t,s,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){nt(t,s,o)}}function So(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){nt(t,s,h)}}function Us(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){nt(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,s,h)}else a.current=null}function d0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function Id(t,s,a){try{var o=t.stateNode;O1(o,t.type,a,s),o[$t]=s}catch(h){nt(t,t.return,h)}}function m0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=rs));else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Od(t,s,a),t=t.sibling;t!==null;)Od(t,s,a),t=t.sibling}function kc(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,s,a),t=t.sibling;t!==null;)kc(t,s,a),t=t.sibling}function p0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);tn(s,o,a),s[Dt]=t,s[$t]=a}catch(d){nt(t,t.return,d)}}var ui=!1,Lt=!1,Md=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function h1(t,s){if(t=t.containerInfo,em=th,t=Ng(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,I=-1,$=0,Z=0,se=t,Y=null;t:for(;;){for(var W;se!==a||h!==0&&se.nodeType!==3||(S=_+h),se!==d||o!==0&&se.nodeType!==3||(I=_+o),se.nodeType===3&&(_+=se.nodeValue.length),(W=se.firstChild)!==null;)Y=se,se=W;for(;;){if(se===t)break t;if(Y===a&&++$===h&&(S=_),Y===d&&++Z===o&&(I=_),(W=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=W}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},th=!1,Kt=s;Kt!==null;)if(s=Kt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Kt=t;else for(;Kt!==null;){switch(s=Kt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ge=na(a.type,h);t=o.getSnapshotBeforeUpdate(ge,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){nt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Kt=t;break}Kt=s.return}}function y0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hi(t,a),o&4&&To(5,a);break;case 1:if(hi(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){nt(a,a.return,_)}else{var h=na(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}o&64&&h0(a),o&512&&So(a,a.return);break;case 3:if(hi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ty(t,s)}catch(_){nt(a,a.return,_)}}break;case 27:s===null&&o&4&&p0(a);case 26:case 5:hi(t,a),s===null&&o&4&&d0(a),o&512&&So(a,a.return);break;case 12:hi(t,a);break;case 31:hi(t,a),o&4&&b0(t,a);break;case 13:hi(t,a),o&4&&E0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=b1.bind(null,a),z1(t,a))));break;case 22:if(o=a.memoizedState!==null||ui,!o){s=s!==null&&s.memoizedState!==null||Lt,h=ui;var d=Lt;ui=o,(Lt=s)&&!d?fi(t,a,(a.subtreeFlags&8772)!==0):hi(t,a),ui=h,Lt=d}break;case 30:break;default:hi(t,a)}}function v0(t){var s=t.alternate;s!==null&&(t.alternate=null,v0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&wa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,vn=!1;function ci(t,s,a){for(a=a.child;a!==null;)_0(t,s,a),a=a.sibling}function _0(t,s,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 26:Lt||Us(a,s),ci(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Us(a,s);var o=gt,h=vn;tr(a.type)&&(gt=a.stateNode,vn=!1),ci(t,s,a),Oo(a.stateNode),gt=o,vn=h;break;case 5:Lt||Us(a,s);case 6:if(o=gt,h=vn,gt=null,ci(t,s,a),gt=o,vn=h,gt!==null)if(vn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(d){nt(a,s,d)}else try{gt.removeChild(a.stateNode)}catch(d){nt(a,s,d)}break;case 18:gt!==null&&(vn?(t=gt,hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ol(t)):hv(gt,a.stateNode));break;case 4:o=gt,h=vn,gt=a.stateNode.containerInfo,vn=!0,ci(t,s,a),gt=o,vn=h;break;case 0:case 11:case 14:case 15:Ki(2,a,s),Lt||Ki(4,a,s),ci(t,s,a);break;case 1:Lt||(Us(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&f0(a,s,o)),ci(t,s,a);break;case 21:ci(t,s,a);break;case 22:Lt=(o=Lt)||a.memoizedState!==null,ci(t,s,a),Lt=o;break;default:ci(t,s,a)}}function b0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(a){nt(s,s.return,a)}}}function E0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(a){nt(s,s.return,a)}}function f1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new g0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new g0),s;default:throw Error(r(435,t.tag))}}function Vc(t,s){var a=f1(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var h=E1.bind(null,t,o);o.then(h,h)}})}function _n(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(tr(S.type)){gt=S.stateNode,vn=!1;break e}break;case 5:gt=S.stateNode,vn=!1;break e;case 3:case 4:gt=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(gt===null)throw Error(r(160));_0(d,_,h),gt=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)T0(s,t),s=s.sibling}var hs=null;function T0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(s,t),bn(t),o&4&&(Ki(3,t,t.return),To(3,t),Ki(5,t,t.return));break;case 1:_n(s,t),bn(t),o&512&&(Lt||a===null||Us(a,a.return)),o&64&&ui&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=hs;if(_n(s,t),bn(t),o&512&&(Lt||a===null||Us(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xs]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,o,a),d[Dt]=t,Ot(d),o=d;break e;case"link":var _=Tv("link","href",h).get(o+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(o),tn(d,o,a),h.head.appendChild(d);break;case"meta":if(_=Tv("meta","content",h).get(o+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(o),tn(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Dt]=t,Ot(d),o=d}t.stateNode=o}else Sv(h,t.type,t.stateNode);else t.stateNode=Ev(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Sv(h,t.type,t.stateNode):Ev(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(s,t),bn(t),o&512&&(Lt||a===null||Us(a,a.return)),a!==null&&o&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(s,t),bn(t),o&512&&(Lt||a===null||Us(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ge){nt(t,t.return,ge)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Id(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Md=!0);break;case 6:if(_n(s,t),bn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ge){nt(t,t.return,ge)}}break;case 3:if(Jc=null,h=hs,hs=Qc(s.containerInfo),_n(s,t),hs=h,bn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(s.containerInfo)}catch(ge){nt(t,t.return,ge)}Md&&(Md=!1,S0(t));break;case 4:o=hs,hs=Qc(t.stateNode.containerInfo),_n(s,t),bn(t),hs=o;break;case 12:_n(s,t),bn(t);break;case 31:_n(s,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vc(t,o)));break;case 13:_n(s,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=ht()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,$=ui,Z=Lt;if(ui=$||h,Lt=Z||I,_n(s,t),Lt=Z,ui=$,bn(t),o&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||I||ui||Lt||sa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){I=a=s;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var se=I.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){nt(I,I.return,ge)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ge){nt(I,I.return,ge)}}}else if(s.tag===18){if(a===null){I=s;try{var W=I.stateNode;h?fv(W,!0):fv(I.stateNode,!1)}catch(ge){nt(I,I.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Vc(t,a))));break;case 19:_n(s,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vc(t,o)));break;case 30:break;case 21:break;default:_n(s,t),bn(t)}}function bn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(m0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(t);kc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var S=Dd(t);kc(t,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,$=Dd(t);Od(t,$,I);break;default:throw Error(r(161))}}catch(Z){nt(t,t.return,Z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function S0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;S0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function hi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y0(t,s.alternate,s),s=s.sibling}function sa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),sa(s);break;case 1:Us(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&f0(s,s.return,a),sa(s);break;case 27:Oo(s.stateNode);case 26:case 5:Us(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}t=t.sibling}}function fi(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=t,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:fi(h,d,a),To(4,d);break;case 1:if(fi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){nt(o,o.return,$)}if(o=d,h=o.updateQueue,h!==null){var S=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ey(I[h],S)}catch($){nt(o,o.return,$)}}a&&_&64&&h0(d),So(d,d.return);break;case 27:p0(d);case 26:case 5:fi(h,d,a),a&&o===null&&_&4&&d0(d),So(d,d.return);break;case 12:fi(h,d,a);break;case 31:fi(h,d,a),a&&_&4&&b0(h,d);break;case 13:fi(h,d,a),a&&_&4&&E0(h,d);break;case 22:d.memoizedState===null&&fi(h,d,a),So(d,d.return);break;case 30:break;default:fi(h,d,a)}s=s.sibling}}function kd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&oo(a))}function Vd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&oo(t))}function fs(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w0(t,s,a,o),s=s.sibling}function w0(t,s,a,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s,a,o),h&2048&&To(9,s);break;case 1:fs(t,s,a,o);break;case 3:fs(t,s,a,o),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&oo(t)));break;case 12:if(h&2048){fs(t,s,a,o),t=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){nt(s,s.return,I)}}else fs(t,s,a,o);break;case 31:fs(t,s,a,o);break;case 13:fs(t,s,a,o);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?fs(t,s,a,o):wo(t,s):d._visibility&2?fs(t,s,a,o):(d._visibility|=2,Ja(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),h&2048&&kd(_,s);break;case 24:fs(t,s,a,o),h&2048&&Vd(s.alternate,s);break;default:fs(t,s,a,o)}}function Ja(t,s,a,o,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,_=s,S=a,I=o,$=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(d,_,S,I,h),To(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ja(d,_,S,I,h):wo(d,_):(Z._visibility|=2,Ja(d,_,S,I,h)),h&&$&2048&&kd(_.alternate,_);break;case 24:Ja(d,_,S,I,h),h&&$&2048&&Vd(_.alternate,_);break;default:Ja(d,_,S,I,h)}s=s.sibling}}function wo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,h=o.flags;switch(o.tag){case 22:wo(a,o),h&2048&&kd(o.alternate,o);break;case 24:wo(a,o),h&2048&&Vd(o.alternate,o);break;default:wo(a,o)}s=s.sibling}}var xo=8192;function Wa(t,s,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)x0(t,s,a),t=t.sibling}function x0(t,s,a){switch(t.tag){case 26:Wa(t,s,a),t.flags&xo&&t.memoizedState!==null&&W1(a,hs,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,s,a);break;case 3:case 4:var o=hs;hs=Qc(t.stateNode.containerInfo),Wa(t,s,a),hs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xo,xo=16777216,Wa(t,s,a),xo=o):Wa(t,s,a));break;default:Wa(t,s,a)}}function A0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ao(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Kt=o,N0(o,t)}A0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R0(t),t=t.sibling}function R0(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,jc(t)):Ao(t);break;default:Ao(t)}}function jc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Kt=o,N0(o,t)}A0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,jc(s));break;default:jc(s)}t=t.sibling}}function N0(t,s){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,d=o.return;if(v0(o),o===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var d1={getCacheForType:function(t){var s=Zt(kt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Zt(kt).controller.signal}},m1=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,ke=null,Le=0,tt=0,Dn=null,Qi=!1,Za=!1,jd=!1,di=0,wt=0,Xi=0,ia=0,Ld=0,On=0,el=0,Ro=null,En=null,Pd=!1,Lc=0,C0=0,Pc=1/0,Uc=null,Ji=null,qt=0,Wi=null,tl=null,mi=0,Ud=0,zd=null,I0=null,No=0,Bd=null;function Mn(){return(We&2)!==0&&Le!==0?Le&-Le:J.T!==null?Yd():zu()}function D0(){if(On===0)if((Le&536870912)===0||Ge){var t=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),On=t}else On=536870912;return t=Cn.current,t!==null&&(t.flags|=32),On}function Tn(t,s,a){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Zi(t,Le,On,!1)),Or(t,a),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(ia|=a),wt===4&&Zi(t,Le,On,!1)),zs(t))}function O0(t,s,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||ns(t,s),h=o?y1(t,s):Hd(t,s,!0),d=o;do{if(h===0){Za&&!o&&Zi(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!p1(a)){h=Hd(t,s,!1),d=!1;continue}if(h===2){if(d=s,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=t;h=Ro;var I=S.current.memoizedState.isDehydrated;if(I&&(nl(S,_).flags|=256),_=Hd(S,_,!1),_!==2){if(jd&&!I){S.errorRecoveryDisabledLanes|=d,ia|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){nl(t,0),Zi(t,s,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zi(o,s,On,!Qi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Lc+300-ht(),10<h)){if(Zi(o,s,On,!Qi),Ts(o,0,!0)!==0)break e;mi=s,o.timeoutHandle=uv(M0.bind(null,o,a,En,Uc,Pd,s,On,ia,el,Qi,d,"Throttled",-0,0),h);break e}M0(o,a,En,Uc,Pd,s,On,ia,el,Qi,d,null,-0,0)}}break}while(!0);zs(t)}function M0(t,s,a,o,h,d,_,S,I,$,Z,se,Y,W){if(t.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},x0(s,d,se);var ge=(d&62914560)===d?Lc-ht():(d&4194048)===d?C0-ht():0;if(ge=Z1(se,ge),ge!==null){mi=d,t.cancelPendingCommit=ge(B0.bind(null,t,s,d,a,o,h,_,S,I,Z,se,null,Y,W)),Zi(t,d,_,!$);return}}B0(t,s,d,a,o,h,_,S,I)}function p1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!Rn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(t,s,a,o){s&=~Ld,s&=~ia,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var h=s;0<h;){var d=31-xt(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Mr(t,a,s)}function zc(){return(We&6)===0?(Co(0),!1):!0}function qd(){if(ke!==null){if(tt===0)var t=ke.return;else t=ke,si=Qr=null,id(t),$a=null,co=0,t=ke;for(;t!==null;)c0(t.alternate,t),t=t.return;ke=null}}function nl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,V1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mi=0,qd(),ot=t,ke=a=ti(t.current,null),Le=s,tt=0,Dn=null,Qi=!1,Za=ns(t,s),jd=!1,el=On=Ld=ia=Xi=wt=0,En=Ro=null,Pd=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var h=31-xt(o),d=1<<h;s|=t[h],o&=~d}return di=s,lc(),a}function k0(t,s){De=null,J.H=_o,s===Ga||s===pc?(s=Xg(),tt=3):s===$f?(s=Xg(),tt=4):tt=s===bd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,ke===null&&(wt=1,Cc(t,Fn(s,t.current)))}function V0(){var t=Cn.current;return t===null?!0:(Le&4194048)===Le?Kn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Kn:!1}function j0(){var t=J.H;return J.H=_o,t===null?_o:t}function L0(){var t=J.A;return J.A=d1,t}function Bc(){wt=4,Qi||(Le&4194048)!==Le&&Cn.current!==null||(Za=!0),(Xi&134217727)===0&&(ia&134217727)===0||ot===null||Zi(ot,Le,On,!1)}function Hd(t,s,a){var o=We;We|=2;var h=j0(),d=L0();(ot!==t||Le!==s)&&(Uc=null,nl(t,s)),s=!1;var _=wt;e:do try{if(tt!==0&&ke!==null){var S=ke,I=Dn;switch(tt){case 8:qd(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var $=tt;if(tt=0,Dn=null,sl(t,S,I,$),a&&Za){_=0;break e}break;default:$=tt,tt=0,Dn=null,sl(t,S,I,$)}}g1(),_=wt;break}catch(Z){k0(t,Z)}while(!0);return s&&t.shellSuspendCounter++,si=Qr=null,We=o,J.H=h,J.A=d,ke===null&&(ot=null,Le=0,lc()),_}function g1(){for(;ke!==null;)P0(ke)}function y1(t,s){var a=We;We|=2;var o=j0(),h=L0();ot!==t||Le!==s?(Uc=null,Pc=ht()+500,nl(t,s)):Za=ns(t,s);e:do try{if(tt!==0&&ke!==null){s=ke;var d=Dn;t:switch(tt){case 1:tt=0,Dn=null,sl(t,s,d,1);break;case 2:case 9:if(Kg(d)){tt=0,Dn=null,U0(s);break}s=function(){tt!==2&&tt!==9||ot!==t||(tt=7),zs(t)},d.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Kg(d)?(tt=0,Dn=null,U0(s)):(tt=0,Dn=null,sl(t,s,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var S=ke;if(_?wv(_):S.stateNode.complete){tt=0,Dn=null;var I=S.sibling;if(I!==null)ke=I;else{var $=S.return;$!==null?(ke=$,qc($)):ke=null}break t}}tt=0,Dn=null,sl(t,s,d,5);break;case 6:tt=0,Dn=null,sl(t,s,d,6);break;case 8:qd(),wt=6;break e;default:throw Error(r(462))}}v1();break}catch(Z){k0(t,Z)}while(!0);return si=Qr=null,J.H=o,J.A=h,We=a,ke!==null?0:(ot=null,Le=0,lc(),wt)}function v1(){for(;ke!==null&&!ut();)P0(ke)}function P0(t){var s=o0(t.alternate,t,di);t.memoizedProps=t.pendingProps,s===null?qc(t):ke=s}function U0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=n0(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=n0(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:id(s);default:c0(a,s),s=ke=Lg(s,di),s=o0(a,s,di)}t.memoizedProps=t.pendingProps,s===null?qc(t):ke=s}function sl(t,s,a,o){si=Qr=null,id(s),$a=null,co=0;var h=s.return;try{if(a1(t,h,s,a,Le)){wt=1,Cc(t,Fn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;wt=1,Cc(t,Fn(a,t.current)),ke=null;return}s.flags&32768?(Ge||o===1?t=!0:Za||(Le&536870912)!==0?t=!1:(Qi=t=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),z0(s,t)):qc(s)}function qc(t){var s=t;do{if((s.flags&32768)!==0){z0(s,Qi);return}t=s.return;var a=u1(s.alternate,s,di);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);wt===0&&(wt=5)}function z0(t,s){do{var a=c1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);wt=6,ke=null}function B0(t,s,a,o,h,d,_,S,I){t.cancelPendingCommit=null;do Hc();while(qt!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Df,Tf(t,a,d,_,S,I),t===ot&&(ke=ot=null,Le=0),tl=s,Wi=t,mi=a,Ud=d,zd=h,I0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T1(Ci,function(){return $0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,h=ae.p,ae.p=2,_=We,We|=4;try{h1(t,s,a)}finally{We=_,ae.p=h,J.T=o}}qt=1,q0(),H0(),F0()}}function q0(){if(qt===1){qt=0;var t=Wi,s=tl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var o=ae.p;ae.p=2;var h=We;We|=4;try{T0(s,t);var d=tm,_=Ng(t.containerInfo),S=d.focusedElem,I=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Rg(S.ownerDocument.documentElement,S)){if(I!==null&&Af(S)){var $=I.start,Z=I.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var se=S.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ge=S.textContent.length,Ee=Math.min(I.start,ge),lt=I.end===void 0?Ee:Math.min(I.end,ge);!W.extend&&Ee>lt&&(_=lt,lt=Ee,Ee=_);var B=Ag(S,Ee),V=Ag(S,lt);if(B&&V&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==V.node||W.focusOffset!==V.offset)){var G=se.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),Ee>lt?(W.addRange(G),W.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),W.addRange(G))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var te=se[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}th=!!em,tm=em=null}finally{We=h,ae.p=o,J.T=a}}t.current=s,qt=2}}function H0(){if(qt===2){qt=0;var t=Wi,s=tl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var o=ae.p;ae.p=2;var h=We;We|=4;try{y0(t,s.alternate,s)}finally{We=h,ae.p=o,J.T=a}}qt=3}}function F0(){if(qt===4||qt===3){qt=0,bt();var t=Wi,s=tl,a=mi,o=I0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,tl=Wi=null,G0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ji=null),Js(a),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ts,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=J.T,h=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var S=o[_];d(S.value,{componentStack:S.stack})}}finally{J.T=s,ae.p=h}}(mi&3)!==0&&Hc(),zs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Bd?No++:(No=0,Bd=t):No=0,Co(0)}}function G0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,oo(s)))}function Hc(){return q0(),H0(),F0(),$0()}function $0(){if(qt!==5)return!1;var t=Wi,s=Ud;Ud=0;var a=Js(mi),o=J.T,h=ae.p;try{ae.p=32>a?32:a,J.T=null,a=zd,zd=null;var d=Wi,_=mi;if(qt=0,tl=Wi=null,mi=0,(We&6)!==0)throw Error(r(331));var S=We;if(We|=4,R0(d.current),w0(d,d.current,_,a),We=S,Co(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ts,d)}catch{}return!0}finally{ae.p=h,J.T=o,G0(t,s)}}function Y0(t,s,a){s=Fn(a,s),s=_d(t.stateNode,s,2),t=Gi(t,s,2),t!==null&&(Or(t,2),zs(t))}function nt(t,s,a){if(t.tag===3)Y0(t,t,a);else for(;s!==null;){if(s.tag===3){Y0(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ji===null||!Ji.has(o))){t=Fn(a,t),a=Ky(2),o=Gi(s,a,2),o!==null&&(Qy(a,o,s,t),Or(o,2),zs(o));break}}s=s.return}}function Fd(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new m1;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(jd=!0,h.add(a),t=_1.bind(null,t,s,a),s.then(t,t))}function _1(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Le&a)===a&&(wt===4||wt===3&&(Le&62914560)===Le&&300>ht()-Lc?(We&2)===0&&nl(t,0):Ld|=a,el===Le&&(el=0)),zs(t)}function K0(t,s){s===0&&(s=Uu()),t=$r(t,s),t!==null&&(Or(t,s),zs(t))}function b1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),K0(t,a)}function E1(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),K0(t,a)}function T1(t,s){return Fe(t,s)}var Fc=null,il=null,Gd=!1,Gc=!1,$d=!1,er=0;function zs(t){t!==il&&t.next===null&&(il===null?Fc=il=t:il=il.next=t),Gc=!0,Gd||(Gd=!0,w1())}function Co(t,s){if(!$d&&Gc){$d=!0;do for(var a=!1,o=Fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,S=o.pingedLanes;d=(1<<31-xt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W0(o,d))}else d=Le,d=Ts(o,o===ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ns(o,d)||(a=!0,W0(o,d));o=o.next}while(a);$d=!1}}function S1(){Q0()}function Q0(){Gc=Gd=!1;var t=0;er!==0&&k1()&&(t=er);for(var s=ht(),a=null,o=Fc;o!==null;){var h=o.next,d=X0(o,s);d===0?(o.next=null,a===null?Fc=h:a.next=h,h===null&&(il=a)):(a=o,(t!==0||(d&3)!==0)&&(Gc=!0)),o=h}qt!==0&&qt!==5||Co(t),er!==0&&(er=0)}function X0(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-xt(d),S=1<<_,I=h[_];I===-1?((S&a)===0||(S&o)!==0)&&(h[_]=Ef(S,s)):I<=s&&(t.expiredLanes|=S),d&=~S}if(s=ot,a=Le,a=Ts(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Tt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ns(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Tt(o),Js(a)){case 2:case 8:a=Pl;break;case 32:a=Ci;break;case 268435456:a=ku;break;default:a=Ci}return o=J0.bind(null,t),a=Fe(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Tt(o),t.callbackPriority=2,t.callbackNode=null,2}function J0(t,s){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hc()&&t.callbackNode!==a)return null;var o=Le;return o=Ts(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(O0(t,o,s),X0(t,ht()),t.callbackNode!=null&&t.callbackNode===a?J0.bind(null,t):null)}function W0(t,s){if(Hc())return null;O0(t,s,!0)}function w1(){j1(function(){(We&6)!==0?Fe(Ll,S1):Q0()})}function Yd(){if(er===0){var t=Ha;t===0&&(t=bs,bs<<=1,(bs&261888)===0&&(bs=256)),er=t}return er}function Z0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function ev(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function x1(t,s,a,o,h){if(s==="submit"&&a&&a.stateNode===h){var d=Z0((h[$t]||null).action),_=o.submitter;_&&(s=(s=_[$t]||null)?Z0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ms("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(er!==0){var I=_?ev(h,_):new FormData(h);dd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=_?ev(h,_):new FormData(h),dd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Kd=0;Kd<If.length;Kd++){var Qd=If[Kd],A1=Qd.toLowerCase(),R1=Qd[0].toUpperCase()+Qd.slice(1);cs(A1,"on"+R1)}cs(Dg,"onAnimationEnd"),cs(Og,"onAnimationIteration"),cs(Mg,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(HS,"onTransitionRun"),cs(FS,"onTransitionStart"),cs(GS,"onTransitionCancel"),cs(kg,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function tv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(s)for(var _=o.length-1;0<=_;_--){var S=o[_],I=S.instance,$=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=$;try{d(h)}catch(Z){ac(Z)}h.currentTarget=null,d=I}else for(_=0;_<o.length;_++){if(S=o[_],I=S.instance,$=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=$;try{d(h)}catch(Z){ac(Z)}h.currentTarget=null,d=I}}}}function Ve(t,s){var a=s[Sa];a===void 0&&(a=s[Sa]=new Set);var o=t+"__bubble";a.has(o)||(nv(s,t,2,!1),a.add(o))}function Xd(t,s,a){var o=0;s&&(o|=4),nv(a,t,o,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[$c]){t[$c]=!0,Bl.forEach(function(a){a!=="selectionchange"&&(N1.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[$c]||(s[$c]=!0,Xd("selectionchange",!1,s))}}function nv(t,s,a,o){switch(Dv(s)){case 2:var h=nw;break;case 8:h=sw;break;default:h=fm}a=h.bind(null,s,a,t),h=void 0,!Pr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Wd(t,s,a,o,h){var d=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var S=o.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=As(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=d=_;continue e}S=S.parentNode}}o=o.return}Vi(function(){var $=d,Z=zn(a),se=[];e:{var Y=Vg.get(t);if(Y!==void 0){var W=Ms,ge=t;switch(t){case"keypress":if(zr(a)===0)break e;case"keydown":case"keyup":W=sc;break;case"focusin":ge="focus",W=qr;break;case"focusout":ge="blur",W=qr;break;case"beforeblur":case"afterblur":W=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case Dg:case Og:case Mg:W=Xu;break;case kg:W=w;break;case"scroll":case"scrollend":W=Zl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ei;break;case"toggle":case"beforetoggle":W=Ie}var Ee=(s&4)!==0,lt=!Ee&&(t==="scroll"||t==="scrollend"),B=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var V=$,G;V!==null;){var te=V;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||B===null||(te=as(V,B),te!=null&&Ee.push(Do(V,te,G))),lt)break;V=V.return}0<Ee.length&&(Y=new W(Y,ge,null,a,Z),se.push({event:Y,listeners:Ee}))}}if((s&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Y&&a!==Xl&&(ge=a.relatedTarget||a.fromElement)&&(As(ge)||ge[ws]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ge=a.relatedTarget||a.toElement,W=$,ge=ge?As(ge):null,ge!==null&&(lt=u(ge),Ee=ge.tag,ge!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):(W=null,ge=$),W!==ge)){if(Ee=eo,te="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=ei,te="onPointerLeave",B="onPointerEnter",V="pointer"),lt=W==null?Y:xn(W),G=ge==null?Y:xn(ge),Y=new Ee(te,V+"leave",W,a,Z),Y.target=lt,Y.relatedTarget=G,te=null,As(Z)===$&&(Ee=new Ee(B,V+"enter",ge,a,Z),Ee.target=G,Ee.relatedTarget=lt,te=Ee),lt=te,W&&ge)t:{for(Ee=C1,B=W,V=ge,G=0,te=B;te;te=Ee(te))G++;te=0;for(var _e=V;_e;_e=Ee(_e))te++;for(;0<G-te;)B=Ee(B),G--;for(;0<te-G;)V=Ee(V),te--;for(;G--;){if(B===V||V!==null&&B===V.alternate){Ee=B;break t}B=Ee(B),V=Ee(V)}Ee=null}else Ee=null;W!==null&&sv(se,Y,W,Ee,!1),ge!==null&&lt!==null&&sv(se,lt,ge,Ee,!0)}}e:{if(Y=$?xn($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Qe=bg;else if(vg(Y))if(Eg)Qe=zS;else{Qe=PS;var ve=LS}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Ra($.elementType)&&(Qe=bg):Qe=US;if(Qe&&(Qe=Qe(t,$))){_g(se,Qe,a,Z);break e}ve&&ve(t,Y,$),t==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Yl(Y,"number",Y.value)}switch(ve=$?xn($):window,t){case"focusin":(vg(ve)||ve.contentEditable==="true")&&(Va=ve,Rf=$,ro=null);break;case"focusout":ro=Rf=Va=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Cg(se,a,Z);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Cg(se,a,Z)}var Me;if(Je)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ka?Hr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(js&&a.locale!=="ko"&&(ka||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ka&&(Me=Wl()):(Os=Z,Jl="value"in Os?Os.value:Os.textContent,ka=!0)),ve=Yc($,Pe),0<ve.length&&(Pe=new Vs(Pe,t,null,a,Z),se.push({event:Pe,listeners:ve}),Me?Pe.data=Me:(Me=Ma(a),Me!==null&&(Pe.data=Me)))),(Me=qn?MS(t,a):kS(t,a))&&(Pe=Yc($,"onBeforeInput"),0<Pe.length&&(ve=new Vs("onBeforeInput","beforeinput",null,a,Z),se.push({event:ve,listeners:Pe}),ve.data=Me)),x1(se,t,$,a,Z)}tv(se,s)})}function Do(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Yc(t,s){for(var a=s+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=as(t,a),h!=null&&o.unshift(Do(t,h,d)),h=as(t,s),h!=null&&o.push(Do(t,h,d))),t.tag===3)return o;t=t.return}return[]}function C1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,s,a,o,h){for(var d=s._reactName,_=[];a!==null&&a!==o;){var S=a,I=S.alternate,$=S.stateNode;if(S=S.tag,I!==null&&I===o)break;S!==5&&S!==26&&S!==27||$===null||(I=$,h?($=as(a,d),$!=null&&_.unshift(Do(a,$,I))):h||($=as(a,d),$!=null&&_.push(Do(a,$,I)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var I1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(D1,"")}function rv(t,s){return s=iv(s),iv(t)===s}function at(t,s,a,o,h,d){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&yn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,o);break;case"style":Ql(t,o,d);break;case"data":if(s!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&at(t,s,"name",h.name,h,null),at(t,s,"formEncType",h.formEncType,h,null),at(t,s,"formMethod",h.formMethod,h,null),at(t,s,"formTarget",h.formTarget,h,null)):(at(t,s,"encType",h.encType,h,null),at(t,s,"method",h.method,h,null),at(t,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=rs);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),xa(t,"popover",o);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,xa(t,a,o))}}function Zd(t,s,a,o,h,d){switch(a){case"style":Ql(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):xa(t,a,o)}}}function tn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(t,s,d,_,a,null)}}h&&at(t,s,"srcSet",a.srcSet,a,null),o&&at(t,s,"src",a.src,a,null);return;case"input":Ve("invalid",t);var S=d=_=h=null,I=null,$=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":$=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:at(t,s,o,Z,a,null)}}Fu(t,d,S,I,$,_,h,!1);return;case"select":Ve("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":o=S;default:at(t,s,h,S,a,null)}s=d,a=_,t.multiple=!!o,s!=null?Di(t,!!o,s,!1):a!=null&&Di(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":o=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:at(t,s,_,S,a,null)}Oi(t,o,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":at(t,s,I,o,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<Io.length;o++)Ve(Io[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(o=a[$],o!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(t,s,$,o,a,null)}return;default:if(Ra(s)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&Zd(t,s,Z,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&at(t,s,S,o,a,null))}function O1(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,I=null,$=null,Z=null;for(W in a){var se=a[W];if(a.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=se;default:o.hasOwnProperty(W)||at(t,s,W,null,o,se)}}for(var Y in o){var W=o[Y];if(se=a[Y],o.hasOwnProperty(Y)&&(W!=null||se!=null))switch(Y){case"type":d=W;break;case"name":h=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":_=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==se&&at(t,s,Y,W,o,se)}}Aa(t,_,S,I,$,Z,d,h);return;case"select":W=_=S=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":W=I;default:o.hasOwnProperty(d)||at(t,s,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==I&&at(t,s,h,d,o,I)}s=S,a=_,o=W,Y!=null?Di(t,!!a,Y,!1):!!o!=!!a&&(s!=null?Di(t,!!a,s,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":W=Y=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(t,s,S,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&at(t,s,_,h,o,d)}Gu(t,Y,W);return;case"option":for(var ge in a)Y=a[ge],a.hasOwnProperty(ge)&&Y!=null&&!o.hasOwnProperty(ge)&&(ge==="selected"?t.selected=!1:at(t,s,ge,null,o,Y));for(I in o)Y=o[I],W=a[I],o.hasOwnProperty(I)&&Y!==W&&(Y!=null||W!=null)&&(I==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":at(t,s,I,Y,o,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!o.hasOwnProperty(Ee)&&at(t,s,Ee,null,o,Y);for($ in o)if(Y=o[$],W=a[$],o.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:at(t,s,$,Y,o,W)}return;default:if(Ra(s)){for(var lt in a)Y=a[lt],a.hasOwnProperty(lt)&&Y!==void 0&&!o.hasOwnProperty(lt)&&Zd(t,s,lt,void 0,o,Y);for(Z in o)Y=o[Z],W=a[Z],!o.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Zd(t,s,Z,Y,o,W);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!o.hasOwnProperty(B)&&at(t,s,B,null,o,Y);for(se in o)Y=o[se],W=a[se],!o.hasOwnProperty(se)||Y===W||Y==null&&W==null||at(t,s,se,Y,o,W)}function av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&av(_)){for(_=0,S=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],$=I.startTime;if($>S)break;var Z=I.transferSize,se=I.initiatorType;Z&&av(se)&&(I=I.responseEnd,_+=Z*(I<S?1:(S-$)/(I-$)))}if(--o,s+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var em=null,tm=null;function Kc(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function nm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sm=null;function k1(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(L1)}:uv;function L1(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function hv(t,s){var a=s,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ol(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Oo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Oo(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[xs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Oo(t.ownerDocument.body);a=h}while(a);ol(s)}function fv(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function im(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function P1(t,s,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[xs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function U1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function dv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function z1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var lm=null;function mv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function pv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function gv(t,s,a){switch(s=Kc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Oo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wa(t)}var Xn=new Map,yv=new Set;function Qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pi=ae.d;ae.d={f:B1,r:q1,D:H1,C:F1,L:G1,m:$1,X:K1,S:Y1,M:Q1};function B1(){var t=pi.f(),s=zc();return t||s}function q1(t){var s=Un(t);s!==null&&s.tag===5&&s.type==="form"?ky(s):pi.r(t)}var rl=typeof document>"u"?null:document;function vv(t,s,a){var o=rl;if(o&&typeof s=="string"&&s){var h=gn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yv.has(h)||(yv.add(h),t={rel:t,crossOrigin:a,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),tn(s,"link",t),Ot(s),o.head.appendChild(s)))}}function H1(t){pi.D(t),vv("dns-prefetch",t,null)}function F1(t,s){pi.C(t,s),vv("preconnect",t,s)}function G1(t,s,a){pi.L(t,s,a);var o=rl;if(o&&t&&s){var h='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var d=h;switch(s){case"style":d=al(t);break;case"script":d=ll(t)}Xn.has(d)||(t=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Xn.set(d,t),o.querySelector(h)!==null||s==="style"&&o.querySelector(Mo(d))||s==="script"&&o.querySelector(ko(d))||(s=o.createElement("link"),tn(s,"link",t),Ot(s),o.head.appendChild(s)))}}function $1(t,s){pi.m(t,s);var a=rl;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ll(t)}if(!Xn.has(d)&&(t=T({rel:"modulepreload",href:t},s),Xn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ko(d)))return}o=a.createElement("link"),tn(o,"link",t),Ot(o),a.head.appendChild(o)}}}function Y1(t,s,a){pi.S(t,s,a);var o=rl;if(o&&t){var h=Rs(o).hoistableStyles,d=al(t);s=s||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=o.querySelector(Mo(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Xn.get(d))&&om(t,a);var I=_=o.createElement("link");Ot(I),tn(I,"link",t),I._p=new Promise(function($,Z){I.onload=$,I.onerror=Z}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Xc(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function K1(t,s){pi.X(t,s);var a=rl;if(a&&t){var o=Rs(a).hoistableScripts,h=ll(t),d=o.get(h);d||(d=a.querySelector(ko(h)),d||(t=T({src:t,async:!0},s),(s=Xn.get(h))&&um(t,s),d=a.createElement("script"),Ot(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Q1(t,s){pi.M(t,s);var a=rl;if(a&&t){var o=Rs(a).hoistableScripts,h=ll(t),d=o.get(h);d||(d=a.querySelector(ko(h)),d||(t=T({src:t,async:!0,type:"module"},s),(s=Xn.get(h))&&um(t,s),d=a.createElement("script"),Ot(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function _v(t,s,a,o){var h=(h=pe.current)?Qc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=al(a.href),a=Rs(h).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var d=Rs(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Mo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||X1(h,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ll(a),a=Rs(h).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function al(t){return'href="'+gn(t)+'"'}function Mo(t){return'link[rel="stylesheet"]['+t+"]"}function bv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function X1(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),tn(s,"link",a),Ot(s),t.head.appendChild(s))}function ll(t){return'[src="'+gn(t)+'"]'}function ko(t){return"script[async]"+t}function Ev(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return s.instance=o,Ot(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),tn(o,"style",h),Xc(o,a.precedence,t),s.instance=o;case"stylesheet":h=al(a.href);var d=t.querySelector(Mo(h));if(d)return s.state.loading|=4,s.instance=d,Ot(d),d;o=bv(a),(h=Xn.get(h))&&om(o,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var _=d;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),tn(d,"link",o),s.state.loading|=4,Xc(d,a.precedence,t),s.instance=d;case"script":return d=ll(a.src),(h=t.querySelector(ko(d)))?(s.instance=h,Ot(h),h):(o=a,(h=Xn.get(d))&&(o=T({},a),um(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),tn(h,"link",o),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Xc(o,a.precedence,t));return s.instance}function Xc(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var S=o[_];if(S.dataset.precedence===s)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function om(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function um(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Jc=null;function Tv(t,s,a){if(Jc===null){var o=new Map,h=Jc=new Map;h.set(a,o)}else h=Jc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xs]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=t+_;var S=o.get(_);S?S.push(d):o.set(_,[d])}}return o}function Sv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function J1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function W1(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=al(o.href),d=s.querySelector(Mo(h));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Wc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=s.ownerDocument||s,o=bv(o),(h=Xn.get(h))&&om(o,h),d=d.createElement("link"),Ot(d);var _=d;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),tn(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var cm=0;function Z1(t,s){return t.stylesheets&&t.count===0&&eh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&cm===0&&(cm=62500*M1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>cm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function eh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,s.forEach(ew,t),Zc=null,Wc.call(t))}function ew(t,s){if(!(s.state.loading&4)){var a=Zc.get(t);if(a)var o=a.get(null);else{a=new Map,Zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=s.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Vo={$$typeof:K,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function tw(t,s,a,o,h,d,_,S,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function xv(t,s,a,o,h,d,_,S,I,$,Z,se){return t=new tw(t,s,a,_,I,$,Z,se,S),s=1,d===!0&&(s|=24),d=Nn(3,null,null,s),t.current=d,d.stateNode=t,s=Hf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:s},Yf(d),t}function Av(t){return t?(t=Pa,t):Pa}function Rv(t,s,a,o,h,d){h=Av(h),o.context===null?o.context=h:o.pendingContext=h,o=Fi(s),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Gi(t,o,s),a!==null&&(Tn(a,t,s),fo(a,t,s))}function Nv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function hm(t,s){Nv(t,s),(t=t.alternate)&&Nv(t,s)}function Cv(t){if(t.tag===13||t.tag===31){var s=$r(t,67108864);s!==null&&Tn(s,t,67108864),hm(t,67108864)}}function Iv(t){if(t.tag===13||t.tag===31){var s=Mn();s=kr(s);var a=$r(t,s);a!==null&&Tn(a,t,s),hm(t,s)}}var th=!0;function nw(t,s,a,o){var h=J.T;J.T=null;var d=ae.p;try{ae.p=2,fm(t,s,a,o)}finally{ae.p=d,J.T=h}}function sw(t,s,a,o){var h=J.T;J.T=null;var d=ae.p;try{ae.p=8,fm(t,s,a,o)}finally{ae.p=d,J.T=h}}function fm(t,s,a,o){if(th){var h=dm(o);if(h===null)Wd(t,s,o,nh,a),Ov(t,o);else if(rw(h,t,s,a,o))o.stopPropagation();else if(Ov(t,o),s&4&&-1<iw.indexOf(t)){for(;h!==null;){var d=Un(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Es(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-xt(_);S.entanglements[1]|=I,_&=~I}zs(d),(We&6)===0&&(Pc=ht()+500,Co(0))}}break;case 31:case 13:S=$r(d,2),S!==null&&Tn(S,d,2),zc(),hm(d,2)}if(d=dm(o),d===null&&Wd(t,s,o,nh,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Wd(t,s,o,null,a)}}function dm(t){return t=zn(t),mm(t)}var nh=null;function mm(t){if(nh=null,t=As(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return nh=t,null}function Dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Ll:return 2;case Pl:return 8;case Ci:case bf:return 32;case ku:return 268435456;default:return 32}default:return 32}}var pm=!1,nr=null,sr=null,ir=null,jo=new Map,Lo=new Map,rr=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,s){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(s.pointerId)}}function Po(t,s,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},s!==null&&(s=Un(s),s!==null&&Cv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function rw(t,s,a,o,h){switch(s){case"focusin":return nr=Po(nr,t,s,a,o,h),!0;case"dragenter":return sr=Po(sr,t,s,a,o,h),!0;case"mouseover":return ir=Po(ir,t,s,a,o,h),!0;case"pointerover":var d=h.pointerId;return jo.set(d,Po(jo.get(d)||null,t,s,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Lo.set(d,Po(Lo.get(d)||null,t,s,a,o,h)),!0}return!1}function Mv(t){var s=As(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Iv(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Iv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Xl=o,a.target.dispatchEvent(o),Xl=null}else return s=Un(a),s!==null&&Cv(s),t.blockedOn=a,!1;s.shift()}return!0}function kv(t,s,a){sh(t)&&a.delete(s)}function aw(){pm=!1,nr!==null&&sh(nr)&&(nr=null),sr!==null&&sh(sr)&&(sr=null),ir!==null&&sh(ir)&&(ir=null),jo.forEach(kv),Lo.forEach(kv)}function ih(t,s){t.blockedOn===s&&(t.blockedOn=null,pm||(pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,aw)))}var rh=null;function Vv(t){rh!==t&&(rh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],h=t[s+2];if(typeof o!="function"){if(mm(o||a)===null)continue;break}var d=Un(a);d!==null&&(t.splice(s,3),s-=3,dd(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(t){function s(I){return ih(I,t)}nr!==null&&ih(nr,t),sr!==null&&ih(sr,t),ir!==null&&ih(ir,t),jo.forEach(s),Lo.forEach(s);for(var a=0;a<rr.length;a++){var o=rr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)Mv(a),a.blockedOn===null&&rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[$t]||null;if(typeof d=="function")_||Vv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[$t]||null)S=_.formAction;else if(mm(h)!==null)continue}else S=_.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Vv(a)}}}function jv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function gm(t){this._internalRoot=t}ah.prototype.render=gm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Mn();Rv(a,o,t,s,null,null)},ah.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Rv(t.current,2,null,t,null,null),zc(),s[ws]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var s=zu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<rr.length&&s!==0&&s<rr[a].priority;a++);rr.splice(a,0,t),a===0&&Mv(t)}};var Lv=e.version;if(Lv!=="19.2.4")throw Error(r(527,Lv,"19.2.4"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var lw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ts=lh.inject(lw),Xt=lh}catch{}}return zo.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",h=Fy,d=Gy,_=$y;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=xv(t,1,!1,null,null,a,o,null,h,d,_,jv),t[ws]=s.current,Jd(t),new gm(s)},zo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=Fy,_=Gy,S=$y,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),s=xv(t,1,!0,s,a??null,o,h,I,d,_,S,jv),s.context=Av(null),a=s.current,o=Mn(),o=kr(o),h=Fi(o),h.callback=null,Gi(a,h,o),a=o,s.current.lanes=a,Or(s,a),zs(s),t[ws]=s.current,Jd(t),new ah(s)},zo.version="19.2.4",zo}var Yv;function vw(){if(Yv)return _m.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=yw(),_m.exports}var _w=vw();const bw=Vb(_w);var Kv="popstate";function Ew(i={}){function e(l,u){let{pathname:f="/",search:m="",hash:p=""}=ya(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Um("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:nu(u))}function r(l,u){Zn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Sw(e,n,r,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tw(){return Math.random().toString(36).substring(2,10)}function Qv(i,e){return{usr:i.state,key:i.key,idx:e}}function Um(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||r||Tw()}}function nu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ya(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function Sw(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,f=l.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let L=E(),z=L==null?null:L-g;g=L,p&&p({action:m,location:q.location,delta:z})}function x(L,z){m="PUSH";let P=Um(q.location,L,z);n&&n(P,L),g=E()+1;let K=Qv(P,g),le=q.createHref(P);try{f.pushState(K,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(le)}u&&p&&p({action:m,location:q.location,delta:1})}function D(L,z){m="REPLACE";let P=Um(q.location,L,z);n&&n(P,L),g=E();let K=Qv(P,g),le=q.createHref(P);f.replaceState(K,"",le),u&&p&&p({action:m,location:q.location,delta:0})}function Q(L){return ww(L)}let q={get action(){return m},get location(){return i(l,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Kv,T),p=L,()=>{l.removeEventListener(Kv,T),p=null}},createHref(L){return e(l,L)},createURL:Q,encodeLocation(L){let z=Q(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:D,go(L){return f.go(L)}};return q}function ww(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:nu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jb(i,e,n="/"){return xw(i,e,n,!1)}function xw(i,e,n,r){let l=typeof e=="string"?ya(e):e,u=Ti(l.pathname||"/",n);if(u==null)return null;let f=Lb(i);Aw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Lw(u);m=Vw(f[p],g,r)}return m}function Lb(i,e=[],n=[],r="",l=!1){let u=(f,m,p=l,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;yt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let T=_i([r,E.relativePath]),x=n.concat(E);f.children&&f.children.length>0&&(yt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Lb(f.children,e,x,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Mw(T,f.index),routesMeta:x})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Pb(f.path))u(f,m,!0,p)}),e}function Pb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=Pb(r.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Aw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:kw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Rw=/^:[\w-]+$/,Nw=3,Cw=2,Iw=1,Dw=10,Ow=-2,Xv=i=>i==="*";function Mw(i,e){let n=i.split("/"),r=n.length;return n.some(Xv)&&(r+=Ow),e&&(r+=Cw),n.filter(l=>!Xv(l)).reduce((l,u)=>l+(Rw.test(u)?Nw:u===""?Iw:Dw),r)}function kw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function Vw(i,e,n=!1){let{routesMeta:r}=i,l={},u="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),x=p.route;if(!T&&g&&n&&!r[r.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(l,T.params),f.push({params:l,pathname:_i([u,T.pathname]),pathnameBase:Bw(_i([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=_i([u,T.pathnameBase]))}return f}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=jw(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:T},x)=>{if(E==="*"){let Q=m[x]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const D=m[x];return T&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function jw(i,e=!1,n=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Lw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ti(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var Pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Uw(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?ya(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Jv(n.substring(1),"/"):u=Jv(n,e)):u=e,{pathname:u,search:qw(r),hash:Hw(l)}}function Jv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Sm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(i){let e=zw(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(i,e,n,r=!1){let l;typeof i=="string"?l=ya(i):(l={...i},yt(!l.pathname||!l.pathname.includes("?"),Sm("?","pathname","search",l)),yt(!l.pathname||!l.pathname.includes("#"),Sm("#","pathname","hash",l)),yt(!l.search||!l.search.includes("#"),Sm("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!r&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),T-=1;l.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=Uw(l,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var _i=i=>i.join("/").replace(/\/\/+/g,"/"),Bw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Hw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Fw=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Gw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function $w(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zb(i,e){let n=i;if(typeof n!="string"||!Pw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(Ub)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Ti(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:l=!0}catch{Zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bb=["POST","PUT","PATCH","DELETE"];new Set(Bb);var Yw=["GET",...Bb];new Set(Yw);var Nl=j.createContext(null);Nl.displayName="DataRouter";var Jh=j.createContext(null);Jh.displayName="DataRouterState";var Kw=j.createContext(!1),qb=j.createContext({isTransitioning:!1});qb.displayName="ViewTransition";var Qw=j.createContext(new Map);Qw.displayName="Fetchers";var Xw=j.createContext(null);Xw.displayName="Await";var jn=j.createContext(null);jn.displayName="Navigation";var yu=j.createContext(null);yu.displayName="Location";var _s=j.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var yp=j.createContext(null);yp.displayName="RouteError";var Hb="REACT_ROUTER_ERROR",Jw="REDIRECT",Ww="ROUTE_ERROR_RESPONSE";function Zw(i){if(i.startsWith(`${Hb}:${Jw}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ex(i){if(i.startsWith(`${Hb}:${Ww}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fw(e.status,e.statusText,e.data)}catch{}}function tx(i,{relative:e}={}){yt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(jn),{hash:l,pathname:u,search:f}=_u(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:_i([n,u])),r.createHref({pathname:m,search:f,hash:l})}function Cl(){return j.useContext(yu)!=null}function Ar(){return yt(Cl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(yu).location}var Fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gb(i){j.useContext(jn).static||j.useLayoutEffect(i)}function vu(){let{isDataRoute:i}=j.useContext(_s);return i?mx():nx()}function nx(){yt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Nl),{basename:e,navigator:n}=j.useContext(jn),{matches:r}=j.useContext(_s),{pathname:l}=Ar(),u=JSON.stringify(pp(r)),f=j.useRef(!1);return Gb(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(Zn(f.current,Fb),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=gp(p,JSON.parse(u),l,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:_i([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,l,i])}j.createContext(null);function vp(){let{matches:i}=j.useContext(_s),e=i[i.length-1];return e?e.params:{}}function _u(i,{relative:e}={}){let{matches:n}=j.useContext(_s),{pathname:r}=Ar(),l=JSON.stringify(pp(n));return j.useMemo(()=>gp(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function sx(i,e){return $b(i,e)}function $b(i,e,n,r,l){yt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(jn),{matches:f}=j.useContext(_s),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let P=T&&T.path||"";Kb(g,!T||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=Ar(),D;if(e){let P=typeof e=="string"?ya(e):e;yt(E==="/"||P.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${P.pathname}" was given in the \`location\` prop.`),D=P}else D=x;let Q=D.pathname||"/",q=Q;if(E!=="/"){let P=E.replace(/^\//,"").split("/");q="/"+Q.replace(/^\//,"").split("/").slice(P.length).join("/")}let L=jb(i,{pathname:q});Zn(T||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Zn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ox(L&&L.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:_i([E,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?E:_i([E,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),f,n,r,l);return e&&z?j.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},z):z}function ix(){let i=dx(),e=Gw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:l},n):null,f)}var rx=j.createElement(ix,null),Yb=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=ex(i.digest);n&&(i=n)}let e=i!==void 0?j.createElement(_s.Provider,{value:this.props.routeContext},j.createElement(yp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(ax,{error:i},e):e}};Yb.contextType=Kw;var wm=new WeakMap;function ax({children:i,error:e}){let{basename:n}=j.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Zw(e.digest);if(r){let l=wm.get(e);if(l)throw l;let u=zb(r.location,n);if(Ub&&!wm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw wm.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function lx({routeContext:i,match:e,children:n}){let r=j.useContext(Nl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(_s.Provider,{value:i},n)}function ox(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);yt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:x,errors:D}=n,Q=T.route.loader&&!x.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||Q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&r?(E,T)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:$w(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,x)=>{let D,Q=!1,q=null,L=null;n&&(D=f&&T.route.id?f[T.route.id]:void 0,q=T.route.errorElement||rx,m&&(p<0&&x===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,L=null):p===x&&(Q=!0,L=T.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,x+1)),P=()=>{let K;return D?K=q:Q?K=L:T.route.Component?K=j.createElement(T.route.Component,null):T.route.element?K=T.route.element:K=E,j.createElement(lx,{match:T,routeContext:{outlet:E,matches:z,isDataRoute:n!=null},children:K})};return n&&(T.route.ErrorBoundary||T.route.errorElement||x===0)?j.createElement(Yb,{location:n.location,revalidation:n.revalidation,component:q,error:D,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):P()},null)}function _p(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(i){let e=j.useContext(Nl);return yt(e,_p(i)),e}function cx(i){let e=j.useContext(Jh);return yt(e,_p(i)),e}function hx(i){let e=j.useContext(_s);return yt(e,_p(i)),e}function bp(i){let e=hx(i),n=e.matches[e.matches.length-1];return yt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function fx(){return bp("useRouteId")}function dx(){let i=j.useContext(yp),e=cx("useRouteError"),n=bp("useRouteError");return i!==void 0?i:e.errors?.[n]}function mx(){let{router:i}=ux("useNavigate"),e=bp("useNavigate"),n=j.useRef(!1);return Gb(()=>{n.current=!0}),j.useCallback(async(l,u={})=>{Zn(n.current,Fb),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var Wv={};function Kb(i,e,n){!e&&!Wv[i]&&(Wv[i]=!0,Zn(!1,n))}j.memo(px);function px({routes:i,future:e,state:n,onError:r}){return $b(i,void 0,n,r,e)}function gx({to:i,replace:e,state:n,relative:r}){yt(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(jn);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(_s),{pathname:f}=Ar(),m=vu(),p=gp(i,pp(u),f,r==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:r})},[m,g,r,e,n]),null}function ra(i){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yx({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){yt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[m,l,u,f]);typeof n=="string"&&(n=ya(n));let{pathname:g="/",search:E="",hash:T="",state:x=null,key:D="default"}=n,Q=j.useMemo(()=>{let q=Ti(g,m);return q==null?null:{location:{pathname:q,search:E,hash:T,state:x,key:D},navigationType:r}},[m,g,E,T,x,D,r]);return Zn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:j.createElement(jn.Provider,{value:p},j.createElement(yu.Provider,{children:e,value:Q}))}function vx({children:i,location:e}){return sx(zm(i),e)}function zm(i,e=[]){let n=[];return j.Children.forEach(i,(r,l)=>{if(!j.isValidElement(r))return;let u=[...e,l];if(r.type===j.Fragment){n.push.apply(n,zm(r.props.children,u));return}yt(r.type===ra,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=zm(r.props.children,u)),n.push(f)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Wh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function _x(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function bx(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function Ex(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function Tx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Sx(i,e){return i.button===0&&(!e||e==="_self")&&!Tx(i)}var oh=null;function wx(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var xx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(i){return i!=null&&!xx.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function Ax(i,e){let n,r,l,u,f;if(bx(i)){let m=i.getAttribute("action");r=m?Ti(m,e):null,n=i.getAttribute("method")||gh,l=xm(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(_x(i)||Ex(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?Ti(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||gh,l=xm(i.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||yh,u=new FormData(m,i),!wx()){let{name:g,type:E,value:T}=i;if(E==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,T)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,r=null,l=yh,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Rx(i,e,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Ti(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function Nx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ix(i,e,n){let r=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await Nx(u,n);return f.links?f.links():[]}return[]}));return kx(r.flat(1).filter(Cx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Zv(i,e,n,r,l,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Dx(i,e,{includeHydrateFallback:n}={}){return Ox(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Ox(i){return[...new Set(i)]}function Mx(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function kx(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let u=JSON.stringify(Mx(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function Qb(){let i=j.useContext(Nl);return Ep(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Vx(){let i=j.useContext(Jh);return Ep(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Tp=j.createContext(void 0);Tp.displayName="FrameworkContext";function Xb(){let i=j.useContext(Tp);return Ep(i,"You must render this element inside a <HydratedRouter> element"),i}function jx(i,e){let n=j.useContext(Tp),[r,l]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,x=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let q=z=>{z.forEach(P=>{f(P.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[i]),j.useEffect(()=>{if(r){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[r]);let D=()=>{l(!0)},Q=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:Bo(m,D),onBlur:Bo(p,Q),onMouseEnter:Bo(g,D),onMouseLeave:Bo(E,Q),onTouchStart:Bo(T,D)}]:[!1,x,{}]}function Bo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Lx({page:i,...e}){let{router:n}=Qb(),r=j.useMemo(()=>jb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?j.createElement(Ux,{page:i,matches:r,...e}):null}function Px(i){let{manifest:e,routeModules:n}=Xb(),[r,l]=j.useState([]);return j.useEffect(()=>{let u=!1;return Ix(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),r}function Ux({page:i,matches:e,...n}){let r=Ar(),{future:l,manifest:u,routeModules:f}=Xb(),{basename:m}=Qb(),{loaderData:p,matches:g}=Vx(),E=j.useMemo(()=>Zv(i,e,g,u,r,"data"),[i,e,g,u,r]),T=j.useMemo(()=>Zv(i,e,g,u,r,"assets"),[i,e,g,u,r]),x=j.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let q=new Set,L=!1;if(e.forEach(P=>{let K=u.routes[P.route.id];!K||!K.hasLoader||(!E.some(le=>le.route.id===P.route.id)&&P.route.id in p&&f[P.route.id]?.shouldRevalidate||K.hasClientLoader?L=!0:q.add(P.route.id))}),q.size===0)return[];let z=Rx(i,m,l.unstable_trailingSlashAwareDataRequests,"data");return L&&q.size>0&&z.searchParams.set("_routes",e.filter(P=>q.has(P.route.id)).map(P=>P.route.id).join(",")),[z.pathname+z.search]},[m,l.unstable_trailingSlashAwareDataRequests,p,r,u,E,e,i,f]),D=j.useMemo(()=>Dx(T,u),[T,u]),Q=Px(T);return j.createElement(j.Fragment,null,x.map(q=>j.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),D.map(q=>j.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),Q.map(({key:q,link:L})=>j.createElement("link",{key:q,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function zx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bx&&(window.__reactRouterVersion="7.13.0")}catch{}function qx({basename:i,children:e,unstable_useTransitions:n,window:r}){let l=j.useRef();l.current==null&&(l.current=Ew({window:r,v5Compat:!0}));let u=l.current,[f,m]=j.useState({action:u.action,location:u.location}),p=j.useCallback(g=>{n===!1?m(g):j.startTransition(()=>m(g))},[n]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(yx,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:x,...D},Q){let{basename:q,unstable_useTransitions:L}=j.useContext(jn),z=typeof g=="string"&&Jb.test(g),P=zb(g,q);g=P.to;let K=tx(g,{relative:l}),[le,oe,he]=jx(r,D),R=$x(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:T,unstable_defaultShouldRevalidate:x,unstable_useTransitions:L});function A(M){e&&e(M),M.defaultPrevented||R(M)}let N=j.createElement("a",{...D,...he,href:P.absoluteURL||K,onClick:P.isExternal||u?e:A,ref:zx(Q,oe),target:p,"data-discover":!z&&n==="render"?"true":void 0});return le&&!z?j.createElement(j.Fragment,null,N,j.createElement(Lx,{page:K})):N});Ks.displayName="Link";var Hx=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=_u(f,{relative:g.relative}),x=Ar(),D=j.useContext(Jh),{navigator:Q,basename:q}=j.useContext(jn),L=D!=null&&Jx(T)&&m===!0,z=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,P=x.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(P=P.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&q&&(K=Ti(K,q)||K);const le=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let oe=P===z||!l&&P.startsWith(z)&&P.charAt(le)==="/",he=K!=null&&(K===z||!l&&K.startsWith(z)&&K.charAt(z.length)==="/"),R={isActive:oe,isPending:he,isTransitioning:L},A=oe?e:void 0,N;typeof r=="function"?N=r(R):N=[r,oe?"active":null,he?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return j.createElement(Ks,{...g,"aria-current":A,className:N,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(R):p)});Hx.displayName="NavLink";var Fx=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:f=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:x,...D},Q)=>{let{unstable_useTransitions:q}=j.useContext(jn),L=Qx(),z=Xx(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Jb.test(m),le=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let he=oe.nativeEvent.submitter,R=he?.getAttribute("formmethod")||f,A=()=>L(he||oe.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:x});q&&n!==!1?j.startTransition(()=>A()):A()};return j.createElement("form",{ref:Q,method:P,action:z,onSubmit:r?p:le,...D,"data-discover":!K&&i==="render"?"true":void 0})});Fx.displayName="Form";function Gx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(i){let e=j.useContext(Nl);return yt(e,Gx(i)),e}function $x(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=vu(),E=Ar(),T=_u(i,{relative:u});return j.useCallback(x=>{if(Sx(x,e)){x.preventDefault();let D=n!==void 0?n:nu(E)===nu(T),Q=()=>g(i,{replace:D,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>Q()):Q()}},[E,g,T,n,r,e,i,l,u,f,m,p])}var Yx=0,Kx=()=>`__${String(++Yx)}__`;function Qx(){let{router:i}=Wb("useSubmit"),{basename:e}=j.useContext(jn),n=fx(),r=i.fetch,l=i.navigate;return j.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=Ax(u,e);if(f.navigate===!1){let x=f.fetcherKey||Kx();await r(x,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,l,e,n])}function Xx(i,{relative:e}={}){let{basename:n}=j.useContext(jn),r=j.useContext(_s);yt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={..._u(i||".",{relative:e})},f=Ar();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_i([n,u.pathname])),nu(u)}function Jx(i,{relative:e}={}){let n=j.useContext(qb);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wb("useViewTransitionState"),l=_u(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(l.pathname,f)!=null||Nh(l.pathname,u)!=null}const Wx=()=>{};var e_={};const Zb=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Zx=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],m=i[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(x=64)),r.push(n[E],n[T],n[x],n[D])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Zx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],m=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const T=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||m==null||g==null||T==null)throw new eA;const x=u<<2|m>>4;if(r.push(x),g!==64){const D=m<<4&240|g>>2;if(r.push(D),T!==64){const Q=g<<6&192|T;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(i){const e=Zb(i);return eE.encodeByteArray(e,!0)},Ch=function(i){return tA(i).replace(/\./g,"")},tE=function(i){try{return eE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sA=()=>nA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof e_>"u")return;const i=e_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tE(i[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Wx()||sA()||iA()||rA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nE=i=>Zh()?.emulatorHosts?.[i],aA=i=>{const e=nE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sE=()=>Zh()?.config,iE=i=>Zh()?.[`_${i}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Il(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(i){return(await fetch(i,{credentials:"include"})).ok}function oA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(f)),""].join(".")}const Qo={};function uA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Qo))Qo[e]?i.emulator.push(e):i.prod.push(e);return i}function cA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let t_=!1;function aE(i,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Qo[i]===e||Qo[i]||t_)return;Qo[i]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=uA().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,D){x.setAttribute("width","24"),x.setAttribute("id",D),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{t_=!0,f()},x}function E(x,D){x.setAttribute("id",D),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=cA(r),D=n("text"),Q=document.getElementById(D)||document.createElement("span"),q=n("learnmore"),L=document.getElementById(q)||document.createElement("a"),z=n("preprendIcon"),P=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;m(K),E(L,q);const le=g();p(P,z),K.append(P,Q,L,le),document.body.appendChild(K)}u?(Q.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function fA(){const i=Zh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const bA="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bA,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?EA(u,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Ri(l,m,r)}}function EA(i,e){return i.replace(TA,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const TA=/\{\$([^}]+)}/g;function SA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=i[l],f=e[l];if(n_(u)&&n_(f)){if(!ca(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function n_(i){return i!==null&&typeof i=="object"}function Eu(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ho(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Fo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function wA(i,e){const n=new xA(i,e);return n.subscribe.bind(n)}class xA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Am),l.error===void 0&&(l.error=Am),l.complete===void 0&&(l.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Am(){}function Gt(i){return i&&i._delegate?i._delegate:i}class ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class RA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(i){return i===aa?void 0:i}function CA(i){return i.instantiationMode==="EAGER"}class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const DA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},OA=Ue.INFO,MA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},kA=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=MA[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const VA=(i,e)=>e.some(n=>i instanceof n);let s_,i_;function jA(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,Bm=new WeakMap,oE=new WeakMap,Rm=new WeakMap,wp=new WeakMap;function PA(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(dr(i.result)),l()},f=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&lE.set(n,i)}).catch(()=>{}),wp.set(e,i),e}function UA(i){if(Bm.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Bm.set(i,e)}let qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zA(i){qm=i(qm)}function BA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Nm(this),e,...n);return oE.set(r,e.sort?e.sort():[e]),dr(r)}:LA().includes(i)?function(...e){return i.apply(Nm(this),e),dr(lE.get(this))}:function(...e){return dr(i.apply(Nm(this),e))}}function qA(i){return typeof i=="function"?BA(i):(i instanceof IDBTransaction&&UA(i),VA(i,jA())?new Proxy(i,qm):i)}function dr(i){if(i instanceof IDBRequest)return PA(i);if(Rm.has(i))return Rm.get(i);const e=qA(i);return e!==i&&(Rm.set(i,e),wp.set(e,i)),e}const Nm=i=>wp.get(i);function HA(i,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),m=dr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(dr(f.result),p.oldVersion,p.newVersion,dr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const FA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],Cm=new Map;function r_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=GA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||FA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return Cm.set(e,u),u}zA(i=>({...i,get:(e,n,r)=>r_(e,n)||i.get(e,n,r),has:(e,n)=>!!r_(e,n)||i.has(e,n)}));class $A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YA(i){return i.getComponent()?.type==="VERSION"}const Hm="@firebase/app",a_="0.14.7";const Si=new Sp("@firebase/app"),KA="@firebase/app-compat",QA="@firebase/analytics-compat",XA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",ZA="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/data-connect",s2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",a2="@firebase/installations",l2="@firebase/installations-compat",o2="@firebase/messaging",u2="@firebase/messaging-compat",c2="@firebase/performance",h2="@firebase/performance-compat",f2="@firebase/remote-config",d2="@firebase/remote-config-compat",m2="@firebase/storage",p2="@firebase/storage-compat",g2="@firebase/firestore",y2="@firebase/ai",v2="@firebase/firestore-compat",_2="firebase",b2="12.8.0";const Fm="[DEFAULT]",E2={[Hm]:"fire-core",[KA]:"fire-core-compat",[XA]:"fire-analytics",[QA]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[ZA]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[a2]:"fire-iid",[l2]:"fire-iid-compat",[o2]:"fire-fcm",[u2]:"fire-fcm-compat",[c2]:"fire-perf",[h2]:"fire-perf-compat",[f2]:"fire-rc",[d2]:"fire-rc-compat",[m2]:"fire-gcs",[p2]:"fire-gcs-compat",[g2]:"fire-fst",[v2]:"fire-fst-compat",[y2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};const Ih=new Map,T2=new Map,Gm=new Map;function l_(i,e){try{i.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bl(i){const e=i.name;if(Gm.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of Ih.values())l_(n,i);for(const n of T2.values())l_(n,i);return!0}function xp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Jn(i){return i==null?!1:i.settings!==void 0}const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new bu("app","Firebase",S2);class w2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Dl=b2;function uE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Fm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw mr.create("bad-app-name",{appName:String(l)});if(n||(n=sE()),!n)throw mr.create("no-options");const u=Ih.get(l);if(u){if(ca(n,u.options)&&ca(r,u.config))return u;throw mr.create("duplicate-app",{appName:l})}const f=new IA(l);for(const p of Gm.values())f.addComponent(p);const m=new w2(n,r,f);return Ih.set(l,m),m}function cE(i=Fm){const e=Ih.get(i);if(!e&&i===Fm&&sE())return uE();if(!e)throw mr.create("no-app",{appName:i});return e}function pr(i,e,n){let r=E2[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(f.join(" "));return}bl(new ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const x2="firebase-heartbeat-database",A2=1,su="firebase-heartbeat-store";let Im=null;function hE(){return Im||(Im=HA(x2,A2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw mr.create("idb-open",{originalErrorMessage:i.message})})),Im}async function R2(i){try{const n=(await hE()).transaction(su),r=await n.objectStore(su).get(fE(i));return await n.done,r}catch(e){if(e instanceof Ri)Si.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function o_(i,e){try{const r=(await hE()).transaction(su,"readwrite");await r.objectStore(su).put(e,fE(i)),await r.done}catch(n){if(n instanceof Ri)Si.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});Si.warn(r.message)}}}function fE(i){return`${i.name}!${i.options.appId}`}const N2=1024,C2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>C2){const l=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u_(),{heartbeatsToSend:n,unsentEntries:r}=D2(this._heartbeatsCache.heartbeats),l=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Si.warn(e),""}}}function u_(){return new Date().toISOString().substring(0,10)}function D2(i,e=N2){const n=[];let r=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),c_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),c_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function M2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function k2(i){bl(new ha("platform-logger",e=>new $A(e),"PRIVATE")),bl(new ha("heartbeat",e=>new I2(e),"PRIVATE")),pr(Hm,a_,i),pr(Hm,a_,"esm2020"),pr("fire-js","")}k2("");function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=dE,mE=new bu("auth","Firebase",dE());const Dh=new Sp("@firebase/auth");function j2(i,...e){Dh.logLevel<=Ue.WARN&&Dh.warn(`Auth (${Dl}): ${i}`,...e)}function vh(i,...e){Dh.logLevel<=Ue.ERROR&&Dh.error(`Auth (${Dl}): ${i}`,...e)}function ys(i,...e){throw Ap(i,...e)}function qs(i,...e){return Ap(i,...e)}function pE(i,e,n){const r={...V2(),[e]:n};return new bu("auth","Firebase",r).create(e,{appName:i.name})}function bi(i){return pE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return mE.create(i,...e)}function Se(i,e,...n){if(!i)throw Ap(e,...n)}function gi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw vh(e),new Error(e)}function wi(i,e){i||gi(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function L2(){return h_()==="http:"||h_()==="https:"}function h_(){return typeof self<"u"&&self.location?.protocol||null}function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||mA()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=hA()||pA()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(i,e){wi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const B2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Tu(3e4,6e4);function Rr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Nr(i,e,n,r,l={}){return yE(i,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=Eu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return dA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Il(i.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(await vE(i,i.config.apiHost,n,m),g)})}async function yE(i,e,n){i._canInitEmulator=!1;const r={...z2,...e};try{const l=new F2(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw uh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw uh(i,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw pE(i,E,g);ys(i,E)}}catch(l){if(l instanceof Ri)throw l;ys(i,"network-request-failed",{message:String(l)})}}async function Su(i,e,n,r,l={}){const u=await Nr(i,e,n,r,l);return"mfaPendingCredential"in u&&ys(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(i,e,n,r){const l=`${e}${n}?${r}`,u=i,f=u.config.emulator?Rp(i.config,l):`${i.config.apiScheme}://${l}`;return B2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function H2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qs(this.auth,"network-request-failed")),q2.get())})}}function uh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=qs(i,e,r);return l.customData._tokenResponse=n,l}function f_(i){return i!==void 0&&i.enterprise!==void 0}class G2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $2(i,e){return Nr(i,"GET","/v2/recaptchaConfig",Rr(i,e))}async function Y2(i,e){return Nr(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return Nr(i,"POST","/v1/accounts:lookup",e)}function Xo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K2(i,e=!1){const n=Gt(i),r=await n.getIdToken(e),l=Np(r);Se(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Xo(Dm(l.auth_time)),issuedAtTime:Xo(Dm(l.iat)),expirationTime:Xo(Dm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function Np(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(n);return l?JSON.parse(l):(vh("Failed to decode base64 JWT payload"),null)}catch(l){return vh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function d_(i){const e=Np(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&Q2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Q2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class X2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(i){const e=i.auth,n=await i.getIdToken(),r=await iu(i,Oh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const u=l.providerUserInfo?.length?_E(l.providerUserInfo):[],f=W2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!f?.length,g=m?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function J2(i){const e=Gt(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W2(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function _E(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Z2(i,e){const n=await yE(i,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=await vE(i,l,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Il(i.emulatorConfig.host)&&(p.credentials="include"),gE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eR(i,e){return Nr(i,"POST","/v2/accounts:revokeToken",Rr(i,e))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=d_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await Z2(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new pl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return gi("not implemented")}}function lr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new X2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await iu(this,Y2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:D,providerData:Q,stsTokenManager:q}=n;Se(T&&q,e,"internal-error");const L=pl.fromJSON(this.name,q);Se(typeof T=="string",e,"internal-error"),lr(r,e.name),lr(l,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),lr(u,e.name),lr(f,e.name),lr(m,e.name),lr(p,e.name),lr(g,e.name),lr(E,e.name);const z=new ds({uid:T,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:E});return Q&&Array.isArray(Q)&&(z.providerData=Q.map(P=>({...P}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,n,r=!1){const l=new pl;l.updateFromServerResponse(n);const u=new ds({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?_E(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new pl;m.updateFromIdToken(r);const p=new ds({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const m_=new Map;function yi(i){wi(i instanceof Function,"Expected a class definition");let e=m_.get(i);return e?(wi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,m_.set(i,e),e)}class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bE.type="NONE";const p_=bE;function _h(i,e,n){return`firebase:${i}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=_h(this.userKey,l.apiKey,u),this.fullPersistenceKey=_h("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(yi(p_),e,r);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||yi(p_);const f=_h(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const x=await Oh(e,{idToken:E}).catch(()=>{});if(!x)break;T=await ds._fromGetAccountInfoResponse(e,x,E)}else T=ds._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new gl(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new gl(u,e,r))}}function g_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AE(e))return"Blackberry";if(RE(e))return"Webos";if(TE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function EE(i=hn()){return/firefox\//i.test(i)}function TE(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(i=hn()){return/crios\//i.test(i)}function wE(i=hn()){return/iemobile/i.test(i)}function xE(i=hn()){return/android/i.test(i)}function AE(i=hn()){return/blackberry/i.test(i)}function RE(i=hn()){return/webos/i.test(i)}function Cp(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function tR(i=hn()){return Cp(i)&&!!window.navigator?.standalone}function nR(){return gA()&&document.documentMode===10}function NE(i=hn()){return Cp(i)||xE(i)||RE(i)||AE(i)||/windows phone/i.test(i)||wE(i)}function CE(i,e=[]){let n;switch(i){case"Browser":n=g_(hn());break;case"Worker":n=`${g_(hn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}class sR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function iR(i,e={}){return Nr(i,"GET","/v2/passwordPolicy",Rr(i,e))}const rR=6;class aR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class lR{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y_(this),this.idTokenSubscription=new y_(this),this.beforeStateQueue=new sR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(bi(this));const n=e?Gt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iR(this),n=new aR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(i){return Gt(i)}class y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oR(i){ef=i}function IE(i){return ef.loadJS(i)}function uR(){return ef.recaptchaEnterpriseScript}function cR(){return ef.gapiScript}function hR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new dR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mR="recaptcha-enterprise",DE="NO_RECAPTCHA";class pR{constructor(e){this.type=mR,this.auth=va(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{$2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new G2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function l(u,f,m){const p=window.grecaptcha;f_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(DE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&f_(window.grecaptcha))l(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uR();p.length!==0&&(p+=m),IE(p).then(()=>{l(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function v_(i,e,n,r=!1,l=!1){const u=new pR(i);let f;if(l)f=DE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await v_(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await v_(i,e,n,n==="getOobCode");return r(i,f)}else return Promise.reject(u)})}function gR(i,e){const n=xp(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return l;ys(l,"already-initialized")}return n.initialize({options:e})}function yR(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function vR(i,e,n){const r=va(i);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=OE(e),{host:f,port:m}=_R(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ca(g,r.config.emulator)&&ca(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Il(f)?(rE(`${u}//${f}${p}`),aE("Auth",!0)):bR()}function OE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _R(i){const e=OE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:__(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:__(f)}}}function __(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function ER(i,e){return Nr(i,"POST","/v1/accounts:signUp",e)}async function TR(i,e){return Su(i,"POST","/v1/accounts:signInWithPassword",Rr(i,e))}async function SR(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Rr(i,e))}async function wR(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Rr(i,e))}class ru extends Ip{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",TR);case"emailLink":return SR(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,r,"signUpPassword",ER);case"emailLink":return wR(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(i,e){return Su(i,"POST","/v1/accounts:signInWithIdp",Rr(i,e))}const xR="http://localhost";class fa extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new fa(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:xR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}function AR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RR(i){const e=Ho(Fo(i)).link,n=e?Ho(Fo(e)).deep_link_id:null,r=Ho(Fo(i)).deep_link_id;return(r?Ho(Fo(r)).link:null)||r||n||e||i}class Dp{constructor(e){const n=Ho(Fo(e)),r=n.apiKey??null,l=n.oobCode??null,u=AR(n.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=RR(e);try{return new Dp(n)}catch{return null}}}class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dp.parseLink(n);return Se(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ME{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wu extends ME{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends wu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ur extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends wu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends wu{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function NR(i,e){return Su(i,"POST","/v1/accounts:signUp",Rr(i,e))}class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await ds._fromIdTokenResponse(e,r,l),f=b_(r);return new da({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=b_(r);return new da({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function b_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class kh extends Ri{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new kh(e,n,r,l)}}function kE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(i,u,e,r):u})}async function CR(i,e,n=!1){const r=await iu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return da._forOperation(i,"link",r)}async function IR(i,e,n=!1){const{auth:r}=i;if(Jn(r.app))return Promise.reject(bi(r));const l="reauthenticate";try{const u=await iu(i,kE(r,l,e,i),n);Se(u.idToken,r,"internal-error");const f=Np(u.idToken);Se(f,r,"internal-error");const{sub:m}=f;return Se(i.uid===m,r,"user-mismatch"),da._forOperation(i,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ys(r,"user-mismatch"),u}}async function VE(i,e,n=!1){if(Jn(i.app))return Promise.reject(bi(i));const r="signIn",l=await kE(i,r,e),u=await da._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(u.user),u}async function DR(i,e){return VE(va(i),e)}async function jE(i){const e=va(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OR(i,e,n){if(Jn(i.app))return Promise.reject(bi(i));const r=va(i),f=await Km(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&jE(i),p}),m=await da._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function MR(i,e,n){return Jn(i.app)?Promise.reject(bi(i)):DR(Gt(i),Ol.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jE(i),r})}function kR(i,e,n,r){return Gt(i).onIdTokenChanged(e,n,r)}function VR(i,e,n){return Gt(i).beforeAuthStateChanged(e,n)}function jR(i,e,n,r){return Gt(i).onAuthStateChanged(e,n,r)}function LR(i){return Gt(i).signOut()}const Vh="__sak";class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PR=1e3,UR=10;class PE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);nR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UR):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const zR=PE;class UE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UE.type="SESSION";const zE=UE;function BR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await BR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function Op(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class qR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Op("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Hs(){return window}function HR(i){Hs().location.href=i}function BE(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){return navigator?.serviceWorker?.controller||null}function $R(){return BE()?self:null}const qE="firebaseLocalStorageDb",YR=1,jh="firebaseLocalStorage",HE="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function KR(){const i=indexedDB.deleteDatabase(qE);return new xu(i).toPromise()}function Qm(){const i=indexedDB.open(qE,YR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(jh,{keyPath:HE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await KR(),e(await Qm()))})})}async function E_(i,e,n){const r=nf(i,!0).put({[HE]:e,value:n});return new xu(r).toPromise()}async function QR(i,e){const n=nf(i,!1).get(e),r=await new xu(n).toPromise();return r===void 0?null:r.value}function T_(i,e){const n=nf(i,!0).delete(e);return new xu(n).toPromise()}const XR=800,JR=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance($R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new qR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await E_(e,Vh,"1"),await T_(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=nf(l,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const WR=FE;new Tu(3e4,6e4);function ZR(i,e){return e?yi(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mp extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(i){return VE(i.auth,new Mp(i),i.bypassAuthState)}function tN(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),IR(n,new Mp(i),i.bypassAuthState)}async function nN(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),CR(n,new Mp(i),i.bypassAuthState)}class GE{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:ys(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sN=new Tu(2e3,1e4);class dl extends GE{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sN.get())};e()}}dl.currentPopupAction=null;const iN="pendingRedirect",bh=new Map;class rN extends GE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(i,e){const n=uN(e),r=oN(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function lN(i,e){bh.set(i._key(),e)}function oN(i){return yi(i._redirectPersistence)}function uN(i){return _h(iN,i.config.apiKey,i.name)}async function cN(i,e,n=!1){if(Jn(i.app))return Promise.reject(bi(i));const r=va(i),l=ZR(r,e),f=await new rN(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const hN=600*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$E(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function $E({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function dN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(i);default:return!1}}async function mN(i,e={}){return Nr(i,"GET","/v1/projects",e)}const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mN(i);for(const n of e)try{if(vN(n))return}catch{}ys(i,"unauthorized-domain")}function vN(i){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!gN.test(n))return!1;if(pN.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const _N=new Tu(3e4,6e4);function w_(){const i=Hs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function bN(i){return new Promise((e,n)=>{function r(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(qs(i,"network-request-failed"))},timeout:_N.get()})}if(Hs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hs().gapi?.load)r();else{const l=hR("iframefcb");return Hs()[l]=()=>{gapi.load?r():n(qs(i,"network-request-failed"))},IE(`${cR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function EN(i){return Eh=Eh||bN(i),Eh}const TN=new Tu(5e3,15e3),SN="__/auth/iframe",wN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RN(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Rp(e,wN):`https://${i.config.authDomain}/${SN}`,r={apiKey:e.apiKey,appName:i.name,v:Dl},l=AN.get(i.config.apiHost);l&&(r.eid=l);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Eu(r).slice(1)}`}async function NN(i){const e=await EN(i),n=Hs().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:RN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=qs(i,"network-request-failed"),m=Hs().setTimeout(()=>{u(f)},TN.get());function p(){Hs().clearTimeout(m),l(r)}r.ping(p).then(p,()=>{u(f)})}))}const CN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,DN=600,ON="_blank",MN="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(i,e,n,r=IN,l=DN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...CN,width:r.toString(),height:l.toString(),top:u,left:f},g=hn().toLowerCase();n&&(m=SE(g)?ON:n),EE(g)&&(e=e||MN,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[D,Q])=>`${x}${D}=${Q},`,"");if(tR(g)&&m!=="_self")return VN(e||"",m),new x_(null);const T=window.open(e||"",m,E);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new x_(T)}function VN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const jN="__/auth/handler",LN="emulator/auth/handler",PN=encodeURIComponent("fac");async function A_(i,e,n,r,l,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Dl,eventId:l};if(e instanceof ME){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",SA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof wu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${PN}=${encodeURIComponent(p)}`:"";return`${UN(i)}?${Eu(m).slice(1)}${g}`}function UN({config:i}){return i.emulator?Rp(i,LN):`https://${i.authDomain}/${jN}`}const Om="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=cN,this._overrideRedirectResult=lN}async _openPopup(e,n,r,l){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await A_(e,n,r,$m(),l);return kN(e,u,Op())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await A_(e,n,r,$m(),l);return HR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(wi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NN(e),r=new fN(e);return n.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},l=>{const u=l?.[0]?.[Om];u!==void 0&&n(!!u),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NE()||TE()||Cp()}}const BN=zN;var R_="@firebase/auth",N_="1.12.0";class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(i){bl(new ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(i)},g=new lR(r,l,u,p);return yR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bl(new ha("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new qN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(R_,N_,HN(i)),pr(R_,N_,"esm2020")}const GN=300,$N=iE("authIdTokenMaxAge")||GN;let C_=null;const YN=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$N)return;const l=n?.token;C_!==l&&(C_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function KN(i=cE()){const e=xp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=gR(i,{popupRedirectResolver:BN,persistence:[WR,zR,zE]}),r=iE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=YN(u.toString());VR(n,f,()=>f(n.currentUser)),kR(n,m=>f(m))}}const l=nE("auth");return l&&vR(n,`http://${l}`),n}function QN(){return document.getElementsByTagName("head")?.[0]??document}oR({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const u=qs("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",QN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");var XN="firebase",JN="12.8.0";pr(XN,JN,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,YE;(function(){var i;function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(M,O,U){for(var C=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)C[Ke-2]=arguments[Ke];return A.prototype[O].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,N){N||(N=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(O=0;O<16;++O)M[O]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],O=R.g[2];let U=R.g[3],C;C=A+(U^N&(O^U))+M[0]+3614090360&4294967295,A=N+(C<<7&4294967295|C>>>25),C=U+(O^A&(N^O))+M[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(N^U&(A^N))+M[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(A^O&(U^A))+M[3]+3250441966&4294967295,N=O+(C<<22&4294967295|C>>>10),C=A+(U^N&(O^U))+M[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=U+(O^A&(N^O))+M[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(N^U&(A^N))+M[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(A^O&(U^A))+M[7]+4249261313&4294967295,N=O+(C<<22&4294967295|C>>>10),C=A+(U^N&(O^U))+M[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=U+(O^A&(N^O))+M[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(N^U&(A^N))+M[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(A^O&(U^A))+M[11]+2304563134&4294967295,N=O+(C<<22&4294967295|C>>>10),C=A+(U^N&(O^U))+M[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=U+(O^A&(N^O))+M[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(N^U&(A^N))+M[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(A^O&(U^A))+M[15]+1236535329&4294967295,N=O+(C<<22&4294967295|C>>>10),C=A+(O^U&(N^O))+M[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(A^N))+M[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^N&(U^A))+M[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^A&(O^U))+M[0]+3921069994&4294967295,N=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(N^O))+M[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(A^N))+M[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^N&(U^A))+M[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^A&(O^U))+M[4]+3889429448&4294967295,N=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(N^O))+M[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(A^N))+M[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^N&(U^A))+M[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^A&(O^U))+M[8]+1163531501&4294967295,N=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(N^O))+M[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(A^N))+M[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^N&(U^A))+M[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^A&(O^U))+M[12]+2368359562&4294967295,N=O+(C<<20&4294967295|C>>>12),C=A+(N^O^U)+M[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=U+(A^N^O)+M[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^N)+M[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^A)+M[14]+4259657740&4294967295,N=O+(C<<23&4294967295|C>>>9),C=A+(N^O^U)+M[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=U+(A^N^O)+M[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^N)+M[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^A)+M[10]+3200236656&4294967295,N=O+(C<<23&4294967295|C>>>9),C=A+(N^O^U)+M[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=U+(A^N^O)+M[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^N)+M[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^A)+M[6]+76029189&4294967295,N=O+(C<<23&4294967295|C>>>9),C=A+(N^O^U)+M[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=U+(A^N^O)+M[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^N)+M[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^A)+M[2]+3299628645&4294967295,N=O+(C<<23&4294967295|C>>>9),C=A+(O^(N|~U))+M[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=U+(N^(A|~O))+M[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~N))+M[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~A))+M[5]+4237533241&4294967295,N=O+(C<<21&4294967295|C>>>11),C=A+(O^(N|~U))+M[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=U+(N^(A|~O))+M[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~N))+M[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~A))+M[1]+2240044497&4294967295,N=O+(C<<21&4294967295|C>>>11),C=A+(O^(N|~U))+M[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=U+(N^(A|~O))+M[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~N))+M[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~A))+M[13]+1309151649&4294967295,N=O+(C<<21&4294967295|C>>>11),C=A+(O^(N|~U))+M[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=U+(N^(A|~O))+M[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~N))+M[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=N;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(M[O++]=R.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<A;)if(M[O++]=R[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)R[A++]=this.g[N]>>>M&255;return R};function u(R,A){var N=m;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function f(R,A){this.h=A;const N=[];let M=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;M&&U==A||(N[O]=U,M=!1)}this.g=N}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return L(g(-R));const A=[];let N=1;for(let M=0;R>=N;M++)A[M]=R/N|0,N*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(A,8));let M=T;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const C=parseInt(R.substring(U,U+O),A);O<8?(O=g(Math.pow(A,O)),M=M.j(O).add(g(C))):(M=M.j(N),M=M.add(g(C)))}return M}var T=p(0),x=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(q(this))return-L(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(q(this))return"-"+L(this).toString(R);const A=g(Math.pow(R,6));var N=this;let M="";for(;;){const O=le(N,A).g;N=z(N,O.j(A));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=O,Q(N))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function q(R){return R.h==-1}i.l=function(R){return R=z(this,R),q(R)?-1:Q(R)?0:1};function L(R){const A=R.g.length,N=[];for(let M=0;M<A;M++)N[M]=~R.g[M];return new f(N,~R.h).add(x)}i.abs=function(){return q(this)?L(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let M=0;for(let O=0;O<=A;O++){let U=M+(this.i(O)&65535)+(R.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=C>>>16,U&=65535,C&=65535,N[O]=C<<16|U}return new f(N,N[N.length-1]&-2147483648?-1:0)};function z(R,A){return R.add(L(A))}i.j=function(R){if(Q(this)||Q(R))return T;if(q(this))return q(R)?L(this).j(L(R)):L(L(this).j(R));if(q(R))return L(this.j(L(R)));if(this.l(D)<0&&R.l(D)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const U=this.i(M)>>>16,C=this.i(M)&65535,Ke=R.i(O)>>>16,Ye=R.i(O)&65535;N[2*M+2*O]+=C*Ye,P(N,2*M+2*O),N[2*M+2*O+1]+=U*Ye,P(N,2*M+2*O+1),N[2*M+2*O+1]+=C*Ke,P(N,2*M+2*O+1),N[2*M+2*O+2]+=U*Ke,P(N,2*M+2*O+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new f(N,0)};function P(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function K(R,A){this.g=R,this.h=A}function le(R,A){if(Q(A))throw Error("division by zero");if(Q(R))return new K(T,T);if(q(R))return A=le(L(R),A),new K(L(A.g),L(A.h));if(q(A))return A=le(R,L(A)),new K(L(A.g),A.h);if(R.g.length>30){if(q(R)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var N=x,M=A;M.l(R)<=0;)N=oe(N),M=oe(M);var O=he(N,1),U=he(M,1);for(M=he(M,2),N=he(N,2);!Q(M);){var C=U.add(M);C.l(R)<=0&&(O=O.add(N),U=C),M=he(M,1),N=he(N,1)}return A=z(R,O.j(A)),new K(O,A)}for(O=T;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(N),C=U.j(A);q(C)||C.l(R)>0;)N-=M,U=g(N),C=U.j(A);Q(U)&&(U=x),O=O.add(U),R=z(R,C)}return new K(O,R)}i.B=function(R){return le(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)&R.i(M);return new f(N,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)|R.i(M);return new f(N,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)^R.i(M);return new f(N,this.h^R.h)};function oe(R){const A=R.g.length+1,N=[];for(let M=0;M<A;M++)N[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(N,R.h)}function he(R,A){const N=A>>5;A%=32;const M=R.g.length-N,O=[];for(let U=0;U<M;U++)O[U]=A>0?R.i(U+N)>>>A|R.i(U+N+1)<<32-A:R.i(U+N);return new f(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,gr=f}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KE,Go,QE,Th,Xm,XE,JE,WE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(c,y){if(y)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in b))break e;b=b[F]}c=c[c.length-1],w=b[c],y=y(w),y!=w&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(y){var b=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&b.push([w,y[w]]);return b}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,F,X){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return y.prototype[F].apply(w,ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const b=Array(y);for(let w=0;w<y;w++)b[w]=c[w];return b}return[]}function Q(c,y){for(let w=1;w<arguments.length;w++){const F=arguments[w];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=c.length||0;const X=F.length||0;c.length=b+X;for(let ue=0;ue<X;ue++)c[b+ue]=F[ue]}else c.push(F)}}class q{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){f.setTimeout(()=>{throw c},0)}function z(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class P{constructor(){this.h=this.g=null}add(y,b){const w=K.get();w.set(y,b),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new q(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,he=!1,R=new P,A=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(N)}};function N(){for(var c;c=z();){try{c.h.call(c.g)}catch(b){L(b)}var y=K;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}he=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ke,O),Ke.prototype.init=function(c,y){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,y,b,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!w,this.ha=F,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,y,b){for(const w in c)y.call(b,c[w],w,c)}function qe(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function k(c){const y={};for(const b in c)y[b]=c[b];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(c,y){let b,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(b in w)c[b]=w[b];for(let X=0;X<ee.length;X++)b=ee[X],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,y,b,w,F){const X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);const ue=pe(c,y,w,F);return ue>-1?(y=c[ue],b||(y.fa=!1)):(y=new ae(y,this.src,X,!!w,F),y.fa=b,c.push(y)),y};function ce(c,y){const b=y.type;if(b in c.g){var w=c.g[b],F=Array.prototype.indexOf.call(w,y,void 0),X;(X=F>=0)&&Array.prototype.splice.call(w,F,1),X&&(ye(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function pe(c,y,b,w){for(let F=0;F<c.length;++F){const X=c[F];if(!X.da&&X.listener==y&&X.capture==!!b&&X.ha==w)return F}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Oe={};function He(c,y,b,w,F){if(Array.isArray(y)){for(let X=0;X<y.length;X++)He(c,y[X],b,w,F);return null}return b=xe(b),c&&c[Ye]?c.J(y,b,m(w)?!!w.capture:!1,F):an(c,y,b,!1,w,F)}function an(c,y,b,w,F,X){if(!y)throw Error("Invalid event type");const ue=m(F)?!!F.capture:!!F;let Ie=pn(c);if(Ie||(c[Te]=Ie=new ne(c)),b=Ie.add(y,b,w,ue,X),b.proxy)return b;if(w=es(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)U||(F=ue),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(_t(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function es(){function c(b){return y.call(c.src,c.listener,b)}const y=fn;return c}function Ln(c,y,b,w,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ln(c,y[X],b,w,F);else w=m(w)?!!w.capture:!!w,b=xe(b),c&&c[Ye]?(c=c.i,X=String(y).toString(),X in c.g&&(y=c.g[X],b=pe(y,b,w,F),b>-1&&(ye(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[X],c.h--)))):c&&(c=pn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=pe(y,b,w,F)),(b=c>-1?y[c]:null)&&Xs(b))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ye])ce(y.i,c);else{var b=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(b,w,c.capture):y.detachEvent?y.detachEvent(_t(b),w):y.addListener&&y.removeListener&&y.removeListener(w),(b=pn(y))?(ce(b,c),b.h==0&&(b.src=null,y[Te]=null)):ye(c)}}}function _t(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function fn(c,y){if(c.da)c=!0;else{y=new Ke(y,this);const b=c.listener,w=c.ha||c.src;c.fa&&Xs(c),c=b.call(w,y)}return c}function pn(c){return c=c[Te],c instanceof ne?c:null}var fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(c){return typeof c=="function"?c:(c[fe]||(c[fe]=function(y){return c.handleEvent(y)}),c[fe])}function je(){M.call(this),this.i=new ne(this),this.M=this,this.G=null}T(je,M),je.prototype[Ye]=!0,je.prototype.removeEventListener=function(c,y,b,w){Ln(this,c,y,b,w)};function Fe(c,y){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var F=y;y=new O(w,c),H(y,F)}F=!0;let X,ue;if(b)for(ue=b.length-1;ue>=0;ue--)X=y.g=b[ue],F=Tt(X,w,!0,y)&&F;if(X=y.g=c,F=Tt(X,w,!0,y)&&F,F=Tt(X,w,!1,y)&&F,b)for(ue=0;ue<b.length;ue++)X=y.g=b[ue],F=Tt(X,w,!1,y)&&F}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let w=0;w<b.length;w++)ye(b[w]);delete c.g[y],c.h--}}this.G=null},je.prototype.J=function(c,y,b,w){return this.i.add(String(c),y,!1,b,w)},je.prototype.K=function(c,y,b,w){return this.i.add(String(c),y,!0,b,w)};function Tt(c,y,b,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let X=0;X<y.length;++X){const ue=y[X];if(ue&&!ue.da&&ue.capture==b){const Ie=ue.listener,At=ue.ha||ue.src;ue.fa&&ce(c.i,ue),F=Ie.call(At,w)!==!1&&F}}return F&&!w.defaultPrevented}function ut(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function bt(c){c.g=ut(()=>{c.g=null,c.i&&(c.i=!1,bt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ht extends M{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(c){M.call(this),this.h=c,this.g={}}T(Ni,M);var Ll=[];function Pl(c){Ce(c.g,function(y,b){this.g.hasOwnProperty(b)&&Xs(y)},c),c.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),Pl(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=f.JSON.stringify,bf=f.JSON.parse,ku=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Vu(){}function ju(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){O.call(this,"d")}T(Xt,O);function Pn(){O.call(this,"c")}T(Pn,O);var xt={},Lu=null;function Ta(){return Lu=Lu||new je}xt.Ia="serverreachability";function Pu(c){O.call(this,xt.Ia,c)}T(Pu,O);function bs(c){const y=Ta();Fe(y,new Pu(y))}xt.STAT_EVENT="statevent";function Dr(c,y){O.call(this,xt.STAT_EVENT,c),this.stat=y}T(Dr,O);function It(c){const y=Ta();Fe(y,new Dr(y,c))}xt.Ja="timingevent";function Es(c,y){O.call(this,xt.Ja,c),this.size=y}T(Es,O);function Ts(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function Ef(c,y,b,w,F,X){c.info(function(){if(c.g)if(X){var ue="",Ie=X.split("&");for(let Je=0;Je<Ie.length;Je++){var At=Ie[Je].split("=");if(At.length>1){const pt=At[0];At=At[1];const qn=pt.split("_");ue=qn.length>=2&&qn[1]=="type"?ue+(pt+"="+At+"&"):ue+(pt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+b+`
`+ue})}function Uu(c,y,b,w,F,X,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+b+`
`+X+" "+ue})}function Ss(c,y,b,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Tf(c,b)+(w?" "+w:"")})}function Or(c,y){c.info(function(){return"TIMEOUT: "+y})}ns.prototype.info=function(){};function Tf(c,y){if(!c.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(c=0;c<X.length;c++)if(Array.isArray(X[c])){var b=X[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return Ci(X)}catch{return y}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function kr(){}T(kr,Vu),kr.prototype.g=function(){return new XMLHttpRequest},zl=new kr;function Js(c){return encodeURIComponent(String(c))}function zu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function ss(c,y,b,w){this.j=c,this.i=y,this.l=b,this.S=w||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Dt={},$t={};function ws(c,y,b){c.M=1,c.A=Vr(Mt(y)),c.u=b,c.R=!0,Sa(c,null)}function Sa(c,y){c.F=Date.now(),xs(c),c.B=Mt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ra(b.i,"t",w),c.C=0,b=c.j.L,c.h=new is,c.g=tc(c.j,b?y:null,!c.u),c.P>0&&(c.O=new ht(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,w=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ll[0]=F.toString()),F=Ll);for(let X=0;X<F.length;X++){const ue=He(b,F[X],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),bs(),Ef(c.i,c.v,c.B,c.l,c.S,c.u)}ss.prototype.ba=function(c){c=c.target;const y=this.O;y&&ls(c)==3?y.j():this.Y(c)},ss.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=ls(this.g),At=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ie!=4||At==7||(At==8||Je<=0?bs(3):bs(2)),As(this);var y=this.g.ca();this.X=y;var b=Sf(this);if(this.o=y==200,Uu(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var X=w;break t}}X=null}if(c=X)Ss(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rs(this,c);else{this.o=!1,this.m=3,It(12),xn(this),Un(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<b.length;)if(pt=qu(this,b),pt==$t){Ie==4&&(this.m=4,It(14),c=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,It(15),Ss(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else Ss(this.i,this.l,pt,null),Rs(this,pt);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,It(16),c=!1),this.o=this.o&&c,!c)Ss(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),Un(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),to(ue),ue.P=!0,It(11))}}else Ss(this.i,this.l,b,null),Rs(this,b);Ie==4&&xn(this),this.o&&!this.K&&(Ie==4?Ju(this.j,this):(this.o=!1,xs(this)))}else Zs(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),xn(this),Un(this)}}}catch{}};function Sf(c){if(!Bu(c))return c.g.la();const y=Jt(c.g);if(y==="")return"";let b="";const w=y.length,F=ls(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xn(c),Un(c),"";c.h.i=new f.TextDecoder}for(let X=0;X<w;X++)c.h.h=!0,b+=c.h.i.decode(y[X],{stream:!(F&&X==w-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qu(c,y){var b=c.C,w=y.indexOf(`
`,b);return w==-1?$t:(b=Number(y.substring(b,w)),isNaN(b)?Dt:(w+=1,w+b>y.length?$t:(y=y.slice(w,w+b),c.C=w+b,y)))}ss.prototype.cancel=function(){this.K=!0,xn(this)};function xs(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ts(g(c.aa,c),y)}function As(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ss.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Or(this.i,this.B),this.M!=2&&(bs(),It(17)),xn(this),this.m=2,Un(this)):wa(this,this.T-c)};function Un(c){c.j.I==0||c.K||Ju(c.j,c)}function xn(c){As(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Pl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Rs(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Cs(b.h,c))){if(!c.L&&Cs(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Oa(b),Li(b);else break e;qr(b),It(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ts(g(b.Va,b),6e3));Ns(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vs(b,11)}else if((c.L||b.g==c)&&Oa(b),!C(y))for(F=b.Ba.g.parse(y),y=0;y<F.length;y++){let Je=F[y];const pt=Je[0];if(!(pt<=b.K))if(b.K=pt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const qn=Je[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const js=Je[4];js!=null&&(b.za=js,b.j.info("SVER="+b.za));const os=Je[5];os!=null&&typeof os=="number"&&os>0&&(w=1.5*os,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const us=c.g;if(us){const Hr=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var X=w.h;X.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Hl(X,X.h),X.h=null))}if(w.G){const Ma=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(w.wa=Ma,et(w.J,w.G,Ma))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ue=c;if(w.na=ec(w,w.L?w.ba:null,w.W),ue.L){Fl(w.h,ue);var Ie=ue,At=w.O;At&&(Ie.H=At),Ie.D&&(As(Ie),xs(Ie)),w.g=ue}else Qu(w);b.i.length>0&&ks(b)}else Je[0]!="stop"&&Je[0]!="close"||Vs(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Vs(b,7):Zl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}bs(4)}catch{}}var Ot=class{constructor(c,y){this.g=c,this.map=y}};function Bl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ql(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ns(c){return c.h?1:c.g?c.g.size:0}function Cs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Hl(c,y){c.g?c.g.add(y):c.h=y}function Fl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Gl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return D(c.i)}var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let F,X=null;w>=0?(F=c[b].substring(0,w),X=c[b].substring(w+1)):F=c[b],y(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof An?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,$l(this,Yu(c.i)),this.m=c.m):c&&(y=String(c).match(Hu))?(this.l=!1,Yt(this,y[1]||"",!0),this.o=Is(y[2]||""),this.g=Is(y[3]||"",!0),Ii(this,y[4]),this.h=Is(y[5]||"",!0),$l(this,y[6]||"",!0),this.m=Is(y[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}An.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(jr(y,Aa,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(jr(y,Aa,!0),"@"),c.push(Js(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(jr(b,b.charAt(0)=="/"?Yl:Fu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",jr(b,Gu)),c.join("")},An.prototype.resolve=function(c){const y=Mt(this);let b=!!c.j;b?Yt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var w=c.h;if(b)Ii(y,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=y.h.lastIndexOf("/");F!=-1&&(w=y.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let ue=0;ue<F.length;){const Ie=F[ue++];Ie=="."?w&&ue==F.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),w&&ue==F.length&&X.push("")):(X.push(Ie),w=!0)}w=X.join("/")}else w=F}return b?y.h=w:b=c.i.toString()!=="",b?$l(y,Yu(c.i)):b=!!c.m,b&&(y.m=c.m),y};function Mt(c){return new An(c)}function Yt(c,y,b){c.j=b?Is(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function $l(c,y,b){y instanceof Oi?(c.i=y,Na(c.i,c.l)):(b||(y=jr(y,Di)),c.i=new Oi(y,c.l))}function et(c,y,b){c.i.set(y,b)}function Vr(c){return et(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Is(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jr(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,gn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,Fu=/[#\?:]/g,Yl=/[#\?]/g,Di=/[#\?@]/g,Gu=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Oi.prototype,i.add=function(c,y){yn(this),this.i=null,c=Mi(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function $u(c,y){yn(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Kl(c,y){return yn(c),y=Mi(c,y),c.g.has(y)}i.forEach=function(c,y){yn(this),this.g.forEach(function(b,w){b.forEach(function(F){c.call(y,F,w,this)},this)},this)};function Ql(c,y){yn(c);let b=[];if(typeof y=="string")Kl(c,y)&&(b=b.concat(c.g.get(Mi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return yn(this),this.i=null,c=Mi(this,c),Kl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ql(this,c),c.length>0?String(c[0]):y):y};function Ra(c,y,b){$u(c,y),b.length>0&&(c.i=null,c.g.set(Mi(c,y),D(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var b=y[w];const F=Js(b);b=Ql(this,b);for(let X=0;X<b.length;X++){let ue=F;b[X]!==""&&(ue+="="+Js(b[X])),c.push(ue)}}return this.i=c.join("&")};function Yu(c){const y=new Oi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Na(c,y){y&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(b,w){const F=w.toLowerCase();w!=F&&($u(this,w),Ra(this,F,b))},c)),c.j=y}function rs(c,y){const b=new ns;if(f.Image){const w=new Image;w.onload=E(zn,b,"TestLoadImage: loaded",!0,y,w),w.onerror=E(zn,b,"TestLoadImage: error",!1,y,w),w.onabort=E(zn,b,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(zn,b,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Xl(c,y){const b=new ns,w=new AbortController,F=setTimeout(()=>{w.abort(),zn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(F),X.ok?zn(b,"TestPingServer: ok",!0,y):zn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),zn(b,"TestPingServer: error",!1,y)})}function zn(c,y,b,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(b)}catch{}}function ki(){this.g=new ku}function Ds(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ds,Vu),Ds.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(c,y){je.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Lr,je),i=Lr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,as(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vi(this):as(this),this.readyState==3&&Ca(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},i.Na=function(c){this.g&&(this.response=c,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,as(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function as(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let y="";return Ce(c,function(b,w){y+=w,y+=":",y+=b,y+=`\r
`}),y}function Pr(c,y,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Bn(b),typeof c=="string"?b!=null&&Js(b):et(c,y,b))}function it(c){je.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,je);var Os=/^https?$/i,Jl=["POST","PUT"];i=it.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Ur(this,X);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)b.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())b.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),F=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Jl,y,void 0)>=0)||w||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of b)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(X){Ur(this,X)}};function Ur(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Wl(c),Ws(c)}function Wl(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Fe(this,"complete"),Fe(this,"abort"),Ws(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),it.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},i.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof u<"u"){if(c.v&&ls(c)==4)setTimeout(c.Ca.bind(c),0);else if(Fe(c,"readystatechange"),ls(c)==4){c.h=!1;try{const X=c.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var w;if(w=X===0){let ue=String(c.D).match(Hu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),w=!Os.test(ue?ue.toLowerCase():"")}b=w}if(b)Fe(c,"complete"),Fe(c,"success");else{c.o=6;try{var F=ls(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",Wl(c)}}finally{Ws(c)}}}}function Ws(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Fe(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ls(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),bf(y)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(c){const y={};c=(c.g&&ls(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var b=zu(c[w]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=y[F]||[];y[F]=X,X.push(b)}qe(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ji(c){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,c),this.Za=Ms("retryDelaySeedMs",1e4,c),this.Ta=Ms("forwardChannelMaxRetries",2,c),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ji.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,w){It(0),this.W=c,this.H=y||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=ec(this,null,this.W),ks(this)};function Zl(c){if(Ia(c),c.I==3){var y=c.V++,b=Mt(c.J);if(et(b,"SID",c.M),et(b,"RID",y),et(b,"TYPE","terminate"),Br(c,b),y=new ss(c,c.j,y),y.M=2,y.A=Vr(Mt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=tc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xs(y)}Zu(c)}function Li(c){c.g&&(to(c),c.g.cancel(),c.g=null)}function Ia(c){Li(c),c.v&&(f.clearTimeout(c.v),c.v=null),Oa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ks(c){if(!ql(c.h)&&!c.m){c.m=!0;var y=c.Ea;oe||A(),he||(oe(),he=!0),R.add(y,c),c.D=0}}function Da(c,y){return Ns(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ts(g(c.Ea,c,y),Wu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new ss(this,this.j,c);let X=this.o;if(this.U&&(X?(X=k(X),H(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Ku(this,F,y),b=Mt(this.J),et(b,"RID",c),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Br(this,b),X&&(this.R?y="headers="+Js(Bn(X))+"&"+y:this.u&&Pr(b,this.u,X)),Hl(this.h,F),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",y),et(b,"SID","null"),F.U=!0,ws(F,b,null)):ws(F,b,y),this.I=2}}else this.I==3&&(c?eo(this,c):this.i.length==0||ql(this.h)||eo(this))};function eo(c,y){var b;y?b=y.l:b=c.V++;const w=Mt(c.J);et(w,"SID",c.M),et(w,"RID",b),et(w,"AID",c.K),Br(c,w),c.u&&c.o&&Pr(w,c.u,c.o),b=new ss(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ku(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Hl(c.h,b),ws(b,w,y)}function Br(c,y){c.H&&Ce(c.H,function(b,w){et(y,w,b)}),c.l&&Ce({},function(b,w){et(y,w,b)})}function Ku(c,y,b){b=Math.min(c.i.length,b);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var F=c.i;let Ie=-1;for(;;){const At=["count="+b];Ie==-1?b>0?(Ie=F[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Je=!0;for(let pt=0;pt<b;pt++){var X=F[pt].g;const qn=F[pt].map;if(X-=Ie,X<0)Ie=Math.max(0,F[pt].g-100),Je=!1;else try{X="req"+X+"_"||"";try{var ue=qn instanceof Map?qn:Object.entries(qn);for(const[js,os]of ue){let us=os;m(os)&&(us=Ci(os)),At.push(X+js+"="+encodeURIComponent(us))}}catch(js){throw At.push(X+"type="+encodeURIComponent("_badmap")),js}}catch{w&&w(qn)}}if(Je){ue=At.join("&");break e}}ue=void 0}return c=c.i.splice(0,b),y.G=c,ue}function Qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;oe||A(),he||(oe(),he=!0),R.add(y,c),c.A=0}}function qr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ts(g(c.Da,c),Wu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ts(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Li(this),Xu(this))};function to(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Xu(c){c.g=new ss(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Mt(c.na);et(y,"RID","rpc"),et(y,"SID",c.M),et(y,"AID",c.K),et(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&et(y,"TO",c.ia),et(y,"TYPE","xmlhttp"),Br(c,y),c.u&&c.o&&Pr(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Vr(Mt(y)),b.u=null,b.R=!0,Sa(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Li(this),qr(this),It(19))};function Oa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ju(c,y){var b=null;if(c.g==y){Oa(c),to(c),c.g=null;var w=2}else if(Cs(c.h,y))b=y.G,Fl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var F=c.D;w=Ta(),Fe(w,new Es(w,b)),ks(c)}else Qu(c);else if(F=y.m,F==3||F==0&&y.X>0||!(w==1&&Da(c,y)||w==2&&qr(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),F){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function Wu(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Vs(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),w=c.Ua;const F=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yt(w,"https"),Vr(w),F?rs(w.toString(),b):Xl(w.toString(),b)}else It(2);c.I=0,c.l&&c.l.pa(y),Zu(c),Ia(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Zu(c){if(c.I=0,c.ja=[],c.l){const y=Gl(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function ec(c,y,b){var w=b instanceof An?Mt(b):new An(b);if(w.g!="")y&&(w.g=y+"."+w.g),Ii(w,w.u);else{var F=f.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const X=new An(null);w&&Yt(X,w),y&&(X.g=y),F&&Ii(X,F),b&&(X.h=b),w=X}return b=c.G,y=c.wa,b&&y&&et(w,b,y),et(w,"VER",c.ka),Br(c,w),w}function tc(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new it(new Ds({ab:b})):new it(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pi(){}Pi.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){je.call(this),this.g=new ji(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ei(this)}T(dn,je),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Zl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Ci(c),c=b);y.i.push(new Ot(y.Ya++,c)),y.I==3&&ks(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,dn.Z.N.call(this)};function sc(c){Xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(sc,Xt);function ic(){Pn.call(this),this.status=1}T(ic,Pn);function ei(c){this.g=c}T(ei,nc),ei.prototype.ra=function(){Fe(this.g,"a")},ei.prototype.qa=function(c){Fe(this.g,new sc(c))},ei.prototype.pa=function(c){Fe(this.g,new ic)},ei.prototype.oa=function(){Fe(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,WE=function(){return new Pi},JE=function(){return Ta()},XE=xt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Th=Mr,Ul.COMPLETE="complete",QE=Ul,ju.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",je.prototype.listen=je.prototype.J,Go=ju,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,KE=it}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Ml="12.8.0";function WN(i){Ml=i}const ma=new Sp("@firebase/firestore");function ul(){return ma.logLevel}function me(i,...e){if(ma.logLevel<=Ue.DEBUG){const n=e.map(kp);ma.debug(`Firestore (${Ml}): ${i}`,...n)}}function xi(i,...e){if(ma.logLevel<=Ue.ERROR){const n=e.map(kp);ma.error(`Firestore (${Ml}): ${i}`,...n)}}function El(i,...e){if(ma.logLevel<=Ue.WARN){const n=e.map(kp);ma.warn(`Firestore (${Ml}): ${i}`,...n)}}function kp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function we(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZE(i,r,n)}function ZE(i,e,n){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xi(r),new Error(r)}function Ze(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||ZE(e,l,r)}function Ne(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class eT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class eC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tC{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new eT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class nC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=rC(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function ze(i,e){return i<e?-1:i>e?1:0}function Jm(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),u=e.charAt(r);if(l!==u)return Mm(l)===Mm(u)?ze(l,u):Mm(l)?1:-1}return ze(i.length,e.length)}const aC=55296,lC=57343;function Mm(i){const e=i.charCodeAt(0);return e>=aC&&e<=lC}function Tl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const O_="__name__";class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Bs.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const r=Bs.isNumericId(e),l=Bs.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Bs.extractNumericId(e).compare(Bs.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class ct extends Bs{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const oC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Bs{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return oC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new sn([O_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(u(),l++)}if(u(),f)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function tT(i,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function uC(i,e,n,r){if(e===!0&&r===!0)throw new de(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function M_(i){if(!be.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function k_(i){if(be.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Fs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(i);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function zt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!nT(i))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new de(ie.INVALID_ARGUMENT,n);return!0}const V_=-62135596800,j_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j_);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V_)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new mt(0,0))}static max(){return new Ae(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function cC(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new _r(l,be.empty(),e)}function hC(i){return new _r(i.readTime,i.key,au)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(Ae.min(),be.empty(),au)}static max(){return new _r(Ae.max(),be.empty(),au)}}function fC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:ze(i.largestBatchId,e.largestBatchId))}const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kl(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==dC)throw i;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(p=>r(p)))})),f=!0,u===l&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((l=>l?re.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&r(f)}),(E=>l(E)))}}))}static doWhile(e,n){return new re(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function pC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(i){return i.name==="IndexedDbTransactionError"}class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;const jp=-1;function af(i){return i==null}function Lh(i){return i===0&&1/i==-1/0}function gC(i){return typeof i=="number"&&Number.isInteger(i)&&!Lh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const sT="";function yC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=L_(e)),e=vC(i.get(n),e);return L_(e)}function vC(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case sT:n+="";break;default:n+=u}}return n}function L_(i){return i+sT+""}function P_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Cr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function iT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Et{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new nn(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ft(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rT("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const n=_C.exec(i);if(Ze(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Er(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}const aT="server_timestamp",lT="__type__",oT="__previous_value__",uT="__local_write_time__";function Lp(i){return(i?.mapValue?.fields||{})[lT]?.stringValue===aT}function lf(i){const e=i.mapValue.fields[oT];return Lp(e)?lf(e):e}function lu(i){const e=br(i.mapValue.fields[uT].timestampValue);return new mt(e.seconds,e.nanos)}class bC{constructor(e,n,r,l,u,f,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Ph="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function EC(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(i.options.projectId,e)}const cT="__type__",TC="__max__",fh={mapValue:{}},hT="__vector__",Uh="value";function Tr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lp(i)?4:wC(i)?9007199254740991:SC(i)?10:11:we(28295,{value:i})}function Qs(i,e){if(i===e)return!0;const n=Tr(i);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=br(l.timestampValue),m=br(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return Er(l.bytesValue).isEqual(Er(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ct(l.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ct(l.integerValue)===Ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ct(l.doubleValue),m=Ct(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Tl(i.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(P_(f)!==P_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Qs(f[p],m[p])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function uu(i,e){return(i.values||[]).find((n=>Qs(n,e)))!==void 0}function Sl(i,e){if(i===e)return 0;const n=Tr(i),r=Tr(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ct(u.integerValue||u.doubleValue),p=Ct(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return z_(i.timestampValue,e.timestampValue);case 4:return z_(lu(i),lu(e));case 5:return Jm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Er(u),p=Er(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(Ct(u.latitude),Ct(f.latitude));return m!==0?m:ze(Ct(u.longitude),Ct(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return B_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Uh]?.arrayValue,E=p[Uh]?.arrayValue,T=ze(g?.values?.length||0,E?.values?.length||0);return T!==0?T:B_(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===fh.mapValue&&f===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const x=Jm(p[T],E[T]);if(x!==0)return x;const D=Sl(m[p[T]],g[E[T]]);if(D!==0)return D}return ze(p.length,E.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function z_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const n=br(i),r=br(e),l=ze(n.seconds,r.seconds);return l!==0?l:ze(n.nanos,r.nanos)}function B_(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Sl(n[l],r[l]);if(u)return u}return ze(n.length,r.length)}function wl(i){return Wm(i)}function Wm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=br(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Er(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Wm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Wm(n.fields[f])}`;return l+"}"})(i.mapValue):we(61005,{value:i})}function Sh(i){switch(Tr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+Sh(e):16;case 5:return 2*i.stringValue.length;case 6:return Er(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Sh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Cr(r.fields,((u,f)=>{l+=u.length+Sh(f)})),l})(i.mapValue);default:throw we(13486,{value:i})}}function q_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zm(i){return!!i&&"integerValue"in i}function Pp(i){return!!i&&"arrayValue"in i}function H_(i){return!!i&&"nullValue"in i}function F_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function SC(i){return(i?.mapValue?.fields||{})[cT]?.stringValue===hT}function Jo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Jo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return{...i}}function wC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===TC}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=sn.emptyPath(),r={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=Jo(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];wh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Cr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new wn(Jo(this.value))}}function fT(i){const e=[];return Cr(i.fields,((n,r)=>{const l=new sn([n]);if(wh(r)){const u=fT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Vn(e)}class cn{constructor(e,n,r,l,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,n,r,l){return new cn(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new cn(e,2,n,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function G_(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const u=e[l],f=i.position[l];if(u.field.isKeyField()?r=be.comparator(be.fromName(f.referenceValue),n.key):r=Sl(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qs(i.position[n],e.position[n]))return!1;return!0}class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function xC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class dT{}class Ut extends dT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RC(e,n,r):n==="array-contains"?new IC(e,r):n==="in"?new DC(e,r):n==="not-in"?new OC(e,r):n==="array-contains-any"?new MC(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NC(e,r):new CC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends dT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vs(e,n)}matches(e){return mT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mT(i){return i.op==="and"}function pT(i){return AC(i)&&mT(i)}function AC(i){for(const e of i.filters)if(e instanceof vs)return!1;return!0}function ep(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+wl(i.value);if(pT(i))return i.filters.map((e=>ep(e))).join(",");{const e=i.filters.map((n=>ep(n))).join(",");return`${i.op}(${e})`}}function gT(i,e){return i instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&Qs(r.value,l.value)})(i,e):i instanceof vs?(function(r,l){return l instanceof vs&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,m)=>u&&gT(f,l.filters[m])),!0):!1})(i,e):void we(19439)}function yT(i){return i instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(i):i instanceof vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"})(i):"Filter"}class RC extends Ut{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class NC extends Ut{constructor(e,n){super(e,"in",n),this.keys=vT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CC extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=vT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vT(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class IC extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&uu(n.arrayValue,this.value)}}class DC extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class OC extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class MC extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}class kC{constructor(e,n=null,r=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Y_(i,e=null,n=[],r=[],l=null,u=null,f=null){return new kC(i,e,n,r,l,u,f)}function Up(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ep(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function zp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!xC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$_(i.startAt,e.startAt)&&$_(i.endAt,e.endAt)}function tp(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ru{constructor(e,n=null,r=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VC(i,e,n,r,l,u,f,m){return new Ru(i,e,n,r,l,u,f,m)}function Bp(i){return new Ru(i)}function K_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function jC(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function _T(i){return i.collectionGroup!==null}function Wo(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ft(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Bh(u,r))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Bh(sn.keyField(),r))}return e.Ie}function Gs(i){const e=Ne(i);return e.Ee||(e.Ee=LC(e,Wo(i))),e.Ee}function LC(i,e){if(i.limitType==="F")return Y_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Bh(l.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return Y_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function np(i,e){const n=i.filters.concat([e]);return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function sp(i,e,n){return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function of(i,e){return zp(Gs(i),Gs(e))&&i.limitType===e.limitType}function bT(i){return`${Up(Gs(i))}|lt:${i.limitType}`}function cl(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>yT(l))).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>wl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>wl(l))).join(",")),`Target(${r})`})(Gs(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,l){for(const u of Wo(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(f,m,p){const g=G_(f,m,p);return f.inclusive?g<=0:g<0})(r.startAt,Wo(r),l)||r.endAt&&!(function(f,m,p){const g=G_(f,m,p);return f.inclusive?g>=0:g>0})(r.endAt,Wo(r),l))})(i,e)}function PC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ET(i){return(e,n)=>{let r=!1;for(const l of Wo(i)){const u=UC(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function UC(i,e,n){const r=i.field.isKeyField()?be.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Sl(p,g):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:i.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}const zC=new Et(be.comparator);function Ai(){return zC}const TT=new Et(be.comparator);function $o(...i){let e=TT;for(const n of i)e=e.insert(n.key,n);return e}function ST(i){let e=TT;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function la(){return Zo()}function wT(){return Zo()}function Zo(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const BC=new Et(be.comparator),qC=new Ft(be.comparator);function Be(...i){let e=qC;for(const n of i)e=e.add(n);return e}const HC=new Ft(ze);function FC(){return HC}function qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function xT(i){return{integerValue:""+i}}function GC(i,e){return gC(e)?xT(e):qp(i,e)}class cf{constructor(){this._=void 0}}function $C(i,e,n){return i instanceof cu?(function(l,u){const f={fields:{[lT]:{stringValue:aT},[uT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Lp(u)&&(u=lf(u)),u&&(f.fields[oT]=u),{mapValue:f}})(n,e):i instanceof hu?RT(i,e):i instanceof fu?NT(i,e):(function(l,u){const f=AT(l,u),m=Q_(f)+Q_(l.Ae);return Zm(f)&&Zm(l.Ae)?xT(m):qp(l.serializer,m)})(i,e)}function YC(i,e,n){return i instanceof hu?RT(i,e):i instanceof fu?NT(i,e):n}function AT(i,e){return i instanceof qh?(function(r){return Zm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class cu extends cf{}class hu extends cf{constructor(e){super(),this.elements=e}}function RT(i,e){const n=CT(e);for(const r of i.elements)n.some((l=>Qs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class fu extends cf{constructor(e){super(),this.elements=e}}function NT(i,e){let n=CT(e);for(const r of i.elements)n=n.filter((l=>!Qs(l,r)));return{arrayValue:{values:n}}}class qh extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q_(i){return Ct(i.integerValue||i.doubleValue)}function CT(i){return Pp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class KC{constructor(e,n){this.field=e,this.transform=n}}function QC(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof hu&&l instanceof hu||r instanceof fu&&l instanceof fu?Tl(r.elements,l.elements,Qs):r instanceof qh&&l instanceof qh?Qs(r.Ae,l.Ae):r instanceof cu&&l instanceof cu})(i.transform,e.transform)}class XC{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hf{}function IT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Hp(i.key,ps.none()):new Nu(i.key,i.data,ps.none());{const n=i.data,r=wn.empty();let l=new Ft(sn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Ir(i.key,r,new Vn(l.toArray()),ps.none())}}function JC(i,e,n){i instanceof Nu?(function(l,u,f){const m=l.value.clone(),p=J_(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ir?(function(l,u,f){if(!xh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=J_(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(DT(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function eu(i,e,n,r){return i instanceof Nu?(function(u,f,m,p){if(!xh(u.precondition,f))return m;const g=u.value.clone(),E=W_(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,r):i instanceof Ir?(function(u,f,m,p){if(!xh(u.precondition,f))return m;const g=W_(u.fieldTransforms,p,f),E=f.data;return E.setAll(DT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,r):(function(u,f,m){return xh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function WC(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),u=AT(r.transform,l||null);u!=null&&(n===null&&(n=wn.empty()),n.set(r.field,u))}return n||null}function X_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Tl(r,l,((u,f)=>QC(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends hf{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends hf{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function J_(i,e,n){const r=new Map;Ze(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let l=0;l<n.length;l++){const u=i[l],f=u.transform,m=e.data.field(u.field);r.set(u.field,YC(f,m,n[l]))}return r}function W_(i,e,n){const r=new Map;for(const l of i){const u=l.transform,f=n.data.field(l.field);r.set(l.field,$C(u,f,e))}return r}class Hp extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZC extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&JC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=IT(f,m);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,r)=>X_(n,r)))&&Tl(this.baseMutations,e.baseMutations,((n,r)=>X_(n,r)))}}class Fp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return BC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Fp(e,n,r,l)}}class tI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,$e;function sI(i){switch(i){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function OT(i){if(i===void 0)return xi("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:i})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function iI(){return new TextEncoder}const rI=new gr([4294967295,4294967295],0);function Z_(i){const e=iI().encode(i),n=new YE;return n.update(e),new Uint8Array(n.digest())}function eb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gr([n,r],0),new gr([l,u],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(r<0)throw new Yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(gr.fromNumber(r)));return l.compare(rI)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z_(e),[r,l]=eb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,l,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Z_(e),[r,l]=eb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(Ae.min(),l,new Et(ze),Ai(),Be())}}class Cu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Be(),Be(),Be())}}class Ah{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class MT{constructor(e,n){this.targetId=e,this.Ce=n}}class kT{constructor(e,n,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class tb{constructor(){this.ve=0,this.Fe=nb(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:we(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=nb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.He=dh(),this.Je=dh(),this.Ze=new Et(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(tp(u))if(r===0){const f=new be(u.path);this.et(n,f,cn.newNoDocument(f,Ae.min()))}else Ze(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=Er(r).toUint8Array()}catch(p){if(p instanceof rT)return El("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(f,l,u)}catch(p){return El(p instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tp(m.target)){const p=new be(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,cn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Be();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new ff(e,n,this.Ze,this.je,r);return this.je=Ai(),this.He=dh(),this.Je=dh(),this.Ze=new Et(ze),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new Et(be.comparator)}function nb(){return new Et(be.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class cI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(i,e){return i.useProto3Json||af(e)?e:{value:e}}function Hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function hI(i,e){return Hh(i,e.toTimestamp())}function $s(i){return Ze(!!i,49232),Ae.fromTimestamp((function(n){const r=br(n);return new mt(r.seconds,r.nanos)})(i))}function $p(i,e){return rp(i,e).canonicalString()}function rp(i,e){const n=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function jT(i){const e=ct.fromString(i);return Ze(BT(e),10190,{key:e.toString()}),e}function ap(i,e){return $p(i.databaseId,e.path)}function km(i,e){const n=jT(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(PT(n))}function LT(i,e){return $p(i.databaseId,e)}function fI(i){const e=jT(i);return e.length===4?ct.emptyPath():PT(e)}function lp(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function PT(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function sb(i,e,n){return{name:ap(i,e),fields:n.value.mapValue.fields}}function dI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:OT(g.code);return new de(E,g.message||"")})(f);n=new kT(r,l,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=km(i,r.document.name),u=$s(r.document.updateTime),f=r.document.createTime?$s(r.document.createTime):Ae.min(),m=new wn({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(l,u,f,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new Ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=km(i,r.document),u=r.readTime?$s(r.readTime):Ae.min(),f=cn.newNoDocument(l,u),m=r.removedTargetIds||[];n=new Ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=km(i,r.document),u=r.removedTargetIds||[];n=new Ah([],u,l,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new nI(l,u),m=r.targetId;n=new MT(m,f)}}return n}function mI(i,e){let n;if(e instanceof Nu)n={update:sb(i,e.key,e.value)};else if(e instanceof Hp)n={delete:ap(i,e.key)};else if(e instanceof Ir)n={update:sb(i,e.key,e.data),updateMask:SI(e.fieldMask)};else{if(!(e instanceof ZC))return we(16599,{dt:e.type});n={verify:ap(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof cu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:hI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(i,e.precondition)),n}function pI(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map((n=>(function(l,u){let f=l.updateTime?$s(l.updateTime):$s(u);return f.isEqual(Ae.min())&&(f=$s(u)),new XC(f,l.transformResults||[])})(n,e)))):[]}function gI(i,e){return{documents:[LT(i,e.path)]}}function yI(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LT(i,l);const u=(function(g){if(g.length!==0)return zT(vs.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(x){return{field:hl(x.field),direction:bI(x.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function vI(i){let e=fI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ze(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const x=UT(T);return x instanceof vs&&pT(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((x=>(function(Q){return new Bh(fl(Q.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,af(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(T){const x=!!T.before,D=T.values||[];return new zh(D,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const x=!T.before,D=T.values||[];return new zh(D,x)})(n.endAt)),VC(e,l,f,u,m,"F",p,g)}function _I(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fl(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fl(n.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fl(n.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fl(n.unaryFilter.field);return Ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ut.create(fl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return vs.create(n.compositeFilter.filters.map((r=>UT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function bI(i){return lI[i]}function EI(i){return oI[i]}function TI(i){return uI[i]}function hl(i){return{fieldPath:i.canonicalString()}}function fl(i){return sn.fromServerFormat(i.fieldPath)}function zT(i){return i instanceof Ut?(function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:EI(n.op),value:n.value}}})(i):i instanceof vs?(function(n){const r=n.getFilters().map((l=>zT(l)));return r.length===1?r[0]:{compositeFilter:{op:TI(n.op),filters:r}}})(i):we(54877,{filter:i})}function SI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function qT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class fr{constructor(e,n,r,l,u=Ae.min(),f=Ae.min(),m=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wI{constructor(e){this.yt=e}}function xI(i){const e=vI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(e,e.limit,"L"):e}class AI{constructor(){this.Sn=new RI}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(_r.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ft(ct.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ft(ct.comparator)).toArray()}}const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(HT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xl(0)}static ar(){return new xl(-1)}}const rb="LruGarbageCollector",NI=1048576;function ab([i,e],[n,r]){const l=ze(i,n);return l===0?ze(e,r):l}class CI{constructor(e){this.Pr=e,this.buffer=new Ft(ab),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(rb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?me(rb,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Ar(3e5)}))}}class DI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(rf.ce);const r=new CI(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ib)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,f=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(g=Date.now(),ul()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function OI(i,e){return new DI(i,e)}class MI{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&eu(r.mutation,l,Vn.empty(),mt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const l=la();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=$o();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=la();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,l){let u=Ai();const f=Zo(),m=(function(){return Zo()})();return n.forEach(((p,g)=>{const E=r.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof Ir)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),eu(E.mutation,g,E.mutation.getFieldMask(),mt.now())):f.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new kI(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Zo();let l=new Et(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=r.get(p)||Vn.empty();E=m.applyToLocalView(g,E),r.set(p,E);const T=(l.get(m.batchId)||Be()).add(p);l=l.insert(m.batchId,T)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=wT();E.forEach((x=>{if(!u.has(x)){const D=IT(n.get(x),r.get(x));D!==null&&T.set(x,D),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return jC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):re.resolve(la());let m=au,p=u;return f.next((g=>re.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Be()))).next((E=>({batchId:m,changes:ST(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let l=$o();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=$o();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const g=(function(T,x){return new Ru(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((E=>{E.forEach(((T,x)=>{f=f.insert(T,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,cn.newInvalidDocument(E)))}));let m=$o();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,g,Vn.empty(),mt.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}class jI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:$s(l.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:xI(l.bundledQuery),readTime:$s(l.readTime)}})(n)),re.resolve()}}class LI{constructor(){this.overlays=new Et(be.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=la();return re.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const l=la(),u=n.length+1,f=new be(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return re.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new Et(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=la(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=la(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=l)););return re.resolve(m)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new tI(n,r));let u=this.Lr.get(n);u===void 0&&(u=Be(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class PI{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Yp{constructor(){this.kr=new Ft(Qt.Kr),this.qr=new Ft(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Qt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new be(new ct([])),r=new Qt(n,e),l=new Qt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ct([])),r=new Qt(n,e),l=new Qt(n,e+1);let u=Be();return this.qr.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Qt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class UI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Qt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eI(u,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Jr=this.Jr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?jp:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),l=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(f=>{const m=this.Zr(f.Hr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(ze);return n.forEach((l=>{const u=new Qt(l,0),f=new Qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;be.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new be(u),0);let m=new Ft(ze);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Hr)),!0)}),f),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ze(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(l=>{const u=new Qt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Qt(n,0),l=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zI{constructor(e){this.ti=e,this.docs=(function(){return new Et(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():cn.newInvalidDocument(l))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Ai();const f=n.path,m=new be(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||fC(hC(E),r)<=0||(l.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,r,l){we(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BI(this)}getSize(e){return re.resolve(this.size)}}class BI extends MI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class qI{constructor(e){this.persistence=e,this.ri=new _a((n=>Up(n)),zp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=xl._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),re.waitFor(u).next((()=>l))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class FT{constructor(e,n){this._i={},this.overlays={},this.ai=new rf(0),this.ui=!1,this.ui=!0,this.ci=new PI,this.referenceDelegate=e(this),this.li=new qI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(l){return new zI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new wI(n),this.Pi=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new UI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const l=new HI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class HI extends mC{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const l=be.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.fi=new _a((r=>yC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=OI(this,n)}static Vi(e,n){return new Fh(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?re.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return re.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Be(),l=Be();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Qp(e,n.fromCache,r,l)}}class FI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yA()?8:pC(hn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FI;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(ul()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(ul()<=Ue.DEBUG&&me("QueryEngine","Query:",cl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(ul()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(n))):re.resolve())}gs(e,n){if(K_(n))return re.resolve(null);let r=Gs(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=sp(n,null,"F"),r=Gs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Be(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,f,p.readTime)?this.gs(e,sp(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,r,l){return K_(n)||l.isEqual(Ae.min())?re.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,l)?re.resolve(null):(ul()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),cl(n)),this.Ds(e,f,n,cC(l,au)).next((m=>m)))}))}bs(e,n){let r=new Ft(ET(e));return n.forEach(((l,u)=>{uf(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return ul()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",cl(n)),this.fs.getDocumentsMatchingQuery(e,n,_r.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Xp="LocalStore",$I=3e8;class YI{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new Et(ze),this.Fs=new _a((u=>Up(u)),zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function KI(i,e,n,r){return new YI(i,e,n,r)}async function GT(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=Be();for(const g of l){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function QI(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,x=T.keys();let D=re.resolve();return x.forEach((Q=>{D=D.next((()=>E.getEntry(p,Q))).next((q=>{const L=g.docVersions.get(Q);Ze(L!==null,48541),q.version.compareTo(L)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function $T(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function XI(i,e){const n=Ne(i),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const x=l.get(T);if(!x)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let D=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,r)),l=l.insert(T,D),(function(q,L,z){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=$I?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,D,E)&&m.push(n.li.updateTargetData(u,D))}));let p=Ai(),g=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JI(u,f,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!r.isEqual(Ae.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return re.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=l,u)))}function JI(i,e,n){let r=Be(),l=Be();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let f=Ai();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:f,Ls:l}}))}function WI(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ZI(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,re.resolve(l)):n.li.allocateTargetId(r).next((f=>(l=new fr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function op(i,e,n){const r=Ne(i),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Vl(f))throw f;me(Xp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function lb(i,e,n){const r=Ne(i);let l=Ae.min(),u=Be();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Ne(p),x=T.Fs.get(E);return x!==void 0?re.resolve(T.vs.get(x)):T.li.getTargetData(g,E)})(r,f,Gs(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?l:Ae.min(),n?u:Be()))).next((m=>(eD(r,PC(e),m),{documents:m,ks:u})))))}function eD(i,e,n){let r=i.Ms.get(e)||Ae.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(e,r)}class ob{constructor(){this.activeTargetIds=FC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.vo=new ob,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ob,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nD{Mo(e){}shutdown(){}}const ub="ConnectivityMonitor";class cb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(ub,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function up(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Vm="RestConnection",sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const f=up(),m=this.Qo(e,n.toUriEncodedString());me(Vm,`Sending RPC '${e}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,u);const{host:g}=new URL(m),E=Il(g);return this.zo(e,m,p,r,E).then((T=>(me(Vm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw El(Vm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(e,n,r,l,u,f){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=sD[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class rD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",qo=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class vl extends iD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vl.c_){const e=JE();qo(e,XE.STAT_EVENT,(n=>{n.stat===Xm.PROXY?me(on,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&me(on,"STAT_EVENT: detected no buffering proxy")})),vl.c_=!0}}zo(e,n,r,l,u){const f=up();return new Promise(((m,p)=>{const g=new KE;g.setWithCredentials(!0),g.listenOnce(QE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const T=g.getResponseJson();me(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Th.TIMEOUT:me(on,`RPC '${e}' ${f} timed out`),p(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const x=g.getStatus();if(me(on,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const Q=D?.error;if(Q&&Q.status&&Q.message){const q=(function(z){const P=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(P)>=0?P:ie.UNKNOWN})(Q.status);p(new de(q,Q.message))}else p(new de(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(on,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);me(on,`RPC '${e}' ${f} sending request:`,l),g.send(n,"POST",E,r,15)}))}T_(e,n,r){const l=up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=u.join("");me(on,`Creating RPC '${e}' stream ${l}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let T=!1,x=!1;const D=new rD({Ho:Q=>{x?me(on,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(T||(me(on,`Opening RPC '${e}' stream ${l} transport.`),E.open(),T=!0),me(on,`RPC '${e}' stream ${l} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return qo(E,Go.EventType.OPEN,(()=>{x||(me(on,`RPC '${e}' stream ${l} transport opened.`),D.i_())})),qo(E,Go.EventType.CLOSE,(()=>{x||(x=!0,me(on,`RPC '${e}' stream ${l} transport closed`),D.o_(),this.E_(E))})),qo(E,Go.EventType.ERROR,(Q=>{x||(x=!0,El(on,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),D.o_(new de(ie.UNAVAILABLE,"The operation could not be completed")))})),qo(E,Go.EventType.MESSAGE,(Q=>{if(!x){const q=Q.data[0];Ze(!!q,16349);const L=q,z=L?.error||L[0]?.error;if(z){me(on,`RPC '${e}' stream ${l} received error:`,z);const P=z.status;let K=(function(he){const R=Pt[he];if(R!==void 0)return OT(R)})(P),le=z.message;K===void 0&&(K=ie.INTERNAL,le="Unknown error status: "+P+" with message "+z.message),x=!0,D.o_(new de(K,le)),E.close()}else me(on,`RPC '${e}' stream ${l} received:`,q),D.__(q)}})),vl.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WE()}}function aD(i){return new vl(i)}function jm(){return typeof document<"u"?document:null}function df(i){return new cI(i,!0)}vl.c_=!1;class YT{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hb="PersistentStream";class KT{constructor(e,n,r,l,u,f,m,p){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new de(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lD extends KT{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?$s(f.readTime):Ae.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=tp(p)?{documents:gI(u,p)}:{query:yI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=VT(u,f.resumeToken);const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=_I(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.K_(n)}}class oD extends KT{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pI(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mI(this.serializer,r)))};this.K_(n)}}class uD{}class cD extends uD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,rp(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,rp(n,r),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hD(i,e,n,r){return new cD(i,e,n,r)}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class dD{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ba(this)&&(me(pa,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Iu(g),g.Va.set("Unknown"),g.Ea.delete(4),await mf(g)})(this))}))})),this.Va=new fD(r,l)}}async function mf(i){if(ba(i))for(const e of i.Ra)await e(!0)}async function Iu(i){for(const e of i.Ra)await e(!1)}function QT(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):jl(n).O_()&&Wp(n,e))}function Jp(i,e){const n=Ne(i),r=jl(n);n.Ia.delete(e),r.O_()&&XT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ba(n)&&n.Va.set("Unknown"))}function Wp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(i).Z_(e)}function XT(i,e){i.da.$e(e),jl(i).X_(e)}function Zp(i){i.da=new aI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jl(i).start(),i.Va.ua()}function eg(i){return ba(i)&&!jl(i).x_()&&i.Ia.size>0}function ba(i){return Ne(i).Ea.size===0}function JT(i){i.da=void 0}async function mD(i){i.Va.set("Online")}async function pD(i){i.Ia.forEach(((e,n)=>{Wp(i,e)}))}async function gD(i,e){JT(i),eg(i)?(i.Va.ha(e),Zp(i)):i.Va.set("Unknown")}async function yD(i,e,n){if(i.Va.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.da.removeTarget(m))})(i,e)}catch(r){me(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(i,r)}else if(e instanceof Ah?i.da.Xe(e):e instanceof MT?i.da.st(e):i.da.tt(e),!n.isEqual(Ae.min()))try{const r=await $T(i.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),XT(u,p);const T=new fr(E.target,p,g,E.sequenceNumber);Wp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){me(pa,"Failed to raise snapshot:",r),await Gh(i,r)}}async function Gh(i,e,n){if(!Vl(e))throw e;i.Ea.add(1),await Iu(i),i.Va.set("Offline"),n||(n=()=>$T(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await mf(i)}))}function WT(i,e){return e().catch((n=>Gh(i,n,e)))}async function pf(i){const e=Ne(i),n=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jp;for(;vD(e);)try{const l=await WI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,_D(e,l)}catch(l){await Gh(e,l)}ZT(e)&&eS(e)}function vD(i){return ba(i)&&i.Ta.length<10}function _D(i,e){i.Ta.push(e);const n=Sr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function ZT(i){return ba(i)&&!Sr(i).x_()&&i.Ta.length>0}function eS(i){Sr(i).start()}async function bD(i){Sr(i).ra()}async function ED(i){const e=Sr(i);for(const n of i.Ta)e.ea(n.mutations)}async function TD(i,e,n){const r=i.Ta.shift(),l=Fp.from(r,e,n);await WT(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await pf(i)}async function SD(i,e){e&&Sr(i).Y_&&await(async function(r,l){if((function(f){return sI(f)&&f!==ie.ABORTED})(l.code)){const u=r.Ta.shift();Sr(r).B_(),await WT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await pf(r)}})(i,e),ZT(i)&&eS(i)}async function fb(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),me(pa,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await Iu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function wD(i,e){const n=Ne(i);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await Iu(n),n.Va.set("Unknown"))}function jl(i){return i.ma||(i.ma=(function(n,r,l){const u=Ne(n);return u.sa(),new lD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:mD.bind(null,i),Yo:pD.bind(null,i),t_:gD.bind(null,i),J_:yD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),eg(i)?Zp(i):i.Va.set("Unknown")):(await i.ma.stop(),JT(i))}))),i.ma}function Sr(i){return i.fa||(i.fa=(function(n,r,l){const u=Ne(n);return u.sa(),new oD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bD.bind(null,i),t_:SD.bind(null,i),ta:ED.bind(null,i),na:TD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await pf(i)):(await i.fa.stop(),i.Ta.length>0&&(me(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class tg{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,m=new tg(e,n,f,l,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(i,e){if(xi("AsyncQueue",`${e}: ${i}`),Vl(i))return new de(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=$o(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class db{constructor(){this.ga=new Et(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Al{constructor(e,n,r,l,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Al(e,n,_l.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class xD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AD{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ne(n),u=l.queries;l.queries=mb(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function mb(){return new _a((i=>bT(i)),of)}async function tS(i,e){const n=Ne(i);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new xD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=ng(f,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function nS(i,e){const n=Ne(i),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RD(i,e){const n=Ne(i);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(l)&&(r=!0);f.wa=l}}r&&sg(n)}function ND(i,e,n){const r=Ne(i),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function sg(i){i.Ca.forEach((e=>{e.next()}))}var cp,pb;(pb=cp||(cp={})).Ma="default",pb.Cache="cache";class sS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class iS{constructor(e){this.key=e}}class rS{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=ET(e),this.tu=new _l(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new db,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,T)=>{const x=l.get(E),D=uf(this.query,T)?T:null,Q=!!x&&this.mutatedKeys.has(x.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;x&&D?x.data.isEqual(D.data)?Q!==q&&(r.track({type:3,doc:D}),L=!0):this.su(x,D)||(r.track({type:2,doc:D}),L=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!x&&D?(r.track({type:0,doc:D}),L=!0):x&&!D&&(r.track({type:1,doc:x}),L=!0,(p||g)&&(m=!0)),L&&(D?(f=f.add(D),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(D,Q){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:L})}};return q(D)-q(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),l=l??!1;const m=n&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,g=p!==this.Xa;return this.Xa=p,f.length!==0||g?{snapshot:new Al(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new db,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new rS(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new iS(r))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class ID{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DD{constructor(e){this.key=e,this.hu=!1}}class OD{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new _a((m=>bT(m)),of),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(be.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MD(i,e,n=!0){const r=hS(i);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await aS(r,e,n,!0),l}async function kD(i,e){const n=hS(i);await aS(n,e,!0,!1)}async function aS(i,e,n,r){const l=await ZI(i.localStore,Gs(e)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await VD(i,e,u,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&QT(i.remoteStore,l),m}async function VD(i,e,n,r,l){i.pu=(T,x,D)=>(async function(q,L,z,P){let K=L.view.ru(z);K.Ss&&(K=await lb(q.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,K))));const le=P&&P.targetChanges.get(L.targetId),oe=P&&P.targetMismatches.get(L.targetId)!=null,he=L.view.applyChanges(K,q.isPrimaryClient,le,oe);return yb(q,L.targetId,he.au),he.snapshot})(i,T,x,D);const u=await lb(i.localStore,e,!0),f=new CD(e,u.ks),m=f.ru(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),g=f.applyChanges(m,i.isPrimaryClient,p);yb(i,n,g.au);const E=new ID(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function jD(i,e,n){const r=Ne(i),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!of(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await op(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Jp(r.remoteStore,l.targetId),hp(r,l.targetId)})).catch(kl)):(hp(r,l.targetId),await op(r.localStore,l.targetId,!0))}async function LD(i,e){const n=Ne(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jp(n.remoteStore,r.targetId))}async function PD(i,e,n){const r=GD(i);try{const l=await(function(f,m){const p=Ne(f),g=mt.now(),E=m.reduce(((D,Q)=>D.add(Q.key)),Be());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let Q=Ai(),q=Be();return p.xs.getEntries(D,E).next((L=>{Q=L,Q.forEach(((z,P)=>{P.isValidDocument()||(q=q.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,Q))).next((L=>{T=L;const z=[];for(const P of m){const K=WC(P,T.get(P.key).overlayedDocument);K!=null&&z.push(new Ir(P.key,K,fT(K.value.mapValue),ps.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,z,m)})).next((L=>{x=L;const z=L.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(D,L.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:ST(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,m,p){let g=f.du[f.currentUser.toKey()];g||(g=new Et(ze)),g=g.insert(m,p),f.du[f.currentUser.toKey()]=g})(r,l.batchId,n),await Du(r,l.changes),await pf(r.remoteStore)}catch(l){const u=ng(l,"Failed to persist write");n.reject(u)}}async function lS(i,e){const n=Ne(i);try{const r=await XI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ze(f.hu,14607):l.removedDocuments.size>0&&(Ze(f.hu,42227),f.hu=!1))})),await Du(n,r,e)}catch(r){await kl(r)}}function gb(i,e,n){const r=Ne(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const x of T.ba)x.va(m)&&(g=!0)})),g&&sg(p)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UD(i,e,n){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new Et(be.comparator);f=f.insert(u,cn.newNoDocument(u,Ae.min()));const m=Be().add(u),p=new ff(Ae.min(),new Map,new Et(ze),f,m);await lS(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(e),rg(r)}else await op(r.localStore,e,!1).then((()=>hp(r,e,n))).catch(kl)}async function zD(i,e){const n=Ne(i),r=e.batch.batchId;try{const l=await QI(n.localStore,e);uS(n,r,null),oS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,l)}catch(l){await kl(l)}}async function BD(i,e,n){const r=Ne(i);try{const l=await(function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ze(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);uS(r,e,n),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,l)}catch(l){await kl(l)}}function oS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function uS(i,e,n){const r=Ne(i);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function hp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||cS(i,r)}))}function cS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Jp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),rg(i))}function yb(i,e,n){for(const r of n)r instanceof iS?(i.Vu.addReference(r.key,e),qD(i,r)):r instanceof rS?(me(ig,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||cS(i,r.key)):we(19791,{wu:r})}function qD(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(me(ig,"New document in limbo: "+n),i.Eu.add(r),rg(i))}function rg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(ct.fromString(e)),r=i.fu.next();i.Au.set(r,new DD(n)),i.Ru=i.Ru.insert(n,r),QT(i.remoteStore,new fr(Gs(Bp(n.path)),r,"TargetPurposeLimboResolution",rf.ce))}}async function Du(i,e,n){const r=Ne(i),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){l.push(g);const E=Qp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(l),await(async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(x=>re.forEach(x.Ts,(D=>E.persistence.referenceDelegate.addReference(T,x.targetId,D))).next((()=>re.forEach(x.Is,(D=>E.persistence.referenceDelegate.removeReference(T,x.targetId,D)))))))))}catch(T){if(!Vl(T))throw T;me(Xp,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const D=E.vs.get(x),Q=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(x,q)}}})(r.localStore,u))}async function HD(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){me(ig,"User change. New user:",e.toKey());const r=await GT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.Ns)}}function FD(i,e){const n=Ne(i),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function hS(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.Pu.J_=RD.bind(null,e.eventManager),e.Pu.yu=ND.bind(null,e.eventManager),e}function GD(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KI(this.persistence,new GI,e.initialUser,this.serializer)}Cu(e){return new FT(Kp.Vi,this.serializer)}Du(e){return new tD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class $D extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new II(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new FT((r=>Fh.Vi(r,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await wD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AD})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=aD(e.databaseInfo);return hD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,m){return new dD(r,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gb(this.syncEngine,n,0)),(function(){return cb.v()?new cb:new nD})())}createSyncEngine(e,n){return(function(l,u,f,m,p,g,E){const T=new OD(l,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);me(pa,"RemoteStore shutting down."),r.Ea.add(5),await Iu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class fS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wr="FirestoreClient";class YD{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{me(wr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(me(wr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lm(i,e){i.asyncQueue.verifyOperationInProgress(),me(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await GT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function vb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await KD(i);me(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>fb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>fb(e.remoteStore,l))),i._onlineComponents=e}async function KD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(wr,"Using user provided OfflineComponentProvider");try{await Lm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ie.FAILED_PRECONDITION||l.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await Lm(i,new $h)}}else me(wr,"Using default OfflineComponentProvider"),await Lm(i,new $D(void 0));return i._offlineComponents}async function dS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(wr,"Using user provided OnlineComponentProvider"),await vb(i,i._uninitializedComponentsProvider._online)):(me(wr,"Using default OnlineComponentProvider"),await vb(i,new fp))),i._onlineComponents}function QD(i){return dS(i).then((e=>e.syncEngine))}async function dp(i){const e=await dS(i),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=jD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,e.syncEngine),n}function XD(i,e,n,r){const l=new fS(r),u=new sS(e,l,n);return i.asyncQueue.enqueueAndForget((async()=>tS(await dp(i),u))),()=>{l.Nu(),i.asyncQueue.enqueueAndForget((async()=>nS(await dp(i),u)))}}function JD(i,e,n={}){const r=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new fS({next:x=>{E.Nu(),f.enqueueAndForget((()=>nS(u,T))),x.fromCache&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new sS(m,E,{includeMetadataChanges:!0,Ka:!0});return tS(u,T)})(await dp(i),i.asyncQueue,e,n,r))),r.promise}function WD(i,e){const n=new yr;return i.asyncQueue.enqueueAndForget((async()=>PD(await QD(i),e,n))),n.promise}function mS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const ZD="ComponentProvider",_b=new Map;function e4(i,e,n,r,l){return new bC(i,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,mS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const pS="firestore.googleapis.com",bb=!0;class Eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=bb}else this.host=e.host,this.ssl=e.ssl??bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZN;switch(r.type){case"firstParty":return new sC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_b.get(n);r&&(me(ZD,"Removing Datastore"),_b.delete(n),r.terminate())})(this),Promise.resolve()}}function t4(i,e,n,r={}){i=Fs(i,gf);const l=Il(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;l&&(rE(`https://${m}`),aE("Firestore",!0)),u.host!==pS&&u.host!==m&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:r};if(!ca(p,f)&&(i._setSettings(p),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=un.MOCK_USER;else{g=oA(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(T)}i._authCredentials=new eC(new eT(g,E))}}class Ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Au(n,Bt._jsonSchema))return new Bt(e,r||null,new be(ct.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class vr extends Ea{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new be(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Ht(i,e,...n){if(i=Gt(i),tT("collection","path",e),i instanceof gf){const r=ct.fromString(e,...n);return k_(r),new vr(i,null,r)}{if(!(i instanceof Bt||i instanceof vr))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...n));return k_(r),new vr(i.firestore,null,r)}}function ms(i,e,...n){if(i=Gt(i),arguments.length===1&&(e=Vp.newId()),tT("doc","path",e),i instanceof gf){const r=ct.fromString(e,...n);return M_(r),new Bt(i,null,new be(r))}{if(!(i instanceof Bt||i instanceof vr))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...n));return M_(r),new Bt(i.firestore,i instanceof vr?i.converter:null,new be(r))}}const Tb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YT(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&me(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;me(Tb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=tg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ga extends gf{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Sb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function n4(i,e){const n=typeof i=="object"?i:cE(),r=typeof i=="string"?i:Ph,l=xp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=aA("firestore");u&&t4(l,...u)}return l}function ag(i){if(i._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||s4(i),i._firestoreClient}function s4(i){const e=i._freezeSettings(),n=e4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new YD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:zt("string",Wn._jsonSchemaVersion),bytes:zt("string")};class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yf{constructor(e){this._methodName=e}}class Ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:zt("string",Ys._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class gs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gs(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:zt("string",gs._jsonSchemaVersion),vectorValues:zt("object")};const i4=/^__.*__$/;class r4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class gS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:i})}}class og{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yS(this.dataSource)&&i4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class a4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}createContext(e,n,r,l=!1){return new og({dataSource:e,methodName:n,targetDoc:r,path:sn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(i){const e=i._freezeSettings(),n=df(i._databaseId);return new a4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function l4(i,e,n,r,l,u={}){const f=i.createContext(u.merge||u.mergeFields?2:0,e,n,l);hg("Data must be an object, but it was:",f,r);const m=vS(r,f);let p,g;if(u.merge)p=new Vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const x=Rl(e,T,n);if(!f.contains(x))throw new de(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ES(E,x)||E.push(x)}p=new Vn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new r4(new wn(m),p,g)}class vf extends yf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}class cg extends yf{_toFieldTransform(e){return new KC(e.path,new cu)}isEqual(e){return e instanceof cg}}function o4(i,e,n,r){const l=i.createContext(1,e,n);hg("Data must be an object, but it was:",l,r);const u=[],f=wn.empty();Cr(r,((p,g)=>{const E=bS(e,p,n);g=Gt(g);const T=l.childContextForFieldPath(E);if(g instanceof vf)u.push(E);else{const x=Ou(g,T);x!=null&&(u.push(E),f.set(E,x))}}));const m=new Vn(u);return new gS(f,m,l.fieldTransforms)}function u4(i,e,n,r,l,u){const f=i.createContext(1,e,n),m=[Rl(e,r,n)],p=[l];if(u.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Rl(e,u[x])),p.push(u[x+1]);const g=[],E=wn.empty();for(let x=m.length-1;x>=0;--x)if(!ES(g,m[x])){const D=m[x];let Q=p[x];Q=Gt(Q);const q=f.childContextForFieldPath(D);if(Q instanceof vf)g.push(D);else{const L=Ou(Q,q);L!=null&&(g.push(D),E.set(D,L))}}const T=new Vn(g);return new gS(E,T,f.fieldTransforms)}function c4(i,e,n,r=!1){return Ou(n,i.createContext(r?4:3,e))}function Ou(i,e){if(_S(i=Gt(i)))return hg("Unsupported field value:",e,i),vS(i,e);if(i instanceof yf)return(function(r,l){if(!yS(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const m of r){let p=Ou(m,l.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(r,l){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:Hh(l.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(l.serializer,u)}}if(r instanceof Ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:VT(l.serializer,r._byteString)};if(r instanceof Bt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof gs)return(function(f,m){const p=f instanceof gs?f.toArray():f;return{mapValue:{fields:{[cT]:{stringValue:hT},[Uh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return qp(m.serializer,E)}))}}}}}})(r,l);if(qT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${sf(r)}`)})(i,e)}function vS(i,e){const n={};return iT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(i,((r,l)=>{const u=Ou(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function _S(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Ys||i instanceof Wn||i instanceof Bt||i instanceof yf||i instanceof gs||qT(i))}function hg(i,e,n){if(!_S(n)||!nT(n)){const r=sf(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Rl(i,e,n){if((e=Gt(e))instanceof lg)return e._internalPath;if(typeof e=="string")return bS(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const h4=new RegExp("[~\\*/\\[\\]]");function bS(i,e,n){if(e.search(h4)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new de(ie.INVALID_ARGUMENT,m+i+p)}function ES(i,e){return i.some((n=>n.isEqual(e)))}class f4{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new gs(n)}convertGeoPoint(e){return new Ys(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=br(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Ze(BT(r),9688,{name:e});const l=new ou(r.get(1),r.get(3)),u=new be(r.popFirst(5));return l.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class fg extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function dg(){return new cg("serverTimestamp")}const xb="@firebase/firestore",Ab="4.10.0";function Rb(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class TS{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Rl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d4 extends TS{data(){return super.data()}}function SS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class m4 extends mg{}function du(i,e,...n){let r=[];e instanceof mg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof pg)).length,m=u.filter((p=>p instanceof _f)).length;if(f>1||f>0&&m>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class _f extends m4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return wS(e._query,n),new Ea(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,f,m,p,g,E,T){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Cb(T,E);const Q=[];for(const q of T)Q.push(Nb(p,u,q));x={arrayValue:{values:Q}}}else x=Nb(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Cb(T,E),x=c4(m,f,T,E==="in"||E==="not-in");return Ut.create(g,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mu(i,e,n){const r=e,l=Rl("where",i);return _f._create(l,r,n)}class pg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)wS(f,p),f=np(f,p)})(e._query,n),new Ea(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Nb(i,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_T(e)&&n.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!be.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q_(i,new be(r))}if(n instanceof Bt)return q_(i,n._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function Cb(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(i,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function p4(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends TS{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:zt("string",oa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Rh extends oa{data(e={}){return super.data(e)}}class ua{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ko(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rh(this._firestore,this._userDataWriter,r.key,r,new Ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const p=new Rh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:g4(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:zt("string",ua._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function pu(i){i=Fs(i,Ea);const e=Fs(i.firestore,ga),n=ag(e),r=new fg(e);return SS(i._query),JD(n,i._query).then((l=>new ua(e,r,i,l)))}function xr(i,e,n,...r){i=Fs(i,Bt);const l=Fs(i.firestore,ga),u=ug(l);let f;return f=typeof(e=Gt(e))=="string"||e instanceof lg?u4(u,"updateDoc",i._key,e,n,r):o4(u,"updateDoc",i._key,e),gg(l,[f.toMutation(i._key,ps.exists(!0))])}function Ib(i){return gg(Fs(i.firestore,ga),[new Hp(i._key,ps.none())])}function Mu(i,e){const n=Fs(i.firestore,ga),r=ms(i),l=p4(i.converter,e),u=ug(i.firestore);return gg(n,[l4(u,"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then((()=>r))}function vi(i,...e){i=Gt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Rb(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Rb(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,f,m;if(i instanceof Bt)f=Fs(i.firestore,ga),m=Bp(i._key.path),u={next:g=>{e[r]&&e[r](y4(f,i,g))},error:e[r+1],complete:e[r+2]};else{const g=Fs(i,Ea);f=Fs(g.firestore,ga),m=g._query;const E=new fg(f);u={next:T=>{e[r]&&e[r](new ua(f,E,g,T))},error:e[r+1],complete:e[r+2]},SS(i._query)}const p=ag(f);return XD(p,m,l,u)}function gg(i,e){const n=ag(i);return WD(n,e)}function y4(i,e,n){const r=n.docs.get(e._key),l=new fg(i);return new oa(i,l,e._key,r,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){WN(Dl),bl(new ha("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new ga(new tC(r.getProvider("auth-internal")),new iC(f,r.getProvider("app-check-internal")),EC(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),pr(xb,Ab,e),pr(xb,Ab,"esm2020")})();const v4={apiKey:"AIzaSyC1qZ9fK-6LFBxVWZsAD4dZq-KVg36A7f8",authDomain:"scheduler-65e51.firebaseapp.com",projectId:"scheduler-65e51",storageBucket:"scheduler-65e51.firebasestorage.app",messagingSenderId:"93993791456",appId:"1:93993791456:web:3a777a2da0dad4b8b74585"},xS=uE(v4),st=n4(xS),gu=KN(xS);const AS=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const _4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const b4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Db=i=>{const e=b4(i);return e.charAt(0).toUpperCase()+e.slice(1)};var E4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const S4=j.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...m},p)=>j.createElement("svg",{ref:p,...E4,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:AS("lucide",l),...!u&&!T4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>j.createElement(g,E)),...Array.isArray(u)?u:[u]]));const vt=(i,e)=>{const n=j.forwardRef(({className:r,...l},u)=>j.createElement(S4,{ref:u,iconNode:e,className:AS(`lucide-${_4(Db(i))}`,`lucide-${i}`,r),...l}));return n.displayName=Db(i),n};const w4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kh=vt("arrow-left",w4);const x4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RS=vt("calendar",x4);const A4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NS=vt("check",A4);const R4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CS=vt("chevron-left",R4);const N4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IS=vt("chevron-right",N4);const C4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I4=vt("circle-check-big",C4);const D4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ei=vt("clock",D4);const O4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],M4=vt("coffee",O4);const k4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V4=vt("eye",k4);const j4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DS=vt("lock",j4);const L4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P4=vt("log-out",L4);const U4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],z4=vt("mail",U4);const B4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OS=vt("pen-line",B4);const q4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],H4=vt("phone",q4);const F4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yg=vt("plus",F4);const G4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$4=vt("refresh-cw",G4);const Y4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K4=vt("save",Y4);const Q4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X4=vt("shield",Q4);const J4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tu=vt("tag",J4);const W4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qh=vt("trash-2",W4);const Z4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eO=vt("user-plus",Z4);const tO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nO=vt("user",tO);const sO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kn=vt("users",sO);const iO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xh=vt("x",iO);function rO(){return v.jsx("div",{className:"min-h-[80vh] flex flex-col items-center justify-center",children:v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 max-w-3xl w-full text-center",children:[v.jsxs("div",{className:"mb-10",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-6 shadow-lg shadow-blue-500/30",children:v.jsx(RS,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4 tracking-tight",children:"Scheduling made simple for beauty professionals"}),v.jsx("p",{className:"text-lg text-slate-600 max-w-xl mx-auto",children:"Let your clients book appointments online. Manage your availability, track bookings, and grow your business  all in one place."})]}),v.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:v.jsx(Ks,{to:"/register",className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 text-lg",children:"Get Started  It's Free"})}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-left",children:[v.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[v.jsx(Ei,{className:"w-8 h-8 text-blue-500 mb-3"}),v.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Easy Scheduling"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Set your hours, generate time slots, and let clients book instantly."})]}),v.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[v.jsx(kn,{className:"w-8 h-8 text-blue-500 mb-3"}),v.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Your Own Booking Page"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Get a unique link to share with clients. No app downloads required."})]}),v.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-100",children:[v.jsx(X4,{className:"w-8 h-8 text-blue-500 mb-3"}),v.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"Secure Dashboard"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Manage bookings, cancel appointments, and control your schedule."})]})]})]})})}function aO(i){return i.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function lO(){const i=vu(),[e,n]=j.useState(""),[r,l]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,E]=j.useState(!1),T=aO(e),x=async D=>{if(D.preventDefault(),p(""),!T){p("Please enter a valid shop name");return}if(u.length<6){p("Password must be at least 6 characters");return}E(!0);try{const Q=du(Ht(st,"shops"),mu("slug","==",T));if(!(await pu(Q)).empty){p("A shop with that name already exists. Please choose a different name."),E(!1);return}const z=(await OR(gu,r,u)).user;await Mu(Ht(st,"shops"),{name:e.trim(),slug:T,ownerUid:z.uid,ownerEmail:r,createdAt:dg()}),i(`/shop/${T}/dashboard`)}catch(Q){switch(Q.code){case"auth/email-already-in-use":p("An account with this email already exists");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/weak-password":p("Password must be at least 6 characters");break;default:p("Registration failed. Please try again.")}}finally{E(!1)}};return v.jsx("div",{className:"max-w-md mx-auto mt-20",children:v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:v.jsx(eO,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Create Your Shop"}),v.jsx("p",{className:"text-slate-600",children:"Set up your booking page in seconds"})]}),v.jsxs("form",{onSubmit:x,className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Shop Name"}),v.jsx("input",{type:"text",value:e,onChange:D=>{n(D.target.value),p("")},placeholder:"Jane's Salon",required:!0,autoFocus:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),T&&v.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Your booking page: ",v.jsxs("span",{className:"font-mono text-blue-600",children:["/shop/",T]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",value:r,onChange:D=>{l(D.target.value),p("")},placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),v.jsx("input",{type:"password",value:u,onChange:D=>{f(D.target.value),p("")},placeholder:"At least 6 characters",required:!0,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),m&&v.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[v.jsx("span",{children:""})," ",m]})]}),v.jsx("button",{type:"submit",disabled:g,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Creating your shop":"Create Shop"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(Ks,{to:"/",className:"inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900 font-medium transition-colors",children:[v.jsx(Kh,{className:"w-4 h-4"}),"Back to home"]})})]})})}function oO({availableDates:i,selectedDate:e,onSelectDate:n}){const[r,l]=j.useState(new Date),u=z=>{const P=z.getFullYear(),K=z.getMonth(),le=new Date(P,K,1),he=new Date(P,K+1,0).getDate(),R=le.getDay();return{daysInMonth:he,startingDayOfWeek:R,year:P,month:K}},{daysInMonth:f,startingDayOfWeek:m,year:p,month:g}=u(r),E=()=>{l(new Date(r.getFullYear(),r.getMonth()-1))},T=()=>{l(new Date(r.getFullYear(),r.getMonth()+1))},x=z=>{const P=`${p}-${String(g+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;return i.includes(P)},D=z=>`${p}-${String(g+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`===e,Q=z=>{if(x(z)){const P=`${p}-${String(g+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`;n(P)}},q=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return v.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[v.jsxs("div",{className:"flex justify-between items-center mb-5",children:[v.jsx("button",{onClick:E,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(CS,{className:"w-5 h-5 text-slate-600"})}),v.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[q[g]," ",p]}),v.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(IS,{className:"w-5 h-5 text-slate-600"})})]}),v.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:L.map(z=>v.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:z},z))}),v.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:m}).map((z,P)=>v.jsx("div",{},`empty-${P}`)),Array.from({length:f}).map((z,P)=>{const K=P+1,le=x(K),oe=D(K),he=new Date,R=he.getDate()===K&&he.getMonth()===g&&he.getFullYear()===p;return v.jsx("button",{onClick:()=>Q(K),disabled:!le,className:`
                p-3 text-center rounded-lg text-sm font-semibold transition-all
                ${oe?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30 scale-105":le?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 hover:scale-105 cursor-pointer":R?"bg-slate-100 text-slate-900 border border-slate-200":"text-slate-300 cursor-not-allowed"}
              `,children:K},K)})]}),v.jsx("div",{className:"mt-5 p-3 bg-slate-50 rounded-lg",children:v.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),v.jsx("span",{children:"Available"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded"}),v.jsx("span",{children:"Selected"})]})]})})]})}const uO=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function ml(i){const[e,n]=i.split(":").map(Number);return e*60+n}function Ob(i){const e=Math.floor(i/60),n=i%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function cO(i){const e=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),r=String(i.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function hO(i,e,n,r,l,u){if(!i)return[];const m=new Date(e+"T12:00:00").getDay(),p=uO[m],g=i[p];if(!g||!g.enabled)return[];const E=ml(g.start),T=ml(g.end),x=g.break?ml(g.break.start):null,D=g.break?ml(g.break.end):null,Q=n+r,q=[];let L=E;for(;L+n<=T;){const z=L+n;if(x!==null&&D!==null&&L<D&&z>x){L=D;continue}q.push({id:`wh-${l}-${e}-${Ob(L)}`,date:e,time:Ob(L),duration:n,available:!0,staffId:l,staffName:u,generated:!0}),L+=Q}return q}function fO(i,e,n=0,r=4){const l=[],u=new Date;u.setHours(0,0,0,0);const f=new Date(u);f.setDate(f.getDate()+r*7);for(const m of i){if(!m.weeklyHours)continue;const p=new Date(u);for(;p<f;){const g=cO(p),E=hO(m.weeklyHours,g,e,n,m.id,m.name);l.push(...E),p.setDate(p.getDate()+1)}}return l}function dO(i,e,n=0){return i.filter(r=>{const l=ml(r.time),u=l+r.duration;return!e.some(m=>{if(r.staffId&&m.staffId&&m.staffId!==r.staffId||m.date!==r.date)return!1;const p=ml(m.time),g=m.serviceDuration||m.duration||r.duration,E=p+g;return!(u+n<=p||E+n<=l)})})}function mO(i,e){const n=new Set(e.map(l=>`${l.staffId||""}-${l.date}-${l.time}`)),r=i.filter(l=>{const u=`${l.staffId||""}-${l.date}-${l.time}`;return!n.has(u)});return[...e,...r]}function pO(){const{slug:i}=vp(),[e,n]=j.useState(null),[r,l]=j.useState(null),[u,f]=j.useState(!0),[m,p]=j.useState(!1),[g,E]=j.useState([]),[T,x]=j.useState([]),[D,Q]=j.useState(null),[q,L]=j.useState(null),[z,P]=j.useState([]),[K,le]=j.useState([]),[oe,he]=j.useState(!1),[R,A]=j.useState(null),[N,M]=j.useState(null),[O,U]=j.useState(""),[C,Ke]=j.useState(!1),[Ye,J]=j.useState({name:"",email:"",phone:""});j.useEffect(()=>{(async()=>{f(!0),p(!1);try{const xe=du(Ht(st,"shops"),mu("slug","==",i)),je=await pu(xe);if(je.empty)p(!0);else{const Fe=je.docs[0];n(Fe.data()),l(Fe.id)}}catch(xe){console.error("Error looking up shop:",xe),p(!0)}finally{f(!1)}})()},[i]),j.useEffect(()=>{if(!r)return;const fe=vi(Ht(st,"shops",r,"services"),Tt=>{const ut=Tt.docs.map(bt=>({id:bt.id,...bt.data()})).filter(bt=>bt.active!==!1).sort((bt,ht)=>(bt.name||"").localeCompare(ht.name||""));E(ut)}),xe=vi(Ht(st,"shops",r,"availability"),Tt=>{const ut=new Date,bt=Tt.docs.map(ht=>({id:ht.id,...ht.data()})).filter(ht=>new Date(`${ht.date}T${ht.time}`)>ut);P(bt)}),je=vi(Ht(st,"shops",r,"bookings"),Tt=>{const ut=Tt.docs.map(bt=>({id:bt.id,...bt.data()}));le(ut)}),Fe=vi(Ht(st,"shops",r,"staff"),Tt=>{const ut=Tt.docs.map(bt=>({id:bt.id,...bt.data()})).filter(bt=>bt.active!==!1).sort((bt,ht)=>(bt.name||"").localeCompare(ht.name||""));x(ut)});return()=>{fe(),xe(),je(),Fe()}},[r]),j.useEffect(()=>{T.length===1?L(T[0]):T.length===0&&L(null)},[T]);const ae=g.length>0;T.length>0;const ye=T.length>1,Ce=e?.bufferMinutes||0,qe=j.useMemo(()=>{const fe=new Date;let xe=z.filter(ut=>ut.available);if(D&&(xe=xe.filter(ut=>ut.duration>=D.duration)),q&&q!=="any"&&(xe=xe.filter(ut=>ut.staffId===q.id||!ut.staffId)),!D)return xe;const je=q&&q!=="any"?T.filter(ut=>ut.id===q.id):T,Fe=fO(je,D.duration,Ce,4).filter(ut=>new Date(`${ut.date}T${ut.time}`)>fe),Tt=mO(Fe,xe);return dO(Tt,K,Ce)},[z,D,q,T,K,Ce]),k=fe=>{Q(fe),T.length>1&&L(null),M(null),A(null),he(!1),U("")},ee=fe=>{L(fe),M(null),A(null),he(!1),U("")},H=()=>{Q(null),T.length>1&&L(null),M(null),A(null),he(!1)},ne=()=>{M(null),A(null),he(!1),ye?L(null):ae&&Q(null)},ce=fe=>{A(fe),he(!0),U("")},pe=async fe=>{fe.preventDefault(),Ke(!0);try{const xe={slotId:R.id,date:R.date,time:R.time,duration:D?D.duration:R.duration,clientName:Ye.name,clientEmail:Ye.email,clientPhone:Ye.phone,bookedAt:new Date().toISOString()};D&&(xe.serviceId=D.id,xe.serviceName=D.name,xe.servicePrice=D.price,xe.serviceDuration=D.duration),q&&q!=="any"?(xe.staffId=q.id,xe.staffName=q.name):R.staffId&&(xe.staffId=R.staffId,xe.staffName=R.staffName||""),await Mu(Ht(st,"shops",r,"bookings"),xe),R.generated||await xr(ms(st,"shops",r,"availability",R.id),{available:!1}),J({name:"",email:"",phone:""}),he(!1),A(null),Q(null),M(null),L(T.length===1?T[0]:null),U(" Booking confirmed! You will receive a confirmation email shortly.")}catch(xe){console.error("Booking error:",xe),U(" Something went wrong. Please try again.")}finally{Ke(!1)}},Te=fe=>{const xe=new Date(fe);return`${xe.getMonth()+1}/${xe.getDate()}/${xe.getFullYear().toString().slice(-2)}`},Oe=fe=>{const[xe,je]=fe.split(":"),Fe=parseInt(xe),Tt=Fe>=12?"PM":"AM";return`${Fe%12||12}:${je} ${Tt}`},He=fe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(fe),an=fe=>{if(fe<60)return`${fe} min`;const xe=Math.floor(fe/60),je=fe%60;return je?`${xe}h ${je}m`:`${xe} hour${xe>1?"s":""}`};if(u)return v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})});if(m)return v.jsx("div",{className:"max-w-md mx-auto mt-20",children:v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 text-center",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Shop Not Found"}),v.jsxs("p",{className:"text-slate-600 mb-6",children:[`We couldn't find a shop with the URL "`,v.jsx("span",{className:"font-mono text-blue-600",children:i}),'".']}),v.jsx(Ks,{to:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all",children:"Go Home"})]})});const es=[...new Set(qe.map(fe=>fe.date))].sort(),Ln=N?qe.filter(fe=>fe.date===N):qe,_t=oe?"form":ae&&!D?"services":ye&&!q?"staff":"calendar",fn=[];ae&&fn.push({key:"services",label:"Service"}),ye&&fn.push({key:"staff",label:"Staff"}),fn.push({key:"calendar",label:"Date & Time"}),fn.push({key:"form",label:"Book"});const pn=fn.findIndex(fe=>fe.key===_t);return v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2 tracking-tight",children:e.name}),v.jsxs("p",{className:"text-slate-600 text-base",children:[_t==="services"&&"Choose a service to get started",_t==="staff"&&"Choose your preferred stylist",_t==="calendar"&&"Pick a date and time for your appointment",_t==="form"&&"Complete your booking details"]})]}),v.jsxs(Ks,{to:`/shop/${i}/login`,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[v.jsx(DS,{className:"w-4 h-4"}),"Owner Login"]})]}),fn.length>1&&v.jsx("div",{className:"flex items-center gap-3 mb-8 flex-wrap",children:fn.map((fe,xe)=>{const je=fe.key===_t,Fe=xe<pn;return v.jsxs(j.Fragment,{children:[xe>0&&v.jsx("div",{className:"w-6 h-px bg-slate-300"}),v.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${je?"bg-blue-100 text-blue-700 border border-blue-200":Fe?"bg-green-50 text-green-700 border border-green-200":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[v.jsx("span",{className:"w-6 h-6 rounded-full bg-current/10 flex items-center justify-center text-xs font-bold",children:xe+1}),fe.label]})]},fe.key)})}),O&&v.jsxs("div",{className:`mb-6 p-5 rounded-xl flex items-center gap-3 ${O.startsWith("")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[O.startsWith("")&&v.jsx(I4,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),v.jsx("span",{className:"font-medium",children:O})]}),_t==="services"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Our Services"})}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:g.map(fe=>v.jsxs("button",{onClick:()=>k(fe),className:"group text-left bg-white border-2 border-slate-200 hover:border-blue-500 rounded-2xl p-6 transition-all hover:shadow-xl hover:shadow-blue-500/10 hover:-translate-y-1",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:fe.name}),v.jsx("span",{className:"text-2xl font-extrabold text-blue-600 whitespace-nowrap ml-3",children:He(fe.price)})]}),fe.description&&v.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:fe.description}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-5",children:[v.jsx(Ei,{className:"w-4 h-4"}),v.jsx("span",{children:an(fe.duration)})]}),v.jsx("div",{className:"w-full px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-xl font-semibold text-sm text-center transition-all shadow-md shadow-blue-500/20 group-hover:shadow-lg group-hover:shadow-blue-500/30",children:"Select & Book "})]},fe.id))})]}),_t==="staff"&&v.jsxs(v.Fragment,{children:[ae&&D&&v.jsxs("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:[v.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200 text-sm",children:[v.jsx(Kh,{className:"w-4 h-4"}),"Back to Services"]}),v.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-blue-50 border border-blue-200 rounded-xl",children:[v.jsx(tu,{className:"w-4 h-4 text-blue-500"}),v.jsx("span",{className:"font-semibold text-slate-800",children:D.name}),v.jsx("span",{className:"text-blue-600 font-bold",children:He(D.price)}),v.jsxs("span",{className:"text-slate-400 text-sm",children:[" ",an(D.duration)]})]})]}),v.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Choose Your Stylist"})}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[v.jsxs("button",{onClick:()=>ee("any"),className:"group text-left bg-white border-2 border-slate-200 hover:border-blue-500 rounded-2xl p-6 transition-all hover:shadow-xl hover:shadow-blue-500/10 hover:-translate-y-1",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(kn,{className:"w-6 h-6 text-slate-500"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Any Available"}),v.jsx("p",{className:"text-sm text-slate-500",children:"First available staff member"})]})]}),v.jsx("div",{className:"w-full px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-xl font-semibold text-sm text-center transition-all shadow-md shadow-blue-500/20 group-hover:shadow-lg group-hover:shadow-blue-500/30",children:"Select "})]}),T.map(fe=>v.jsxs("button",{onClick:()=>ee(fe),className:"group text-left bg-white border-2 border-slate-200 hover:border-blue-500 rounded-2xl p-6 transition-all hover:shadow-xl hover:shadow-blue-500/10 hover:-translate-y-1",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:fe.name}),fe.role&&v.jsx("p",{className:"text-sm text-slate-500",children:fe.role})]})]}),v.jsx("div",{className:"w-full px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-xl font-semibold text-sm text-center transition-all shadow-md shadow-blue-500/20 group-hover:shadow-lg group-hover:shadow-blue-500/30",children:"Select "})]},fe.id))]})]}),_t==="calendar"&&v.jsxs(v.Fragment,{children:[(ae||ye)&&v.jsxs("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:[v.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200 text-sm",children:[v.jsx(Kh,{className:"w-4 h-4"}),ye?"Back to Staff":"Back to Services"]}),D&&v.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-blue-50 border border-blue-200 rounded-xl",children:[v.jsx(tu,{className:"w-4 h-4 text-blue-500"}),v.jsx("span",{className:"font-semibold text-slate-800",children:D.name}),v.jsx("span",{className:"text-blue-600 font-bold",children:He(D.price)}),v.jsxs("span",{className:"text-slate-400 text-sm",children:[" ",an(D.duration)]})]}),q&&q!=="any"&&v.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-purple-50 border border-purple-200 rounded-xl",children:[v.jsx(kn,{className:"w-4 h-4 text-purple-500"}),v.jsx("span",{className:"font-semibold text-slate-800",children:q.name}),q.role&&v.jsxs("span",{className:"text-slate-400 text-sm",children:[" ",q.role]})]}),q==="any"&&v.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl",children:[v.jsx(kn,{className:"w-4 h-4 text-slate-500"}),v.jsx("span",{className:"font-semibold text-slate-800",children:"Any Available"})]})]}),es.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"No available slots at the moment"}),v.jsx("p",{className:"text-slate-600",children:D?`No time slots available for ${D.name} (${an(D.duration)}). Check back soon!`:"Check back soon for new availability!"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Select a Date"}),v.jsx(oO,{availableDates:es,selectedDate:N,onSelectDate:M})]}),N&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:v.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Available Times for ",Te(N),v.jsxs("span",{className:"ml-2 text-slate-500 font-normal",children:["(",Ln.length," slots)"]})]})}),Ln.length===0?v.jsx("div",{className:"text-center py-16",children:v.jsx("p",{className:"text-slate-600",children:"No slots available for this date"})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ln.sort((fe,xe)=>fe.time.localeCompare(xe.time)).map(fe=>v.jsxs("button",{onClick:()=>ce(fe),className:"group bg-white border-2 border-slate-200 hover:border-blue-500 rounded-xl p-5 transition-all hover:shadow-lg hover:shadow-blue-500/10 hover:-translate-y-1",children:[v.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-2",children:[v.jsx(Ei,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),v.jsx("span",{className:"text-2xl font-bold text-slate-900",children:Oe(fe.time)})]}),fe.staffName&&q==="any"&&v.jsxs("div",{className:"text-sm text-purple-600 mb-1 text-center flex items-center justify-center gap-1",children:[v.jsx(kn,{className:"w-3.5 h-3.5"}),fe.staffName]}),v.jsx("div",{className:"text-sm text-slate-600 mb-4 text-center",children:D?an(D.duration):`${fe.duration} minutes`}),v.jsx("div",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 text-white rounded-lg font-medium text-sm transition-all text-center",children:"Book Now "})]},fe.id))})]}),!N&&v.jsx("div",{className:"text-center py-12 text-slate-600 text-base",children:" Select a date from the calendar above to see available time slots"})]})]}),_t==="form"&&v.jsxs("div",{className:"max-w-xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Complete Your Booking"}),v.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 rounded-lg mb-6",children:[D&&v.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-blue-200",children:[v.jsx(tu,{className:"w-5 h-5 text-blue-600"}),v.jsx("strong",{className:"text-lg text-slate-900",children:D.name}),v.jsx("span",{className:"text-blue-600 font-bold text-lg ml-auto",children:He(D.price)})]}),q&&q!=="any"&&v.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-blue-200",children:[v.jsx(kn,{className:"w-5 h-5 text-purple-600"}),v.jsx("strong",{className:"text-lg text-slate-900",children:q.name}),q.role&&v.jsx("span",{className:"text-slate-500 text-sm",children:q.role})]}),q==="any"&&R?.staffName&&v.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-blue-200",children:[v.jsx(kn,{className:"w-5 h-5 text-purple-600"}),v.jsx("strong",{className:"text-lg text-slate-900",children:R.staffName})]}),v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(RS,{className:"w-5 h-5 text-blue-600"}),v.jsxs("strong",{className:"text-lg text-slate-900",children:[Te(R.date)," at ",Oe(R.time)]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-slate-600 ml-8",children:[v.jsx(Ei,{className:"w-4 h-4"}),v.jsx("span",{children:D?an(D.duration):`${R.duration}min`})]})]}),v.jsxs("form",{onSubmit:pe,className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),v.jsx("input",{type:"text",value:Ye.name,onChange:fe=>J({...Ye,name:fe.target.value}),required:!0,placeholder:"John Doe",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",value:Ye.email,onChange:fe=>J({...Ye,email:fe.target.value}),required:!0,placeholder:"john@example.com",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),v.jsx("input",{type:"tel",value:Ye.phone,onChange:fe=>J({...Ye,phone:fe.target.value}),required:!0,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Booking":"Confirm Booking"}),v.jsx("button",{type:"button",onClick:()=>{he(!1),A(null)},className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:"Back"})]})]})]})]})}function gO({slotsByDate:i,bookingsByDate:e,selectedDate:n,onSelectDate:r,recurringDayFlags:l={}}){const[u,f]=j.useState(new Date),m=le=>{const oe=le.getFullYear(),he=le.getMonth(),R=new Date(oe,he,1),N=new Date(oe,he+1,0).getDate(),M=R.getDay();return{daysInMonth:N,startingDayOfWeek:M,year:oe,month:he}},{daysInMonth:p,startingDayOfWeek:g,year:E,month:T}=m(u),x=()=>{f(new Date(u.getFullYear(),u.getMonth()-1))},D=()=>{f(new Date(u.getFullYear(),u.getMonth()+1))},Q=le=>`${E}-${String(T+1).padStart(2,"0")}-${String(le).padStart(2,"0")}`,q=le=>{const oe=Q(le),he=i[oe]||[],R=e[oe]||[],A=he.filter(M=>M.available).length,N=R.length;return{availableCount:A,bookedCount:N,hasData:he.length>0||R.length>0}},L=le=>{const oe=Q(le);r(oe===n?null:oe)},z=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=new Date;return K.setHours(0,0,0,0),v.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[v.jsxs("div",{className:"flex justify-between items-center mb-5",children:[v.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(CS,{className:"w-5 h-5 text-slate-600"})}),v.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[z[T]," ",E]}),v.jsx("button",{onClick:D,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(IS,{className:"w-5 h-5 text-slate-600"})})]}),v.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:P.map(le=>v.jsx("div",{className:"text-center text-xs font-semibold text-slate-500 py-2",children:le},le))}),v.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:g}).map((le,oe)=>v.jsx("div",{},`empty-${oe}`)),Array.from({length:p}).map((le,oe)=>{const he=oe+1,R=Q(he),{availableCount:A,bookedCount:N,hasData:M}=q(he),O=R===n,U=new Date,C=U.getDate()===he&&U.getMonth()===T&&U.getFullYear()===E,Ke=new Date(E,T,he),Ye=Ke.getDay(),J=l[Ye]&&Ke>=K;return v.jsxs("button",{onClick:()=>L(he),className:`
                relative p-2 text-center rounded-lg text-sm font-semibold transition-all min-h-[60px] flex flex-col items-center justify-start
                ${O?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30 scale-105":M||J?"bg-slate-50 hover:bg-slate-100 text-slate-900 border border-slate-200 hover:scale-105 cursor-pointer":C?"bg-slate-100 text-slate-900 border border-slate-300":"text-slate-400 hover:bg-slate-50 cursor-pointer"}
              `,children:[v.jsx("span",{className:`text-sm ${C&&!O?"underline decoration-2 underline-offset-2":""}`,children:he}),(M||J)&&v.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap justify-center",children:[J&&v.jsx("span",{className:`text-[10px] font-bold px-1 rounded ${O?"bg-white/25 text-white":"bg-purple-100 text-purple-700"}`,children:"R"}),A>0&&v.jsx("span",{className:`text-[10px] font-bold px-1 rounded ${O?"bg-white/25 text-white":"bg-green-100 text-green-700"}`,children:A}),N>0&&v.jsx("span",{className:`text-[10px] font-bold px-1 rounded ${O?"bg-white/25 text-white":"bg-blue-100 text-blue-700"}`,children:N})]})]},he)})]}),v.jsx("div",{className:"mt-5 p-3 bg-slate-50 rounded-lg",children:v.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-slate-600",children:[Object.keys(l).length>0&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-purple-100 border border-purple-200 rounded flex items-center justify-center text-[8px] font-bold text-purple-700",children:"R"}),v.jsx("span",{children:"Recurring hours"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded"}),v.jsx("span",{children:"Available slots"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-200 rounded"}),v.jsx("span",{children:"Booked"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded"}),v.jsx("span",{children:"Selected"})]})]})})]})}const yO=[{value:15,label:"15 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}];function vO({shopId:i}){const[e,n]=j.useState([]),[r,l]=j.useState(!1),[u,f]=j.useState(null),[m,p]=j.useState({name:"",description:"",duration:30,price:""}),[g,E]=j.useState(!1);j.useEffect(()=>{if(!i)return;const z=vi(Ht(st,"shops",i,"services"),P=>{const K=P.docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.active!==!1).sort((le,oe)=>(le.name||"").localeCompare(oe.name||""));n(K)});return()=>z()},[i]);const T=()=>{p({name:"",description:"",duration:30,price:""}),l(!1),f(null)},x=async z=>{z.preventDefault(),E(!0);const P={name:m.name.trim(),description:m.description.trim(),duration:parseInt(m.duration),price:parseFloat(m.price),active:!0};try{u?await xr(ms(st,"shops",i,"services",u),P):await Mu(Ht(st,"shops",i,"services"),{...P,createdAt:dg()}),T()}catch(K){console.error("Error saving service:",K)}finally{E(!1)}},D=z=>{p({name:z.name,description:z.description||"",duration:z.duration,price:z.price.toString()}),f(z.id),l(!0)},Q=async z=>{try{await xr(ms(st,"shops",i,"services",z),{active:!1})}catch(P){console.error("Error deleting service:",P)}},q=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),L=z=>{if(z<60)return`${z} min`;const P=Math.floor(z/60),K=z%60;return K?`${P}h ${K}m`:`${P}h`};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services"}),v.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Define the services you offer  clients will pick one before booking"})]}),!r&&v.jsxs("button",{onClick:()=>{T(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[v.jsx(yg,{className:"w-4 h-4"}),"Add Service"]})]}),r&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Service":"New Service"}),v.jsxs("form",{onSubmit:x,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),v.jsx("input",{type:"text",value:m.name,onChange:z=>p({...m,name:z.target.value}),required:!0,placeholder:"e.g. Haircut",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (optional)"}),v.jsx("input",{type:"text",value:m.description,onChange:z=>p({...m,description:z.target.value}),placeholder:"e.g. Classic cut and style",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),v.jsx("select",{value:m.duration,onChange:z=>p({...m,duration:z.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:yO.map(z=>v.jsx("option",{value:z.value,children:z.label},z.value))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:"$"}),v.jsx("input",{type:"number",step:"0.01",min:"0",value:m.price,onChange:z=>p({...m,price:z.target.value}),required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs("button",{type:"submit",disabled:g,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[v.jsx(NS,{className:"w-4 h-4"}),g?"Saving":u?"Update Service":"Add Service"]}),v.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[v.jsx(Xh,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("div",{className:"text-5xl mb-3",children:""}),v.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No services yet"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Add your first service so clients can choose what to book"})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(z=>v.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900",children:z.name}),z.description&&v.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:z.description})]}),v.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap ml-3",children:q(z.price)})]}),v.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx(Ei,{className:"w-4 h-4"}),L(z.duration)]})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>D(z),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[v.jsx(OS,{className:"w-3.5 h-3.5"}),"Edit"]}),v.jsx("button",{onClick:()=>Q(z.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:v.jsx(Qh,{className:"w-3.5 h-3.5"})})]})]},z.id))})]})}const Pm=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],_O={enabled:!1,start:"09:00",end:"17:00",break:null};function bO({shopId:i,staffId:e,staffName:n,weeklyHours:r,onClose:l}){const[u,f]=j.useState(()=>{const L={};for(const z of Pm){const P=r?.[z.key];P?L[z.key]={enabled:!!P.enabled,start:P.start||"09:00",end:P.end||"17:00",break:P.break?{start:P.break.start,end:P.break.end}:null}:L[z.key]={..._O}}return L}),[m,p]=j.useState(!1),[g,E]=j.useState(null),T=(L,z,P)=>{f(K=>({...K,[L]:{...K[L],[z]:P}}))},x=L=>{f(z=>({...z,[L]:{...z[L],break:z[L].break?null:{start:"12:00",end:"13:00"}}}))},D=(L,z,P)=>{f(K=>({...K,[L]:{...K[L],break:{...K[L].break,[z]:P}}}))},Q=L=>{const z=u[L];f(P=>{const K={...P};for(const le of Pm)le.key!==L&&(K[le.key]={enabled:z.enabled,start:z.start,end:z.end,break:z.break?{...z.break}:null});return K}),E(L),setTimeout(()=>E(null),1500)},q=async()=>{p(!0);try{await xr(ms(st,"shops",i,"staff",e),{weeklyHours:u}),l()}catch(L){console.error("Error saving weekly hours:",L)}finally{p(!1)}};return v.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6 shadow-lg",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Weekly Hours"}),v.jsx("p",{className:"text-sm text-slate-500",children:n})]}),v.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(Xh,{className:"w-5 h-5 text-slate-400"})})]}),v.jsx("div",{className:"space-y-3",children:Pm.map(({key:L,label:z})=>{const P=u[L];return v.jsx("div",{className:`rounded-xl p-4 transition-all ${P.enabled?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:v.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[v.jsxs("div",{className:"flex items-center gap-3 min-w-[140px]",children:[v.jsx("button",{type:"button",onClick:()=>T(L,"enabled",!P.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.enabled?"bg-blue-500":"bg-slate-300"}`,children:v.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${P.enabled?"translate-x-6":"translate-x-1"}`})}),v.jsx("span",{className:`font-semibold text-sm ${P.enabled?"text-slate-900":"text-slate-400"}`,children:z})]}),P.enabled?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ei,{className:"w-4 h-4 text-blue-500"}),v.jsx("input",{type:"time",value:P.start,onChange:K=>T(L,"start",K.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.jsx("span",{className:"text-slate-400 text-sm",children:"to"}),v.jsx("input",{type:"time",value:P.end,onChange:K=>T(L,"end",K.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{type:"button",onClick:()=>x(L),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${P.break?"bg-amber-100 text-amber-700 border border-amber-200":"bg-slate-100 text-slate-500 border border-slate-200 hover:bg-slate-200"}`,children:[v.jsx(M4,{className:"w-3.5 h-3.5"}),P.break?"Break":"+ Break"]}),P.break&&v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("input",{type:"time",value:P.break.start,onChange:K=>D(L,"start",K.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"}),v.jsx("span",{className:"text-slate-400 text-xs",children:""}),v.jsx("input",{type:"time",value:P.break.end,onChange:K=>D(L,"end",K.target.value),className:"px-2 py-1.5 border border-amber-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"})]})]}),v.jsx("button",{type:"button",onClick:()=>Q(L),className:"text-xs text-blue-500 hover:text-blue-700 font-medium transition-colors whitespace-nowrap",children:g===L?" Copied!":"Copy to all"})]}):v.jsx("span",{className:"text-sm text-slate-400 italic",children:"Day off"})]})},L)})}),v.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200",children:[v.jsxs("button",{onClick:q,disabled:m,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[v.jsx(K4,{className:"w-4 h-4"}),m?"Saving":"Save Hours"]}),v.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[v.jsx(Xh,{className:"w-4 h-4"}),"Cancel"]})]})]})}const EO=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function Mb(i){if(!i)return"";const[e,n]=i.split(":").map(Number),r=e>=12?"p":"a",l=e%12||12;return n===0?`${l}${r}`:`${l}:${n.toString().padStart(2,"0")}${r}`}function TO({shopId:i}){const[e,n]=j.useState([]),[r,l]=j.useState(!1),[u,f]=j.useState(null),[m,p]=j.useState(null),[g,E]=j.useState({name:"",role:""}),[T,x]=j.useState(!1);j.useEffect(()=>{if(!i)return;const P=vi(Ht(st,"shops",i,"staff"),K=>{const le=K.docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.active!==!1).sort((oe,he)=>(oe.name||"").localeCompare(he.name||""));n(le)});return()=>P()},[i]);const D=()=>{E({name:"",role:""}),l(!1),f(null)},Q=async P=>{P.preventDefault(),x(!0);const K={name:g.name.trim(),role:g.role.trim(),active:!0};try{u?await xr(ms(st,"shops",i,"staff",u),K):await Mu(Ht(st,"shops",i,"staff"),{...K,email:"",createdAt:dg()}),D()}catch(le){console.error("Error saving staff member:",le)}finally{x(!1)}},q=P=>{E({name:P.name,role:P.role||""}),f(P.id),l(!0)},L=async P=>{try{await xr(ms(st,"shops",i,"staff",P),{active:!1})}catch(K){console.error("Error deleting staff member:",K)}},z=P=>{if(!P)return null;const K=EO.filter(le=>P[le.key]?.enabled);return K.length===0?null:K.map(le=>{const oe=P[le.key];return`${le.short} ${Mb(oe.start)}${Mb(oe.end)}`})};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Staff"}),v.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your team  assign availability and bookings per staff member"})]}),!r&&v.jsxs("button",{onClick:()=>{D(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[v.jsx(yg,{className:"w-4 h-4"}),"Add Staff"]})]}),r&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:u?"Edit Staff Member":"New Staff Member"}),v.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),v.jsx("input",{type:"text",value:g.name,onChange:P=>E({...g,name:P.target.value}),required:!0,placeholder:"e.g. Jane Smith",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role (optional)"}),v.jsx("input",{type:"text",value:g.role,onChange:P=>E({...g,role:P.target.value}),placeholder:"e.g. Senior Stylist",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs("button",{type:"submit",disabled:T,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50",children:[v.jsx(NS,{className:"w-4 h-4"}),T?"Saving":u?"Update Staff":"Add Staff"]}),v.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[v.jsx(Xh,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),e.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("div",{className:"text-5xl mb-3",children:""}),v.jsx("p",{className:"text-slate-800 font-medium mb-1",children:"No staff members yet"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Add your team members to assign them availability and bookings"})]}):v.jsx("div",{className:"space-y-4",children:e.map(P=>{const K=z(P.weeklyHours);return v.jsxs("div",{children:[v.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-all",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900",children:P.name}),P.role&&v.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:P.role})]}),v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(kn,{className:"w-5 h-5 text-blue-600"})})]}),K?v.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:K.map((le,oe)=>v.jsx("span",{className:"inline-block px-2 py-0.5 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium",children:le},oe))}):v.jsx("p",{className:"text-xs text-slate-400 mb-3 italic",children:"No weekly hours set"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>p(m===P.id?null:P.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border ${m===P.id?"bg-blue-100 text-blue-700 border-blue-300":"bg-slate-100 hover:bg-slate-200 text-slate-700 border-slate-200"}`,children:[v.jsx(Ei,{className:"w-3.5 h-3.5"}),"Set Hours"]}),v.jsxs("button",{onClick:()=>q(P),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-all border border-slate-200",children:[v.jsx(OS,{className:"w-3.5 h-3.5"}),"Edit"]}),v.jsx("button",{onClick:()=>L(P.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-all border border-red-200",children:v.jsx(Qh,{className:"w-3.5 h-3.5"})})]})]}),m===P.id&&v.jsx("div",{className:"mt-2",children:v.jsx(bO,{shopId:i,staffId:P.id,staffName:P.name,weeklyHours:P.weeklyHours,onClose:()=>p(null)})})]},P.id)})})]})}const kb=[{key:"monday",short:"Mon"},{key:"tuesday",short:"Tue"},{key:"wednesday",short:"Wed"},{key:"thursday",short:"Thu"},{key:"friday",short:"Fri"},{key:"saturday",short:"Sat"},{key:"sunday",short:"Sun"}];function ph(i){if(!i)return"";const[e,n]=i.split(":").map(Number),r=e>=12?"PM":"AM",l=e%12||12;return n===0?`${l}${r}`:`${l}:${n.toString().padStart(2,"0")}${r}`}function SO({user:i}){const{slug:e}=vp(),n=vu(),[r,l]=j.useState(null),[u,f]=j.useState(null),[m,p]=j.useState(!0),[g,E]=j.useState(!1),[T,x]=j.useState([]),[D,Q]=j.useState([]),[q,L]=j.useState([]),[z,P]=j.useState("schedule"),[K,le]=j.useState(null),[oe,he]=j.useState("all"),[R,A]=j.useState({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""});j.useEffect(()=>{if(!i){n(`/shop/${e}/login`,{replace:!0});return}(async()=>{p(!0);try{const ne=du(Ht(st,"shops"),mu("slug","==",e)),ce=await pu(ne);if(ce.empty){E(!0),p(!1);return}const pe=ce.docs[0],Te=pe.data();if(Te.ownerUid!==i.uid){E(!0),p(!1);return}l(Te),f(pe.id)}catch(ne){console.error("Error checking ownership:",ne),E(!0)}finally{p(!1)}})()},[i,e,n]),j.useEffect(()=>{if(!u)return;const H=vi(Ht(st,"shops",u,"availability"),pe=>{const Te=pe.docs.map(Oe=>({id:Oe.id,...Oe.data()}));x(Te)}),ne=vi(Ht(st,"shops",u,"bookings"),pe=>{const Te=pe.docs.map(Oe=>({id:Oe.id,...Oe.data()}));Q(Te)}),ce=vi(Ht(st,"shops",u,"staff"),pe=>{const Te=pe.docs.map(Oe=>({id:Oe.id,...Oe.data()})).filter(Oe=>Oe.active!==!1).sort((Oe,He)=>(Oe.name||"").localeCompare(He.name||""));L(Te)});return()=>{H(),ne(),ce()}},[u]);const N=async()=>{await LR(gu),n(`/shop/${e}`,{replace:!0})},M=async H=>{H.preventDefault();const{date:ne,startTime:ce,endTime:pe,slotDuration:Te,staffId:Oe}=R,He=parseInt(Te),[an,es]=ce.split(":").map(Number),[Ln,Xs]=pe.split(":").map(Number),_t=an*60+es,fn=Ln*60+Xs;let pn=_t;for(;pn+He<=fn;){const fe=Math.floor(pn/60),xe=pn%60,je=`${fe.toString().padStart(2,"0")}:${xe.toString().padStart(2,"0")}`,Fe={date:ne,time:je,duration:He,available:!0};if(Oe){const Tt=q.find(ut=>ut.id===Oe);Fe.staffId=Oe,Fe.staffName=Tt?.name||""}await Mu(Ht(st,"shops",u,"availability"),Fe),pn+=He}A({date:"",startTime:"09:00",endTime:"17:00",slotDuration:"60",staffId:""})},O=async H=>{await Ib(ms(st,"shops",u,"availability",H))},U=async H=>{const ne=D.find(ce=>ce.id===H);if(await Ib(ms(st,"shops",u,"bookings",H)),ne)try{await xr(ms(st,"shops",u,"availability",ne.slotId),{available:!0})}catch(ce){console.warn("Could not re-open slot:",ce)}},C=async H=>{const ne=parseInt(H);try{await xr(ms(st,"shops",u),{bufferMinutes:ne}),l(ce=>({...ce,bufferMinutes:ne}))}catch(ce){console.error("Error updating buffer minutes:",ce)}},Ke=(H,ne)=>new Date(`${H}T${ne}`).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),Ye=j.useMemo(()=>{const H={},ne=oe==="all"?q:q.filter(pe=>pe.id===oe),ce=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(const pe of ne)pe.weeklyHours&&ce.forEach((Te,Oe)=>{pe.weeklyHours[Te]?.enabled&&(H[Oe]=!0)});return H},[q,oe]),J=j.useMemo(()=>(oe==="all"?q:q.filter(ne=>ne.id===oe)).filter(ne=>ne.weeklyHours?kb.some(ce=>ne.weeklyHours[ce.key]?.enabled):!1),[q,oe]);if(m)return v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})});if(g)return v.jsx("div",{className:"max-w-md mx-auto mt-20",children:v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10 text-center",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Unauthorized"}),v.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have access to this dashboard."}),v.jsx(Ks,{to:`/shop/${e}/login`,className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 transition-all",children:"Login"})]})});const ae=oe==="all"?T:T.filter(H=>H.staffId===oe),ye=oe==="all"?D:D.filter(H=>H.staffId===oe),Ce=ae.reduce((H,ne)=>(H[ne.date]||(H[ne.date]=[]),H[ne.date].push(ne),H),{}),qe=ye.reduce((H,ne)=>(H[ne.date]||(H[ne.date]=[]),H[ne.date].push(ne),H),{}),k=K?Object.keys(Ce).filter(H=>H===K).sort():Object.keys(Ce).sort(),ee=K?ye.filter(H=>H.date===K):ye;return v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[v.jsxs("div",{className:"flex gap-3 mb-8",children:[v.jsxs(Ks,{to:`/shop/${e}`,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200",children:[v.jsx(V4,{className:"w-4 h-4"}),"Booking Page"]}),v.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-semibold transition-all shadow-lg shadow-red-500/30",children:[v.jsx(P4,{className:"w-4 h-4"}),"Logout"]})]}),v.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2 tracking-tight",children:r.name}),v.jsx("p",{className:"text-slate-600",children:"Manage your availability and view bookings"})]}),v.jsxs("div",{className:"flex gap-1 mb-8 bg-slate-100 p-1 rounded-xl w-fit",children:[v.jsx("button",{onClick:()=>P("schedule"),className:`px-6 py-2.5 rounded-lg font-semibold text-sm transition-all ${z==="schedule"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Schedule"}),v.jsxs("button",{onClick:()=>P("staff"),className:`px-6 py-2.5 rounded-lg font-semibold text-sm transition-all flex items-center gap-2 ${z==="staff"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(kn,{className:"w-4 h-4"}),"Staff"]}),v.jsxs("button",{onClick:()=>P("services"),className:`px-6 py-2.5 rounded-lg font-semibold text-sm transition-all flex items-center gap-2 ${z==="services"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(tu,{className:"w-4 h-4"}),"Services"]})]}),z==="staff"&&v.jsx(TO,{shopId:u}),z==="services"&&v.jsx(vO,{shopId:u}),z==="schedule"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[q.length>0&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Filter by Staff"}),v.jsxs("select",{value:oe,onChange:H=>he(H.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[v.jsx("option",{value:"all",children:"All Staff"}),q.map(H=>v.jsxs("option",{value:H.id,children:[H.name,H.role?`  ${H.role}`:""]},H.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Buffer Between Appointments"}),v.jsxs("select",{value:r?.bufferMinutes||0,onChange:H=>C(H.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm font-medium",children:[v.jsx("option",{value:"0",children:"No buffer"}),v.jsx("option",{value:"5",children:"5 minutes"}),v.jsx("option",{value:"10",children:"10 minutes"}),v.jsx("option",{value:"15",children:"15 minutes"}),v.jsx("option",{value:"30",children:"30 minutes"})]})]})]}),J.length>0&&v.jsxs("div",{className:"mb-8 bg-purple-50 border border-purple-200 rounded-xl p-5",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx($4,{className:"w-5 h-5 text-purple-600"}),v.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Recurring Weekly Hours"})]}),v.jsx("div",{className:"space-y-3",children:J.map(H=>{const ne=kb.filter(ce=>H.weeklyHours[ce.key]?.enabled);return v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:v.jsx(kn,{className:"w-4 h-4 text-purple-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:H.name}),v.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:ne.map(ce=>{const pe=H.weeklyHours[ce.key];return v.jsxs("span",{className:"inline-block px-2 py-0.5 bg-white text-purple-700 border border-purple-200 rounded text-xs font-medium",children:[ce.short," ",ph(pe.start),"",ph(pe.end),pe.break&&v.jsxs("span",{className:"text-amber-600 ml-1",children:["(break ",ph(pe.break.start),"",ph(pe.break.end),")"]})]},ce.key)})})]})]},H.id)})}),v.jsx("p",{className:"text-xs text-purple-500 mt-3",children:"Slots are auto-generated from these hours on the booking page. Manage hours in the Staff tab."})]}),v.jsxs("div",{className:"mb-10",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Monthly Overview"}),v.jsx(gO,{slotsByDate:Ce,bookingsByDate:qe,selectedDate:K,onSelectDate:le,recurringDayFlags:Ye}),K&&v.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[v.jsxs("span",{className:"text-sm text-slate-600",children:["Showing: ",v.jsx("strong",{className:"text-slate-900",children:new Date(K+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),v.jsx("button",{onClick:()=>le(null),className:"text-sm px-3 py-1 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all border border-slate-200",children:"Show All"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:J.length>0?"Add Custom Slots":"Create Time Slots"}),J.length>0&&v.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Recurring hours auto-generate slots. Use this form for one-off availability (e.g., a Saturday event)."}),v.jsxs("form",{onSubmit:M,className:"space-y-5",children:[q.length>0&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Staff Member"}),v.jsxs("select",{value:R.staffId,onChange:H=>A({...R,staffId:H.target.value}),required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[v.jsx("option",{value:"",children:"Select a staff member"}),q.map(H=>v.jsxs("option",{value:H.id,children:[H.name,H.role?`  ${H.role}`:""]},H.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Select Date"}),v.jsx("input",{type:"date",value:R.date,onChange:H=>A({...R,date:H.target.value}),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Time"}),v.jsx("input",{type:"time",value:R.startTime,onChange:H=>A({...R,startTime:H.target.value}),required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"End Time"}),v.jsx("input",{type:"time",value:R.endTime,onChange:H=>A({...R,endTime:H.target.value}),required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Time Slot Duration"}),v.jsxs("select",{value:R.slotDuration,onChange:H=>A({...R,slotDuration:H.target.value}),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[v.jsx("option",{value:"15",children:"15 minutes"}),v.jsx("option",{value:"30",children:"30 minutes"}),v.jsx("option",{value:"45",children:"45 minutes"}),v.jsx("option",{value:"60",children:"1 hour"}),v.jsx("option",{value:"90",children:"1.5 hours"}),v.jsx("option",{value:"120",children:"2 hours"})]})]}),v.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5",children:[v.jsx(yg,{className:"w-5 h-5"}),"Generate Time Slots"]})]}),v.jsxs("div",{className:"mt-5 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg text-sm text-slate-700",children:[v.jsx("strong",{className:"block text-slate-900 mb-1",children:" Tip:"}),J.length>0?"Weekly hours are set  slots auto-generate on the booking page. Use this form only for one-off slots outside regular hours.":q.length>0?"Select a staff member, pick a date, set working hours, and choose slot duration. Slots will be created for that staff member.":"Select a date, set your working hours, and choose how long each appointment should be. We'll automatically create all the slots for that day."]})]}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:[K?"Bookings for Date":"Current Bookings",v.jsxs("span",{className:"ml-2 text-blue-600",children:["(",ee.length,")"]})]}),ee.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("div",{className:"text-5xl mb-3",children:""}),v.jsx("p",{className:"text-slate-600",children:K?"No bookings for this date":"No bookings yet"})]}):v.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:ee.map(H=>v.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 rounded-lg shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx(nO,{className:"w-5 h-5 text-blue-600"}),v.jsx("strong",{className:"text-lg text-slate-900",children:H.clientName})]}),v.jsxs("div",{className:"space-y-1.5 text-sm text-slate-600 mb-3",children:[H.serviceName&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(tu,{className:"w-4 h-4 text-blue-500"}),v.jsx("span",{className:"font-semibold text-slate-800",children:H.serviceName}),H.servicePrice!=null&&v.jsxs("span",{className:"text-blue-600 font-semibold",children:["$",Number(H.servicePrice).toFixed(2)]})]}),H.staffName&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(kn,{className:"w-4 h-4 text-purple-500"}),v.jsx("span",{className:"font-medium text-purple-700",children:H.staffName})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(z4,{className:"w-4 h-4"}),H.clientEmail]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(H4,{className:"w-4 h-4"}),H.clientPhone]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ei,{className:"w-4 h-4"}),Ke(H.date,H.time)]})]}),v.jsxs("button",{onClick:()=>U(H.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-all",children:[v.jsx(Qh,{className:"w-4 h-4"}),"Cancel Booking"]})]},H.id))})]})]}),v.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[K?"Custom Time Slots":"All Custom Time Slots",v.jsxs("span",{className:"ml-2 text-slate-500 font-normal",children:["(",K?(Ce[K]||[]).length:ae.length," ",K?"for date":"total",")"]})]}),J.length>0&&v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Recurring slots from weekly hours are not shown here  they auto-generate on the booking page."})]}),k.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("div",{className:"text-5xl mb-3",children:""}),v.jsx("p",{className:"text-slate-800 font-medium mb-1",children:K?"No custom time slots for this date":"No custom time slots created yet"}),v.jsx("p",{className:"text-sm text-slate-600",children:J.length>0?"Recurring hours handle most scheduling. Add custom slots for special availability.":K?"Select another date or create slots":"Use the form above to generate your availability"})]}):v.jsx("div",{className:"space-y-8",children:k.map(H=>v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 pb-2 border-b-2 border-slate-100",children:new Date(H).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ce[H].sort((ne,ce)=>ne.time.localeCompare(ce.time)).map(ne=>v.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(Ei,{className:"w-5 h-5 text-blue-500"}),v.jsx("strong",{className:"text-xl text-slate-900",children:ne.time})]}),v.jsxs("div",{className:"text-sm text-slate-600 mb-1",children:["Duration: ",ne.duration," min"]}),ne.staffName&&v.jsxs("div",{className:"text-sm text-purple-600 mb-2 flex items-center gap-1",children:[v.jsx(kn,{className:"w-3.5 h-3.5"}),ne.staffName]}),v.jsx("div",{className:"mb-3",children:ne.available?v.jsx("span",{className:"inline-block px-3 py-1 bg-green-50 text-green-700 border border-green-200 rounded-lg text-sm font-semibold",children:" Available"}):v.jsx("span",{className:"inline-block px-3 py-1 bg-red-50 text-red-700 border border-red-200 rounded-lg text-sm font-semibold",children:" Booked"})}),ne.available&&v.jsxs("button",{onClick:()=>O(ne.id),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-all",children:[v.jsx(Qh,{className:"w-4 h-4"}),"Remove"]})]},ne.id))})]},H))})]})]})}function wO({user:i}){const{slug:e}=vp(),n=vu(),[r,l]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,E]=j.useState(!1);j.useEffect(()=>{if(!i)return;(async()=>{const D=du(Ht(st,"shops"),mu("slug","==",e)),Q=await pu(D);Q.empty||Q.docs[0].data().ownerUid===i.uid&&n(`/shop/${e}/dashboard`,{replace:!0})})()},[i,e,n]);const T=async x=>{x.preventDefault(),p(""),E(!0);try{const Q=(await MR(gu,r,u)).user,q=du(Ht(st,"shops"),mu("slug","==",e)),L=await pu(q);if(L.empty){p("Shop not found"),E(!1);return}if(L.docs[0].data().ownerUid!==Q.uid){p("You are not the owner of this shop"),await gu.signOut(),E(!1);return}n(`/shop/${e}/dashboard`,{replace:!0})}catch(D){switch(D.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":p("Invalid email or password");break;case"auth/invalid-email":p("Please enter a valid email address");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please try again.")}f("")}finally{E(!1)}};return v.jsx("div",{className:"max-w-md mx-auto mt-20",children:v.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-2xl p-10 shadow-2xl border border-white/10",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:v.jsx(DS,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Owner Login"}),v.jsx("p",{className:"text-slate-600",children:"Enter your credentials to access the dashboard"})]}),v.jsxs("form",{onSubmit:T,className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",value:r,onChange:x=>{l(x.target.value),p("")},placeholder:"you@example.com",required:!0,autoFocus:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),v.jsx("input",{type:"password",value:u,onChange:x=>{f(x.target.value),p("")},placeholder:"Enter password",required:!0,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-200 focus:ring-blue-500 focus:border-transparent"}`}),m&&v.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[v.jsx("span",{children:""})," ",m]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Signing in":"Login"}),v.jsxs(Ks,{to:`/shop/${e}`,className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all border border-slate-200 flex items-center gap-2",children:[v.jsx(Kh,{className:"w-4 h-4"}),"Back"]})]})]}),v.jsx("div",{className:"mt-6 p-4 bg-slate-50 border-l-4 border-slate-300 rounded-lg",children:v.jsxs("p",{className:"text-sm text-slate-600",children:[" ",v.jsx("strong",{children:"Owner access only."})," If you need an account,"," ",v.jsx(Ks,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"register here"}),"."]})})]})})}function xO(){const[i,e]=j.useState(null),[n,r]=j.useState(!0);return j.useEffect(()=>{const l=jR(gu,u=>{e(u),r(!1)});return()=>l()},[]),n?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"text-slate-400 text-lg",children:"Loading"})}):v.jsx(qx,{children:v.jsxs(vx,{children:[v.jsx(ra,{path:"/",element:v.jsx(rO,{})}),v.jsx(ra,{path:"/register",element:v.jsx(lO,{})}),v.jsx(ra,{path:"/shop/:slug",element:v.jsx(pO,{})}),v.jsx(ra,{path:"/shop/:slug/login",element:v.jsx(wO,{user:i})}),v.jsx(ra,{path:"/shop/:slug/dashboard",element:v.jsx(SO,{user:i})}),v.jsx(ra,{path:"*",element:v.jsx(gx,{to:"/",replace:!0})})]})})}bw.createRoot(document.getElementById("root")).render(v.jsx(fw.StrictMode,{children:v.jsx(xO,{})}));
